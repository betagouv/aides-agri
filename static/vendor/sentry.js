var sg=Object.defineProperty;var Ul=(e,t)=>{for(var n in t)sg(e,n,{get:t[n],enumerable:!0})};var ig={};Ul(ig,{BrowserClient:()=>xr,OpenFeatureIntegrationHook:()=>ha,SDK_VERSION:()=>Xe,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Ee,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>J,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>Xt,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Te,Scope:()=>De,WINDOW:()=>k,addBreadcrumb:()=>Ve,addEventProcessor:()=>po,addIntegration:()=>hr,breadcrumbsIntegration:()=>As,browserApiErrorsIntegration:()=>Ns,browserProfilingIntegration:()=>Kh,browserSessionIntegration:()=>Ms,browserTracingIntegration:()=>Oh,buildLaunchDarklyFlagUsedHandler:()=>eg,captureConsoleIntegration:()=>Nc,captureEvent:()=>tn,captureException:()=>lt,captureFeedback:()=>Ro,captureMessage:()=>yn,captureSession:()=>mr,chromeStackLineParser:()=>Nu,close:()=>uc,consoleLoggingIntegration:()=>Bc,contextLinesIntegration:()=>qp,continueTrace:()=>Ja,createTransport:()=>yo,createUserFeedbackEnvelope:()=>Ap,dedupeIntegration:()=>vo,defaultRequestInstrumentationOptions:()=>ii,defaultStackLineParsers:()=>Ou,defaultStackParser:()=>Cs,diagnoseSdkConnectivity:()=>og,endSession:()=>mo,eventFiltersIntegration:()=>ji,eventFromException:()=>fs,eventFromMessage:()=>ps,exceptionFromError:()=>wr,extraErrorDataIntegration:()=>Mc,featureFlagsIntegration:()=>Zh,feedbackAsyncIntegration:()=>Xf,feedbackIntegration:()=>uu,feedbackSyncIntegration:()=>uu,flush:()=>cc,forceLoad:()=>Dp,functionToStringIntegration:()=>To,geckoStackLineParser:()=>Mu,getActiveSpan:()=>ee,getClient:()=>T,getCurrentScope:()=>M,getDefaultIntegrations:()=>Lu,getFeedback:()=>Ff,getGlobalScope:()=>On,getIsolationScope:()=>ie,getReplay:()=>ch,getRootSpan:()=>K,getSpanDescendants:()=>Zt,getSpanStatusFromHttpCode:()=>mi,globalHandlersIntegration:()=>Os,graphqlClientIntegration:()=>Kp,httpClientIntegration:()=>$p,httpContextIntegration:()=>Ls,inboundFiltersIntegration:()=>Io,init:()=>Lp,instrumentOutgoingRequests:()=>la,instrumentSupabaseClient:()=>Ki,isInitialized:()=>lc,lastEventId:()=>fo,launchDarklyIntegration:()=>Qh,lazyLoadIntegration:()=>ds,linkedErrorsIntegration:()=>Ds,logger:()=>lu,makeBrowserOfflineTransport:()=>Dh,makeFetchTransport:()=>Ar,makeMultiplexedTransport:()=>Ic,moduleMetadataIntegration:()=>Ac,onLoad:()=>Pp,openFeatureIntegration:()=>tg,opera10StackLineParser:()=>Rp,opera11StackLineParser:()=>Cp,parameterize:()=>Gi,registerSpanErrorInstrumentation:()=>oo,replayCanvasIntegration:()=>Ih,replayIntegration:()=>ah,reportingObserverIntegration:()=>Bp,rewriteFramesIntegration:()=>Oc,sendFeedback:()=>tu,setContext:()=>lo,setCurrentClient:()=>$i,setExtra:()=>oc,setExtras:()=>rc,setHttpStatus:()=>Ht,setMeasurement:()=>ao,setTag:()=>sc,setTags:()=>ic,setUser:()=>ac,showReportDialog:()=>Fp,spanToBaggageHeader:()=>Ha,spanToJSON:()=>O,spanToTraceHeader:()=>eo,spotlightBrowserIntegration:()=>Xh,startBrowserTracingNavigationSpan:()=>Ml,startBrowserTracingPageLoadSpan:()=>Nl,startInactiveSpan:()=>_t,startNewTrace:()=>Xa,startSession:()=>pr,startSpan:()=>dr,startSpanManual:()=>Ya,statsigIntegration:()=>rg,supabaseIntegration:()=>Lc,suppressTracing:()=>Ka,thirdPartyErrorFilterIntegration:()=>Pc,unleashIntegration:()=>ng,updateSpanName:()=>Oa,winjsStackLineParser:()=>xp,withActiveSpan:()=>_n,withIsolationScope:()=>fi,withScope:()=>Ce,zodErrorsIntegration:()=>Dc});var v=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Xe="9.22.0";var w=globalThis;function We(){return dn(w),w}function dn(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Xe,t[Xe]=t[Xe]||{}}function kn(e,t,n=w){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[Xe]=r[Xe]||{};return o[e]||(o[e]=t())}var Bl=Object.prototype.toString;function Ze(e){switch(Bl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return st(e,Error)}}function er(e,t){return Bl.call(e)===`[object ${t}]`}function si(e){return er(e,"ErrorEvent")}function ai(e){return er(e,"DOMError")}function Sa(e){return er(e,"DOMException")}function we(e){return er(e,"String")}function fn(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function An(e){return e===null||fn(e)||typeof e!="object"&&typeof e!="function"}function it(e){return er(e,"Object")}function Nn(e){return typeof Event<"u"&&st(e,Event)}function ya(e){return typeof Element<"u"&&st(e,Element)}function Ea(e){return er(e,"RegExp")}function vt(e){return!!(e?.then&&typeof e.then=="function")}function ba(e){return it(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function st(e,t){try{return e instanceof t}catch{return!1}}function Vr(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function ci(e){return typeof Request<"u"&&st(e,Request)}var Ta=w,ag=80;function Me(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||ag;for(;n&&i++<r&&(u=cg(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function cg(e,t){let n=e,r=[];if(!n?.tagName)return"";if(Ta.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o?.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&we(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function Ge(){try{return Ta.document.location.href}catch{return""}}function Yr(e){if(!Ta.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}var ug="Sentry Logger ",Yt=["debug","info","warn","error","log","assert","trace"],tr={};function Oe(e){if(!("console"in w))return e();let t=w.console,n={},r=Object.keys(tr);r.forEach(o=>{let i=tr[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function lg(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return v?Yt.forEach(n=>{t[n]=(...r)=>{e&&Oe(()=>{w.console[n](`${ug}[${n}]:`,...r)})}}):Yt.forEach(n=>{t[n]=()=>{}}),t}var h=kn("logger",lg);function pt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Jr(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Jt(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{Vr(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Hl(e,t,n=!1){return we(e)?Ea(t)?t.test(e):we(t)?n?e===t:e.includes(t):!1:!1}function ze(e,t=[],n=!1){return t.some(r=>Hl(e,r,n))}function he(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let o=n(r);typeof o=="function"&&ui(o,r);try{e[t]=o}catch{v&&h.log(`Failed to replace method "${t}" in object`,e)}}function de(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{v&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function ui(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,de(e,"__sentry_original__",t)}catch{}}function Mn(e){return e.__sentry_original__}function li(e){if(Ze(e))return{message:e.message,name:e.name,stack:e.stack,...Wl(e)};if(Nn(e)){let t={type:e.type,target:$l(e.target),currentTarget:$l(e.currentTarget),...Wl(e)};return typeof CustomEvent<"u"&&st(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function $l(e){try{return ya(e)?Me(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Wl(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Ia(e,t=40){let n=Object.keys(li(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return pt(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:pt(i,t)}return""}function dg(){let e=w;return e.crypto||e.msCrypto}function fe(e=dg()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Gl(e){return e.exception?.values?.[0]}function Pt(e){let{message:t,event_id:n}=e;if(t)return t;let r=Gl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function nr(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function Qe(e,t){let n=Gl(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o?.data,...t.data};n.mechanism.data=i}}function va(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>Jr(s,0));let i=Math.min(r-1,o);t.context_line=Jr(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>Jr(s,0))}function di(e){if(fg(e))return!0;try{de(e,"__sentry_captured__",!0)}catch{}return!1}function fg(e){try{return e.__sentry_captured__}catch{}}var zl=1e3;function Ft(){return Date.now()/zl}function pg(){let{performance:e}=w;if(!e?.now)return Ft;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/zl}var ne=pg(),wa;function mg(){let{performance:e}=w;if(!e?.now)return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function _e(){return wa||(wa=mg()),wa[0]}function jl(e){let t=ne(),n={sid:fe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>hg(n)};return e&&Kt(n,e),n}function Kt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ne(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:fe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ql(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Kt(e,n)}function hg(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function pn(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=pn(r[o],t[o],n-1));return r}var xa="_sentrySpan";function Ut(e,t){t?de(e,xa,t):delete e[xa]}function wt(e){return e[xa]}function Le(){return fe()}function xt(){return fe().substring(16)}var gg=100,De=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Le(),sampleRand:Math.random()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ut(t,wt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Kt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof e?n.getScopeData():it(n)?t:void 0,{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ut(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Le(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:gg;if(r<=0)return this;let o={timestamp:Ft(),...t,message:t.message?pt(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:wt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=pn(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||fe();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r?.event_id||fe();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n?.event_id||fe();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Vl(){return kn("defaultCurrentScope",()=>new De)}function Yl(){return kn("defaultIsolationScope",()=>new De)}var Ra=class{constructor(t,n){let r;t?r=t:r=new De;let o;n?o=n:o=new De,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return vt(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function rr(){let e=We(),t=dn(e);return t.stack=t.stack||new Ra(Vl(),Yl())}function _g(e){return rr().withScope(e)}function Sg(e,t){let n=rr();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Jl(e){return rr().withScope(()=>e(rr().getIsolationScope()))}function Kl(){return{withIsolationScope:Jl,withScope:_g,withSetScope:Sg,withSetIsolationScope:(e,t)=>Jl(t),getCurrentScope:()=>rr().getScope(),getIsolationScope:()=>rr().getIsolationScope()}}function mt(e){let t=dn(e);return t.acs?t.acs:Kl()}function M(){let e=We();return mt(e).getCurrentScope()}function ie(){let e=We();return mt(e).getIsolationScope()}function On(){return kn("globalScope",()=>new De)}function Ce(...e){let t=We(),n=mt(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function fi(...e){let t=We(),n=mt(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function T(){return M().getClient()}function pi(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||xt()};return r&&(i.parent_span_id=r),i}var Te="sentry.source",Xt="sentry.sample_rate",Kr="sentry.previous_trace_sample_rate",Ee="sentry.op",J="sentry.origin",Ln="sentry.idle_span_finish_reason",mn="sentry.measurement_unit",hn="sentry.measurement_value",or="sentry.custom_span_name",ir="sentry.profile_id",Bt="sentry.exclusive_time";var Ca="http.request.method",ka="url.full",Aa="sentry.link.type";function mi(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function Ht(e,t){e.setAttribute("http.response.status_code",t);let n=mi(t);n.message!=="unknown_error"&&e.setStatus(n)}var Xl="_sentryScope",Zl="_sentryIsolationScope";function Ql(e,t,n){e&&(de(e,Zl,n),de(e,Xl,t))}function Dn(e){return{scope:e[Xl],isolationScope:e[Zl]}}function at(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var hi="sentry-",yg=/^sentry-/,Eg=8192;function gi(e){let t=bg(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(yg)){let s=o.slice(hi.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function _i(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${hi}${r}`]=o),n),{});return Tg(t)}function bg(e){if(!(!e||!we(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=ed(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):ed(e)}function ed(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Tg(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>Eg?(v&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var Si=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function td(e){if(!e)return;let t=e.match(Si);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Xr(e,t){let n=td(e),r=gi(t);if(!n?.traceId)return{traceId:Le(),sampleRand:Math.random()};let o=Ig(n,r);r&&(r.sample_rand=o.toString());let{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function Zr(e=Le(),t=xt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Ig(e,t){let n=at(t?.sample_rand);if(n!==void 0)return n;let r=at(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}var yi=0,Ei=1,nd=!1;function od(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=O(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function Qr(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:O(e).parent_span_id,i=Dn(e).scope,s=r?i?.getPropagationContext().propagationSpanId||xt():t;return{parent_span_id:o,span_id:s,trace_id:n}}function eo(e){let{traceId:t,spanId:n}=e.spanContext(),r=ht(e);return Zr(t,n,r)}function bi(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Ei,attributes:i,...o}))}function Rt(e){return typeof e=="number"?rd(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?rd(e.getTime()):ne()}function rd(e){return e>9999999999?e/1e3:e}function O(e){if(xg(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(wg(e)){let{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:Rt(o),timestamp:Rt(s)||void 0,status:Ti(a),op:r[Ee],origin:r[J],links:bi(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function wg(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function xg(e){return typeof e.getSpanJSON=="function"}function ht(e){let{traceFlags:t}=e.spanContext();return t===Ei}function Ti(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Pn="_sentryChildSpans",Na="_sentryRootSpan";function Ii(e,t){let n=e[Na]||e;de(t,Na,n),e[Pn]?e[Pn].add(t):de(e,Pn,new Set([t]))}function id(e,t){e[Pn]&&e[Pn].delete(t)}function Zt(e){let t=new Set;function n(r){if(!t.has(r)&&ht(r)){t.add(r);let o=r[Pn]?Array.from(r[Pn]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function K(e){return e[Na]||e}function ee(){let e=We(),t=mt(e);return t.getActiveSpan?t.getActiveSpan():wt(M())}function to(){nd||(Oe(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),nd=!0)}function Oa(e,t){e.updateName(t),e.setAttributes({[Te]:"custom",[or]:t})}var ct="?",sd=/\(error: (.*)\)/,ad=/captureMessage|captureException/;function wi(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];if(c.length>1024)continue;let u=sd.test(c)?c.replace(sd,"$1"):c;if(!u.match(/\S*Error: /)){for(let d of t){let l=d(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return cd(i.slice(o))}}function Da(e){return Array.isArray(e)?wi(...e):e}function cd(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(vi(t).function||"")&&t.pop(),t.reverse(),ad.test(vi(t).function||"")&&(t.pop(),ad.test(vi(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||vi(t).filename,function:n.function||ct}))}function vi(e){return e[e.length-1]||{}}var La="<anonymous>";function et(e){try{return!e||typeof e!="function"?La:e.name||La}catch{return La}}function sr(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var xi={},ud={};function Pe(e,t){xi[e]=xi[e]||[],xi[e].push(t)}function Fe(e,t){if(!ud[e]){ud[e]=!0;try{t()}catch(n){v&&h.error(`Error while instrumenting ${e}`,n)}}}function Ie(e,t){let n=e&&xi[e];if(n)for(let r of n)try{r(t)}catch(o){v&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${et(r)}
Error:`,o)}}var Pa=null;function no(e){let t="error";Pe(t,e),Fe(t,Rg)}function Rg(){Pa=w.onerror,w.onerror=function(e,t,n,r,o){return Ie("error",{column:r,error:o,line:n,msg:e,url:t}),Pa?Pa.apply(this,arguments):!1},w.onerror.__SENTRY_INSTRUMENTED__=!0}var Fa=null;function ro(e){let t="unhandledrejection";Pe(t,e),Fe(t,Cg)}function Cg(){Fa=w.onunhandledrejection,w.onunhandledrejection=function(e){return Ie("unhandledrejection",e),Fa?Fa.apply(this,arguments):!0},w.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var ld=!1;function oo(){ld||(ld=!0,no(Ua),ro(Ua))}function Ua(){let e=ee(),t=e&&K(e);if(t){let n="internal_error";v&&h.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:2,message:n})}}Ua.tag="sentry_tracingErrorCallback";function je(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||T()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var Qt="production";var kg=/^o(\d+)\./,Ag=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ng(e){return e==="http"||e==="https"}function tt(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Ri(e){let t=Ag.exec(e);if(!t){Oe(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return dd({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function dd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Mg(e){if(!v)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(h.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?Ng(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function fd(e){return e.match(kg)?.[1]}function io(e){let t=typeof e=="string"?Ri(e):dd(e);if(!(!t||!Mg(t)))return t}var pd="_frozenDsc";function ar(e,t){de(e,pd,t)}function Ba(e,t){let n=t.getOptions(),{publicKey:r,host:o}=t.getDsn()||{},i;n.orgId?i=String(n.orgId):o&&(i=fd(o));let s={environment:n.environment||Qt,release:n.release,public_key:r,trace_id:e,org_id:i};return t.emit("createDsc",s),s}function cr(e,t){let n=t.getPropagationContext();return n.dsc||Ba(n.traceId,e)}function be(e){let t=T();if(!t)return{};let n=K(e),r=O(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[Xt]??o[Kr];function a(m){return(typeof s=="number"||typeof s=="string")&&(m.sample_rate=`${s}`),m}let c=n[pd];if(c)return a(c);let u=i?.get("sentry.dsc"),d=u&&gi(u);if(d)return a(d);let l=Ba(e.spanContext().traceId,t),f=o[Te],p=r.description;return f!=="url"&&p&&(l.transaction=p),je()&&(l.sampled=String(ht(n)),l.sample_rand=i?.get("sentry.sample_rand")??Dn(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function Ha(e){let t=be(e);return _i(t)}var Ue=class{constructor(t={}){this._traceId=t.traceId||Le(),this._spanId=t.spanId||xt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:yi}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function $a(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return Og(r,t,n)}function Og(e,t,n){return vt(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function md(e){if(!v)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=O(e),{spanId:o}=e.spanContext(),i=ht(e),s=K(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:d,description:l}=O(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function hd(e){if(!v)return;let{description:t="< unknown name >",op:n="< unknown op >"}=O(e),{spanId:r}=e.spanContext(),i=K(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;h.log(s)}function gd(e,t,n){if(!je(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);let i=at(o);if(i===void 0)return v&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return v&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||v&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}function ke(e,t=100,n=1/0){try{return Wa("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Ci(e,t=3,n=100*1024){let r=ke(e,t);return Fg(r)>n?Ci(e,t-1,n):r}function Wa(e,t,n=1/0,r=1/0,o=Ug()){let[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let a=Lg(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let p=u.toJSON();return Wa("",p,c-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},l=0,f=li(t);for(let p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}let m=f[p];d[p]=Wa(p,m,c-1,r,o),l++}return s(t),d}function Lg(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Vr(t))return"[VueViewModel]";if(ba(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${et(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=Dg(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Dg(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Pg(e){return~-encodeURI(e).split(/%..|./).length}function Fg(e){return Pg(JSON.stringify(e))}function Ug(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Ae(e,t=[]){return[e,t]}function Ga(e,t){let[n,r]=e;return[n,[...r,t]]}function ut(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function Ai(e,t){return ut(e,(n,r)=>t.includes(r))}function ki(e){let t=dn(w);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Bg(e){let t=dn(w);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function gn(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[ki(r),i]:r.push(typeof i=="string"?ki(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(ke(a))}o(c)}}return typeof r=="string"?r:Hg(r)}function Hg(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function za(e){let t=typeof e=="string"?ki(e):e;function n(s){let a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(Bg(n(s)))}let o=r(),i=[];for(;t.length;){let s=r(),a=typeof s.length=="number"?s.length:void 0;i.push([s,a?n(a):r()])}return[o,i]}function ja(e){return[{type:"span"},e]}function qa(e){let t=typeof e.data=="string"?ki(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var $g={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Ni(e){return $g[e]}function ur(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function so(e,t,n,r){let o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:tt(r)},...o&&{trace:o}}}function Wg(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function _d(e,t,n,r){let o=ur(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:tt(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ae(i,[s])}function Sd(e,t,n,r){let o=ur(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Wg(e,n?.sdk);let s=so(e,o,r,t);return delete e.sdkProcessingMetadata,Ae(s,[[{type:i},e]])}function yd(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=be(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:tt(o)}},a=t?.getOptions().beforeSendSpan,c=a?d=>{let l=O(d),f=a(l);return f||(to(),l)}:O,u=[];for(let d of e){let l=c(d);l&&u.push(ja(l))}return Ae(s,u)}function ao(e,t,n,r=ee()){let o=r&&K(r);o&&(v&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[hn]:t,[mn]:n}))}function Mi(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[mn],i=r[hn];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var Ed=1e3,lr=class{constructor(t={}){this._traceId=t.traceId||Le(),this._spanId=t.spanId||xt(),this._startTime=t.startTimestamp||ne(),this._links=t.links,this._attributes={},this.setAttributes({[J]:"manual",[Ee]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Ei:yi}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Rt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Te,"custom"),this}end(t){this._endTime||(this._endTime=Rt(t),hd(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ee],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Ti(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[J],profile_id:this._attributes[ir],exclusive_time:this._attributes[Bt],measurements:Mi(this._events),is_segment:this._isStandaloneSpan&&K(this)===this||void 0,segment_id:this._isStandaloneSpan?K(this).spanContext().spanId:void 0,links:bi(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){v&&h.log("[Tracing] Adding an event to span:",t);let o=bd(n)?n:r||ne(),i=bd(n)?{}:n||{},s={name:t,time:Rt(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=T();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===K(this)))return;if(this._isStandaloneSpan){this._sampled?zg(yd([this],t)):(v&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Dn(this).scope||M()).captureEvent(r)}_convertSpanToTransaction(){if(!Td(O(this)))return;this._name||(v&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Dn(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=Zt(this).filter(d=>d!==this&&!Gg(d)).map(d=>O(d)).filter(Td),s=this._attributes[Te];delete this._attributes[or],i.forEach(d=>{delete d.data[or]});let a={contexts:{trace:od(this)},spans:i.length>Ed?i.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Ed):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:be(this)},request:r,...s&&{transaction_info:{source:s}}},c=Mi(this._events);return c&&Object.keys(c).length&&(v&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function bd(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Td(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Gg(e){return e instanceof lr&&e.isStandaloneSpan()}function zg(e){let t=T();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var Va="__SENTRY_SUPPRESS_TRACING__";function dr(e,t){let n=co();if(n.startSpan)return n.startSpan(e,t);let r=Qa(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Ce(a,()=>vd(i)(()=>{let u=M(),d=ec(u),f=e.onlyIfParent&&!d?new Ue:Za({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Ut(u,f),$a(()=>t(f),()=>{let{status:p}=O(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})},()=>{f.end()})}))}function Ya(e,t){let n=co();if(n.startSpanManual)return n.startSpanManual(e,t);let r=Qa(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Ce(a,()=>vd(i)(()=>{let u=M(),d=ec(u),f=e.onlyIfParent&&!d?new Ue:Za({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Ut(u,f),$a(()=>t(f,()=>f.end()),()=>{let{status:p}=O(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})})}))}function _t(e){let t=co();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=Qa(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>Ce(e.scope,s):o!==void 0?s=>_n(o,s):s=>s())(()=>{let s=M(),a=ec(s);return e.onlyIfParent&&!a?new Ue:Za({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}var Ja=(e,t)=>{let n=We(),r=mt(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:o,baggage:i}=e;return Ce(s=>{let a=Xr(o,i);return s.setPropagationContext(a),t()})};function _n(e,t){let n=co();return n.withActiveSpan?n.withActiveSpan(e,t):Ce(r=>(Ut(r,e||void 0),t(r)))}function Ka(e){let t=co();return t.suppressTracing?t.suppressTracing(e):Ce(n=>(n.setSDKProcessingMetadata({[Va]:!0}),e()))}function Xa(e){return Ce(t=>(t.setPropagationContext({traceId:Le(),sampleRand:Math.random()}),v&&h.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),_n(null,e)))}function Za({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!je()){let s=new Ue;if(n||!e){let a={sampled:"false",sample_rate:"0",transaction:t.name,...be(s)};ar(s,a)}return s}let o=ie(),i;if(e&&!n)i=jg(e,r,t),Ii(e,i);else if(e){let s=be(e),{traceId:a,spanId:c}=e.spanContext(),u=ht(e);i=Id({traceId:a,parentSpanId:c,...t},r,u),ar(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=Id({traceId:s,parentSpanId:c,...t},r,u),a&&ar(i,a)}return md(i),Ql(i,r,o),i}function Qa(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=Rt(e.startTime),delete r.startTime,r}return n}function co(){let e=We();return mt(e)}function Id(e,t,n){let r=T(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[Va]?[!1]:gd(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:at(u.dsc?.sample_rate)},u.sampleRand),p=new lr({...e,attributes:{[Te]:"custom",[Xt]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(v&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function jg(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Va]?!1:ht(e),s=i?new lr({...n,parentSpanId:r,traceId:o,sampled:i}):new Ue({traceId:o});Ii(e,s);let a=T();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function ec(e){let t=wt(e);if(!t)return;let n=T();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?K(t):t}function vd(e){return e!==void 0?t=>_n(e,t):t=>t()}var fr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},qg="heartbeatFailed",Vg="idleTimeout",Yg="finalTimeout",Jg="externalFinish";function Oi(e,t={}){let n=new Map,r=!1,o,i=Jg,s=!t.disableAutoFinish,a=[],{idleTimeout:c=fr.idleTimeout,finalTimeout:u=fr.finalTimeout,childSpanTimeout:d=fr.childSpanTimeout,beforeSpanEnd:l}=t,f=T();if(!f||!je()){let b=new Ue,R={sample_rate:"0",sampled:"false",...be(b)};return ar(b,R),b}let p=M(),m=ee(),g=Kg(e);g.end=new Proxy(g.end,{apply(b,R,L){if(l&&l(g),R instanceof Ue)return;let[y,...x]=L,B=y||ne(),E=Rt(B),A=Zt(g).filter($=>$!==g);if(!A.length)return N(E),Reflect.apply(b,R,[E,...x]);let H=A.map($=>O($).timestamp).filter($=>!!$),V=H.length?Math.max(...H):void 0,F=O(g).start_timestamp,Z=Math.min(F?F+u/1e3:1/0,Math.max(F||-1/0,Math.min(E,V||1/0)));return N(Z),Reflect.apply(b,R,[Z,...x])}});function _(){o&&(clearTimeout(o),o=void 0)}function S(b){_(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=Vg,g.end(b))},c)}function I(b){o=setTimeout(()=>{!r&&s&&(i=qg,g.end(b))},d)}function P(b){_(),n.set(b,!0);let R=ne();I(R+d/1e3)}function C(b){if(n.has(b)&&n.delete(b),n.size===0){let R=ne();S(R+c/1e3)}}function N(b){r=!0,n.clear(),a.forEach(E=>E()),Ut(p,m);let R=O(g),{start_timestamp:L}=R;if(!L)return;R.data[Ln]||g.setAttribute(Ln,i),h.log(`[Tracing] Idle span "${R.op}" finished`);let x=Zt(g).filter(E=>E!==g),B=0;x.forEach(E=>{E.isRecording()&&(E.setStatus({code:2,message:"cancelled"}),E.end(b),v&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(E,void 0,2)));let A=O(E),{timestamp:H=0,start_timestamp:V=0}=A,F=V<=b,Z=(u+c)/1e3,$=H-V<=Z;if(v){let re=JSON.stringify(E,void 0,2);F?$||h.log("[Tracing] Discarding span since it finished after idle span final timeout",re):h.log("[Tracing] Discarding span since it happened after idle span was finished",re)}(!$||!F)&&(id(g,E),B++)}),B>0&&g.setAttribute("sentry.idle_span_discarded_spans",B)}return a.push(f.on("spanStart",b=>{if(r||b===g||O(b).timestamp)return;Zt(g).includes(b)&&P(b.spanContext().spanId)})),a.push(f.on("spanEnd",b=>{r||C(b.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",b=>{b===g&&(s=!0,S(),n.size&&I())})),t.disableAutoFinish||S(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=Yg,g.end())},u),g}function Kg(e){let t=_t(e);return Ut(M(),t),v&&h.log("[Tracing] Started span is an idle span"),t}var en;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(en||(en={}));function qe(e){return new Ct(t=>{t(e)})}function Sn(e){return new Ct((t,n)=>{n(e)})}var Ct=class e{constructor(t){this._state=en.PENDING,this._handlers=[],this._runExecutor(t)}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===en.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===en.RESOLVED&&n[1](this._value),this._state===en.REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===en.PENDING){if(vt(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(en.RESOLVED,i)},o=i=>{n(en.REJECTED,i)};try{t(r,o)}catch(i){o(i)}}};function Li(e,t,n,r=0){return new Ct((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);v&&s.id&&a===null&&h.log(`Event processor "${s.id}" dropped event`),vt(a)?a.then(c=>Li(e,c,n,r+1).then(o)).then(null,i):Li(e,a,n,r+1).then(o).then(null,i)}})}var Di,wd,Pi;function Fi(e){let t=w._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Pi&&n.length===wd||(wd=n.length,Pi=n.reduce((r,o)=>{Di||(Di={});let i=Di[o];if(i)r[i[0]]=i[1];else{let s=e(o);for(let a=s.length-1;a>=0;a--){let u=s[a]?.filename,d=t[o];if(u&&d){r[u]=d,Di[o]=[u,d];break}}}return r},{})),Pi}function tc(e,t){let n=Fi(e);if(!n)return[];let r=[];for(let o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function xd(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;Xg(e,t),r&&e_(e,r),t_(e,n),Zg(e,o),Qg(e,i)}function nc(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:m}=t;Ui(e,"extra",n),Ui(e,"tags",r),Ui(e,"user",o),Ui(e,"contexts",i),e.sdkProcessingMetadata=pn(e.sdkProcessingMetadata,a,2),s&&(e.level=s),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function Ui(e,t,n){e[t]=pn(e[t],n,1)}function Xg(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function Zg(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Qg(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function e_(e,t){e.contexts={trace:Qr(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:be(t),...e.sdkProcessingMetadata};let n=K(t),r=O(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function t_(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function uo(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||fe(),timestamp:t.timestamp||Ft()},u=n.integrations||e.integrations.map(_=>_.name);n_(c,e),i_(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&r_(c,e.stackParser);let d=a_(r,n.captureContext);n.mechanism&&Qe(c,n.mechanism);let l=o?o.getEventProcessors():[],f=On().getScopeData();if(i){let _=i.getScopeData();nc(f,_)}if(d){let _=d.getScopeData();nc(f,_)}let p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),xd(c,f);let m=[...l,...f.eventProcessors];return Li(m,c,n).then(_=>(_&&o_(_),typeof s=="number"&&s>0?s_(_,s,a):_))}function n_(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||Qt,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);let s=e.request;s?.url&&(s.url=pt(s.url,i))}function r_(e,t){let n=Fi(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function o_(e){let t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function i_(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function s_(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:ke(o.data,t,n)}}))},...e.user&&{user:ke(e.user,t,n)},...e.contexts&&{contexts:ke(e.contexts,t,n)},...e.extra&&{extra:ke(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ke(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:ke(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=ke(e.contexts.flags,3,n)),r}function a_(e,t){if(!t)return e;let n=e?e.clone():new De;return n.update(t),n}function Rd(e){if(e)return c_(e)?{captureContext:e}:l_(e)?{captureContext:e}:e}function c_(e){return e instanceof De||typeof e=="function"}var u_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function l_(e){return Object.keys(e).some(t=>u_.includes(t))}function lt(e,t){return M().captureException(e,Rd(t))}function yn(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return M().captureMessage(e,n,r)}function tn(e,t){return M().captureEvent(e,t)}function lo(e,t){ie().setContext(e,t)}function rc(e){ie().setExtras(e)}function oc(e,t){ie().setExtra(e,t)}function ic(e){ie().setTags(e)}function sc(e,t){ie().setTag(e,t)}function ac(e){ie().setUser(e)}function fo(){return ie().lastEventId()}async function cc(e){let t=T();return t?t.flush(e):(v&&h.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function uc(e){let t=T();return t?t.close(e):(v&&h.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function lc(){return!!T()}function dc(){let e=T();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function po(e){ie().addEventProcessor(e)}function pr(e){let t=ie(),n=M(),{userAgent:r}=w.navigator||{},o=jl({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&Kt(i,{status:"exited"}),mo(),t.setSession(o),o}function mo(){let e=ie(),n=M().getSession()||e.getSession();n&&ql(n),Cd(),e.setSession()}function Cd(){let e=ie(),t=T(),n=e.getSession();n&&t&&t.captureSession(n)}function mr(e=!1){if(e){mo();return}Cd()}var d_="7";function kd(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function f_(e){return`${kd(e)}${e.projectId}/envelope/`}function p_(e,t){let n={sentry_version:d_};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function ho(e,t,n){return t||`${f_(e)}?${p_(e,n)}`}function fc(e,t){let n=io(e);if(!n)return"";let r=`${kd(n)}embed/error-page/`,o=`dsn=${tt(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var Ad=[];function m_(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function pc(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return m_(r)}function Nd(e,t){let n={};return t.forEach(r=>{r&&hc(e,r,n)}),n}function mc(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function hc(e,t,n){if(n[t.name]){v&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ad.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Ad.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}v&&h.log(`Integration installed: ${t.name}`)}function hr(e){let t=T();if(!t){v&&h.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Bi(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Md(e){let{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[ir],exclusive_time:s?.[Bt],measurements:e.measurements,is_segment:!0}}function Od(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ir]:e.profile_id},...e.exclusive_time&&{[Bt]:e.exclusive_time}}}},measurements:e.measurements}}function Ld(e,t,n){let r=[{type:"client_report"},{timestamp:n||Ft(),discarded_events:e}];return Ae(t?{dsn:t}:{},[r])}var Dd="Not capturing exception because it's already been captured.",Pd="Discarded session because of missing or non-string release",Bd=Symbol.for("SentryInternalError"),Hd=Symbol.for("SentryDoNotSendEventError");function Hi(e){return{message:e,[Bd]:!0}}function gc(e){return{message:e,[Hd]:!0}}function Fd(e){return!!e&&typeof e=="object"&&Bd in e}function Ud(e){return!!e&&typeof e=="object"&&Hd in e}var go=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=io(t.dsn):v&&h.warn("No DSN provided, client will not send events."),this._dsn){let n=ho(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=fe();if(di(t))return v&&h.log(Dd),o;let i={event_id:o,...n};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i={event_id:fe(),...r},s=fn(t)?t:String(t),a=An(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=fe();if(n?.originalException&&di(n.originalException))return v&&h.log(Dd),o;let i={event_id:o,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),Kt(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):qe(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];hc(this,t,this._integrations),n||mc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Sd(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=Ga(r,qa(i));let o=this.sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let{release:n,environment:r=Qt}=this._options;if("aggregates"in t){let i=t.attrs||{};if(!i.release&&!n){v&&h.warn(Pd);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){v&&h.warn(Pd);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);let o=_d(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){let o=`${t}:${n}`;v&&h.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(v&&h.error("Error while sending envelope:",n),n)):(v&&h.error("Transport disabled"),qe({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Nd(this,t),mc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1,i=n.exception?.values;if(i){o=!0;for(let c of i)if(c.mechanism?.handled===!1){r=!0;break}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(Kt(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ct(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),uo(i,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:pi(r),...a.contexts};let c=cr(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=M(),o=ie()){return v&&_c(t)&&h.log(`Captured error event \`${Bi(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(i=>i.event_id,i=>{v&&(Ud(i)?h.log(i.message):Fd(i)?h.warn(i.message):h.warn(i))})}_processEvent(t,n,r,o){let i=this.getOptions(),{sampleRate:s}=i,a=$d(t),c=_c(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof s>"u"?void 0:at(s);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Sn(gc(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),gc("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;let g=g_(this,i,p,n);return h_(g,d)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),a){let S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw gc(`${d} returned \`null\`, will not send event.`)}let m=r.getSession()||o.getSession();if(c&&m&&this._updateSessionFromEvent(m,p),a){let _=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,S=p.spans?p.spans.length:0,I=_-S;I>0&&this.recordDroppedEvent("before_send","span",I)}let g=p.transaction_info;if(a&&g&&p.transaction!==t.transaction){let _="custom";p.transaction_info={...g,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw Ud(p)||Fd(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),Hi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}_flushOutcomes(){v&&h.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){v&&h.log("No outcomes to send");return}if(!this._dsn){v&&h.log("No dsn provided, will not send outcomes");return}v&&h.log("Sending outcomes:",t);let n=Ld(t,this._options.tunnel&&tt(this._dsn));this.sendEnvelope(n)}};function h_(e,t){let n=`${t} must return \`null\` or a valid event.`;if(vt(e))return e.then(r=>{if(!it(r)&&r!==null)throw Hi(n);return r},r=>{throw Hi(`${t} rejected with ${r}`)});if(!it(e)&&e!==null)throw Hi(n);return e}function g_(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t,a=n;if(_c(a)&&o)return o(a,r);if($d(a)){if(s){let c=s(Md(a));if(c?a=pn(n,Od(c)):to(),a.spans){let u=[];for(let d of a.spans){let l=s(d);l?u.push(l):(to(),u.push(d))}a.spans=u}}if(i){if(a.spans){let c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(a,r)}}return a}function _c(e){return e.type===void 0}function $d(e){return e.type==="transaction"}function Wd(e,t){if(!t)return[void 0,void 0];let n=wt(t),r=n?Qr(n):pi(t);return[n?be(n):cr(e,t),r]}var Gd={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function __(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function zd(e,t,n,r){let o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=tt(r)),Ae(o,[__(e)])}var S_=100;w._sentryClientToLogBufferMap=new WeakMap;function y_(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function gr(e,t=T(),n=M()){if(!t){v&&h.warn("No client available to capture log.");return}let{_experiments:r,release:o,environment:i}=t.getOptions(),{enableLogs:s=!1,beforeSendLog:a}=r??{};if(!s){v&&h.warn("logging option not enabled, log will not be captured.");return}let[,c]=Wd(t,n),u={...e.attributes};o&&(u["sentry.release"]=o),i&&(u["sentry.environment"]=i);let{sdk:d}=t.getSdkMetadata()??{};d&&(u["sentry.sdk.name"]=d.name,u["sentry.sdk.version"]=d.version);let l=e.message;if(fn(l)){let{__sentry_template_string__:N,__sentry_template_values__:b=[]}=l;u["sentry.message.template"]=N,b.forEach((R,L)=>{u[`sentry.message.parameter.${L}`]=R})}let f=wt(n);f&&(u["sentry.trace.parent_span_id"]=f.spanContext().spanId);let p={...e,attributes:u};t.emit("beforeCaptureLog",p);let m=a?a(p):p;if(!m){t.recordDroppedEvent("before_send","log_item",1),v&&h.warn("beforeSendLog returned null, log will not be captured.");return}let{level:g,message:_,attributes:S={},severityNumber:I}=m,P={timestamp:ne(),level:g,body:_,trace_id:c?.trace_id,severity_number:I??Gd[g],attributes:Object.keys(S).reduce((N,b)=>(N[b]=y_(S[b]),N),{})},C=jd(t);C===void 0?w._sentryClientToLogBufferMap?.set(t,[P]):(w._sentryClientToLogBufferMap?.set(t,[...C,P]),C.length>=S_&&_r(t,C)),t.emit("afterCaptureLog",m)}function _r(e,t){let n=t??jd(e)??[];if(n.length===0)return;let r=e.getOptions(),o=zd(n,r._metadata,r.tunnel,e.getDsn());w._sentryClientToLogBufferMap?.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function jd(e){return w._sentryClientToLogBufferMap?.get(e)}function Sc(e,t){t.debug===!0&&(v?h.enable():Oe(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),M().update(t.initialScope);let r=new e(t);return $i(r),r.init(),r}function $i(e){M().setClient(e)}var yc=Symbol.for("SentryBufferFullError");function qd(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return Sn(yc);let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new Ct((a,c)=>{let u=t.length;if(!u)return a(!0);let d=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{qe(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:o,drain:i}}function Wi(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Vd(e,t){return e[t]||e.all||0}function _o(e,t,n=Date.now()){return Vd(e,t)>n}function So(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(let p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[p]=r+f):o[p]=r+f}else s?o.all=r+Wi(s,r):t===429&&(o.all=r+60*1e3);return o}var E_=64;function yo(e,t,n=qd(e.bufferSize||E_)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(ut(s,(l,f)=>{let p=Ni(f);_o(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return qe({});let c=Ae(s[0],a),u=l=>{ut(c,(f,p)=>{e.recordDroppedEvent(l,Ni(p))})},d=()=>t({body:gn(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&v&&h.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=So(r,l),l),l=>{throw u("network_error"),v&&h.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===yc)return v&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),qe({});throw l})}return{send:i,flush:o}}var Ec=100,bc=5e3,b_=36e5;function Tc(e){function t(...n){v&&h.info("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let o=n.createStore(n),i=bc,s;function a(l,f,p){return Ai(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let f=await o.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(i),i=Math.min(i*2,b_))}async function d(l,f=!1){if(!f&&Ai(l,["replay_event","replay_recording"]))return await o.push(l),c(Ec),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let p=await r.send(l),m=Ec;if(p){if(p.headers?.["retry-after"])m=Wi(p.headers["retry-after"]);else if(p.headers?.["x-sentry-rate-limits"])m=6e4;else if((p.statusCode||0)>=400)return p}return c(m),i=bc,p}catch(p){if(await a(l,p,i))return f?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(i=bc,c(Ec)),r.flush(l))}}}function Yd(e,t){let n;return ut(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function T_(e,t){return n=>{let r=e(n);return{...r,send:async o=>{let i=Yd(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)}}}}function I_(e,t){return Ae(t?{...e[0],dsn:t}:e[0],e[1])}function Ic(e,t){return n=>{let r=e(n),o=new Map;function i(c,u){let d=u?`${c}:${u}`:c,l=o.get(d);if(!l){let f=Ri(c);if(!f)return;let p=ho(f,n.tunnel);l=u?T_(e,u)({...n,url:p}):e({...n,url:p}),o.set(d,l)}return[c,l]}async function s(c){function u(p){let m=p?.length?p:["event"];return Yd(c,m)}let d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?i(p,void 0):i(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,m])=>m.send(I_(c,p)))))[0]}async function a(c){let u=[...o.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:s,flush:a}}}function Eo(e,t){let n=t?.getDsn(),r=t?.getOptions().tunnel;return w_(e,n)||v_(e,r)}function v_(e,t){return t?Jd(e)===Jd(t):!1}function w_(e,t){return t?e.includes(t.host):!1}function Jd(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Gi(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var vc=Gi;function wc(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function xc(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Rc(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Xe})),version:Xe}),e._metadata=o}function bo(e={}){let t=T();if(!dc()||!t)return{};let n=We(),r=mt(n);if(r.getTraceData)return r.getTraceData(e);let o=M(),i=e.span||ee(),s=i?eo(i):x_(o),a=i?be(i):cr(t,o),c=_i(a);return Si.test(s)?{"sentry-trace":s,baggage:c}:(h.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function x_(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Zr(t,r,n)}var R_=100;function Ve(e,t){let n=T(),r=ie();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=R_}=n.getOptions();if(i<=0)return;let a={timestamp:Ft(),...e},c=o?Oe(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var Kd,C_="FunctionToString",Xd=new WeakMap,k_=()=>({name:C_,setupOnce(){Kd=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=Mn(this),n=Xd.has(T())&&t!==void 0?t:this;return Kd.apply(n,e)}}catch{}},setup(e){Xd.set(e,!0)}}),To=k_;var A_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],N_="EventFilters",ji=(e={})=>{let t;return{name:N_,setup(n){let r=n.getOptions();t=Zd(e,r)},processEvent(n,r,o){if(!t){let i=o.getOptions();t=Zd(e,i)}return M_(n,t)?null:n}}},Io=(e={})=>({...ji(e),name:"InboundFilters"});function Zd(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:A_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function M_(e,t){if(e.type){if(e.type==="transaction"&&L_(e,t.ignoreTransactions))return v&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Pt(e)}`),!0}else{if(O_(e,t.ignoreErrors))return v&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Pt(e)}`),!0;if(U_(e))return v&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Pt(e)}`),!0;if(D_(e,t.denyUrls))return v&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Pt(e)}.
Url: ${zi(e)}`),!0;if(!P_(e,t.allowUrls))return v&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Pt(e)}.
Url: ${zi(e)}`),!0}return!1}function O_(e,t){return t?.length?Bi(e).some(n=>ze(n,t)):!1}function L_(e,t){if(!t?.length)return!1;let n=e.transaction;return n?ze(n,t):!1}function D_(e,t){if(!t?.length)return!1;let n=zi(e);return n?ze(n,t):!1}function P_(e,t){if(!t?.length)return!0;let n=zi(e);return n?ze(n,t):!0}function F_(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function zi(e){try{let n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?F_(n):null}catch{return v&&h.error(`Cannot extract url for event ${Pt(e)}`),null}}function U_(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function kc(e,t,n,r,o,i){if(!o.exception?.values||!i||!st(i.originalException,Error))return;let s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=Cc(e,t,r,i.originalException,n,o.exception.values,s,0))}function Cc(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(st(r[o],Error)){Qd(s,a);let u=e(t,r[o]),d=c.length;ef(u,o,d,a),c=Cc(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(st(u,Error)){Qd(s,a);let l=e(t,u),f=c.length;ef(l,`errors[${d}]`,f,a),c=Cc(e,t,n,u,o,[l,...c],l,f)}}),c}function Qd(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function ef(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var nf=new Map,tf=new Set;function B_(e){if(w._sentryModuleMetadata)for(let t of Object.keys(w._sentryModuleMetadata)){let n=w._sentryModuleMetadata[t];if(tf.has(t))continue;tf.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){nf.set(o.filename,n);break}}}function H_(e,t){return B_(e),nf.get(t)}function qi(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let o=H_(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function Vi(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var Ac=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{ut(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(Vi(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;qi(n,t)})}});function Fn(e){let t="console";Pe(t,e),Fe(t,$_)}function $_(){"console"in w&&Yt.forEach(function(e){e in w.console&&he(w.console,e,function(t){return tr[e]=t,function(...n){Ie("console",{args:n,level:e}),tr[e]?.apply(w.console,n)}})})}function Un(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var W_="CaptureConsole",G_=(e={})=>{let t=e.levels||Yt,n=e.handled??!0;return{name:W_,setup(r){"console"in w&&Fn(({args:o,level:i})=>{T()!==r||!t.includes(i)||z_(o,i,n)})}}},Nc=G_;function z_(e,t,n){let r={level:Un(t),extra:{arguments:e}};Ce(o=>{if(o.addEventProcessor(a=>(a.logger="console",Qe(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){let a=`Assertion failed: ${Jt(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),yn(a,r)}return}let i=e.find(a=>a instanceof Error);if(i){lt(i,r);return}let s=Jt(e," ");yn(s,r)})}var j_="Dedupe",q_=()=>{let e;return{name:j_,processEvent(t){if(t.type)return t;try{if(V_(t,e))return v&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},vo=q_;function V_(e,t){return t?!!(Y_(e,t)||J_(e,t)):!1}function Y_(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!sf(e,t)||!of(e,t))}function J_(e,t){let n=rf(t),r=rf(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!sf(e,t)||!of(e,t))}function of(e,t){let n=sr(e),r=sr(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function sf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function rf(e){return e.exception?.values&&e.exception.values[0]}var K_="ExtraErrorData",X_=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:K_,processEvent(r,o,i){let{maxValueLength:s=250}=i.getOptions();return Z_(r,o,t,n,s)}}},Mc=X_;function Z_(e,t={},n,r,o){if(!t.originalException||!Ze(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=Q_(t.originalException,r,o);if(s){let a={...e.contexts},c=ke(s,n);return it(c)&&(de(c,"__sentry_skip_normalization__",!0),a[i]=c),{...e,contexts:a}}return e}function Q_(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];o[i]=Ze(s)||typeof s=="string"?pt(`${s}`,n):s}if(t&&e.cause!==void 0&&(o.cause=Ze(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let a=i[s];o[s]=Ze(a)?a.toString():a}}return o}catch(r){v&&h.error("Unable to extract extra data from the Error object:",r)}return null}function eS(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var tS=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function nS(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=tS.exec(t);return n?n.slice(1):[]}function af(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=eS(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function cf(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function uf(e,t){e=af(e).slice(1),t=af(t).slice(1);let n=cf(e.split("/")),r=cf(t.split("/")),o=Math.min(n.length,r.length),i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function lf(e,t){let n=nS(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var rS="RewriteFrames",Oc=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in w&&!!w.window,o=e.iteratee||oS({isBrowser:r,root:t,prefix:n});function i(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames&&a.frames.map(c=>o(c))}}return{name:rS,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function oS({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){let s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?uf(t,s):lf(s);r.filename=`${n}${a}`}return r}}var iS=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],sS=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],aS={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},ff=["select","insert","upsert","update","delete"];function Yi(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function Ji(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function cS(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function uS(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&aS[n]||"filter",`${o}(${e}, ${r.join(".")})`}function df(e,t=!1){return new Proxy(e,{apply(n,r,o){return dr({name:e.name,attributes:{[J]:"auto.db.supabase",[Ee]:`db.auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,o).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),lt(s.error,{mechanism:{handled:!1}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),lt(s,{mechanism:{handled:!1}}),s}).then(...o))}})}function lS(e){let t=e.auth;if(!(!t||Ji(e.auth))){for(let n of iS){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=df(r))}for(let n of sS){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=df(r,!0))}Yi(e.auth)}}function dS(e){Ji(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let o=Reflect.apply(t,n,r),i=o.constructor;return pS(i),o}}),Yi(e.prototype.from))}function fS(e){Ji(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){let o=ff,i=n,s=cS(i.method,i.headers);if(!o.includes(s)||!i?.url?.pathname||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=`from(${c})`,d=[];for(let[p,m]of i.url.searchParams.entries())d.push(uS(p,m));let l=Object.create(null);if(it(i.body))for(let[p,m]of Object.entries(i.body))l[p]=m;let f={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql",[J]:"auto.db.supabase",[Ee]:`db.${s}`};return d.length&&(f["db.query"]=d),Object.keys(l).length&&(f["db.body"]=l),dr({name:u,attributes:f},p=>Reflect.apply(t,n,[]).then(m=>{if(p&&(m&&typeof m=="object"&&"status"in m&&Ht(p,m.status||500),p.end()),m.error){let S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);let I={};d.length&&(I.query=d),Object.keys(l).length&&(I.body=l),lt(S,{contexts:{supabase:I}})}let g={type:"supabase",category:`db.${s}`,message:u},_={};return d.length&&(_.query=d),Object.keys(l).length&&(_.body=l),Object.keys(_).length&&(g.data=_),Ve(g),m},m=>{throw p&&(Ht(p,500),p.end()),m}).then(...r))}}),Yi(e.prototype.then))}function pS(e){for(let t of ff)Ji(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){let i=Reflect.apply(n,r,o),s=i.constructor;return v&&h.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),fS(s),i}}),Yi(e.prototype[t]))}var Ki=e=>{if(!e){v&&h.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;dS(t),lS(e)},mS="Supabase",hS=e=>({setupOnce(){Ki(e)},name:mS}),Lc=e=>hS(e.supabaseClient);var gS=10,_S="ZodErrors";function SS(e){return Ze(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function yS(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function ES(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function bS(e){let t=new Set;for(let r of e.issues){let o=ES(r.path);o.length>0&&t.add(o)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${pt(n.join(", "),100)}`}function TS(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!SS(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(yS);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:bS(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}var IS=(e={})=>{let t=e.limit??gS;return{name:_S,processEvent(n,r){return TS(t,e.saveZodIssuesAsAttachment,n,r)}}},Dc=IS;var Pc=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{ut(n,(r,o)=>{if(o==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(Vi(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;qi(r,n)})},processEvent(t){let n=vS(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](i=>!i.some(s=>e.filterKeys.includes(s)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function vS(e){let t=sr(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(pf)).map(r=>r.slice(pf.length)):[])}var pf="_sentryBundlerPluginAppKey:";var wS="thismessage:/";function Xi(e){return"isRelative"in e}function wo(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?wS:void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function Fc(e){if(Xi(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function kt(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function xo(e){return e.split(/[?#]/,1)[0]}function Uc(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,a=je()&&t(s);if(e.endTimestamp&&a){let l=e.fetchData.__span;if(!l)return;let f=r[l];f&&(RS(f,e),delete r[l]);return}let c=!!ee(),u=a&&c?_t(kS(s,i,o)):new Ue;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){let l=e.args[0],f=e.args[1]||{},p=xS(l,f,je()&&c?u:void 0);p&&(e.args[1]=f,f.headers=p)}let d=T();if(d){let l={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,l)}return u}function xS(e,t,n){let r=bo({span:n}),o=r["sentry-trace"],i=r.baggage;if(!o)return;let s=t.headers||(ci(e)?e.headers:void 0);if(s)if(CS(s)){let a=new Headers(s);if(a.get("sentry-trace")||a.set("sentry-trace",o),i){let c=a.get("baggage");c?Zi(c)||a.set("baggage",`${c},${i}`):a.set("baggage",i)}return a}else if(Array.isArray(s)){let a=[...s];s.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",o]);let c=s.find(u=>u[0]==="baggage"&&Zi(u[1]));return i&&!c&&a.push(["baggage",i]),a}else{let a="sentry-trace"in s?s["sentry-trace"]:void 0,c="baggage"in s?s.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],d=c&&(Array.isArray(c)?c.find(l=>Zi(l)):Zi(c));return i&&!d&&u.push(i),{...s,"sentry-trace":a??o,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function RS(e,t){if(t.response){Ht(e,t.response.status);let n=t.response?.headers&&t.response.headers.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function Zi(e){return e.split(",").some(t=>t.trim().startsWith(hi))}function CS(e){return typeof Headers<"u"&&st(e,Headers)}function kS(e,t,n){let r=wo(e);return{name:r?`${t} ${Fc(r)}`:t,attributes:AS(e,r,t,n)}}function AS(e,t,n,r){let o={url:e,type:"fetch","http.method":n,[J]:r,[Ee]:"http.client"};return t&&(Xi(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function Ro(e,t={},n=M()){let{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||T();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var NS="ConsoleLogs",mf={[J]:"auto.console.logging"},MS=(e={})=>{let t=e.levels||Yt;return{name:NS,setup(n){if(!n.getOptions()._experiments?.enableLogs){v&&h.warn("`_experiments.enableLogs` is not enabled, ConsoleLogs integration disabled");return}Fn(({args:r,level:o})=>{if(T()!==n||!t.includes(o))return;if(o==="assert"){if(!r[0]){let s=r.slice(1),a=s.length>0?`Assertion failed: ${hf(s)}`:"Assertion failed";gr({level:"error",message:a,attributes:mf})}return}let i=o==="log";gr({level:i?"info":o,message:hf(r),severityNumber:i?10:void 0,attributes:mf})})}}},Bc=MS;function hf(e){return"util"in w&&typeof w.util.format=="function"?w.util.format(...e):Jt(e," ")}function Qi(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var Sr=w;function Hc(){return"history"in Sr&&!!Sr.history}function OS(){if(!("fetch"in Sr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Co(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ko(){if(typeof EdgeRuntime=="string")return!0;if(!OS())return!1;if(Co(Sr.fetch))return!0;let e=!1,t=Sr.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Co(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){v&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function $c(){return"ReportingObserver"in Sr}function Bn(e,t){let n="fetch";Pe(n,e),Fe(n,()=>_f(void 0,t))}function Gc(e){let t="fetch-body-resolved";Pe(t,e),Fe(t,()=>_f(DS))}function _f(e,t=!1){t&&!ko()||he(w,"fetch",function(n){return function(...r){let o=new Error,{method:i,url:s}=PS(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:ne()*1e3,virtualError:o,headers:FS(r)};return e||Ie("fetch",{...a}),n.apply(w,r).then(async c=>(e?e(c):Ie("fetch",{...a,endTimestamp:ne()*1e3,response:c}),c),c=>{if(Ie("fetch",{...a,endTimestamp:ne()*1e3,error:c}),Ze(c)&&c.stack===void 0&&(c.stack=o.stack,de(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function LS(e,t){if(e?.body){let n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:a}=await r.read();clearTimeout(s),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(s)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function DS(e){let t;try{t=e.clone()}catch{return}LS(t,()=>{Ie("fetch-body-resolved",{endTimestamp:ne()*1e3,response:e})})}function Wc(e,t){return!!e&&typeof e=="object"&&!!e[t]}function gf(e){return typeof e=="string"?e:e?Wc(e,"url")?e.url:e.toString?e.toString():"":""}function PS(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:gf(n),method:Wc(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:gf(t),method:Wc(t,"method")?String(t.method).toUpperCase():"GET"}}function FS(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(ci(t))return new Headers(t.headers)}catch{}}function zc(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function jc(){return"npm"}function Sf(){return!zc()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function yr(){return typeof window<"u"&&(!Sf()||US())}function US(){return w.process?.type==="renderer"}var At=w,se=At.document,Ao=At.navigator,Df="Report a Bug",BS="Cancel",HS="Send Bug Report",$S="Confirm",WS="Report a Bug",GS="your.email@example.org",zS="Email",jS="What's the bug? What did you expect?",qS="Description",VS="Your Name",YS="Name",JS="Thank you for your report!",KS="(required)",XS="Add a screenshot",ZS="Remove screenshot",QS="widget",ey="api",ty=5e3,tu=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=T();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&M().setTags(e.tags);let r=Ro({source:ey,url:Ge(),...e},t);return new Promise((o,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(s),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?o(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?i("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},rs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ny(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Ao.userAgent)||/Macintosh/i.test(Ao.userAgent)&&Ao.maxTouchPoints&&Ao.maxTouchPoints>1||!isSecureContext)}function es(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:n=>{t.onSubmitSuccess?.(n),e.onSubmitSuccess?.(n)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function ry(e){let t=se.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function dt(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var Er=20,oy="http://www.w3.org/2000/svg";function iy(){let e=a=>At.document.createElementNS(oy,a),t=dt(e("svg"),{width:`${Er}`,height:`${Er}`,viewBox:`0 0 ${Er} ${Er}`,fill:"var(--actor-color, var(--foreground))"}),n=dt(e("g"),{clipPath:"url(#clip0_57_80)"}),r=dt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=dt(e("clipPath"),{id:"clip0_57_80"}),s=dt(e("rect"),{width:`${Er}`,height:`${Er}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function sy({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let o=se.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||Df,o.appendChild(iy()),e){let s=se.createElement("span");s.appendChild(se.createTextNode(e)),o.appendChild(s)}let i=ry(r);return{el:o,appendToDom(){n.appendChild(i),n.appendChild(o)},removeFromDom(){o.remove(),i.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}var Pf="rgba(88, 74, 192, 1)",ay={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Pf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},yf={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Pf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Ef(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function cy({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let o=se.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Ef(e==="dark"?{...yf,...t}:{...ay,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Ef({...yf,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}var us=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:m,scriptNonce:g,colorScheme:_="system",themeLight:S={},themeDark:I={},addScreenshotButtonLabel:P=XS,cancelButtonLabel:C=BS,confirmButtonLabel:N=$S,emailLabel:b=zS,emailPlaceholder:R=GS,formTitle:L=WS,isRequiredLabel:y=KS,messageLabel:x=qS,messagePlaceholder:B=jS,nameLabel:E=YS,namePlaceholder:A=VS,removeScreenshotButtonLabel:H=ZS,submitButtonLabel:V=HS,successMessageText:F=JS,triggerLabel:Z=Df,triggerAriaLabel:$="",onFormOpen:re,onFormClose:oe,onSubmitSuccess:Be,onSubmitError:Kn,onFormSubmitted:ot}={})=>{let He={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:m,scriptNonce:g,colorScheme:_,themeDark:I,themeLight:S,triggerLabel:Z,triggerAriaLabel:$,cancelButtonLabel:C,submitButtonLabel:V,confirmButtonLabel:N,formTitle:L,emailLabel:b,emailPlaceholder:R,messageLabel:x,messagePlaceholder:B,nameLabel:E,namePlaceholder:A,successMessageText:F,isRequiredLabel:y,addScreenshotButtonLabel:P,removeScreenshotButtonLabel:H,onFormClose:oe,onFormOpen:re,onSubmitError:Kn,onSubmitSuccess:Be,onFormSubmitted:ot},Tt=null,Vt=[],Xn=pe=>{if(!Tt){let Re=se.createElement("div");Re.id=String(pe.id),se.body.appendChild(Re),Tt=Re.attachShadow({mode:"open"}),Tt.appendChild(cy(pe))}return Tt},Zn=async pe=>{let Re=pe.enableScreenshot&&ny(),Lt,ye;try{Lt=(t?t():await e("feedbackModalIntegration",g))(),hr(Lt)}catch{throw rs&&h.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let Dt=Re?n?n():await e("feedbackScreenshotIntegration",g):void 0;Dt&&(ye=Dt(),hr(ye))}catch{rs&&h.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let ve=Lt.createDialog({options:{...pe,onFormClose:()=>{ve?.close(),pe.onFormClose?.()},onFormSubmitted:()=>{ve?.close(),pe.onFormSubmitted?.()}},screenshotIntegration:ye,sendFeedback:tu,shadow:Xn(pe)});return ve},qr=(pe,Re={})=>{let Lt=es(He,Re),ye=typeof pe=="string"?se.querySelector(pe):typeof pe.addEventListener=="function"?pe:null;if(!ye)throw rs&&h.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ve=null,Dt=async()=>{ve||(ve=await Zn({...Lt,onFormSubmitted:()=>{ve?.removeFromDom(),Lt.onFormSubmitted?.()}})),ve.appendToDom(),ve.open()};ye.addEventListener("click",Dt);let Cn=()=>{Vt=Vt.filter(Qn=>Qn!==Cn),ve?.removeFromDom(),ve=null,ye.removeEventListener("click",Dt)};return Vt.push(Cn),Cn},ln=(pe={})=>{let Re=es(He,pe),Lt=Xn(Re),ye=sy({triggerLabel:Re.triggerLabel,triggerAriaLabel:Re.triggerAriaLabel,shadow:Lt,styleNonce:m});return qr(ye.el,{...Re,onFormOpen(){ye.hide()},onFormClose(){ye.show()},onFormSubmitted(){ye.show()}}),ye};return{name:"Feedback",setupOnce(){!yr()||!He.autoInject||(se.readyState==="loading"?se.addEventListener("DOMContentLoaded",()=>ln().appendToDom()):ln().appendToDom())},attachTo:qr,createWidget(pe={}){let Re=ln(es(He,pe));return Re.appendToDom(),Re},async createForm(pe={}){return Zn(es(He,pe))},remove(){Tt&&(Tt.parentElement?.remove(),Tt=null),Vt.forEach(pe=>pe()),Vt=[]}}};function Ff(){return T()?.getIntegrationByName("Feedback")}var ls,ce,Uf,Hn,bf,Bf,Xc,No={},nu=[],uy=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ru=Array.isArray;function bn(e,t){for(var n in t)e[n]=t[n];return e}function Hf(e){var t=e.parentNode;t&&t.removeChild(e)}function j(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?ls.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return os(e,s,r,o,null)}function os(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Uf,__i:-1,__u:0};return o==null&&ce.vnode!=null&&ce.vnode(i),i}function Mo(e){return e.children}function is(e,t){this.props=e,this.context=t}function Tr(e,t){if(t==null)return e.__?Tr(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Tr(e):null}function ly(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=bn({},o)).__v=o.__v+1,ce.vnode&&ce.vnode(r),ou(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??Tr(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&$f(r),r}function $f(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return $f(e)}}function Tf(e){(!e.__d&&(e.__d=!0)&&Hn.push(e)&&!cs.__r++||bf!==ce.debounceRendering)&&((bf=ce.debounceRendering)||Bf)(cs)}function cs(){var e,t,n,r=[],o=[];for(Hn.sort(Xc);e=Hn.shift();)e.__d&&(n=Hn.length,t=ly(e,r,o)||t,n===0||Hn.length>n?(Zc(r,t,o),o.length=r.length=0,t=void 0,Hn.sort(Xc)):t&&ce.__c&&ce.__c(t,nu));t&&Zc(r,t,o),cs.__r=0}function Wf(e,t,n,r,o,i,s,a,c,u,d){var l,f,p,m,g,_=r&&r.__k||nu,S=t.length;for(n.__d=c,dy(n,t,_),c=n.__d,l=0;l<S;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?No:_[p.__i]||No,p.__i=l,ou(e,p,f,o,i,s,a,c,u,d),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&iu(f.ref,null,p),d.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),65536&p.__u||f.__k===p.__k?c=Gf(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:m&&(c=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=g}function dy(e,t,n){var r,o,i,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?os(null,o,null,null,o):ru(o)?os(Mo,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?os(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=fy(o,n,s=r+l,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=Tr(i)),Qc(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&(131072&i.__u)==0&&(i.__e==e.__d&&(e.__d=Tr(i)),Qc(i,i))}function Gf(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Gf(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function fy(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return a;a++}}return-1}function If(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||uy.test(t)?n:n+"px"}function ts(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||If(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||If(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?wf:vf,i)):e.removeEventListener(t,i?wf:vf,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function vf(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ce.event?ce.event(e):e)}}function wf(e){if(this.l)return this.l[e.type+!0](ce.event?ce.event(e):e)}function ou(e,t,n,r,o,i,s,a,c,u){var d,l,f,p,m,g,_,S,I,P,C,N,b,R,L,y=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=ce.__b)&&d(t);e:if(typeof y=="function")try{if(S=t.props,I=(d=y.contextType)&&r[d.__c],P=d?I?I.props.value:d.__:r,n.__c?_=(l=t.__c=n.__c).__=l.__E:("prototype"in y&&y.prototype.render?t.__c=l=new y(S,P):(t.__c=l=new is(S,P),l.constructor=y,l.render=my),I&&I.sub(l),l.props=S,l.state||(l.state={}),l.context=P,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),y.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=bn({},l.__s)),bn(l.__s,y.getDerivedStateFromProps(S,l.__s))),p=l.props,m=l.state,l.__v=t,f)y.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(y.getDerivedStateFromProps==null&&S!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(S,P),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(S,l.__s,P)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=S,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(x){x&&(x.__=t)}),C=0;C<l._sb.length;C++)l.__h.push(l._sb[C]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(S,l.__s,P),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,m,g)})}if(l.context=P,l.props=S,l.__P=e,l.__e=!1,N=ce.__r,b=0,"prototype"in y&&y.prototype.render){for(l.state=l.__s,l.__d=!1,N&&N(t),d=l.render(l.props,l.state,l.context),R=0;R<l._sb.length;R++)l.__h.push(l._sb[R]);l._sb=[]}else do l.__d=!1,N&&N(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++b<25);l.state=l.__s,l.getChildContext!=null&&(r=bn(bn({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(p,m)),Wf(e,ru(L=d!=null&&d.type===Mo&&d.key==null?d.props.children:d)?L:[L],t,n,r,o,i,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),_&&(l.__E=l.__=null)}catch(x){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ce.__e(x,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=py(n.__e,t,n,r,o,i,s,c,u);(d=ce.diffed)&&d(t)}function Zc(e,t,n){for(var r=0;r<n.length;r++)iu(n[r],n[++r],n[++r]);ce.__c&&ce.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){ce.__e(i,o.__v)}})}function py(e,t,n,r,o,i,s,a,c){var u,d,l,f,p,m,g,_=n.props,S=t.props,I=t.type;if(I==="svg"&&(o=!0),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!I&&(I?p.localName===I:p.nodeType===3)){e=p,i[u]=null;break}}if(e==null){if(I===null)return document.createTextNode(S);e=o?document.createElementNS("http://www.w3.org/2000/svg",I):document.createElement(I,S.is&&S),i=null,a=!1}if(I===null)_===S||a&&e.data===S||(e.data=S);else{if(i=i&&ls.call(e.childNodes),_=n.props||No,!a&&i!=null)for(_={},u=0;u<e.attributes.length;u++)_[(p=e.attributes[u]).name]=p.value;for(u in _)p=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in S||ts(e,u,null,p,o));for(u in S)p=S[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?m=p:u=="checked"?g=p:u==="key"||a&&typeof p!="function"||_[u]===p||ts(e,u,p,_[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),Wf(e,ru(f)?f:[f],t,n,r,o&&I!=="foreignObject",i,s,i?i[0]:n.__k&&Tr(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&Hf(i[u]);a||(u="value",m!==void 0&&(m!==e[u]||I==="progress"&&!m||I==="option"&&m!==_[u])&&ts(e,u,m,_[u],!1),u="checked",g!==void 0&&g!==e[u]&&ts(e,u,g,_[u],!1))}return e}function iu(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ce.__e(r,n)}}function Qc(e,t,n){var r,o;if(ce.unmount&&ce.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||iu(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){ce.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Qc(r[o],t,n||typeof e.type!="function");n||e.__e==null||Hf(e.__e),e.__=e.__e=e.__d=void 0}function my(e,t,n){return this.constructor(e,n)}function hy(e,t,n){var r,o,i,s;ce.__&&ce.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],ou(t,e=t.__k=j(Mo,null,[e]),o||No,No,t.ownerSVGElement!==void 0,o?null:t.firstChild?ls.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),e.__d=void 0,Zc(i,e,s)}ls=nu.slice,ce={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},Uf=0,is.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=bn({},this.state),typeof e=="function"&&(e=e(bn({},n),this.props)),e&&bn(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Tf(this))},is.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Tf(this))},is.prototype.render=Mo,Hn=[],Bf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Xc=function(e,t){return e.__v.__b-t.__v.__b},cs.__r=0;var nn,ae,qc,xf,Ir=0,zf=[],ss=[],ge=ce,Rf=ge.__b,Cf=ge.__r,kf=ge.diffed,Af=ge.__c,Nf=ge.unmount,Mf=ge.__;function Wn(e,t){ge.__h&&ge.__h(ae,e,Ir||t),Ir=0;var n=ae.__H||(ae.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ss}),n.__[e]}function $n(e){return Ir=1,jf(Vf,e)}function jf(e,t,n){var r=Wn(nn++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Vf(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ae,!ae.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};ae.u=!0;var i=ae.shouldComponentUpdate,s=ae.componentWillUpdate;ae.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},ae.shouldComponentUpdate=o}return r.__N||r.__}function gy(e,t){var n=Wn(nn++,3);!ge.__s&&su(n.__H,t)&&(n.__=e,n.i=t,ae.__H.__h.push(n))}function qf(e,t){var n=Wn(nn++,4);!ge.__s&&su(n.__H,t)&&(n.__=e,n.i=t,ae.__h.push(n))}function _y(e){return Ir=5,Oo(function(){return{current:e}},[])}function Sy(e,t,n){Ir=6,qf(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Oo(e,t){var n=Wn(nn++,7);return su(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function br(e,t){return Ir=8,Oo(function(){return e},t)}function yy(e){var t=ae.context[e.__c],n=Wn(nn++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ae)),t.props.value):e.__}function Ey(e,t){ge.useDebugValue&&ge.useDebugValue(t?t(e):e)}function by(e){var t=Wn(nn++,10),n=$n();return t.__=e,ae.componentDidCatch||(ae.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Ty(){var e=Wn(nn++,11);if(!e.__){for(var t=ae.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Iy(){for(var e;e=zf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(as),e.__H.__h.forEach(eu),e.__H.__h=[]}catch(t){e.__H.__h=[],ge.__e(t,e.__v)}}ge.__b=function(e){ae=null,Rf&&Rf(e)},ge.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Mf&&Mf(e,t)},ge.__r=function(e){Cf&&Cf(e),nn=0;var t=(ae=e.__c).__H;t&&(qc===ae?(t.__h=[],ae.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ss,n.__N=n.i=void 0})):(t.__h.forEach(as),t.__h.forEach(eu),t.__h=[],nn=0)),qc=ae},ge.diffed=function(e){kf&&kf(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(zf.push(t)!==1&&xf===ge.requestAnimationFrame||((xf=ge.requestAnimationFrame)||vy)(Iy)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ss&&(n.__=n.__V),n.i=void 0,n.__V=ss})),qc=ae=null},ge.__c=function(e,t){t.some(function(n){try{n.__h.forEach(as),n.__h=n.__h.filter(function(r){return!r.__||eu(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ge.__e(r,n.__v)}}),Af&&Af(e,t)},ge.unmount=function(e){Nf&&Nf(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{as(r)}catch(o){t=o}}),n.__H=void 0,t&&ge.__e(t,n.__v))};var Of=typeof requestAnimationFrame=="function";function vy(e){var t,n=function(){clearTimeout(r),Of&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Of&&(t=requestAnimationFrame(n))}function as(e){var t=ae,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ae=t}function eu(e){var t=ae;e.__c=e.__(),ae=t}function su(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Vf(e,t){return typeof t=="function"?t(e):t}var wy=Object.defineProperty({__proto__:null,useCallback:br,useContext:yy,useDebugValue:Ey,useEffect:gy,useErrorBoundary:by,useId:Ty,useImperativeHandle:Sy,useLayoutEffect:qf,useMemo:Oo,useReducer:jf,useRef:_y,useState:$n},Symbol.toStringTag,{value:"Module"}),xy="http://www.w3.org/2000/svg";function Ry(){let e=r=>se.createElementNS(xy,r),t=dt(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=dt(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function Cy({options:e}){let t=Oo(()=>({__html:Ry().outerHTML}),[]);return j("h2",{class:"dialog__header"},j("span",{class:"dialog__title"},e.formTitle),e.showBranding?j("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function ky(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Vc(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function Ay({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){let{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:m,emailPlaceholder:g,isEmailRequired:_,isNameRequired:S,messageLabel:I,messagePlaceholder:P,nameLabel:C,namePlaceholder:N,submitButtonLabel:b,isRequiredLabel:R}=e,[L,y]=$n(!1),[x,B]=$n(null),[E,A]=$n(!1),H=u?.input,[V,F]=$n(null),Z=br(oe=>{F(oe),A(!1)},[]),$=br(oe=>{let Be=ky(oe,{emailLabel:m,isEmailRequired:_,isNameRequired:S,messageLabel:I,nameLabel:C});return Be.length>0?B(`Please enter in the following required fields: ${Be.join(", ")}`):B(null),Be.length===0},[m,_,S,I,C]),re=br(async oe=>{y(!0);try{if(oe.preventDefault(),!(oe.target instanceof HTMLFormElement))return;let Be=new FormData(oe.target),Kn=await(u&&E?u.value():void 0),ot={name:Vc(Be,"name"),email:Vc(Be,"email"),message:Vc(Be,"message"),attachments:Kn?[Kn]:void 0};if(!$(ot))return;try{await o({name:ot.name,email:ot.email,message:ot.message,source:QS,tags:d},{attachments:ot.attachments}),i(ot)}catch(He){rs&&h.error(He),B(He),s(He)}}finally{y(!1)}},[u&&E,i,s]);return j("form",{class:"form",onSubmit:re},H&&E?j(H,{onError:Z}):null,j("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:L},j("div",{class:"form__top"},x?j("div",{class:"form__error-container"},x):null,c?j("label",{for:"name",class:"form__label"},j(Yc,{label:C,isRequiredLabel:R,isRequired:S}),j("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:N,required:S,type:"text"})):j("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?j("label",{for:"email",class:"form__label"},j(Yc,{label:m,isRequiredLabel:R,isRequired:_}),j("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:_,type:"email"})):j("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),j("label",{for:"message",class:"form__label"},j(Yc,{label:I,isRequiredLabel:R,isRequired:!0}),j("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:P,required:!0,rows:5})),H?j("label",{for:"screenshot",class:"form__label"},j("button",{class:"btn btn--default",disabled:L,type:"button",onClick:()=>{F(null),A(oe=>!oe)}},E?f:l),V?j("div",{class:"form__error-container"},V.message):null):null),j("div",{class:"btn-group"},j("button",{class:"btn btn--primary",disabled:L,type:"submit"},b),j("button",{class:"btn btn--default",disabled:L,type:"button",onClick:r},p))))}function Yc({label:e,isRequired:t,isRequiredLabel:n}){return j("span",{class:"form__label__text"},e,t&&j("span",{class:"form__label__text--required"},n))}var ns=16,Lf=17,Ny="http://www.w3.org/2000/svg";function My(){let e=c=>At.document.createElementNS(Ny,c),t=dt(e("svg"),{width:`${ns}`,height:`${Lf}`,viewBox:`0 0 ${ns} ${Lf}`,fill:"inherit"}),n=dt(e("g"),{clipPath:"url(#clip0_57_156)"}),r=dt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=dt(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=dt(e("clipPath"),{id:"clip0_57_156"}),a=dt(e("rect"),{width:`${ns}`,height:`${ns}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}function Oy({open:e,onFormSubmitted:t,...n}){let r=n.options,o=Oo(()=>({__html:My().outerHTML}),[]),[i,s]=$n(null),a=br(()=>{i&&(clearTimeout(i),s(null)),t()},[i]),c=br(u=>{n.onSubmitSuccess(u),s(setTimeout(()=>{t(),s(null)},ty))},[t]);return j(Mo,null,i?j("div",{class:"success__position",onClick:a},j("div",{class:"success__content"},r.successMessageText,j("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):j("dialog",{class:"dialog",onClick:r.onFormClose,open:e},j("div",{class:"dialog__position"},j("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},j(Cy,{options:r}),j(Ay,{...n,onSubmitSuccess:c})))))}var Ly=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,Dy=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,Py=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,Fy=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,Uy=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function By(e){let t=se.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${Ly}
${Dy}
${Py}
${Fy}
${Uy}
`,e&&t.setAttribute("nonce",e),t}function Hy(){let e=M().getUser(),t=ie().getUser(),n=On().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var Yf=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,i=e.useSentryUser,s=Hy(),a=se.createElement("div"),c=By(e.styleNonce),u="",d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),se.body.style.overflow=u},open(){f(!0),e.onFormOpen?.(),T()?.emit("openFeedbackWidget"),u=se.body.style.overflow,se.body.style.overflow="hidden"},close(){f(!1),se.body.style.overflow=u}},l=t?.createInput({h:j,hooks:wy,dialog:d,options:e}),f=p=>{hy(j(Oy,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s&&s[i.name]||"",defaultEmail:i&&s&&s[i.email]||"",onFormClose:()=>{f(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:m=>{f(!1),e.onSubmitSuccess?.(m)},onSubmitError:m=>{e.onSubmitError?.(m)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:p}),a)};return d}});function $y({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function Wy(e){let t=se.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function Gy({h:e}){return function({action:n,setAction:r}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},"Hide")))}}function zy({hooks:e}){function t(){let[n,r]=e.useState(At.devicePixelRatio??1);return e.useEffect(()=>{let o=()=>{r(At.devicePixelRatio)},i=matchMedia(`(resolution: ${At.devicePixelRatio}dppx)`);return i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:i,onError:s}){let a=t();e.useEffect(()=>{(async()=>{r();let u=await Ao.mediaDevices.getDisplayMedia({video:{width:At.innerWidth*a,height:At.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=se.createElement("video");await new Promise((l,f)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(p=>p.stop()),l()},d.play().catch(f)}),i()})().catch(s)},[])}}function jy(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function En(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function Jc(e,t){En(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function Kc(e,t,n){En(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(i=>{jy(i,o,t)})})}function qy({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){let i=zy({hooks:t}),s=Gy({h:e}),a=$y({h:e}),c={__html:Wy(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{let[f,p]=t.useState("highlight"),[m,g]=t.useState([]),_=t.useRef(null),S=t.useRef(null),I=t.useRef(null),P=t.useRef(null),[C,N]=t.useState(1),b=t.useMemo(()=>{let E=se.getElementById(o.id);if(!E)return"white";let A=getComputedStyle(E);return A.getPropertyValue("--button-primary-background")||A.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{let E=()=>{let A=_.current;A&&En(l.canvas,{alpha:!1},H=>{let V=Math.min(A.clientWidth/H.width,A.clientHeight/H.height);N(V)})};return E(),At.addEventListener("resize",E),()=>{At.removeEventListener("resize",E)}},[l]);let R=t.useCallback((E,A)=>{En(E,{alpha:!0},(H,V)=>{V.scale(A,A),H.width=l.canvas.width,H.height=l.canvas.height})},[l]);t.useEffect(()=>{R(S.current,l.dpi),Jc(S.current,l.canvas)},[l]),t.useEffect(()=>{R(I.current,l.dpi),En(I.current,{alpha:!0},(E,A)=>{A.clearRect(0,0,E.width,E.height)}),Kc(I.current,b,m)},[m,b]),t.useEffect(()=>{R(n,l.dpi),Jc(n,l.canvas),En(se.createElement("canvas"),{alpha:!0},(E,A)=>{A.scale(l.dpi,l.dpi),E.width=l.canvas.width,E.height=l.canvas.height,Kc(E,b,m),Jc(n,E)})},[m,l,b]);let L=E=>{if(!f||!P.current)return;let A=P.current.getBoundingClientRect(),H={type:f,x:E.offsetX/C,y:E.offsetY/C},V=($,re)=>{let oe=(re.clientX-A.x)/C,Be=(re.clientY-A.y)/C;return{type:$.type,x:Math.min($.x,oe),y:Math.min($.y,Be),w:Math.abs(oe-$.x),h:Math.abs(Be-$.y)}},F=$=>{En(I.current,{alpha:!0},(re,oe)=>{oe.clearRect(0,0,re.width,re.height)}),Kc(I.current,b,[...m,V(H,$)])},Z=$=>{let re=V(H,$);re.w*C>=1&&re.h*C>=1&&g(oe=>[...oe,re]),se.removeEventListener("mousemove",F),se.removeEventListener("mouseup",Z)};se.addEventListener("mousemove",F),se.addEventListener("mouseup",Z)},y=t.useCallback(E=>A=>{A.preventDefault(),A.stopPropagation(),g(H=>{let V=[...H];return V.splice(E,1),V})},[]),x={width:`${l.canvas.width*C}px`,height:`${l.canvas.height*C}px`},B=E=>{E.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:_},e("canvas",{ref:S,id:"background",style:x}),e("canvas",{ref:I,id:"foreground",style:x}),e("div",{ref:P,onMouseDown:L,style:x},m.map((E,A)=>e("div",{key:A,class:"editor__rect",style:{top:`${E.y*C}px`,left:`${E.x*C}px`,width:`${E.w*C}px`,height:`${E.h*C}px`}},e("button",{"aria-label":"Remove",onClick:y(A),onMouseDown:B,onMouseUp:B,type:"button"},e(a,null))))))),e(s,{action:f,setAction:p}))};return function({onError:f}){let[p,m]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((g,_)=>{En(se.createElement("canvas"),{alpha:!1},(S,I)=>{I.scale(_,_),S.width=g.videoWidth,S.height=g.videoHeight,I.drawImage(g,0,0,S.width,S.height),m({canvas:S,dpi:_})}),n.width=g.videoWidth,n.height=g.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(g=>{u.display="block",f(g)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var Jf=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=se.createElement("canvas");return{input:qy({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{let i=await new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(await i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}});var k=w,au=0;function cu(){return au>0}function Vy(){au++,setTimeout(()=>{au--})}function Gn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(Mn(e))return e}catch{return e}let r=function(...o){try{let i=o.map(s=>Gn(s,t));return e.apply(this,i)}catch(i){throw Vy(),Ce(s=>{s.addEventProcessor(a=>(t.mechanism&&(nr(a,void 0,void 0),Qe(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),lt(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}ui(r,e),de(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Lo(){let e=Ge(),{referrer:t}=k.document||{},{userAgent:n}=k.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}var Yy={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},Kf=k;async function ds(e,t){let n=Yy[e],r=Kf.Sentry=Kf.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;let i=Jy(n),s=k.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let a=new Promise((l,f)=>{s.addEventListener("load",()=>l()),s.addEventListener("error",f)}),c=k.document.currentScript,u=k.document.body||k.document.head||c?.parentElement;if(u)u.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function Jy(e){let n=T()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Xe}/${e}.min.js`,n).toString()}var Xf=us({lazyLoadIntegration:ds});var uu=us({getModalIntegration:()=>Yf,getScreenshotIntegration:()=>Jf});var lu={};Ul(lu,{debug:()=>Xy,error:()=>eE,fatal:()=>tE,fmt:()=>vc,info:()=>Zy,trace:()=>Ky,warn:()=>Qy});function vr(e,t,n,r){gr({level:e,message:t,attributes:n,severityNumber:r})}function Ky(e,t){vr("trace",e,t)}function Xy(e,t){vr("debug",e,t)}function Zy(e,t){vr("info",e,t)}function Qy(e,t){vr("warn",e,t)}function eE(e,t){vr("error",e,t)}function tE(e,t){vr("fatal",e,t)}function wr(e,t){let n=pu(e,t),r={type:sE(t),value:aE(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function nE(e,t,n,r){let i=T()?.getOptions().normalizeDepth,s=lE(t),a={__serialized__:Ci(t,i)};if(s)return{exception:{values:[wr(e,s)]},extra:a};let c={exception:{values:[{type:Nn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:cE(t,{isUnhandledRejection:r})}]},extra:a};if(n){let u=pu(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function du(e,t){return{exception:{values:[wr(e,t)]}}}function pu(e,t){let n=t.stacktrace||t.stack||"",r=oE(t),o=iE(t);try{return e(n,r,o)}catch{}return[]}var rE=/Minified React error #\d+;/i;function oE(e){return e&&rE.test(e.message)?1:0}function iE(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Zf(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function sE(e){let t=e?.name;return!t&&Zf(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function aE(e){let t=e?.message;return Zf(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function fs(e,t,n,r){let o=n?.syntheticException||void 0,i=ms(e,t,o,r);return Qe(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),qe(i)}function ps(e,t,n="info",r,o){let i=r?.syntheticException||void 0,s=fu(e,t,i,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),qe(s)}function ms(e,t,n,r,o){let i;if(si(t)&&t.error)return du(e,t.error);if(ai(t)||Sa(t)){let s=t;if("stack"in t)i=du(e,t);else{let a=s.name||(ai(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=fu(e,c,n,r),nr(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return Ze(t)?du(e,t):it(t)||Nn(t)?(i=nE(e,t,n,o),Qe(i,{synthetic:!0}),i):(i=fu(e,t,n,r),nr(i,`${t}`,void 0),Qe(i,{synthetic:!0}),i)}function fu(e,t,n,r){let o={};if(r&&n){let i=pu(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),Qe(o,{synthetic:!0})}if(fn(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function cE(e,{isUnhandledRejection:t}){let n=Ia(e),r=t?"promise rejection":"exception";return si(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Nn(e)?`Event \`${uE(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function uE(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function lE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var dE=5e3,xr=class extends go{constructor(t){let n={parentSpanIsAlwaysRootSpan:!0,...t},r=k.SENTRY_SDK_SOURCE||jc();Rc(n,"browser",["browser"],r),super(n);let o=this,{sendDefaultPii:i,_experiments:s}=o._options,a=s?.enableLogs;n.sendClientReports&&k.document&&k.document.addEventListener("visibilitychange",()=>{k.document.visibilityState==="hidden"&&(this._flushOutcomes(),a&&_r(o))}),a&&(o.on("flush",()=>{_r(o)}),o.on("afterCaptureLog",()=>{o._logFlushIdleTimeout&&clearTimeout(o._logFlushIdleTimeout),o._logFlushIdleTimeout=setTimeout(()=>{_r(o)},dE)})),i&&(o.on("postprocessEvent",wc),o.on("beforeSendSession",xc))}eventFromException(t,n){return fs(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return ps(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}};var rn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var fE=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",yt=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o||0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=fE(t.value,n),e(t)))}};var D=w;var Qf=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var on=(e=!0)=>{let t=D.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var $t=()=>on()?.activationStart||0;var Et=(e,t)=>{let n=on(),r="navigate";return n&&(D.document?.prerendering||$t()>0?r="prerender":D.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Qf(),navigationType:r}};var nt=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}};var bt=e=>{let t=n=>{(n.type==="pagehide"||D.document?.visibilityState==="hidden")&&e(n)};D.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var Tn=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var Do=-1,pE=()=>D.document.visibilityState==="hidden"&&!D.document.prerendering?0:1/0,hs=e=>{D.document.visibilityState==="hidden"&&Do>-1&&(Do=e.type==="visibilitychange"?e.timeStamp:0,hE())},mE=()=>{addEventListener("visibilitychange",hs,!0),addEventListener("prerenderingchange",hs,!0)},hE=()=>{removeEventListener("visibilitychange",hs,!0),removeEventListener("prerenderingchange",hs,!0)},In=()=>(D.document&&Do<0&&(Do=pE(),mE()),{get firstHiddenTime(){return Do}});var Wt=e=>{D.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var gE=[1800,3e3],ep=(e,t={})=>{Wt(()=>{let n=In(),r=Et("FCP"),o,s=nt("paint",a=>{a.forEach(c=>{c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-$t(),0),r.entries.push(c),o(!0)))})});s&&(o=yt(e,r,gE,t.reportAllChanges))})};var _E=[.1,.25],tp=(e,t={})=>{ep(Tn(()=>{let n=Et("CLS",0),r,o=0,i=[],s=c=>{c.forEach(u=>{if(!u.hadRecentInput){let d=i[0],l=i[i.length-1];o&&d&&l&&u.startTime-l.startTime<1e3&&u.startTime-d.startTime<5e3?(o+=u.value,i.push(u)):(o=u.value,i=[u])}}),o>n.value&&(n.value=o,n.entries=i,r())},a=nt("layout-shift",s);a&&(r=yt(e,n,_E,t.reportAllChanges),bt(()=>{s(a.takeRecords()),r(!0)}),setTimeout(r,0))}))};var SE=[100,300],np=(e,t={})=>{Wt(()=>{let n=In(),r=Et("FID"),o,i=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),o(!0))},s=c=>{c.forEach(i)},a=nt("first-input",s);o=yt(e,r,SE,t.reportAllChanges),a&&bt(Tn(()=>{s(a.takeRecords()),a.disconnect()}))})};var rp=0,mu=1/0,gs=0,yE=e=>{e.forEach(t=>{t.interactionId&&(mu=Math.min(mu,t.interactionId),gs=Math.max(gs,t.interactionId),rp=gs?(gs-mu)/7+1:0)})},hu,op=()=>hu?rp:performance.interactionCount||0,ip=()=>{"interactionCount"in performance||hu||(hu=nt("event",yE,{type:"event",buffered:!0,durationThreshold:0}))};var sn=[],gu=new Map,sp=40,EE=0,bE=()=>op()-EE,ap=()=>{let e=Math.min(sn.length-1,Math.floor(bE()/50));return sn[e]},_u=10,TE=[],cp=e=>{if(TE.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;let t=sn[sn.length-1],n=gu.get(e.interactionId);if(n||sn.length<_u||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0]?.startTime&&n.entries.push(e);else{let r={id:e.interactionId,latency:e.duration,entries:[e]};gu.set(r.id,r),sn.push(r)}sn.sort((r,o)=>o.latency-r.latency),sn.length>_u&&sn.splice(_u).forEach(r=>gu.delete(r.id))}};var _s=e=>{let t=D.requestIdleCallback||D.setTimeout,n=-1;return e=Tn(e),D.document?.visibilityState==="hidden"?e():(n=t(e),bt(e)),n};var IE=[200,500],up=(e,t={})=>{"PerformanceEventTiming"in D&&"interactionId"in PerformanceEventTiming.prototype&&Wt(()=>{ip();let n=Et("INP"),r,o=s=>{_s(()=>{s.forEach(cp);let a=ap();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},i=nt("event",o,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:sp});r=yt(e,n,IE,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),bt(()=>{o(i.takeRecords()),r(!0)}))})};var vE=[2500,4e3],lp={},dp=(e,t={})=>{Wt(()=>{let n=In(),r=Et("LCP"),o,i=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(c=>{c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-$t(),0),r.entries=[c],o())})},s=nt("largest-contentful-paint",i);if(s){o=yt(e,r,vE,t.reportAllChanges);let a=Tn(()=>{lp[r.id]||(i(s.takeRecords()),s.disconnect(),lp[r.id]=!0,o(!0))});["keydown","click"].forEach(c=>{D.document&&addEventListener(c,()=>_s(a),{once:!0,capture:!0})}),bt(a)}})};var wE=[800,1800],Su=e=>{D.document?.prerendering?Wt(()=>Su(e)):D.document?.readyState!=="complete"?addEventListener("load",()=>Su(e),!0):setTimeout(e,0)},fp=(e,t={})=>{let n=Et("TTFB"),r=yt(e,n,wE,t.reportAllChanges);Su(()=>{let o=on();o&&(n.value=Math.max(o.responseStart-$t(),0),n.entries=[o],r(!0))})};var Po={},Ss={},pp,mp,hp,gp,_p;function zn(e,t=!1){return Ho("cls",e,xE,pp,t)}function Fo(e,t=!1){return Ho("lcp",e,CE,hp,t)}function Uo(e){return Ho("fid",e,RE,mp)}function yu(e){return Ho("ttfb",e,kE,gp)}function Bo(e){return Ho("inp",e,AE,_p)}function Nt(e,t){return Sp(e,t),Ss[e]||(NE(e),Ss[e]=!0),yp(e,t)}function Rr(e,t){let n=Po[e];if(n?.length)for(let r of n)try{r(t)}catch(o){rn&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${et(r)}
Error:`,o)}}function xE(){return tp(e=>{Rr("cls",{metric:e}),pp=e},{reportAllChanges:!0})}function RE(){return np(e=>{Rr("fid",{metric:e}),mp=e})}function CE(){return dp(e=>{Rr("lcp",{metric:e}),hp=e},{reportAllChanges:!0})}function kE(){return fp(e=>{Rr("ttfb",{metric:e}),gp=e})}function AE(){return up(e=>{Rr("inp",{metric:e}),_p=e})}function Ho(e,t,n,r,o=!1){Sp(e,t);let i;return Ss[e]||(i=n(),Ss[e]=!0),r&&t({metric:r}),yp(e,t,o?i:void 0)}function NE(e){let t={};e==="event"&&(t.durationThreshold=0),nt(e,n=>{Rr(e,{entries:n})},t)}function Sp(e,t){Po[e]=Po[e]||[],Po[e].push(t)}function yp(e,t,n){return()=>{n&&n();let r=Po[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Ep(e){return"duration"in e}function ys(e){return typeof e=="number"&&isFinite(e)}function Gt(e,t,n,{...r}){let o=O(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),_n(e,()=>{let i=_t({startTime:t,...r});return i&&i.end(n),i})}function Es(e){let t=T();if(!t)return;let{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=M(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0,m;try{m=l.getScopeData().contexts.profile.profile_id}catch{}let g={release:s,environment:a,user:p||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":D.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return _t({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function $o(){return D.addEventListener&&D.performance}function me(e){return e/1e3}function Wo(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function bp(){let e=0,t,n;if(!OE())return;let r=!1;function o(){r||(r=!0,n&&ME(e,t,n),i())}let i=zn(({metric:s})=>{let a=s.entries[s.entries.length-1];a&&(e=s.value,t=a)},!0);bt(()=>{o()}),setTimeout(()=>{let s=T();if(!s)return;let a=s.on("startNavigationSpan",()=>{o(),a?.()}),c=ee();if(c){let u=K(c);O(u).op==="pageload"&&(n=u.spanContext().spanId)}},0)}function ME(e,t,n){rn&&h.log(`Sending CLS span (${e})`);let r=me((_e()||0)+(t?.startTime||0)),o=M().getScopeData().transactionName,i=t?Me(t.sources[0]?.node):"Layout shift",s={[J]:"auto.http.browser.cls",[Ee]:"ui.webvital.cls",[Bt]:t?.duration||0,"sentry.pageload.span_id":n},a=Es({name:i,transaction:o,attributes:s,startTime:r});a&&(a.addEvent("cls",{[mn]:"",[hn]:e}),a.end(r))}function OE(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}var LE=2147483647,Tp=0,Ne={},rt,Ts;function bu({recordClsStandaloneSpans:e}){let t=$o();if(t&&_e()){t.mark&&D.performance.mark("sentry-tracing-init");let n=FE(),r=PE(),o=UE(),i=e?bp():DE();return()=>{n(),r(),o(),i?.()}}return()=>{}}function Tu(){Nt("longtask",({entries:e})=>{let t=ee();if(!t)return;let{op:n,start_timestamp:r}=O(t);for(let o of e){let i=me(_e()+o.startTime),s=me(o.duration);n==="navigation"&&r&&i<r||Gt(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[J]:"auto.ui.browser.metrics"}})}})}function Iu(){new PerformanceObserver(t=>{let n=ee();if(n)for(let r of t.getEntries()){if(!r.scripts[0])continue;let o=me(_e()+r.startTime),{start_timestamp:i,op:s}=O(n);if(s==="navigation"&&i&&o<i)continue;let a=me(r.duration),c={[J]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:m}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),m!==-1&&(c["browser.script.source_char_position"]=m),Gt(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function vu(){Nt("event",({entries:e})=>{let t=ee();if(t){for(let n of e)if(n.name==="click"){let r=me(_e()+n.startTime),o=me(n.duration),i={name:Me(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[J]:"auto.ui.browser.metrics"}},s=Yr(n.target);s&&(i.attributes["ui.component_name"]=s),Gt(t,r,r+o,i)}}})}function DE(){return zn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Ne.cls={value:e.value,unit:""},Ts=t)},!0)}function PE(){return Fo(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Ne.lcp={value:e.value,unit:"millisecond"},rt=t)},!0)}function FE(){return Uo(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=me(_e()),r=me(t.startTime);Ne.fid={value:e.value,unit:"millisecond"},Ne["mark.fid"]={value:n+r,unit:"second"}})}function UE(){return yu(({metric:e})=>{e.entries[e.entries.length-1]&&(Ne.ttfb={value:e.value,unit:"millisecond"})})}function wu(e,t){let n=$o(),r=_e();if(!n?.getEntries||!r)return;let o=me(r),i=n.getEntries(),{op:s,start_timestamp:a}=O(e);if(i.slice(Tp).forEach(c=>{let u=me(c.startTime),d=me(Math.max(0,c.duration));if(!(s==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{HE(e,c,o);break}case"mark":case"paint":case"measure":{BE(e,c,u,d,o);let l=In(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(Ne.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(Ne.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{GE(e,c,c.name,u,d,o);break}}}),Tp=Math.max(i.length-1,0),zE(e),s==="pageload"){qE(Ne);let c=Ne["mark.fid"];c&&Ne.fid&&(Gt(e,c.value,c.value+me(Ne.fid.value),{name:"first input delay",op:"ui.action",attributes:{[J]:"auto.ui.browser.metrics"}}),delete Ne["mark.fid"]),(!("fcp"in Ne)||!t.recordClsOnPageloadSpan)&&delete Ne.cls,Object.entries(Ne).forEach(([u,d])=>{ao(u,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",$t()),jE(e)}rt=void 0,Ts=void 0,Ne={}}function BE(e,t,n,r,o){let i=on(!1),s=me(i?i.requestStart:0),a=o+Math.max(n,s),c=o+n,u=c+r,d={[J]:"auto.resource.browser.metrics"};a!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a),a<=u&&Gt(e,a,u,{name:t.name,op:t.entryType,attributes:d})}function HE(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{bs(e,t,r,n)}),bs(e,t,"secureConnection",n,"TLS/SSL"),bs(e,t,"fetch",n,"cache"),bs(e,t,"domainLookup",n,"DNS"),WE(e,t,n)}function bs(e,t,n,r,o=n){let i=$E(n),s=t[i],a=t[`${n}Start`];!a||!s||Gt(e,r+me(a),r+me(s),{op:`browser.${o}`,name:t.name,attributes:{[J]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function $E(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function WE(e,t,n){let r=n+me(t.requestStart),o=n+me(t.responseEnd),i=n+me(t.responseStart);t.responseEnd&&(Gt(e,r,o,{op:"browser.request",name:t.name,attributes:{[J]:"auto.ui.browser.metrics"}}),Gt(e,i,o,{op:"browser.response",name:t.name,attributes:{[J]:"auto.ui.browser.metrics"}}))}function GE(e,t,n,r,o,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let s=kt(n),a={[J]:"auto.resource.browser.metrics"};Eu(a,t,"transferSize","http.response_transfer_size"),Eu(a,t,"encodedBodySize","http.response_content_length"),Eu(a,t,"decodedBodySize","http.decoded_response_content_length");let c=t.deliveryType;c!=null&&(a["http.response_delivery_type"]=c);let u=t.renderBlockingStatus;u&&(a["resource.render_blocking_status"]=u),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=n.includes(D.location.origin);let{name:d,version:l}=Wo(t.nextHopProtocol);a["network.protocol.name"]=d,a["network.protocol.version"]=l;let f=i+r,p=f+o;Gt(e,f,p,{name:n.replace(D.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function zE(e){let t=D.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),ys(n.rtt)&&(Ne["connection.rtt"]={value:n.rtt,unit:"millisecond"})),ys(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),ys(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function jE(e){rt&&(rt.element&&e.setAttribute("lcp.element",Me(rt.element)),rt.id&&e.setAttribute("lcp.id",rt.id),rt.url&&e.setAttribute("lcp.url",rt.url.trim().slice(0,200)),rt.loadTime!=null&&e.setAttribute("lcp.loadTime",rt.loadTime),rt.renderTime!=null&&e.setAttribute("lcp.renderTime",rt.renderTime),e.setAttribute("lcp.size",rt.size)),Ts?.sources&&Ts.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Me(t.node)))}function Eu(e,t,n,r){let o=t[n];o!=null&&o<LE&&(e[r]=o)}function qE(e){let t=on(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}var VE=1e3,Ip,xu,Ru;function Go(e){let t="dom";Pe(t,e),Fe(t,YE)}function YE(){if(!D.document)return;let e=Ie.bind(null,"dom"),t=vp(e,!0);D.document.addEventListener("click",t,!1),D.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let o=D[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(he(o,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){let l=vp(e);d.handler=l,i.call(this,s,l,c)}d.refCount++}catch{}return i.call(this,s,a,c)}}),he(o,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,c)}}))})}function JE(e){if(e.type!==xu)return!1;try{if(!e.target||e.target._sentryId!==Ru)return!1}catch{}return!0}function KE(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function vp(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=XE(n);if(KE(n.type,r))return;de(n,"_sentryCaptured",!0),r&&!r._sentryId&&de(r,"_sentryId",fe());let o=n.type==="keypress"?"input":n.type;JE(n)||(e({event:n,name:o,global:t}),xu=n.type,Ru=r?r._sentryId:void 0),clearTimeout(Ip),Ip=D.setTimeout(()=>{Ru=void 0,xu=void 0},VE)}}function XE(e){try{return e.target}catch{return null}}var Is;function an(e){let t="history";Pe(t,e),Fe(t,ZE)}function ZE(){if(D.addEventListener("popstate",()=>{let t=D.location.href,n=Is;if(Is=t,n===t)return;Ie("history",{from:n,to:t})}),!Hc())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let o=Is,i=QE(String(r));if(Is=i,o===i)return t.apply(this,n);Ie("history",{from:o,to:i})}return t.apply(this,n)}}he(D.history,"pushState",e),he(D.history,"replaceState",e)}function QE(e){try{return new URL(e,D.location.origin).toString()}catch{return e}}var vs={};function Cr(e){let t=vs[e];if(t)return t;let n=D[e];if(Co(n))return vs[e]=n.bind(D);let r=D.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){rn&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(vs[e]=n.bind(D))}function ws(e){vs[e]=void 0}function vn(...e){return Cr("setTimeout")(...e)}var Ye="__sentry_xhr_v3__";function jn(e){let t="xhr";Pe(t,e),Fe(t,eb)}function eb(){if(!D.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let o=new Error,i=ne()*1e3,s=we(r[0])?r[0].toUpperCase():void 0,a=tb(r[1]);if(!s||!a)return t.apply(n,r);n[Ye]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let c=()=>{let u=n[Ye];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}let d={endTimestamp:ne()*1e3,startTimestamp:i,xhr:n,virtualError:o};Ie("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){let[f,p]=l,m=d[Ye];return m&&we(f)&&we(p)&&(m.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let o=n[Ye];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);let i={startTimestamp:ne()*1e3,xhr:n};return Ie("xhr",i),t.apply(n,r)}})}function tb(e){if(we(e))return e;try{return e.toString()}catch{}}function xs(e){return new URLSearchParams(e).toString()}function qn(e,t=h){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[xs(e)];if(!e)return[void 0]}catch(n){return rn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return rn&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function kr(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var Cu=[],Rs=new Map;function ku(){if($o()&&_e()){let t=nb();return()=>{t()}}return()=>{}}var wp={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function nb(){return Bo(({metric:e})=>{if(e.value==null)return;let t=e.entries.find(m=>m.duration===e.value&&wp[m.name]);if(!t)return;let{interactionId:n}=t,r=wp[t.name],o=me(_e()+t.startTime),i=me(e.value),s=ee(),a=s?K(s):void 0,u=(n!=null?Rs.get(n):void 0)||a,d=u?O(u).description:M().getScopeData().transactionName,l=Me(t.target),f={[J]:"auto.http.browser.inp",[Ee]:`ui.interaction.${r}`,[Bt]:t.duration},p=Es({name:l,transaction:d,attributes:f,startTime:o});p&&(p.addEvent("inp",{[mn]:"millisecond",[hn]:e.value}),p.end(o+i))})}function Au(){let e=({entries:t})=>{let n=ee(),r=n&&K(n);t.forEach(o=>{if(!Ep(o)||!r)return;let i=o.interactionId;if(i!=null&&!Rs.has(i)){if(Cu.length>10){let s=Cu.shift();Rs.delete(s)}Cu.push(i),Rs.set(i,r)}})};Nt("event",e),Nt("first-input",e)}function Ar(e,t=Cr("fetch")){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return ws("fetch"),Sn("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return ws("fetch"),n-=s,r--,Sn(c)}}return yo(e,o)}var rb=10,ob=20,ib=30,sb=40,ab=50;function Nr(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?ct:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var cb=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,ub=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,lb=/\((\S*)(?::(\d+))(?::(\d+))\)/,db=e=>{let t=cb.exec(e);if(t){let[,r,o,i]=t;return Nr(r,ct,+o,+i)}let n=ub.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let s=lb.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}let[o,i]=kp(n[1]||ct,n[2]);return Nr(i,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Nu=[ib,db],fb=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,pb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,mb=e=>{let t=fb.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=pb.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||ct;return[o,r]=kp(o,r),Nr(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Mu=[ab,mb],hb=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,gb=e=>{let t=hb.exec(e);return t?Nr(t[2],t[1]||ct,+t[3],t[4]?+t[4]:void 0):void 0},xp=[sb,gb],_b=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Sb=e=>{let t=_b.exec(e);return t?Nr(t[2],t[3]||ct,+t[1]):void 0},Rp=[rb,Sb],yb=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Eb=e=>{let t=yb.exec(e);return t?Nr(t[5],t[3]||t[4]||ct,+t[1],+t[2]):void 0},Cp=[ob,Eb],Ou=[Nu,Mu],Cs=wi(...Ou),kp=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ct,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Ap(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:tt(r)}},i=bb(e);return Ae(o,[i])}function bb(e){return[{type:"user_report"},e]}var U=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var ks=1024,Tb="Breadcrumbs",Ib=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Tb,setup(n){t.console&&Fn(xb(n)),t.dom&&Go(wb(n,t.dom)),t.xhr&&jn(Rb(n)),t.fetch&&Bn(Cb(n)),t.history&&an(kb(n)),t.sentry&&n.on("beforeSendEvent",vb(n))}}},As=Ib;function vb(e){return function(n){T()===e&&Ve({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Pt(n)},{event:n})}}function wb(e,t){return function(r){if(T()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>ks&&(U&&h.warn(`\`dom.maxStringLength\` cannot exceed ${ks}, but a value of ${a} was configured. Sentry will use ${ks} instead.`),a=ks),typeof s=="string"&&(s=[s]);try{let u=r.event,d=Ab(u)?u.target:u;o=Me(d,{keyAttrs:s,maxStringLength:a}),i=Yr(d)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),Ve(c,{event:r.event,name:r.name,global:r.global})}}function xb(e){return function(n){if(T()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:Un(n.level),message:Jt(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Jt(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ve(r,{input:n.args,level:n.level})}}function Rb(e){return function(n){if(T()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Ye];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},f={category:"xhr",data:d,type:"http",level:Qi(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),Ve(f,l)}}function Cb(e){return function(n){if(T()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),Ve(a,s)}else{let i=n.response,s={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;let a={input:n.args,response:i,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:s,type:"http",level:Qi(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Ve(c,a)}}}function kb(e){return function(n){if(T()!==e)return;let r=n.from,o=n.to,i=kt(k.location.href),s=r?kt(r):void 0,a=kt(o);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),Ve({category:"navigation",data:{from:r,to:o}})}}function Ab(e){return!!e&&!!e.target}var Nb=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Mb="BrowserApiErrors",Ob=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Mb,setupOnce(){t.setTimeout&&he(k,"setTimeout",Np),t.setInterval&&he(k,"setInterval",Np),t.requestAnimationFrame&&he(k,"requestAnimationFrame",Lb),t.XMLHttpRequest&&"XMLHttpRequest"in k&&he(XMLHttpRequest.prototype,"send",Db);let n=t.eventTarget;n&&(Array.isArray(n)?n:Nb).forEach(Pb)}}},Ns=Ob;function Np(e){return function(...t){let n=t[0];return t[0]=Gn(n,{mechanism:{data:{function:et(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Lb(e){return function(t){return e.apply(this,[Gn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:et(e)},handled:!1,type:"instrument"}})])}}function Db(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&he(n,o,function(i){let s={mechanism:{data:{function:o,handler:et(i)},handled:!1,type:"instrument"}},a=Mn(i);return a&&(s.mechanism.data.handler=et(a)),Gn(i,s)})}),e.apply(this,t)}}function Pb(e){let n=k[e]?.prototype;n?.hasOwnProperty?.("addEventListener")&&(he(n,"addEventListener",function(r){return function(o,i,s){try{Fb(i)&&(i.handleEvent=Gn(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:et(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[o,Gn(i,{mechanism:{data:{function:"addEventListener",handler:et(i),target:e},handled:!1,type:"instrument"}}),s])}}),he(n,"removeEventListener",function(r){return function(o,i,s){try{let a=i.__sentry_wrapped__;a&&r.call(this,o,a,s)}catch{}return r.call(this,o,i,s)}}))}function Fb(e){return typeof e.handleEvent=="function"}var Ms=()=>({name:"BrowserSession",setupOnce(){if(typeof k.document>"u"){U&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}pr({ignoreDuration:!0}),mr(),an(({from:e,to:t})=>{e!==void 0&&e!==t&&(pr({ignoreDuration:!0}),mr())})}});var Ub="GlobalHandlers",Bb=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:Ub,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Hb(n),Mp("onerror")),t.onunhandledrejection&&($b(n),Mp("onunhandledrejection"))}}},Os=Bb;function Hb(e){no(t=>{let{stackParser:n,attachStacktrace:r}=Op();if(T()!==e||cu())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=zb(ms(n,c||o,void 0,r,!1),i,s,a);u.level="error",tn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function $b(e){ro(t=>{let{stackParser:n,attachStacktrace:r}=Op();if(T()!==e||cu())return;let o=Wb(t),i=An(o)?Gb(o):ms(n,o,void 0,r,!0);i.level="error",tn(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Wb(e){if(An(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Gb(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function zb(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=we(t)&&t.length>0?t:Ge();return c.length===0&&c.push({colno:u,filename:l,function:ct,in_app:!0,lineno:d}),e}function Mp(e){U&&h.log(`Global Handler attached: ${e}`)}function Op(){return T()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var Ls=()=>({name:"HttpContext",preprocessEvent(e){if(!k.navigator&&!k.location&&!k.document)return;let t=Lo(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});var jb="cause",qb=5,Vb="LinkedErrors",Yb=(e={})=>{let t=e.limit||qb,n=e.key||jb;return{name:Vb,preprocessEvent(r,o,i){let s=i.getOptions();kc(wr,s.stackParser,n,t,r,o)}}},Ds=Yb;function Lu(e){return[Io(),To(),Ns(),As(),Os(),Ds(),vo(),Ls(),Ms()]}function Jb(e={}){return{...{defaultIntegrations:Lu(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:k.SENTRY_RELEASE?.id,sendClientReports:!0},...Kb(e)}}function Kb(e){let t={};for(let n of Object.getOwnPropertyNames(e)){let r=n;e[r]!==void 0&&(t[r]=e[r])}return t}function Lp(e={}){if(!e.skipBrowserExtensionCheck&&Zb())return;let t=Jb(e),n={...t,stackParser:Da(t.stackParser||Cs),integrations:pc(t),transport:t.transport||Ar};return Sc(xr,n)}function Dp(){}function Pp(e){e()}function Xb(){if(typeof k.window>"u")return!1;let e=k;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;let n=Ge(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(k===k.top&&r.some(i=>n.startsWith(`${i}://`)))}function Zb(){if(Xb())return U&&Oe(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0}function Fp(e={}){let t=k.document,n=t?.head||t?.body;if(!n){U&&h.error("[showReportDialog] Global document not defined");return}let r=M(),i=T()?.getDsn();if(!i){U&&h.error("[showReportDialog] DSN not configured");return}let s={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||fo()},a=k.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=fc(i,s);let{onLoad:c,onClose:u}=s;if(c&&(a.onload=c),u){let d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{k.removeEventListener("message",d)}};k.addEventListener("message",d)}n.appendChild(a)}var Qb=w,eT="ReportingObserver",Up=new WeakMap,tT=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(Up.has(T()))for(let o of r)Ce(i=>{i.setExtra("url",o.url);let s=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(i.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}yn(`${s}: ${a}`)})}return{name:eT,setupOnce(){if(!$c())return;new Qb.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Up.set(r,!0)}}},Bp=tT;var nT="HttpClient",rT=(e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:nT,setup(n){dT(n,t),fT(n,t)}}},$p=rT;function oT(e,t,n,r,o){if(Gp(e,n.status,n.url)){let i=pT(t,r),s,a,c,u;jp()&&([s,c]=Hp("Cookie",i),[a,u]=Hp("Set-Cookie",n));let d=zp({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:a,requestCookies:c,responseCookies:u,error:o});tn(d)}}function Hp(e,t){let n=aT(t.headers),r;try{let o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=Wp(o))}catch{}return[n,r]}function iT(e,t,n,r,o){if(Gp(e,t.status,t.responseURL)){let i,s,a;if(jp()){try{let u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(s=Wp(u))}catch{}try{a=cT(t)}catch{}i=r}let c=zp({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:a,responseCookies:s,error:o});tn(c)}}function sT(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Wp(e){return e.split("; ").reduce((t,n)=>{let[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function aT(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function cT(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function uT(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function lT(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function dT(e,t){ko()&&Bn(n=>{if(T()!==e)return;let{response:r,args:o,error:i,virtualError:s}=n,[a,c]=o;r&&oT(t,a,r,c,i||s)},!1)}function fT(e,t){"XMLHttpRequest"in w&&jn(n=>{if(T()!==e)return;let{error:r,virtualError:o}=n,i=n.xhr,s=i[Ye];if(!s)return;let{method:a,request_headers:c}=s;try{iT(t,i,a,c,r||o)}catch(u){U&&h.warn("Error while extracting response event form XHR response",u)}})}function Gp(e,t,n){return lT(e.failedRequestStatusCodes,t)&&uT(e.failedRequestTargets,n)&&!Eo(n,T())}function zp(e){let t=T(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,i={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:sT(e.responseHeaders)}}};return Qe(i,{type:"http.client",handled:!1}),i}function pT(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function jp(){let e=T();return e?!!e.getOptions().sendDefaultPii:!1}var Du=w,mT=7,hT="ContextLines",gT=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:mT;return{name:hT,processEvent(n){return _T(n,t)}}},qp=gT;function _T(e,t){let n=Du.document,r=Du.location&&xo(Du.location.href);if(!n||!r)return e;let o=e.exception?.values;if(!o?.length)return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>ST(u,s,r,t)))}),e}function ST(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||va(t,e,r),e}var yT="GraphQLClient",ET=e=>({name:yT,setup(t){bT(t,e),TT(t,e)}});function bT(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let i=O(n).data||{};if(!(i[Ee]==="http.client"))return;let c=i[ka]||i["http.url"],u=i[Ca]||i["http.method"];if(!we(c)||!we(u))return;let{endpoints:d}=t,l=ze(c,d),f=Yp(r);if(l&&f){let p=Jp(f);if(p){let m=Vp(p);n.updateName(`${u} ${c} (${m})`),n.setAttribute("graphql.document",f)}}})}function TT(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:o,type:i,data:s}=n;if(i==="http"&&(o==="fetch"||o==="xhr")){let d=s?.url,{endpoints:l}=t,f=ze(d,l),p=Yp(r);if(f&&s&&p){let m=Jp(p);if(!s.graphql&&m){let g=Vp(m);s["graphql.document"]=m.query,s["graphql.operation"]=g}}}})}function Vp(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=IT(t);return r?`${o} ${r}`:`${o}`}function Yp(e){let t="xhr"in e,n;if(t){let r=e.xhr[Ye];n=r&&qn(r.body)[0]}else{let r=kr(e.input);n=qn(r)[0]}return n}function IT(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function Jp(e){let t;try{let n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}var Kp=ET;var le=w,ul="sentryReplaySession",vT="replay_event",ll="Unable to send Replay",wT=3e5,xT=9e5,RT=5e3,CT=5500,kT=6e4,AT=5e3,NT=3,Xp=15e4,Ps=5e3,MT=3e3,OT=300,dl=2e7,LT=4999,DT=15e3,Zp=36e5,PT=Object.defineProperty,FT=(e,t,n)=>t in e?PT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qp=(e,t,n)=>FT(e,typeof t!="symbol"?t+"":t,n),xe=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(xe||{});function UT(e){return e.nodeType===e.ELEMENT_NODE}function qo(e){return e?.host?.shadowRoot===e}function Vo(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function BT(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function HT(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Ws(e){try{let t=e.rules||e.cssRules;return t?BT(Array.from(t,bm).join("")):null}catch{return null}}function $T(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function bm(e){let t;if(GT(e))try{t=Ws(e.styleSheet)||HT(e)}catch{}else if(zT(e)){let n=e.cssText,r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=$T(e)),r&&(n=WT(n)),r||o)return n}return t||e.cssText}function WT(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function GT(e){return"styleSheet"in e}function zT(e){return"selectorText"in e}var Gs=class{constructor(){Qp(this,"idNodeMap",new Map),Qp(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function jT(){return new Gs}function ea({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Jo({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Br(e){return e.toLowerCase()}function Hu(e){return e.toUpperCase()}var em="__rrweb_original__";function qT(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=em in i?i[em]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function fl(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Br(t):null}function zs(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Tm(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}var tm={};function Im(e){let t=tm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return tm[e]=r.bind(window)}function $u(...e){return Im("setTimeout")(...e)}function vm(...e){return Im("clearTimeout")(...e)}function wm(e){try{return e.contentDocument}catch{}}var VT=1,YT=new RegExp("[^a-z0-9-_:]"),Ko=-2;function pl(){return VT++}function JT(e){if(e instanceof HTMLFormElement)return"form";let t=Br(e.tagName);return YT.test(t)?"div":t}function KT(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Mr,nm,XT=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ZT=/^(?:[a-z+]+:)?\/\//i,QT=/^www\..*/i,eI=/^(data:)([^,]*),(.*)/i;function js(e,t){return(e||"").replace(XT,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if(ZT.test(c)||QT.test(c))return`url(${u}${c}${u})`;if(eI.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${KT(t)+c}${u})`;let d=t.split("/"),l=c.split("/");d.pop();for(let f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}var tI=/^[^ \t\n\r\u000c]+/,nI=/^[, \t\n\r\u000c]+/;function rI(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(nI),!(n>=t.length);){let i=r(tI);if(i.slice(-1)===",")i=Dr(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=Dr(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}var rm=new WeakMap;function Dr(e,t){return!t||t.trim()===""?t:ta(e,t)}function oI(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function ta(e,t){let n=rm.get(e);if(n||(n=e.createElement("a"),rm.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function xm(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Dr(e,r):n==="srcset"?rI(e,r):n==="style"?js(r,ta(e)):t==="object"&&n==="data"?Dr(e,r):typeof i=="function"?i(n,r,o):r)}function Rm(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Cm(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function iI(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Vn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Vn(e.parentNode,t,n,r+1)}function Pr(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(iI(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Hr(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=Vn(s,Pr(r,o)),c<0)return!0;a=Vn(s,Pr(t,n),c>=0?c:1/0)}else{if(a=Vn(s,Pr(t,n)),a<0)return!1;c=Vn(s,Pr(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function sI(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=$u(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{vm(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return $u(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function aI(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=$u(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{vm(i),r=!0,t()})}function cI(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:g,maskInputFn:_,dataURLOptions:S={},inlineImages:I,recordCanvas:P,keepIframeSrcFn:C,newlyAddedElement:N=!1}=t,b=uI(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:xe.Document,childNodes:[],compatMode:e.compatMode}:{type:xe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:xe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return dI(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:m,maskInputFn:_,dataURLOptions:S,inlineImages:I,recordCanvas:P,keepIframeSrcFn:C,newlyAddedElement:N,rootId:b,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return lI(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:m,maskInputFn:_,rootId:b});case e.CDATA_SECTION_NODE:return{type:xe.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:xe.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function uI(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function lI(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName,f=e.textContent,p=l==="STYLE"?!0:void 0,m=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=Ws(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}f=js(f,ta(t.doc))}m&&(f="SCRIPT_PLACEHOLDER");let _=Hr(e,r,i,o,s,n);if(!p&&!m&&!g&&f&&_&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||_)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){let S=ea({type:null,tagName:l,maskInputOptions:c});f=Jo({isMasked:Hr(e,r,i,o,s,S),element:e,value:f,maskInputFn:u})}return{type:xe.Text,textContent:f||"",isStyle:p,rootId:d}}function dI(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:g,maskTextClass:_,unmaskTextClass:S,maskTextSelector:I,unmaskTextSelector:P}=t,C=Cm(e,r,o,i),N=JT(e),b={},R=e.attributes.length;for(let y=0;y<R;y++){let x=e.attributes[y];x.name&&!Rm(N,x.name,x.value)&&(b[x.name]=xm(n,N,Br(x.name),x.value,e,c))}if(N==="link"&&s){let y=Array.from(n.styleSheets).find(B=>B.href===e.href),x=null;y&&(x=Ws(y)),x&&(b.rel=null,b.href=null,b.crossorigin=null,b._cssText=js(x,y.href))}if(N==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let y=Ws(e.sheet);y&&(b._cssText=js(y,ta(n)))}if(N==="input"||N==="textarea"||N==="select"||N==="option"){let y=e,x=fl(y),B=zs(y,Hu(N),x),E=y.checked;if(x!=="submit"&&x!=="button"&&B){let A=Hr(y,_,I,S,P,ea({type:x,tagName:Hu(N),maskInputOptions:a}));b.value=Jo({isMasked:A,element:y,value:B,maskInputFn:u})}E&&(b.checked=E)}if(N==="option"&&(e.selected&&!a.select?b.selected=!0:delete b.selected),N==="canvas"&&f){if(e.__context==="2d")qT(e)||(b.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let y=e.toDataURL(d.type,d.quality),x=n.createElement("canvas");x.width=e.width,x.height=e.height;let B=x.toDataURL(d.type,d.quality);y!==B&&(b.rr_dataURL=y)}}if(N==="img"&&l){Mr||(Mr=n.createElement("canvas"),nm=Mr.getContext("2d"));let y=e,x=y.currentSrc||y.getAttribute("src")||"<unknown-src>",B=y.crossOrigin,E=()=>{y.removeEventListener("load",E);try{Mr.width=y.naturalWidth,Mr.height=y.naturalHeight,nm.drawImage(y,0,0),b.rr_dataURL=Mr.toDataURL(d.type,d.quality)}catch(A){if(y.crossOrigin!=="anonymous"){y.crossOrigin="anonymous",y.complete&&y.naturalWidth!==0?E():y.addEventListener("load",E);return}else console.warn(`Cannot inline img src=${x}! Error: ${A}`)}y.crossOrigin==="anonymous"&&(B?b.crossOrigin=B:y.removeAttribute("crossorigin"))};y.complete&&y.naturalWidth!==0?E():y.addEventListener("load",E)}if((N==="audio"||N==="video")&&(b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),C){let{width:y,height:x}=e.getBoundingClientRect();b={class:b.class,rr_width:`${y}px`,rr_height:`${x}px`}}N==="iframe"&&!p(b.src)&&(!C&&!wm(e)&&(b.rr_src=b.src),delete b.src);let L;try{customElements.get(N)&&(L=!0)}catch{}return{type:xe.Element,tagName:N,attributes:b,childNodes:[],isSVG:oI(e)||void 0,needBlock:C,rootId:g,isCustom:L}}function ue(e){return e==null?"":e.toLowerCase()}function fI(e,t){if(t.comment&&e.type===xe.Comment)return!0;if(e.type===xe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Tm(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ue(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ue(e.attributes.name)==="application-name"||ue(e.attributes.rel)==="icon"||ue(e.attributes.rel)==="apple-touch-icon"||ue(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ue(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ue(e.attributes.property).match(/^(og|twitter|fb):/)||ue(e.attributes.name).match(/^(og|twitter):/)||ue(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ue(e.attributes.name)==="robots"||ue(e.attributes.name)==="googlebot"||ue(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ue(e.attributes.name)==="author"||ue(e.attributes.name)==="generator"||ue(e.attributes.name)==="framework"||ue(e.attributes.name)==="publisher"||ue(e.attributes.name)==="progid"||ue(e.attributes.property).match(/^article:/)||ue(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ue(e.attributes.name)==="google-site-verification"||ue(e.attributes.name)==="yandex-verification"||ue(e.attributes.name)==="csrf-token"||ue(e.attributes.name)==="p:domain_verify"||ue(e.attributes.name)==="verify-v1"||ue(e.attributes.name)==="verification"||ue(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Fr(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:I,dataURLOptions:P={},inlineImages:C=!1,recordCanvas:N=!1,onSerialize:b,onIframeLoad:R,iframeLoadTimeout:L=5e3,onStylesheetLoad:y,stylesheetLoadTimeout:x=5e3,keepIframeSrcFn:B=()=>!1,newlyAddedElement:E=!1}=t,{preserveWhiteSpace:A=!0}=t,H=cI(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,dataURLOptions:P,inlineImages:C,recordCanvas:N,keepIframeSrcFn:B,newlyAddedElement:E});if(!H)return console.warn(e,"not serialized"),null;let V;r.hasNode(e)?V=r.getId(e):fI(H,I)||!A&&H.type===xe.Text&&!H.isStyle&&!H.textContent.replace(/^\s+|\s+$/gm,"").length?V=Ko:V=pl();let F=Object.assign(H,{id:V});if(r.add(e,F),V===Ko)return null;b&&b(e);let Z=!f;if(F.type===xe.Element){Z=Z&&!F.needBlock,delete F.needBlock;let $=e.shadowRoot;$&&Vo($)&&(F.isShadowHost=!0)}if((F.type===xe.Document||F.type===xe.Element)&&Z){I.headWhitespace&&F.type===xe.Element&&F.tagName==="head"&&(A=!1);let $={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:I,dataURLOptions:P,inlineImages:C,recordCanvas:N,preserveWhiteSpace:A,onSerialize:b,onIframeLoad:R,iframeLoadTimeout:L,onStylesheetLoad:y,stylesheetLoadTimeout:x,keepIframeSrcFn:B};for(let re of Array.from(e.childNodes)){let oe=Fr(re,$);oe&&F.childNodes.push(oe)}if(UT(e)&&e.shadowRoot)for(let re of Array.from(e.shadowRoot.childNodes)){let oe=Fr(re,$);oe&&(Vo(e.shadowRoot)&&(oe.isShadow=!0),F.childNodes.push(oe))}}return e.parentNode&&qo(e.parentNode)&&Vo(e.parentNode)&&(F.isShadow=!0),F.type===xe.Element&&F.tagName==="iframe"&&!Cm(e,o,i,s)&&sI(e,()=>{let $=wm(e);if($&&R){let re=Fr($,{doc:$,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:I,dataURLOptions:P,inlineImages:C,recordCanvas:N,preserveWhiteSpace:A,onSerialize:b,onIframeLoad:R,iframeLoadTimeout:L,onStylesheetLoad:y,stylesheetLoadTimeout:x,keepIframeSrcFn:B});re&&R(e,re)}},L),F.type===xe.Element&&F.tagName==="link"&&typeof F.attributes.rel=="string"&&(F.attributes.rel==="stylesheet"||F.attributes.rel==="preload"&&typeof F.attributes.href=="string"&&Tm(F.attributes.href)==="css")&&aI(e,()=>{if(y){let $=Fr(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:I,dataURLOptions:P,inlineImages:C,recordCanvas:N,preserveWhiteSpace:A,onSerialize:b,onIframeLoad:R,iframeLoadTimeout:L,onStylesheetLoad:y,stylesheetLoadTimeout:x,keepIframeSrcFn:B});$&&y(e,$)}},x),F}function pI(e,t){let{mirror:n=new Gs,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOM:I=!1,dataURLOptions:P,preserveWhiteSpace:C,onSerialize:N,onIframeLoad:b,iframeLoadTimeout:R,onStylesheetLoad:L,stylesheetLoadTimeout:y,keepIframeSrcFn:x=()=>!1}=t||{};return Fr(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:I===!0||I==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:I==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:I===!1?{}:I,dataURLOptions:P,inlineImages:f,recordCanvas:p,preserveWhiteSpace:C,onSerialize:N,onIframeLoad:b,iframeLoadTimeout:R,onStylesheetLoad:L,stylesheetLoadTimeout:y,keepIframeSrcFn:x,newlyAddedElement:!1})}function Ke(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Or=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,om={map:{},getId(){return console.error(Or),-1},getNode(){return console.error(Or),null},removeNodeFromMap(){console.error(Or)},has(){return console.error(Or),!1},reset(){console.error(Or)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(om=new Proxy(om,{get(e,t,n){return t==="map"&&console.error(Or),Reflect.get(e,t,n)}}));function Xo(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(yI(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=na(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function km(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){na(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>km(e,t,i||{},!0)}function ml(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var qs=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(qs=()=>new Date().getTime());function Am(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Nm(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Mm(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Om(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ft(e,t,n,r,o){if(!e)return!1;let i=Om(e);if(!i)return!1;let s=Pr(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Vn(i,s),c=-1;return a<0?!1:(r&&(c=Vn(i,Pr(null,r))),a>-1&&c<0?!0:a<c)}function mI(e,t){return t.getId(e)!==-1}function Pu(e,t){return t.getId(e)===Ko}function Lm(e,t){if(qo(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Lm(e.parentNode,t):!0:!0}function Wu(e){return!!e.changedTouches}function hI(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Dm(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Pm(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Gu(e){return!!e?.shadowRoot}var zu=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function Fm(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function gI(e){let t=e,n;for(;n=Fm(t);)t=n;return t}function _I(e){let t=e.ownerDocument;if(!t)return!1;let n=gI(e);return t.contains(n)}function Um(e){let t=e.ownerDocument;return t?t.contains(e)||_I(e):!1}var im={};function hl(e){let t=im[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return im[e]=r.bind(window)}function SI(...e){return hl("requestAnimationFrame")(...e)}function na(...e){return hl("setTimeout")(...e)}function yI(...e){return hl("clearTimeout")(...e)}var q=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(q||{}),z=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(z||{}),Je=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Je||{}),cn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(cn||{}),Lr=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Lr||{});function gl(e){try{return e.contentDocument}catch{}}function EI(e){try{return e.contentWindow}catch{}}function sm(e){return"__ln"in e}var ju=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&sm(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&sm(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},am=(e,t)=>`${e}@${t}`,qu=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new ju,o=c=>{let u=c,d=Ko;for(;d===Ko;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!Um(c))return;let u=qo(c.parentNode)?this.mirror.getId(Fm(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);let l=Fr(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Dm(f,this.mirror)&&!ft(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Pm(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Gu(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{ft(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)cm(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!um(this.droppedSet,c)&&!cm(this.removes,c,this.mirror)||um(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),d=o(s.value);u!==-1&&d!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let d=u;if(u=u.previous,d){let l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{let p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let m=p.parentNode.host;if(this.mirror.getId(m)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Pu(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Hr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Om(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let s=fl(n),a=n.tagName;o=zs(n,a,s);let c=ea({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),u=Hr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=Jo({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!gl(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Rm(n.tagName,r)&&(i.attributes[r]=xm(this.doc,Br(n.tagName),Br(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let a of Array.from(n.style)){let c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==s.style.getPropertyValue(a)||u!==s.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(let a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=qo(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Pu(n,this.mirror)||!mI(n,this.mirror)||(this.addedSet.has(n)?(Vu(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Lm(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[am(r,o)]?Vu(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:qo(t.target)&&Vo(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Pu(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[am(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ft(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Gu(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Vu(e,t){e.delete(t),t.childNodes.forEach(n=>Vu(e,n))}function cm(e,t,n){return e.length===0?!1:bI(e,t,n)}function bI(e,t,n){let r=t.parentNode;for(;r;){let o=n.getId(r);if(e.some(i=>i.id===o))return!0;r=r.parentNode}return!1}function um(e,t){return e.size===0?!1:Bm(e,t)}function Bm(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:Bm(e,n):!1}var Yo;function TI(e){Yo=e}function II(){Yo=void 0}var X=e=>Yo?(...n)=>{try{return e(...n)}catch(r){if(Yo&&Yo(r)===!0)return()=>{};throw r}}:e,Ur=[];function ni(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Hm(e,t){let n=new qu;Ur.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);let i=new r(X(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function vI({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=Xo(X(l=>{let f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),l),s=[],a=null}),i),u=X(Xo(X(l=>{let f=ni(l),{clientX:p,clientY:m}=Wu(l)?l.changedTouches[0]:l;a||(a=qs()),s.push({x:p,y:m,id:r.getId(f),timeOffset:qs()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?z.Drag:l instanceof MouseEvent?z.MouseMove:z.TouchMove)}),o,{trailing:!1})),d=[Ke("mousemove",u,n),Ke("touchmove",u,n),Ke("drag",u,n)];return X(()=>{d.forEach(l=>l())})}function wI({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,d=l=>f=>{let p=ni(f);if(ft(p,r,o,i,!0))return;let m=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":m=cn.Mouse;break;case"touch":m=cn.Touch;break;case"pen":m=cn.Pen;break}m===cn.Touch?Je[l]===Je.MouseDown?g="TouchStart":Je[l]===Je.MouseUp&&(g="TouchEnd"):cn.Pen}else Wu(f)&&(m=cn.Touch);m!==null?(u=m,(g.startsWith("Touch")&&m===cn.Touch||g.startsWith("Mouse")&&m===cn.Mouse)&&(m=null)):Je[l]===Je.Click&&(m=u,u=null);let _=Wu(f)?f.changedTouches[0]:f;if(!_)return;let S=n.getId(p),{clientX:I,clientY:P}=_;X(e)({type:Je[g],id:S,x:I,y:P,...m!==null&&{pointerType:m}})};return Object.keys(Je).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Br(l),p=d(l);if(window.PointerEvent)switch(Je[l]){case Je.MouseDown:case Je.MouseUp:f=f.replace("mouse","pointer");break;case Je.TouchStart:case Je.TouchEnd:return}c.push(Ke(f,p,t))}),X(()=>{c.forEach(l=>l())})}function $m({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=X(Xo(X(c=>{let u=ni(c);if(!u||ft(u,r,o,i,!0))return;let d=n.getId(u);if(u===t&&t.defaultView){let l=Am(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return Ke("scroll",a,t)}function xI({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=X(Xo(X(()=>{let i=Nm(),s=Mm();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return Ke("resize",o,t)}var RI=["INPUT","TEXTAREA","SELECT"],lm=new WeakMap;function CI({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:g}){function _(R){let L=ni(R),y=R.isTrusted,x=L&&Hu(L.tagName);if(x==="OPTION"&&(L=L.parentElement),!L||!x||RI.indexOf(x)<0||ft(L,r,o,i,!0))return;let B=L;if(B.classList.contains(s)||a&&B.matches(a))return;let E=fl(L),A=zs(B,x,E),H=!1,V=ea({maskInputOptions:c,tagName:x,type:E}),F=Hr(L,f,m,p,g,V);(E==="radio"||E==="checkbox")&&(H=L.checked),A=Jo({isMasked:F,element:L,value:A,maskInputFn:u}),S(L,l?{text:A,isChecked:H,userTriggered:y}:{text:A,isChecked:H});let Z=L.name;E==="radio"&&Z&&H&&t.querySelectorAll(`input[type="radio"][name="${Z}"]`).forEach($=>{if($!==L){let re=Jo({isMasked:F,element:$,value:zs($,x,E),maskInputFn:u});S($,l?{text:re,isChecked:!H,userTriggered:!1}:{text:re,isChecked:!H})}})}function S(R,L){let y=lm.get(R);if(!y||y.text!==L.text||y.isChecked!==L.isChecked){lm.set(R,L);let x=n.getId(R);X(e)({...L,id:x})}}let P=(d.input==="last"?["change"]:["input","change"]).map(R=>Ke(R,X(_),t)),C=t.defaultView;if(!C)return()=>{P.forEach(R=>R())};let N=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),b=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return N&&N.set&&P.push(...b.map(R=>km(R[0],R[1],{set(){X(_)({target:this,isTrusted:!1})}},!1,C))),X(()=>{P.forEach(R=>R())})}function Vs(e){let t=[];function n(r,o){if(Fs("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Fs("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Fs("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Fs("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function wn(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function kI({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:X((d,l,f)=>{let[p,m]=f,{id:g,styleId:_}=wn(l,t,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&e({id:g,styleId:_,adds:[{rule:p,index:m}]}),d.apply(l,f)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:X((d,l,f)=>{let[p]=f,{id:m,styleId:g}=wn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:p}]}),d.apply(l,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:X((d,l,f)=>{let[p]=f,{id:m,styleId:g}=wn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:X((d,l,f)=>{let[p]=f,{id:m,styleId:g}=wn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:p}),d.apply(l,f)})}));let c={};Us("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Us("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Us("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Us("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:X((f,p,m)=>{let[g,_]=m,{id:S,styleId:I}=wn(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||I&&I!==-1)&&e({id:S,styleId:I,adds:[{rule:g,index:[...Vs(p),_||0]}]}),f.apply(p,m)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:X((f,p,m)=>{let[g]=m,{id:_,styleId:S}=wn(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,removes:[{index:[...Vs(p),g]}]}),f.apply(p,m)})})}),X(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Wm({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,i=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return i.get?.call(this)},set(s){let a=i.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),X(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function AI({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:X((a,c,u)=>{let[d,l,f]=u;if(n.has(d))return i.apply(c,[d,l,f]);let{id:p,styleId:m}=wn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:d,value:l,priority:f},index:Vs(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:X((a,c,u)=>{let[d]=u;if(n.has(d))return s.apply(c,[d]);let{id:l,styleId:f}=wn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:Vs(c.parentRule)}),a.apply(c,u)})}),X(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function NI({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=X(u=>Xo(X(d=>{let l=ni(d);if(!l||ft(l,t,n,r,!0))return;let{currentTime:f,volume:p,muted:m,playbackRate:g}=l;e({type:u,id:o.getId(l),currentTime:f,volume:p,muted:m,playbackRate:g})}),i.media||500)),c=[Ke("play",a(Lr.Play),s),Ke("pause",a(Lr.Pause),s),Ke("seeked",a(Lr.Seeked),s),Ke("volumechange",a(Lr.VolumeChange),s),Ke("ratechange",a(Lr.RateChange),s)];return X(()=>{c.forEach(u=>u())})}function MI({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){let l=new i(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};let s=ml(t.fonts,"add",function(a){return function(c){return na(X(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),X(()=>{r.forEach(a=>a())})}function OI(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=X(()=>{let u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;let d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){let p=u.getRangeAt(f),{startContainer:m,startOffset:g,endContainer:_,endOffset:S}=p;ft(m,r,o,i,!0)||ft(_,r,o,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(_),endOffset:S})}s({ranges:d})});return c(),Ke("selectionchange",c)}function LI({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:ml(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function DI(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Hm(e,e.doc));let o=vI(e),i=wI(e),s=$m(e),a=xI(e,{win:n}),c=CI(e),u=NI(e),d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=kI(e,{win:n}),l=Wm(e,e.doc),f=AI(e,{win:n}),e.collectFonts&&(p=MI(e)));let m=OI(e),g=LI(e),_=[];for(let S of e.plugins)_.push(S.observer(S.callback,n,S.options));return X(()=>{Ur.forEach(S=>S.reset()),r?.disconnect(),o(),i(),s(),a(),c(),u(),d(),l(),f(),p(),m(),g(),_.forEach(S=>S())})}function Fs(e){return typeof window[e]<"u"}function Us(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Zo=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}},Yu=class{constructor(){this.crossOriginIframeMirror=new Zo(pl),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},Ju=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Zo(pl),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Zo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);let r=gl(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case q.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:q.IncrementalSnapshot,data:{source:z.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case q.Meta:case q.Load:case q.DomContentLoaded:return!1;case q.Plugin:return n;case q.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case q.IncrementalSnapshot:switch(n.data.source){case z.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case z.Drag:case z.TouchMove:case z.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case z.ViewportResize:return!1;case z.MediaInteraction:case z.MouseInteraction:case z.Scroll:case z.CanvasMutation:case z.Input:return this.replaceIds(n.data,t,["id"]),n;case z.StyleSheetRule:case z.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case z.Font:return n;case z.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case z.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==xe.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},Ku=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},Xu=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Vo(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=Hm({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push($m({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),na(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Wm({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let n=gl(t),r=EI(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(ml(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&Um(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(zo=0;zo<dm.length;zo++)PI[dm.charCodeAt(zo)]=zo;var zo,Ys=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},Zu=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new zu,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:bm(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},Qu=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.active||(this.active=!0,SI(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}},Se,Js;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Mt=jT();function un(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:_,slimDOMOptions:S,maskAttributeFn:I,maskInputFn:P,maskTextFn:C,maxCanvasSize:N=null,packFn:b,sampling:R={},dataURLOptions:L={},mousemoveWait:y,recordDOM:x=!0,recordCanvas:B=!1,recordCrossOriginIframes:E=!1,recordAfter:A=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:H=!1,collectFonts:V=!1,inlineImages:F=!1,plugins:Z,keepIframeSrcFn:$=()=>!1,ignoreCSSAttributes:re=new Set([]),errorHandler:oe,onMutation:Be,getCanvasManager:Kn}=e;TI(oe);let ot=E?window.parent===window:!0,He=!1;if(!ot)try{window.parent.document&&(He=!1)}catch{He=!0}if(ot&&!t)throw new Error("emit function is required");if(!ot&&!He)return()=>{};y!==void 0&&R.mousemove===void 0&&(R.mousemove=y),Mt.reset();let Tt=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},Vt=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};hI();let Xn,Zn=0,qr=Q=>{for(let It of Z||[])It.eventProcessor&&(Q=It.eventProcessor(Q));return b&&!He&&(Q=b(Q)),Q};Se=(Q,It)=>{let Y=Q;if(Y.timestamp=qs(),Ur[0]?.isFrozen()&&Y.type!==q.FullSnapshot&&!(Y.type===q.IncrementalSnapshot&&Y.data.source===z.Mutation)&&Ur.forEach($e=>$e.unfreeze()),ot)t?.(qr(Y),It);else if(He){let $e={type:"rrweb",event:qr(Y),origin:window.location.origin,isCheckout:It};window.parent.postMessage($e,"*")}if(Y.type===q.FullSnapshot)Xn=Y,Zn=0;else if(Y.type===q.IncrementalSnapshot){if(Y.data.source===z.Mutation&&Y.data.isAttachIframe)return;Zn++;let $e=r&&Zn>=r,te=n&&Xn&&Y.timestamp-Xn.timestamp>n;($e||te)&&ga(!0)}};let ln=Q=>{Se({type:q.IncrementalSnapshot,data:{source:z.Mutation,...Q}})},pe=Q=>Se({type:q.IncrementalSnapshot,data:{source:z.Scroll,...Q}}),Re=Q=>Se({type:q.IncrementalSnapshot,data:{source:z.CanvasMutation,...Q}}),Lt=Q=>Se({type:q.IncrementalSnapshot,data:{source:z.AdoptedStyleSheet,...Q}}),ye=new Zu({mutationCb:ln,adoptedStyleSheetCb:Lt}),ve=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Yu:new Ju({mirror:Mt,mutationCb:ln,stylesheetManager:ye,recordCrossOriginIframes:E,wrappedEmit:Se});for(let Q of Z||[])Q.getMirror&&Q.getMirror({nodeMirror:Mt,crossOriginIframeMirror:ve.crossOriginIframeMirror,crossOriginIframeStyleMirror:ve.crossOriginIframeStyleMirror});let Dt=new Qu,Cn=UI(Kn,{mirror:Mt,win:window,mutationCb:Q=>Se({type:q.IncrementalSnapshot,data:{source:z.CanvasMutation,...Q}}),recordCanvas:B,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:N,sampling:R.canvas,dataURLOptions:L,errorHandler:oe}),Qn=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Ku:new Xu({mutationCb:ln,scrollCb:pe,bypassOptions:{onMutation:Be,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:Tt,dataURLOptions:L,maskAttributeFn:I,maskTextFn:C,maskInputFn:P,recordCanvas:B,inlineImages:F,sampling:R,slimDOMOptions:Vt,iframeManager:ve,stylesheetManager:ye,canvasManager:Cn,keepIframeSrcFn:$,processedNodeManager:Dt},mirror:Mt}),ga=(Q=!1)=>{if(!x)return;Se({type:q.Meta,data:{href:window.location.href,width:Mm(),height:Nm()}},Q),ye.reset(),Qn.init(),Ur.forEach(Y=>Y.lock());let It=pI(document,{mirror:Mt,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:Tt,maskAttributeFn:I,maskInputFn:P,maskTextFn:C,slimDOM:Vt,dataURLOptions:L,recordCanvas:B,inlineImages:F,onSerialize:Y=>{Dm(Y,Mt)&&ve.addIframe(Y),Pm(Y,Mt)&&ye.trackLinkElement(Y),Gu(Y)&&Qn.addShadowRoot(Y.shadowRoot,document)},onIframeLoad:(Y,$e)=>{ve.attachIframe(Y,$e),Y.contentWindow&&Cn.addWindow(Y.contentWindow),Qn.observeAttachShadow(Y)},onStylesheetLoad:(Y,$e)=>{ye.attachLinkElement(Y,$e)},keepIframeSrcFn:$});if(!It)return console.warn("Failed to snapshot the document");Se({type:q.FullSnapshot,data:{node:It,initialOffset:Am(window)}}),Ur.forEach(Y=>Y.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ye.adoptStyleSheets(document.adoptedStyleSheets,Mt.getId(document))};Js=ga;try{let Q=[],It=$e=>X(DI)({onMutation:Be,mutationCb:ln,mousemoveCb:(te,_a)=>Se({type:q.IncrementalSnapshot,data:{source:_a,positions:te}}),mouseInteractionCb:te=>Se({type:q.IncrementalSnapshot,data:{source:z.MouseInteraction,...te}}),scrollCb:pe,viewportResizeCb:te=>Se({type:q.IncrementalSnapshot,data:{source:z.ViewportResize,...te}}),inputCb:te=>Se({type:q.IncrementalSnapshot,data:{source:z.Input,...te}}),mediaInteractionCb:te=>Se({type:q.IncrementalSnapshot,data:{source:z.MediaInteraction,...te}}),styleSheetRuleCb:te=>Se({type:q.IncrementalSnapshot,data:{source:z.StyleSheetRule,...te}}),styleDeclarationCb:te=>Se({type:q.IncrementalSnapshot,data:{source:z.StyleDeclaration,...te}}),canvasMutationCb:Re,fontCb:te=>Se({type:q.IncrementalSnapshot,data:{source:z.Font,...te}}),selectionCb:te=>{Se({type:q.IncrementalSnapshot,data:{source:z.Selection,...te}})},customElementCb:te=>{Se({type:q.IncrementalSnapshot,data:{source:z.CustomElement,...te}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Tt,inlineStylesheet:m,sampling:R,recordDOM:x,recordCanvas:B,inlineImages:F,userTriggeredOnInput:H,collectFonts:V,doc:$e,maskAttributeFn:I,maskInputFn:P,maskTextFn:C,keepIframeSrcFn:$,blockSelector:i,unblockSelector:s,slimDOMOptions:Vt,dataURLOptions:L,mirror:Mt,iframeManager:ve,stylesheetManager:ye,shadowDomManager:Qn,processedNodeManager:Dt,canvasManager:Cn,ignoreCSSAttributes:re,plugins:Z?.filter(te=>te.observer)?.map(te=>({observer:te.observer,options:te.options,callback:_a=>Se({type:q.Plugin,data:{plugin:te.name,payload:_a}})}))||[]},{});ve.addLoadListener($e=>{try{Q.push(It($e.contentDocument))}catch(te){console.warn(te)}});let Y=()=>{ga(),Q.push(It(document))};return document.readyState==="interactive"||document.readyState==="complete"?Y():(Q.push(Ke("DOMContentLoaded",()=>{Se({type:q.DomContentLoaded,data:{}}),A==="DOMContentLoaded"&&Y()})),Q.push(Ke("load",()=>{Se({type:q.Load,data:{}}),A==="load"&&Y()},window))),()=>{Q.forEach($e=>$e()),Dt.destroy(),Js=void 0,II()}}catch(Q){console.warn(Q)}}function FI(e){if(!Js)throw new Error("please take full snapshot after start recording");Js(e)}un.mirror=Mt;un.takeFullSnapshot=FI;function UI(e,t){try{return e?e(t):new Ys}catch{return console.warn("Unable to initialize CanvasManager"),new Ys}}var fm;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(fm||(fm={}));var BI=3,HI=5;function _l(e){return e>9999999999?e:e*1e3}function Fu(e){return e>9999999999?e/1e3:e}function ri(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:q.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ke(t,10,1e3)}}),t.category==="console")))}var $I="button,a";function Gm(e){return e.closest($I)||e}function zm(e){let t=jm(e);return!t||!(t instanceof Element)?t:Gm(t)}function jm(e){return WI(e)?e.target:e}function WI(e){return typeof e=="object"&&!!e&&"target"in e}var xn;function GI(e){return xn||(xn=[],zI()),xn.push(e),()=>{let t=xn?xn.indexOf(e):-1;t>-1&&xn.splice(t,1)}}function zI(){he(le,"open",function(e){return function(...t){if(xn)try{xn.forEach(n=>n())}catch{}return e.apply(le,t)}})}var jI=new Set([z.Mutation,z.StyleSheetRule,z.StyleDeclaration,z.AdoptedStyleSheet,z.CanvasMutation,z.Selection,z.MediaInteraction]);function qI(e,t,n){e.handleClick(t,n)}var el=class{constructor(t,n,r=ri){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=GI(()=>{this._lastMutation=pm()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(YI(n,this._ignoreSelector)||!JI(t))return;let r={timestamp:Fu(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Fu(t)}registerScroll(t=Date.now()){this._lastScroll=Fu(t)}registerClick(t){let n=Gm(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=pm();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,d);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=vn(()=>this._checkClicks(),1e3)}},VI=["A","BUTTON","INPUT"];function YI(e,t){return!!(!VI.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function JI(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function pm(){return Date.now()/1e3}function KI(e,t){try{if(!XI(t))return;let{source:n}=t.data;if(jI.has(n)&&e.registerMutation(t.timestamp),n===z.Scroll&&e.registerScroll(t.timestamp),ZI(t)){let{type:r,id:o}=t.data,i=un.mirror.getNode(o);i instanceof HTMLElement&&r===Je.Click&&e.registerClick(i)}}catch{}}function XI(e){return e.type===BI}function ZI(e){return e.data.source===z.MouseInteraction}function zt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Sl=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Sl||{}),QI=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function ev(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(QI.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var tv=e=>t=>{if(!e.isEnabled())return;let n=nv(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&qI(e.clickDetector,n,zm(t.event)),ri(e,n)};function qm(e,t){let n=un.mirror.getId(e),r=n&&un.mirror.getNode(n),o=r&&un.mirror.getMeta(r),i=o&&ov(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===Sl.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:ev(i.attributes)}}:{}}}function nv(e){let{target:t,message:n}=rv(e);return zt({category:`ui.${e.name}`,...qm(t,n)})}function rv(e){let t=e.name==="click",n,r=null;try{r=t?zm(e.event):jm(e.event),n=Me(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function ov(e){return e.type===Sl.Element}function iv(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=sv(t);n&&ri(e,n)}function sv(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||av(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=Me(s,{maxStringLength:200})||"<unknown>",d=qm(s,u);return zt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function av(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var cv={resource:pv,paint:dv,navigation:fv};function Bs(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function uv(e){return e.map(lv).filter(Boolean)}function lv(e){let t=cv[e.entryType];return t?t(e):null}function $r(e){return((_e()||le.performance.timeOrigin)+e)/1e3}function dv(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=$r(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function fv(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:m,type:g}=e;return o===0?null:{type:`${t}.${g}`,start:$r(p),end:$r(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:f}}}function pv(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:$r(i),end:$r(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function mv(e){let t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return ra(e,"largest-contentful-paint",n)}function hv(e){return e.sources!==void 0}function gv(e){let t=[],n=[];for(let r of e.entries)if(hv(r)){let o=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=un.mirror.getId(i.node);s&&o.push(s)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return ra(e,"cumulative-layout-shift",n,t)}function _v(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return ra(e,"first-input-delay",n)}function Sv(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return ra(e,"interaction-to-next-paint",n)}function ra(e,t,n,r){let o=e.value,i=e.rating,s=$r(o);return{type:"web-vital",name:t,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(a=>un.mirror.getId(a)):void 0,attributions:r}}}function yv(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(Nt(o,n))}),r.push(Fo(Bs(mv,e)),zn(Bs(gv,e)),Uo(Bs(_v,e)),Bo(Bs(Sv,e))),()=>{r.forEach(o=>o())}}var W=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ev='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function bv(){let e=new Blob([Ev]);return URL.createObjectURL(e)}var mm=["info","warn","error","log"],$s="[Replay] ";function Uu(e,t="info"){Ve({category:"console",data:{logger:"replay"},level:t,message:`${$s}${e}`},{level:t})}function Tv(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return W?(mm.forEach(r=>{n[r]=(...o)=>{h[r]($s,...o),t&&Uu(o.join(""),Un(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),h.error($s,r),e?lt(r):t&&Uu(r,"error")},n.infoTick=(...r)=>{h.info($s,...r),t&&setTimeout(()=>Uu(r[0]),0)}):mm.forEach(r=>{n[r]=()=>{}}),n}var G=Tv(),Qo=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${dl}.`)}},Ks=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>dl)throw new Qo;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?_l(t):null}},tl=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){W&&G.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){W&&G.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},nl=class{constructor(t){this._worker=new tl(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=_l(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>dl?Promise.reject(new Qo):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{W&&G.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},rl=class{constructor(t){this._fallback=new Ks,this._compression=new nl(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){W&&G.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,o=[];for(let i of t)o.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(i){W&&G.exception(i,"Failed to add events when switching buffers.")}}};function Iv({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=vv(t);if(n)return n}return W&&G.info("Using simple buffer"),new Ks}function vv(e){try{let t=e||wv();if(!t)return;W&&G.info(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new rl(n)}catch(t){W&&G.exception(t,"Failed to create compression worker")}}function wv(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?bv():""}function yl(){try{return"sessionStorage"in le&&!!le.sessionStorage}catch{return!1}}function xv(e){Rv(),e.session=void 0}function Rv(){if(yl())try{le.sessionStorage.removeItem(ul)}catch{}}function Vm(e){return e===void 0?!1:Math.random()<e}function El(e){if(yl())try{le.sessionStorage.setItem(ul,JSON.stringify(e))}catch{}}function Ym(e){let t=Date.now(),n=e.id||fe(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function Cv(e,t){return Vm(e)?"session":t?"buffer":!1}function hm({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=Cv(e,t),i=Ym({sampled:o,previousSessionId:r});return n&&El(i),i}function kv(){if(!yl())return null;try{let e=le.sessionStorage.getItem(ul);if(!e)return null;let t=JSON.parse(e);return W&&G.infoTick("Loading existing session"),Ym(t)}catch{return null}}function ol(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Jm(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return ol(e.started,t,r)||ol(e.lastActivity,n,r)}function Km(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Jm(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Bu({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let o=r.stickySession&&kv();return o?Km(o,{sessionIdleExpire:e,maxReplayDuration:t})?(W&&G.infoTick("Session in sessionStorage is expired, creating new one..."),hm(r,{previousSessionId:o.id})):o:(W&&G.infoTick("Creating new session"),hm(r,{previousSessionId:n}))}function Av(e){return e.type===q.Custom}function bl(e,t,n){return Zm(e,t)?(Xm(e,t,n),!0):!1}function Nv(e,t,n){return Zm(e,t)?Xm(e,t,n):Promise.resolve(null)}async function Xm(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=Mv(t,i.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(i){let s=i&&i instanceof Qo,a=s?"addEventSizeExceeded":"addEvent";if(s&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a});let c=T();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function Zm(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=_l(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(W&&G.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Mv(e,t){try{if(typeof t=="function"&&Av(e))return t(e)}catch(n){return W&&G.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Tl(e){return!e.type}function il(e){return e.type==="transaction"}function Ov(e){return e.type==="replay_event"}function gm(e){return e.type==="feedback"}function Lv(e){return(t,n)=>{if(!e.isEnabled()||!Tl(t)&&!il(t))return;let r=n?.statusCode;if(!(!r||r<200||r>=300)){if(il(t)){Dv(e,t);return}Pv(e,t)}}}function Dv(e,t){let n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Pv(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||vn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function Fv(e){return t=>{!e.isEnabled()||!Tl(t)||Uv(e,t)}}function Uv(e,t){let n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=zt({category:"replay.hydrate-error",data:{url:Ge()}});ri(e,r)}}function Bv(e){let t=T();t&&t.on("beforeAddBreadcrumb",n=>Hv(e,n))}function Hv(e,t){if(!e.isEnabled()||!Qm(t))return;let n=$v(t);n&&ri(e,n)}function $v(e){return!Qm(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?Wv(e):zt(e)}function Wv(e){let t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return zt(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Ps?(n=!0,`${o.slice(0,Ps)}\u2026`):o;if(typeof o=="object")try{let i=ke(o,7);return JSON.stringify(i).length>Ps?(n=!0,`${JSON.stringify(i,null,2).slice(0,Ps)}\u2026`):i}catch{}return o});return zt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Qm(e){return!!e.category}function Gv(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!t.originalException?.__rrweb__}function eh(){let e=M().getPropagationContext().dsc;e&&delete e.replay_id;let t=ee();if(t){let n=be(t);delete n.replay_id}}function zv(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:q.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function jv(e,t){return e.recordingMode!=="buffer"||t.message===ll||!t.exception||t.type?!1:Vm(e.getOptions().errorSampleRate)}function qv(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:Ov(t)?(delete t.breadcrumbs,t):!Tl(t)&&!il(t)&&!gm(t)?t:e.checkAndHandleExpiredSession()?gm(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),zv(e,t),t):Gv(t,n)&&!e.getOptions()._experiments.captureExceptions?(W&&G.log("Ignoring error from rrweb internals",t),null):((jv(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(eh(),t),{id:"Replay"})}function oa(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:q.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function Vv(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Yv(e){return t=>{if(!e.isEnabled())return;let n=Vv(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(oa(e,[n]),!1)))}}function Jv(e,t){return W&&e.getOptions()._experiments.traceInternals?!1:Eo(t,T())}function th(e,t){e.isEnabled()&&t!==null&&(Jv(e,t.name)||e.addUpdate(()=>(oa(e,[t]),!0)))}function ia(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=xs(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function nh(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function Xs(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function rh(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function ei(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Rn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=Kv(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function sl(e,t){return Object.entries(e).reduce((n,[r,o])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function Kv(e){if(!e||typeof e!="string")return{body:e};let t=e.length>Xp,n=Xv(e);if(t){let r=e.slice(0,Xp);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function Xv(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Zs(e,t){let n=Zv(e);return ze(n,t)}function Zv(e,t=le.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(le.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function Qv(e,t,n){try{let r=await t0(e,t,n),o=rh("resource.fetch",r);th(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture fetch breadcrumb")}}function e0(e,t){let{input:n,response:r}=t,o=n?kr(n):void 0,i=ia(o),s=r?nh(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}async function t0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=Zs(s,n.networkDetailAllowUrls)&&!Zs(s,n.networkDetailDenyUrls),f=l?n0(n,t.input,u):ei(u),p=await r0(l,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:p}}function n0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?s0(n,t):{};if(!e)return Rn(o,r,void 0);let i=kr(n),[s,a]=qn(i,G),c=Rn(o,r,s);return a?Xs(c,a):c}async function r0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return ei(o);let i=r?oh(r.headers,n):{};if(!r||!t&&o!==void 0)return Rn(i,o,void 0);let[s,a]=await i0(r),c=o0(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?Xs(c,a):c}function o0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let i=e?.length&&n===void 0?ia(e):n;return r?t?Rn(o,i,e):Rn(o,i,void 0):ei(i)}catch(i){return W&&G.exception(i,"Failed to serialize response body"),Rn(o,n,void 0)}}async function i0(e){let t=a0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await c0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(W&&G.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(W&&G.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function oh(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function s0(e,t){return e.length===1&&typeof e[0]!="string"?_m(e[0],t):e.length===2?_m(e[1],t):{}}function _m(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?oh(n,t):Array.isArray(n)?{}:sl(n,t):{}}function a0(e){try{return e.clone()}catch(t){W&&G.exception(t,"Failed to clone response body")}}function c0(e){return new Promise((t,n)=>{let r=vn(()=>n(new Error("Timeout while trying to read response body")),500);u0(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function u0(e){return await e.text()}async function l0(e,t,n){try{let r=f0(e,t,n),o=rh("resource.xhr",r);th(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture xhr breadcrumb")}}function d0(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=ia(r),i=n.getResponseHeader("content-length")?nh(n.getResponseHeader("content-length")):g0(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function f0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!Zs(c,n.networkDetailAllowUrls)||Zs(c,n.networkDetailDenyUrls)){let b=ei(l),R=ei(f);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:b,response:R}}let p=a[Ye],m=p?sl(p.request_headers,n.networkRequestHeaders):{},g=sl(p0(a),n.networkResponseHeaders),[_,S]=n.networkCaptureBodies?qn(s,G):[void 0],[I,P]=n.networkCaptureBodies?m0(a):[void 0],C=Rn(m,l,_),N=Rn(g,f,I);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:S?Xs(C,S):C,response:P?Xs(N,P):N}}function p0(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function m0(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return h0(e.response,e.responseType)}catch(n){t.push(n)}return W&&G.warn("Failed to get xhr response body",...t),[void 0]}function h0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return W&&G.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return W&&G.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function g0(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ia(n)}catch{return}}function _0(e){let t=T();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>S0(a,c,u))}catch{}}function S0(e,t,n){if(t.data)try{y0(t)&&b0(n)&&(d0(t,n),l0(t,n,e)),E0(t)&&T0(n)&&(e0(t,n),Qv(t,n,e))}catch(r){W&&G.exception(r,"Error when enriching network breadcrumb")}}function y0(e){return e.category==="xhr"}function E0(e){return e.category==="fetch"}function b0(e){return e?.xhr}function T0(e){return e?.response}function I0(e,{autoFlushOnFeedback:t}){let n=T();Go(tv(e)),an(Yv(e)),Bv(e),_0(e);let r=qv(e);po(r),n&&(n.on("beforeSendEvent",Fv(e)),n.on("afterSendEvent",Lv(e)),n.on("createDsc",o=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(o.replay_id=i)}),n.on("spanStart",o=>{e.lastActiveSpan=o}),n.on("spanEnd",o=>{e.lastActiveSpan=o}),n.on("beforeSendFeedback",async(o,i)=>{let s=e.getSessionId();i?.includeReplay&&e.isEnabled()&&s&&o.contexts?.feedback&&(o.contexts.feedback.source==="api"&&t&&await e.flush(),o.contexts.feedback.replay_id=s)}),t&&n.on("openFeedbackWidget",async()=>{await e.flush()}))}async function v0(e){try{return Promise.all(oa(e,[w0(le.performance.memory)]))}catch{return[]}}function w0(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function x0(e,t,n){let r,o,i,s=n?.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function u(){return o!==void 0||i!==void 0?a():r}function d(){return o&&clearTimeout(o),o=vn(a,t),s&&i===void 0&&(i=vn(a,s)),r}return d.cancel=c,d.flush=u,d}var Hs=w.navigator;function R0(){return/iPhone|iPad|iPod/i.test(Hs?.userAgent??"")||/Macintosh/i.test(Hs?.userAgent??"")&&Hs?.maxTouchPoints&&Hs?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function C0(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){W&&G.warn("Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&KI(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!bl(e,n,o))return!0;if(!o)return!1;let i=e.session;if(A0(e,o),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(W&&G.info(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&El(i))}return i?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function k0(e){let t=e.getOptions();return{type:q.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function A0(e,t){!t||!e.session||e.session.segmentId!==0||bl(e,k0(e),!1)}function N0(e,t,n,r){return Ae(so(e,ur(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function M0({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function O0({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit("preprocessEvent",r,i);let s=await uo(e.getOptions(),r,i,t,e,ie());if(!s)return null;e.emit("postprocessEvent",s,i),s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:c,version:u}=a?.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},s}async function L0({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=M0({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=T(),f=M(),p=l?.getTransport(),m=l?.getDsn();if(!l||!p||!m||!i.sampled)return qe({});let g={type:vT,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},_=await O0({scope:f,client:l,replayId:t,event:g});if(!_)return l.recordDroppedEvent("event_processor","replay"),W&&G.info("An event processor returned `null`, will not send event."),qe({});delete _.sdkProcessingMetadata;let S=N0(_,s,m,l.getOptions().tunnel),I;try{I=await p.send(S)}catch(C){let N=new Error(ll);try{N.cause=C}catch{}throw N}if(typeof I.statusCode=="number"&&(I.statusCode<200||I.statusCode>=300))throw new Qs(I.statusCode);let P=So({},I);if(_o(P,"replay"))throw new ti(P);return I}var Qs=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},ti=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function ih(e,t={count:0,interval:AT}){let{recordingData:n,onError:r}=e;if(n.length)try{return await L0(e),!0}catch(o){if(o instanceof Qs||o instanceof ti)throw o;if(lo("Replays",{_retryCount:t.count}),r&&r(o),t.count>=NT){let i=new Error(`${ll} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{vn(async()=>{try{await ih(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var sh="__THROTTLED",D0="__SKIPPED";function P0(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let d=s;return s=!0,d?D0:sh}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var al=class{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:wT,sessionIdleExpire:xT},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=x0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=P0((s,a)=>Nv(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(MT,r),timeout:r,scrollTimeout:OT,ignoreSelector:o?o.join(","):""}:void 0;if(i&&(this.clickDetector=new el(this,i)),W){let s=t._experiments;G.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}this._handleVisibilityChange=()=>{le.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let s=zt({category:"ui.blur"});this._doChangeToBackgroundTasks(s)},this._handleWindowFocus=()=>{let s=zt({category:"ui.focus"});this._doChangeToForegroundTasks(s)},this._handleKeyboardEvent=s=>{iv(this,s)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){W&&G.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){W&&G.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",W&&G.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){W&&G.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){W&&G.info("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=Bu({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){W&&G.info("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in buffer mode");let t=Bu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=un({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:kT}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:C0(this),...R0(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{W&&G.info(`Stopping Replay${n?` triggered by ${n}`:""}`),eh(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,xv(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),W&&G.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),W&&G.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();W&&G.info("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&ol(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${le.location.pathname}${le.location.hash}${le.location.search}`,n=`${le.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===sh){let o=zt({category:"replay.throttled"});this.addUpdate(()=>!bl(this,{type:HI,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||ee(),n=t&&K(t),o=(n&&O(n).data||{})[Te];if(!(!n||!o||!["route","custom"].includes(o)))return O(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Iv({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Bu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return Km(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{le.document.addEventListener("visibilitychange",this._handleVisibilityChange),le.addEventListener("blur",this._handleWindowBlur),le.addEventListener("focus",this._handleWindowFocus),le.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(I0(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=yv(this)}_removeListeners(){try{le.document.removeEventListener("visibilitychange",this._handleVisibilityChange),le.removeEventListener("blur",this._handleWindowBlur),le.removeEventListener("focus",this._handleWindowFocus),le.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||Jm(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){W&&G.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:q.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=uv(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(oa(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){W&&G.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await v0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await ih({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=T();if(r){let o=n instanceof ti?"ratelimit_backoff":"send_error";r.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){W&&G.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){W&&G.info(`Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}let a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&W&&G.info("Flushing initial segment without checkout.");let c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&El(this.session)}_onMutationHandler(t){let n=t.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>o||i){let s=zt({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function jo(e,t){return[...e,...t].join(",")}function F0({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let i=["base","iframe[srcdoc]:not([src])"],s=jo(e,[".sentry-mask","[data-sentry-mask]"]),a=jo(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:jo(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:jo(r,[]),ignoreSelector:jo(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function U0({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var Sm='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',B0=["content-length","content-type","accept"],ym=!1,ah=e=>new cl(e),cl=class{constructor({flushMinDelay:t=RT,flushMaxDelay:n=CT,minReplayDuration:r=LT,maxReplayDuration:o=Zp,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:S=[],networkCaptureBodies:I=!0,networkRequestHeaders:P=[],networkResponseHeaders:C=[],mask:N=[],maskAttributes:b=["title","placeholder","aria-label"],unmask:R=[],block:L=[],unblock:y=[],ignore:x=[],maskFn:B,beforeAddRecordingEvent:E,beforeErrorSampling:A,onError:H}={}){this.name="Replay";let V=F0({mask:N,unmask:R,block:L,unblock:y,ignore:x});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:B,maskInputFn:B,maskAttributeFn:(F,Z,$)=>U0({maskAttributes:b,maskAllText:u,privacyOptions:V,key:F,value:Z,el:$}),...V,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:F=>{try{F.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,DT),maxReplayDuration:Math.min(o,Zp),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:_,networkDetailDenyUrls:S,networkCaptureBodies:I,networkRequestHeaders:Em(P),networkResponseHeaders:Em(C),beforeAddRecordingEvent:E,beforeErrorSampling:A,onError:H,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Sm}`:Sm),this._isInitialized&&yr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return ym}set _isInitialized(t){ym=t}afterAllSetup(t){!yr()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=H0(this._initialOptions,t);this._replay=new al({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};function H0(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=at(n.replaysSessionSampleRate),i=at(n.replaysOnErrorSampleRate);return o==null&&i==null&&Oe(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function Em(e){return[...B0,...e.map(t=>t.toLowerCase())]}function ch(){return T()?.getIntegrationByName("Replay")}var $0=Object.defineProperty,W0=(e,t,n)=>t in e?$0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uh=(e,t,n)=>W0(e,typeof t!="symbol"?t+"":t,n),vl=class{constructor(){uh(this,"idNodeMap",new Map),uh(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function G0(){return new vl}function z0(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function wl(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:wl(e.parentNode,t,n,r+1)}function lh(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(z0(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var Wr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,dh={map:{},getId(){return console.error(Wr),-1},getNode(){return console.error(Wr),null},removeNodeFromMap(){console.error(Wr)},has(){return console.error(Wr),!1},reset(){console.error(Wr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(dh=new Proxy(dh,{get(e,t,n){return t==="map"&&console.error(Wr),Reflect.get(e,t,n)}}));function Rl(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){yh(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Rl(e,t,i||{},!0)}function Cl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function j0(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ua(e,t,n,r,o){if(!e)return!1;let i=j0(e);if(!i)return!1;let s=lh(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=wl(i,s),c=-1;return a<0?!1:(r&&(c=wl(i,lh(null,r))),a>-1&&c<0?!0:a<c)}var fh={};function Sh(e){let t=fh[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return fh[e]=r.bind(window)}function Yn(...e){return Sh("requestAnimationFrame")(...e)}function yh(...e){return Sh("setTimeout")(...e)}var zr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(zr||{}),aa;function q0(e){aa=e}var Il=e=>aa?(...n)=>{try{return e(...n)}catch(r){if(aa&&aa(r)===!0)return()=>{};throw r}}:e,Gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(oi=0;oi<Gr.length;oi++)V0[Gr.charCodeAt(oi)]=oi;var oi,Y0=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=Gr[t[n]>>2],o+=Gr[(t[n]&3)<<4|t[n+1]>>4],o+=Gr[(t[n+1]&15)<<2|t[n+2]>>6],o+=Gr[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},ph=new Map;function J0(e,t){let n=ph.get(e);return n||(n=new Map,ph.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Eh=(e,t,n)=>{if(!e||!(Th(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=J0(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function ca(e,t,n){if(e instanceof Array)return e.map(r=>ca(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=Y0(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[ca(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[ca(e.data,t,n),e.width,e.height]};if(Th(e,t)||typeof e=="object"){let r=e.constructor.name,o=Eh(e,t,n);return{rr_type:r,index:o}}}}return e}var bh=(e,t,n)=>e.map(r=>ca(r,t,n)),Th=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function K0(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=Cl(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return ua(this.canvas,n,r,o,!0)||yh(()=>{let l=bh(d,t,this);e(this.canvas,{type:zr["2D"],property:a,args:l})},0),u.apply(this,d)}});i.push(c)}catch{let c=Rl(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:zr["2D"],property:a,args:[u],setter:!0})}});i.push(c)}return()=>{i.forEach(a=>a())}}function X0(e){return e==="experimental-webgl"?"webgl":e}function mh(e,t,n,r,o){let i=[];try{let s=Cl(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!ua(this,t,n,r,!0)){let d=X0(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){let l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function hh(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let l=Cl(e,d,function(f){return function(...p){let m=f.apply(this,p);if(Eh(m,a,this),"tagName"in this.canvas&&!ua(this.canvas,r,o,i,!0)){let g=bh(p,a,this),_={type:t,property:d,args:g};n(this.canvas,_)}return m}});c.push(l)}catch{let l=Rl(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});c.push(l)}return c}function Z0(e,t,n,r,o,i){let s=[];return s.push(...hh(t.WebGLRenderingContext.prototype,zr.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...hh(t.WebGL2RenderingContext.prototype,zr.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var Q0='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function ew(){let e=new Blob([Q0]);return URL.createObjectURL(e)}var xl=class{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};let{sampling:n="all",win:r,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&q0(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&Il(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,o,i,s,a,{dataURLOptions:u})})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){let{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:i,recordCanvas:s,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}Il(()=>{if(s&&n==="all"&&this.initCanvasMutationObserver(t,r,o,i),s&&typeof n=="number"){let c=mh(t,r,o,i,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){let t=new Worker(ew());return t.onmessage=n=>{let r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;let{base64:i,type:s,width:a,height:c}=r;this.mutationCb({id:o,type:zr["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:s}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,o,i,s){let a=this.takeSnapshot(!1,t,n,r,o,i,s.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,o){let i=mh(t,n,r,o,!1),s=K0(this.processMutation.bind(this),t,n,r,o),a=Z0(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{i(),s(),a()})}snapshot(t){let{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,o,i,s,a,c){let u=1e3/n,d,l=p=>{if(p)return[p];let m=[],g=_=>{_.querySelectorAll("canvas").forEach(S=>{ua(S,r,o,i,!0)||m.push(S)})};for(let _ of this.windows){let S=_.deref(),I;try{I=S&&S.document}catch{}I&&g(I)}for(let _ of this.shadowDoms){let S=_.deref();S&&g(S)}return m},f=p=>{if(this.windows.length){if(this.lastSnapshotTime&&p-this.lastSnapshotTime<u){d=Yn(f);return}this.lastSnapshotTime=p,l(c).forEach(m=>{if(!this.mirror.hasNode(m))return;let g=this.mirror.getId(m);if(!this.snapshotInProgressMap.get(g)&&!(!m.width||!m.height)){if(this.snapshotInProgressMap.set(g,!0),!t&&["webgl","webgl2"].includes(m.__context)){let _=m.getContext(m.__context);_?.getContextAttributes()?.preserveDrawingBuffer===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(m).then(_=>{this.worker?.postMessage({id:g,bitmap:_,width:m.width,height:m.height,dataURLOptions:a,maxCanvasSize:s},[_])}).catch(_=>{Il(()=>{throw _})()})}}),t||(d=Yn(f))}};return d=Yn(f),d}startPendingCanvasMutationFlusher(){Yn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,Yn(t)};Yn(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Yn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}};try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}G0();var gh;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(gh||(gh={}));var _h={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},tw="ReplayCanvas",sa=1280,nw=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,sa):sa,n?Math.min(n,sa):sa]},o,i=new Promise(s=>o=s);return{name:tw,getOptions(){let{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{let d=new xl({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},..._h[s]||_h.medium}},async snapshot(s){(await i).snapshot(s)}}},Ih=nw;var vh=new WeakMap,kl=new Map,ii={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function la(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...ii,...t},u=typeof i=="function"?i:f=>!0,d=f=>iw(f,a),l={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(p=>{if(p.op==="http.client"){let m=kl.get(p.span_id);m&&(p.timestamp=m/1e3,kl.delete(p.span_id))}}),f)),o&&Gc(f=>{if(f.response){let p=vh.get(f.response);p&&f.endTimestamp&&kl.set(p,f.endTimestamp)}}),Bn(f=>{let p=Uc(f,u,d,l);if(f.response&&f.fetchData.__span&&vh.set(f.response,f.fetchData.__span),p){let m=xh(f.fetchData.url),g=m?kt(m).host:void 0;p.setAttributes({"http.url":m,"server.address":g}),s&&wh(p),c?.(p,{headers:f.headers})}})),r&&jn(f=>{let p=sw(f,u,d,l);if(p){s&&wh(p);let m;try{m=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(p,{headers:m})}})}function rw(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function wh(e){let{url:t}=O(e).data;if(!t||typeof t!="string")return;let n=Nt("resource",({entries:r})=>{r.forEach(o=>{rw(o)&&o.name.endsWith(t)&&(ow(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function jt(e=0){return((_e()||performance.timeOrigin)+e)/1e3}function ow(e){let{name:t,version:n}=Wo(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),_e()?[...r,["http.request.redirect_start",jt(e.redirectStart)],["http.request.fetch_start",jt(e.fetchStart)],["http.request.domain_lookup_start",jt(e.domainLookupStart)],["http.request.domain_lookup_end",jt(e.domainLookupEnd)],["http.request.connect_start",jt(e.connectStart)],["http.request.secure_connection_start",jt(e.secureConnectionStart)],["http.request.connection_end",jt(e.connectEnd)],["http.request.request_start",jt(e.requestStart)],["http.request.response_start",jt(e.responseStart)],["http.request.response_end",jt(e.responseEnd)]]:r}function iw(e,t){let n=Ge();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?ze(r.toString(),t)||i&&ze(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?ze(e,t):r}}function sw(e,t,n,r){let o=e.xhr,i=o?.[Ye];if(!o||o.__sentry_own_request__||!i)return;let{url:s,method:a}=i,c=je()&&t(s);if(e.endTimestamp&&c){let g=o.__sentry_xhr_span_id__;if(!g)return;let _=r[g];_&&i.status_code!==void 0&&(Ht(_,i.status_code),_.end(),delete r[g]);return}let u=xh(s),d=u?kt(u):kt(s),l=xo(s),f=!!ee(),p=c&&f?_t({name:`${a} ${l}`,attributes:{url:s,type:"xhr","http.method":a,"http.url":u,"server.address":d?.host,[J]:"auto.http.browser",[Ee]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new Ue;o.__sentry_xhr_span_id__=p.spanContext().spanId,r[o.__sentry_xhr_span_id__]=p,n(s)&&aw(o,je()&&f?p:void 0);let m=T();return m&&m.emit("beforeOutgoingRequestSpan",p,e),p}function aw(e,t){let{"sentry-trace":n,baggage:r}=bo({span:t});n&&cw(e,n,r)}function cw(e,t,n){let r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){let o=r?.baggage;(!o||!uw(o))&&e.setRequestHeader("baggage",n)}}catch{}}function uw(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function xh(e){try{return new URL(e,k.location.origin).href}catch{return}}function Rh(){k.document?k.document.addEventListener("visibilitychange",()=>{let e=ee();if(!e)return;let t=K(e);if(k.document.hidden&&t){let n="cancelled",{op:r,status:o}=O(t);U&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):U&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var lw=3600,Ch="sentry_previous_trace",dw="sentry.previous_trace";function kh(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",o=r?mw():void 0;e.on("spanStart",s=>{if(K(s)!==s)return;let a=M().getPropagationContext();o=fw(o,s,a),r&&pw(o)});let i=!0;n&&e.on("beforeSampling",s=>{if(!o)return;let a=M(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(Al(o.spanContext))},sampleRand:o.sampleRand}),s.parentSampled=Al(o.spanContext),s.parentSampleRate=o.sampleRate,s.spanAttributes={...s.spanAttributes,[Kr]:o.sampleRate}})}function fw(e,t,n){let r=O(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[Xt])}catch{return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=lw&&(U&&h.info(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[Aa]:"previous_trace"}}),t.setAttribute(dw,`${s.traceId}-${s.spanId}-${Al(s)?1:0}`)),i)}function pw(e){try{k.sessionStorage.setItem(Ch,JSON.stringify(e))}catch(t){U&&h.warn("Could not store previous trace in sessionStorage",t)}}function mw(){try{let e=k.sessionStorage?.getItem(Ch);return JSON.parse(e)}catch{return}}function Al(e){return e.traceFlags===1}var hw="BrowserTracing",gw={...fr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...ii},Ah=!1,Oh=(e={})=>{Ah&&Oe(()=>{console.warn("Multiple browserTracingIntegration instances are not supported.")}),Ah=!0;let t=k.document;oo();let{enableInp:n,enableLongTask:r,enableLongAnimationFrame:o,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:a,idleTimeout:c,finalTimeout:u,childSpanTimeout:d,markBackgroundSpan:l,traceFetch:f,traceXHR:p,trackFetchStreamPerformance:m,shouldCreateSpanForRequest:g,enableHTTPTimings:_,instrumentPageLoad:S,instrumentNavigation:I,linkPreviousTrace:P,consistentTraceSampling:C,onRequestSpanStart:N}={...gw,...e},b=bu({recordClsStandaloneSpans:s||!1});n&&ku(),o&&w.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Iu():r&&Tu(),i&&vu();let R={name:void 0,source:void 0};function L(y,x){let B=x.op==="pageload",E=a?a(x):x,A=E.attributes||{};x.name!==E.name&&(A[Te]="custom",E.attributes=A),R.name=E.name,R.source=A[Te];let H=Oi(E,{idleTimeout:c,finalTimeout:u,childSpanTimeout:d,disableAutoFinish:B,beforeSpanEnd:F=>{b(),wu(F,{recordClsOnPageloadSpan:!s}),Mh(y,void 0);let Z=M(),$=Z.getPropagationContext();Z.setPropagationContext({...$,traceId:H.spanContext().traceId,sampled:ht(H),dsc:be(F)})}});Mh(y,H);function V(){t&&["interactive","complete"].includes(t.readyState)&&y.emit("idleSpanEnableAutoFinish",H)}B&&t&&(t.addEventListener("readystatechange",()=>{V()}),V())}return{name:hw,afterAllSetup(y){let x=Ge();function B(){let E=da(y);E&&!O(E).timestamp&&(U&&h.log(`[Tracing] Finishing current active span with op: ${O(E).op}`),E.setAttribute(Ln,"cancelled"),E.end())}if(y.on("startNavigationSpan",E=>{if(T()!==y)return;B(),ie().setPropagationContext({traceId:Le(),sampleRand:Math.random()});let A=M();A.setPropagationContext({traceId:Le(),sampleRand:Math.random()}),A.setSDKProcessingMetadata({normalizedRequest:void 0}),L(y,{op:"navigation",...E})}),y.on("startPageLoadSpan",(E,A={})=>{if(T()!==y)return;B();let H=A.sentryTrace||Nh("sentry-trace"),V=A.baggage||Nh("baggage"),F=Xr(H,V),Z=M();Z.setPropagationContext(F),Z.setSDKProcessingMetadata({normalizedRequest:Lo()}),L(y,{op:"pageload",...E})}),P!=="off"&&kh(y,{linkPreviousTrace:P,consistentTraceSampling:C}),k.location){if(S){let E=_e();Nl(y,{name:k.location.pathname,startTime:E?E/1e3:void 0,attributes:{[Te]:"url",[J]:"auto.pageload.browser"}})}I&&an(({to:E,from:A})=>{if(A===void 0&&x?.indexOf(E)!==-1){x=void 0;return}x=void 0;let H=wo(E);Ml(y,{name:H?.pathname||k.location.pathname,attributes:{[Te]:"url",[J]:"auto.navigation.browser"}}),M().setSDKProcessingMetadata({normalizedRequest:{...Lo(),url:E}})})}l&&Rh(),i&&_w(y,c,u,d,R),n&&Au(),la(y,{traceFetch:f,traceXHR:p,trackFetchStreamPerformance:m,tracePropagationTargets:y.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:g,enableHTTPTimings:_,onRequestSpanStart:N})}}};function Nl(e,t,n){return e.emit("startPageLoadSpan",t,n),M().setTransactionName(t.name),da(e)}function Ml(e,t){return e.emit("startNavigationSpan",t),M().setTransactionName(t.name),da(e)}function Nh(e){return k.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function _w(e,t,n,r,o){let i=k.document,s,a=()=>{let c="ui.action.click",u=da(e);if(u){let d=O(u).op;if(["navigation","pageload"].includes(d)){U&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Ln,"interactionInterrupted"),s.end(),s=void 0),!o.name){U&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=Oi({name:o.name,op:c,attributes:{[Te]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{once:!1,capture:!0})}var Lh="_sentry_idleSpan";function da(e){return e[Lh]}function Mh(e,t){de(e,Lh,t)}function jr(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Sw(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=jr(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Ol(e){return jr(e.getAllKeys())}function yw(e,t,n){return e(r=>Ol(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),jr(r.transaction)}))}function Ew(e,t,n){return e(r=>Ol(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),jr(r.transaction)}))}function bw(e){return e(t=>Ol(t).then(n=>{let r=n[0];if(r!=null)return jr(t.get(r)).then(o=>(t.delete(r),jr(t.transaction).then(()=>o)))}))}function Tw(e){let t;function n(){return t==null&&(t=Sw(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{let o=await gn(r);await yw(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{let o=await gn(r);await Ew(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{let r=await bw(n());if(r)return za(r)}catch{}}}}function Iw(e){return t=>{let n=e({...t,createStore:Tw});return k.addEventListener("online",async r=>{await n.flush()}),n}}function Dh(e=Ar){return Iw(Tc(e))}var Ph=1e6,fa=String(0),vw="main",pa=k.navigator,Uh="",Bh="",Hh="",Ll=pa?.userAgent||"",$h="",ww=pa?.language||pa?.languages?.[0]||"";function xw(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var Fh=pa?.userAgentData;xw(Fh)&&Fh.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Uh=e.platform||"",Hh=e.architecture||"",$h=e.model||"",Bh=e.platformVersion||"",e.fullVersionList?.length){let t=e.fullVersionList[e.fullVersionList.length-1];Ll=`${t.brand} ${t.version}`}}).catch(e=>{});function Rw(e){return!("thread_metadata"in e)}function Cw(e){return Rw(e)?Nw(e):e}function kw(e){let t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&U&&h.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function Aw(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=kw(r),i=Cw(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:ne()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:ne()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Qt,runtime:{name:"javascript",version:k.navigator.userAgent},os:{name:Uh,version:Bh,build_number:Ll},device:{locale:ww,model:$h,manufacturer:Ll,architecture:Hh,is_emulator:!1},debug_meta:{images:Mw(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||fe(),trace_id:o,active_thread_id:fa,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function ma(e){return O(e).op==="pageload"}function Nw(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[fa]:{name:vw}}},o=e.samples[0];if(!o)return r;let i=o.timestamp,s=_e(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,c=a-(s||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-i)*Ph).toFixed(0),stack_id:t,thread_id:fa};return}let l=e.stacks[u.stackId],f=[];for(;l;){f.push(l.frameId);let m=e.frames[l.frameId];m&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}let p={elapsed_since_start_ns:((u.timestamp+c-i)*Ph).toFixed(0),stack_id:n,thread_id:fa};r.stacks[n]=f,r.samples[d]=p,n++}),r}function Wh(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function Gh(e){let t=[];return ut(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++){let i=n[o];i?.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[o])}}),t}function Mw(e){let r=T()?.getOptions()?.stackParser;return r?tc(r,e):[]}function Ow(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(U&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(U&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Lw(e){return e.samples.length<2?(U&&h.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(U&&h.log("[Profiling] Discarding profile because it contains no frames"),!1)}var zh=!1,Dl=3e4;function Dw(e){return typeof e=="function"}function jh(){let e=k.Profiler;if(!Dw(e)){U&&h.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Dl/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{U&&(h.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.log("[Profiling] Disabling profiling for current user session.")),zh=!0}}function Pl(e){if(zh)return U&&h.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return U&&h.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let n=T()?.getOptions();if(!n)return U&&h.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return Ow(r)?r?(r===!0?!0:Math.random()<r)?!0:(U&&h.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(U&&h.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(U&&h.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function qh(e,t,n,r){return Lw(n)?Aw(e,t,n,r):null}var Jn=new Map;function Vh(){return Jn.size}function Yh(e){let t=Jn.get(e);return t&&Jn.delete(e),t}function Jh(e,t){if(Jn.set(e,t),Jn.size>30){let n=Jn.keys().next().value;Jn.delete(n)}}function Fl(e){let t;ma(e)&&(t=ne()*1e3);let n=jh();if(!n)return;U&&h.log(`[Profiling] started profiling span: ${O(e).description}`);let r=fe();M().setContext("profile",{profile_id:r,start_timestamp:t});async function o(){if(e&&n)return n.stop().then(c=>{if(i&&(k.clearTimeout(i),i=void 0),U&&h.log(`[Profiling] stopped profiling of span: ${O(e).description}`),!c){U&&h.log(`[Profiling] profiler returned null profile for: ${O(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}Jh(r,c)}).catch(c=>{U&&h.log("[Profiling] error while stopping profiler:",c)})}let i=k.setTimeout(()=>{U&&h.log("[Profiling] max profile duration elapsed, stopping profiling for:",O(e).description),o()},Dl),s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var Pw="BrowserProfiling",Fw=()=>({name:Pw,setup(e){let t=ee(),n=t&&K(t);n&&ma(n)&&Pl(n)&&Fl(n),e.on("spanStart",r=>{r===K(r)&&Pl(r)&&Fl(r)}),e.on("beforeEnvelope",r=>{if(!Vh())return;let o=Gh(r);if(!o.length)return;let i=[];for(let s of o){let a=s?.contexts,c=a?.profile?.profile_id,u=a?.profile?.start_timestamp;if(typeof c!="string"){U&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){U&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}a?.profile&&delete a.profile;let d=Yh(c);if(!d){U&&h.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let l=qh(c,u,d,s);l&&i.push(l)}Wh(r,i)})}}),Kh=Fw;var Uw="SpotlightBrowser",Bw=(e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:Uw,setup:()=>{U&&h.log("Using Sidecar URL",t)},processEvent:n=>$w(n)?null:n,afterAllSetup:n=>{Hw(n,t)}}};function Hw(e,t){let n=Cr("fetch"),r=0;e.on("beforeEnvelope",o=>{if(r>3){h.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:gn(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,h.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var Xh=Bw;function $w(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}var Ww=100;function qt(e){let n=M().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function Ot(e,t,n=Ww){let r=M().getScopeData().contexts;r.flags||(r.flags={values:[]});let o=r.flags.values;Gw(o,e,t,n)}function Gw(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){U&&h.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let o=e.findIndex(i=>i.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}var Zh=()=>({name:"FeatureFlags",processEvent(e,t,n){return qt(e)},addFeatureFlag(e,t){Ot(e,t)}});var Qh=()=>({name:"LaunchDarkly",processEvent(e,t,n){return qt(e)}});function eg(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{Ot(e,t.value)}}}var tg=()=>({name:"OpenFeature",processEvent(e,t,n){return qt(e)}}),ha=class{after(t,n){Ot(n.flagKey,n.value)}error(t,n,r){Ot(t.flagKey,t.defaultValue)}};var ng=({featureFlagClientClass:e})=>({name:"Unleash",processEvent(t,n,r){return qt(t)},setupOnce(){let t=e.prototype;he(t,"isEnabled",zw)}});function zw(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?Ot(n,r):U&&h.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var rg=({featureFlagClient:e})=>({name:"Statsig",processEvent(t,n,r){return qt(t)},setup(){e.on("gate_evaluation",t=>{Ot(t.gate.name,t.gate.value)})}});async function og(){let e=T();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await fetch("https://o447951.ingest.sentry.io/api/1337/envelope/?sentry_version=7&sentry_key=1337&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"})}catch{return"sentry-unreachable"}}export{ig as Sentry};
