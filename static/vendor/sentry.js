var xg=Object.defineProperty;var Ql=(e,t)=>{for(var n in t)xg(e,n,{get:t[n],enumerable:!0})};var Rg={};Ql(Rg,{BrowserClient:()=>Cr,OpenFeatureIntegrationHook:()=>wa,SDK_VERSION:()=>Qe,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>he,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>X,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>en,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Ee,Scope:()=>$e,WINDOW:()=>x,addBreadcrumb:()=>Je,addEventProcessor:()=>bo,addIntegration:()=>_r,breadcrumbsIntegration:()=>Gs,browserApiErrorsIntegration:()=>zs,browserProfilingIntegration:()=>hg,browserSessionIntegration:()=>js,browserTracingIntegration:()=>Zh,buildLaunchDarklyFlagUsedHandler:()=>Sg,captureConsoleIntegration:()=>$c,captureEvent:()=>rn,captureException:()=>dt,captureFeedback:()=>Lo,captureMessage:()=>En,captureSession:()=>gr,chromeStackLineParser:()=>zu,close:()=>Sc,consoleLoggingIntegration:()=>Kc,contextLinesIntegration:()=>lm,continueTrace:()=>sc,createTransport:()=>xo,createUserFeedbackEnvelope:()=>Vp,dedupeIntegration:()=>No,defaultRequestInstrumentationOptions:()=>ui,defaultStackLineParsers:()=>qu,defaultStackParser:()=>$s,diagnoseSdkConnectivity:()=>Tg,endSession:()=>To,eventFiltersIntegration:()=>Zi,eventFromException:()=>Es,eventFromMessage:()=>bs,exceptionFromError:()=>xr,extraErrorDataIntegration:()=>Wc,featureFlagsIntegration:()=>Vc,feedbackAsyncIntegration:()=>Sp,feedbackIntegration:()=>Eu,feedbackSyncIntegration:()=>Eu,flush:()=>_c,forceLoad:()=>Qp,functionToStringIntegration:()=>Ao,geckoStackLineParser:()=>ju,getActiveSpan:()=>Z,getClient:()=>T,getCurrentScope:()=>k,getDefaultIntegrations:()=>Vu,getFeedback:()=>op,getGlobalScope:()=>Qt,getIsolationScope:()=>ie,getReplay:()=>Rh,getRootSpan:()=>ee,getSpanDescendants:()=>tn,getSpanStatusFromHttpCode:()=>Ti,getTraceData:()=>Pn,globalHandlersIntegration:()=>qs,graphqlClientIntegration:()=>mm,httpClientIntegration:()=>im,httpContextIntegration:()=>Vs,inboundFiltersIntegration:()=>ko,init:()=>Zp,instrumentOutgoingRequests:()=>ba,instrumentSupabaseClient:()=>rs,isEnabled:()=>Eo,isInitialized:()=>yc,lastEventId:()=>yo,launchDarklyIntegration:()=>_g,lazyLoadIntegration:()=>ys,linkedErrorsIntegration:()=>Ys,logger:()=>bu,makeBrowserOfflineTransport:()=>eg,makeFetchTransport:()=>Pr,makeMultiplexedTransport:()=>Mc,moduleMetadataIntegration:()=>Hc,onLoad:()=>em,openFeatureIntegration:()=>yg,opera10StackLineParser:()=>zp,opera11StackLineParser:()=>jp,parameterize:()=>Ki,registerSpanErrorInstrumentation:()=>fo,registerWebWorker:()=>wg,replayCanvasIntegration:()=>$h,replayIntegration:()=>wh,reportingObserverIntegration:()=>rm,rewriteFramesIntegration:()=>Gc,sendFeedback:()=>fu,setContext:()=>So,setCurrentClient:()=>Yi,setExtra:()=>pc,setExtras:()=>fc,setHttpStatus:()=>zt,setMeasurement:()=>mo,setTag:()=>hc,setTags:()=>mc,setUser:()=>gc,showReportDialog:()=>tm,spanToBaggageHeader:()=>Za,spanToJSON:()=>N,spanToTraceHeader:()=>uo,spotlightBrowserIntegration:()=>gg,startBrowserTracingNavigationSpan:()=>Vl,startBrowserTracingPageLoadSpan:()=>ql,startInactiveSpan:()=>ot,startNewTrace:()=>Bi,startSession:()=>hr,startSpan:()=>_n,startSpanManual:()=>ic,statsigIntegration:()=>bg,supabaseIntegration:()=>zc,suppressTracing:()=>ho,thirdPartyErrorFilterIntegration:()=>qc,unleashIntegration:()=>Eg,updateSpanName:()=>Ka,webWorkerIntegration:()=>vg,winjsStackLineParser:()=>Gp,withActiveSpan:()=>Sn,withIsolationScope:()=>Ei,withScope:()=>Ae,zodErrorsIntegration:()=>jc});var y=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var w=globalThis;var Qe="10.1.0";function je(){return fn(w),w}function fn(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Qe,t[Qe]=t[Qe]||{}}function Kt(e,t,n=w){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[Qe]=r[Qe]||{};return o[e]||(o[e]=t())}var An=["debug","info","warn","error","log","assert","trace"],Cg="Sentry Logger ",nr={};function Pe(e){if(!("console"in w))return e();let t=w.console,n={},r=Object.keys(nr);r.forEach(o=>{let i=nr[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function Ag(){Aa().enabled=!0}function kg(){Aa().enabled=!1}function ed(){return Aa().enabled}function Ng(...e){Ca("log",...e)}function Mg(...e){Ca("warn",...e)}function Og(...e){Ca("error",...e)}function Ca(e,...t){y&&ed()&&Pe(()=>{w.console[e](`${Cg}[${e}]:`,...t)})}function Aa(){return y?Kt("loggerSettings",()=>({enabled:!1})):{enabled:!1}}var h={enable:Ag,disable:kg,isEnabled:ed,log:Ng,warn:Mg,error:Og};var td=/\(error: (.*)\)/,nd=/captureMessage|captureException/;function fi(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];c.length>1024&&(c=c.slice(0,1024));let u=td.test(c)?c.replace(td,"$1"):c;if(!u.match(/\S*Error: /)){for(let d of t){let l=d(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return rd(i.slice(o))}}function Na(e){return Array.isArray(e)?fi(...e):e}function rd(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(di(t).function||"")&&t.pop(),t.reverse(),nd.test(di(t).function||"")&&(t.pop(),nd.test(di(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||di(t).filename,function:n.function||"?"}))}function di(e){return e[e.length-1]||{}}var ka="<anonymous>";function et(e){try{return!e||typeof e!="function"?ka:e.name||ka}catch{return ka}}function rr(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var pi={},od={};function Fe(e,t){pi[e]=pi[e]||[],pi[e].push(t)}function Ue(e,t){if(!od[e]){od[e]=!0;try{t()}catch(n){y&&h.error(`Error while instrumenting ${e}`,n)}}}function we(e,t){let n=e&&pi[e];if(n)for(let r of n)try{r(t)}catch(o){y&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${et(r)}
Error:`,o)}}var Ma=null;function Qr(e){let t="error";Fe(t,e),Ue(t,Lg)}function Lg(){Ma=w.onerror,w.onerror=function(e,t,n,r,o){return we("error",{column:r,error:o,line:n,msg:e,url:t}),Ma?Ma.apply(this,arguments):!1},w.onerror.__SENTRY_INSTRUMENTED__=!0}var Oa=null;function eo(e){let t="unhandledrejection";Fe(t,e),Ue(t,Dg)}function Dg(){Oa=w.onunhandledrejection,w.onunhandledrejection=function(e){return we("unhandledrejection",e),Oa?Oa.apply(this,arguments):!0},w.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var id=Object.prototype.toString;function tt(e){switch(id.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return at(e,Error)}}function or(e,t){return id.call(e)===`[object ${t}]`}function mi(e){return or(e,"ErrorEvent")}function hi(e){return or(e,"DOMError")}function La(e){return or(e,"DOMException")}function Ne(e){return or(e,"String")}function pn(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function gt(e){return e===null||pn(e)||typeof e!="object"&&typeof e!="function"}function Be(e){return or(e,"Object")}function kn(e){return typeof Event<"u"&&at(e,Event)}function Da(e){return typeof Element<"u"&&at(e,Element)}function Pa(e){return or(e,"RegExp")}function xt(e){return!!(e?.then&&typeof e.then=="function")}function Fa(e){return Be(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function at(e,t){try{return e instanceof t}catch{return!1}}function to(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function gi(e){return typeof Request<"u"&&at(e,Request)}var Ua=w,Pg=80;function Re(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Pg;for(;n&&i++<r&&(u=Fg(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function Fg(e,t){let n=e,r=[];if(!n?.tagName)return"";if(Ua.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o?.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&Ne(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function qe(){try{return Ua.document.location.href}catch{return""}}function no(e){if(!Ua.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function _t(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function ro(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Nn(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{to(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function sd(e,t,n=!1){return Ne(e)?Pa(t)?t.test(e):Ne(t)?n?e===t:e.includes(t):!1:!1}function Le(e,t=[],n=!1){return t.some(r=>sd(e,r,n))}function Se(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let o=n(r);typeof o=="function"&&_i(o,r);try{e[t]=o}catch{y&&h.log(`Failed to replace method "${t}" in object`,e)}}function fe(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{y&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function _i(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,fe(e,"__sentry_original__",t)}catch{}}function Mn(e){return e.__sentry_original__}function Si(e){if(tt(e))return{message:e.message,name:e.name,stack:e.stack,...cd(e)};if(kn(e)){let t={type:e.type,target:ad(e.target),currentTarget:ad(e.currentTarget),...cd(e)};return typeof CustomEvent<"u"&&at(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function ad(e){try{return Da(e)?Re(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function cd(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Ba(e,t=40){let n=Object.keys(Si(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return _t(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:_t(i,t)}return""}function Ug(){let e=w;return e.crypto||e.msCrypto}function pe(e=Ug()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function ud(e){return e.exception?.values?.[0]}function Ht(e){let{message:t,event_id:n}=e;if(t)return t;let r=ud(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ir(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function nt(e,t){let n=ud(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o?.data,...t.data};n.mechanism.data=i}}function Ha(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>ro(s,0));let i=Math.min(r-1,o);t.context_line=ro(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>ro(s,0))}function yi(e){if(Bg(e))return!0;try{fe(e,"__sentry_captured__",!0)}catch{}return!1}function Bg(e){try{return e.__sentry_captured__}catch{}}var dd=1e3;function ct(){return Date.now()/dd}function Hg(){let{performance:e}=w;if(!e?.now||!e.timeOrigin)return ct;let t=e.timeOrigin;return()=>(t+e.now())/dd}var ld;function ne(){return(ld??(ld=Hg()))()}var $a;function $g(){let{performance:e}=w;if(!e?.now)return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function me(){return $a||($a=$g()),$a[0]}function fd(e){let t=ne(),n={sid:pe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Wg(n)};return e&&Xt(n,e),n}function Xt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ne(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:pe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function pd(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Xt(e,n)}function Wg(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function mn(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=mn(r[o],t[o],n-1));return r}function He(){return pe()}function Ct(){return pe().substring(16)}var Wa="_sentrySpan";function $t(e,t){t?fe(e,Wa,t):delete e[Wa]}function Zt(e){return e[Wa]}var Gg=100,$e=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:He(),sampleRand:Math.random()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,$t(t,Zt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Xt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof e?n.getScopeData():Be(n)?t:void 0,{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,$t(this,void 0),this._attachments=[],this.setPropagationContext({traceId:He(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:Gg;if(r<=0)return this;let o={timestamp:ct(),...t,message:t.message?_t(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Zt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=mn(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||pe();if(!this._client)return y&&h.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r?.event_id||pe();if(!this._client)return y&&h.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n?.event_id||pe();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(y&&h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function md(){return Kt("defaultCurrentScope",()=>new $e)}function hd(){return Kt("defaultIsolationScope",()=>new $e)}var Ga=class{constructor(t,n){let r;t?r=t:r=new $e;let o;n?o=n:o=new $e,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return xt(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function sr(){let e=je(),t=fn(e);return t.stack=t.stack||new Ga(md(),hd())}function zg(e){return sr().withScope(e)}function jg(e,t){let n=sr();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function gd(e){return sr().withScope(()=>e(sr().getIsolationScope()))}function _d(){return{withIsolationScope:gd,withScope:zg,withSetScope:jg,withSetIsolationScope:(e,t)=>gd(t),getCurrentScope:()=>sr().getScope(),getIsolationScope:()=>sr().getIsolationScope()}}function St(e){let t=fn(e);return t.acs?t.acs:_d()}function k(){let e=je();return St(e).getCurrentScope()}function ie(){let e=je();return St(e).getIsolationScope()}function Qt(){return Kt("globalScope",()=>new $e)}function Ae(...e){let t=je(),n=St(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function Ei(...e){let t=je(),n=St(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function T(){return k().getClient()}function bi(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||Ct()};return r&&(i.parent_span_id=r),i}var Ee="sentry.source",en="sentry.sample_rate",oo="sentry.previous_trace_sample_rate",he="sentry.op",X="sentry.origin",On="sentry.idle_span_finish_reason",Wt="sentry.measurement_unit",Gt="sentry.measurement_value",ar="sentry.custom_span_name",cr="sentry.profile_id",yt="sentry.exclusive_time";var za="http.request.method",ja="url.full",qa="sentry.link.type";function Ti(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function zt(e,t){e.setAttribute("http.response.status_code",t);let n=Ti(t);n.message!=="unknown_error"&&e.setStatus(n)}var Sd="_sentryScope",yd="_sentryIsolationScope";function Ed(e,t,n){e&&(fe(e,yd,n),fe(e,Sd,t))}function Ln(e){return{scope:e[Sd],isolationScope:e[yd]}}var Ii="sentry-",qg=/^sentry-/,Vg=8192;function ur(e){let t=Yg(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(qg)){let s=o.slice(Ii.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function vi(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Ii}${r}`]=o),n),{});return Jg(t)}function Yg(e){if(!(!e||!Ne(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=bd(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):bd(e)}function bd(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Jg(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>Vg?(y&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var Kg=/^o(\d+)\./,Xg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Zg(e){return e==="http"||e==="https"}function rt(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function wi(e){let t=Xg.exec(e);if(!t){Pe(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return Td({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function Td(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Qg(e){if(!y)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(h.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?Zg(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function e_(e){return e.match(Kg)?.[1]}function Ri(e){let t=e.getOptions(),{host:n}=e.getDsn()||{},r;return t.orgId?r=String(t.orgId):n&&(r=e_(n)),r}function io(e){let t=typeof e=="string"?wi(e):Td(e);if(!(!t||!Qg(t)))return t}function ut(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var xi=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Id(e){if(!e)return;let t=e.match(xi);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function so(e,t){let n=Id(e),r=ur(t);if(!n?.traceId)return{traceId:He(),sampleRand:Math.random()};let o=t_(n,r);r&&(r.sample_rand=o.toString());let{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function ao(e=He(),t=Ct(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function t_(e,t){let n=ut(t?.sample_rand);if(n!==void 0)return n;let r=ut(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}function Va(e,t){let n=Ri(e);return t&&n&&t!==n?(h.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):(e.getOptions().strictTraceContinuation||!1)&&(t&&!n||!t&&n)?(h.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1):!0}var Ci=0,Ai=1,vd=!1;function Rd(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=N(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function co(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:N(e).parent_span_id,i=Ln(e).scope,s=r?i?.getPropagationContext().propagationSpanId||Ct():t;return{parent_span_id:o,span_id:s,trace_id:n}}function uo(e){let{traceId:t,spanId:n}=e.spanContext(),r=Et(e);return ao(t,n,r)}function ki(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Ai,attributes:i,...o}))}function At(e){return typeof e=="number"?wd(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?wd(e.getTime()):ne()}function wd(e){return e>9999999999?e/1e3:e}function N(e){if(o_(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(r_(e)){let{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:At(o),timestamp:At(s)||void 0,status:Ni(a),op:r[he],origin:r[X],links:ki(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function r_(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function o_(e){return typeof e.getSpanJSON=="function"}function Et(e){let{traceFlags:t}=e.spanContext();return t===Ai}function Ni(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Dn="_sentryChildSpans",Ya="_sentryRootSpan";function Mi(e,t){let n=e[Ya]||e;fe(t,Ya,n),e[Dn]?e[Dn].add(t):fe(e,Dn,new Set([t]))}function xd(e,t){e[Dn]&&e[Dn].delete(t)}function tn(e){let t=new Set;function n(r){if(!t.has(r)&&Et(r)){t.add(r);let o=r[Dn]?Array.from(r[Dn]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function ee(e){return e[Ya]||e}function Z(){let e=je(),t=St(e);return t.getActiveSpan?t.getActiveSpan():Zt(k())}function lo(){vd||(Pe(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),vd=!0)}function Ka(e,t){e.updateName(t),e.setAttributes({[Ee]:"custom",[ar]:t})}var Cd=!1;function fo(){if(Cd)return;function e(){let t=Z(),n=t&&ee(t);if(n){let r="internal_error";y&&h.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:2,message:r})}}e.tag="sentry_tracingErrorCallback",Cd=!0,Qr(e),eo(e)}function Ve(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||T()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var nn="production";var Ad="_frozenDsc";function lr(e,t){fe(e,Ad,t)}function Xa(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o={environment:n.environment||nn,release:n.release,public_key:r,trace_id:e,org_id:Ri(t)};return t.emit("createDsc",o),o}function dr(e,t){let n=t.getPropagationContext();return n.dsc||Xa(n.traceId,e)}function Ie(e){let t=T();if(!t)return{};let n=ee(e),r=N(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[en]??o[oo];function a(m){return(typeof s=="number"||typeof s=="string")&&(m.sample_rate=`${s}`),m}let c=n[Ad];if(c)return a(c);let u=i?.get("sentry.dsc"),d=u&&ur(u);if(d)return a(d);let l=Xa(e.spanContext().traceId,t),f=o[Ee],p=r.description;return f!=="url"&&p&&(l.transaction=p),Ve()&&(l.sampled=String(Et(n)),l.sample_rand=i?.get("sentry.sample_rand")??Ln(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function Za(e){let t=Ie(e);return vi(t)}var We=class{constructor(t={}){this._traceId=t.traceId||He(),this._spanId=t.spanId||Ct()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Ci}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function ke(e,t=100,n=1/0){try{return Qa("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Oi(e,t=3,n=100*1024){let r=ke(e,t);return c_(r)>n?Oi(e,t-1,n):r}function Qa(e,t,n=1/0,r=1/0,o=u_()){let[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let a=i_(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let p=u.toJSON();return Qa("",p,c-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},l=0,f=Si(t);for(let p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}let m=f[p];d[p]=Qa(p,m,c-1,r,o),l++}return s(t),d}function i_(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(to(t))return"[VueViewModel]";if(Fa(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${et(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=s_(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function s_(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function a_(e){return~-encodeURI(e).split(/%..|./).length}function c_(e){return a_(JSON.stringify(e))}function u_(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function De(e,t=[]){return[e,t]}function ec(e,t){let[n,r]=e;return[n,[...r,t]]}function lt(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function Di(e,t){return lt(e,(n,r)=>t.includes(r))}function Li(e){let t=fn(w);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function l_(e){let t=fn(w);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function hn(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[Li(r),i]:r.push(typeof i=="string"?Li(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(ke(a))}o(c)}}return typeof r=="string"?r:d_(r)}function d_(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function tc(e){let t=typeof e=="string"?Li(e):e;function n(s){let a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(l_(n(s)))}let o=r(),i=[];for(;t.length;){let s=r(),a=typeof s.length=="number"?s.length:void 0;i.push([s,a?n(a):r()])}return[o,i]}function nc(e){return[{type:"span"},e]}function rc(e){let t=typeof e.data=="string"?Li(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var f_={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Pi(e){return f_[e]}function fr(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function po(e,t,n,r){let o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:rt(r)},...o&&{trace:o}}}function p_(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function kd(e,t,n,r){let o=fr(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:rt(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return De(i,[s])}function Nd(e,t,n,r){let o=fr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";p_(e,n?.sdk);let s=po(e,o,r,t);return delete e.sdkProcessingMetadata,De(s,[[{type:i},e]])}function Md(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=Ie(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:rt(o)}},a=t?.getOptions().beforeSendSpan,c=a?d=>{let l=N(d),f=a(l);return f||(lo(),l)}:N,u=[];for(let d of e){let l=c(d);l&&u.push(nc(l))}return De(s,u)}function Od(e){if(!y)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=N(e),{spanId:o}=e.spanContext(),i=Et(e),s=ee(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:d,description:l}=N(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function Ld(e){if(!y)return;let{description:t="< unknown name >",op:n="< unknown op >"}=N(e),{spanId:r}=e.spanContext(),i=ee(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;h.log(s)}function mo(e,t,n,r=Z()){let o=r&&ee(r);o&&(y&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[Gt]:t,[Wt]:n}))}function Fi(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[Wt],i=r[Gt];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var Dd=1e3,gn=class{constructor(t={}){this._traceId=t.traceId||He(),this._spanId=t.spanId||Ct(),this._startTime=t.startTimestamp||ne(),this._links=t.links,this._attributes={},this.setAttributes({[X]:"manual",[he]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Ai:Ci}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=At(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Ee,"custom"),this}end(t){this._endTime||(this._endTime=At(t),Ld(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[he],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Ni(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[X],profile_id:this._attributes[cr],exclusive_time:this._attributes[yt],measurements:Fi(this._events),is_segment:this._isStandaloneSpan&&ee(this)===this||void 0,segment_id:this._isStandaloneSpan?ee(this).spanContext().spanId:void 0,links:ki(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){y&&h.log("[Tracing] Adding an event to span:",t);let o=Pd(n)?n:r||ne(),i=Pd(n)?{}:n||{},s={name:t,time:At(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=T();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===ee(this)))return;if(this._isStandaloneSpan){this._sampled?h_(Md([this],t)):(y&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Ln(this).scope||k()).captureEvent(r)}_convertSpanToTransaction(){if(!Fd(N(this)))return;this._name||(y&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Ln(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=tn(this).filter(d=>d!==this&&!m_(d)).map(d=>N(d)).filter(Fd),s=this._attributes[Ee];delete this._attributes[ar],i.forEach(d=>{delete d.data[ar]});let a={contexts:{trace:Rd(this)},spans:i.length>Dd?i.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Dd):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Ie(this)},request:r,...s&&{transaction_info:{source:s}}},c=Fi(this._events);return c&&Object.keys(c).length&&(y&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function Pd(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Fd(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function m_(e){return e instanceof gn&&e.isStandaloneSpan()}function h_(e){let t=T();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function oc(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return g_(r,t,n)}function g_(e,t,n){return xt(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Ud(e,t,n){if(!Ve(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);let i=ut(o);if(i===void 0)return y&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return y&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||y&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}var Ui="__SENTRY_SUPPRESS_TRACING__";function _n(e,t){let n=go();if(n.startSpan)return n.startSpan(e,t);let r=cc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Ae(a,()=>Hd(i)(()=>{let u=k(),d=uc(u,i),f=e.onlyIfParent&&!d?new We:ac({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return $t(u,f),oc(()=>t(f),()=>{let{status:p}=N(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})},()=>{f.end()})}))}function ic(e,t){let n=go();if(n.startSpanManual)return n.startSpanManual(e,t);let r=cc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Ae(a,()=>Hd(i)(()=>{let u=k(),d=uc(u,i),f=e.onlyIfParent&&!d?new We:ac({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return $t(u,f),oc(()=>t(f,()=>f.end()),()=>{let{status:p}=N(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})})}))}function ot(e){let t=go();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=cc(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>Ae(e.scope,s):o!==void 0?s=>Sn(o,s):s=>s())(()=>{let s=k(),a=uc(s,o);return e.onlyIfParent&&!a?new We:ac({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}var sc=(e,t)=>{let n=je(),r=St(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:o,baggage:i}=e,s=T(),a=ur(i);return s&&!Va(s,a?.org_id)?Bi(t):Ae(c=>{let u=so(o,i);return c.setPropagationContext(u),t()})};function Sn(e,t){let n=go();return n.withActiveSpan?n.withActiveSpan(e,t):Ae(r=>($t(r,e||void 0),t(r)))}function ho(e){let t=go();return t.suppressTracing?t.suppressTracing(e):Ae(n=>{n.setSDKProcessingMetadata({[Ui]:!0});let r=e();return n.setSDKProcessingMetadata({[Ui]:void 0}),r})}function Bi(e){return Ae(t=>(t.setPropagationContext({traceId:He(),sampleRand:Math.random()}),y&&h.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),Sn(null,e)))}function ac({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ve()){let s=new We;if(n||!e){let a={sampled:"false",sample_rate:"0",transaction:t.name,...Ie(s)};lr(s,a)}return s}let o=ie(),i;if(e&&!n)i=__(e,r,t),Mi(e,i);else if(e){let s=Ie(e),{traceId:a,spanId:c}=e.spanContext(),u=Et(e);i=Bd({traceId:a,parentSpanId:c,...t},r,u),lr(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=Bd({traceId:s,parentSpanId:c,...t},r,u),a&&lr(i,a)}return Od(i),Ed(i,r,o),i}function cc(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=At(e.startTime),delete r.startTime,r}return n}function go(){let e=je();return St(e)}function Bd(e,t,n){let r=T(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[Ui]?[!1]:Ud(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:ut(u.dsc?.sample_rate)},u.sampleRand),p=new gn({...e,attributes:{[Ee]:"custom",[en]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(y&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function __(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Ui]?!1:Et(e),s=i?new gn({...n,parentSpanId:r,traceId:o,sampled:i}):new We({traceId:o});Mi(e,s);let a=T();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function uc(e,t){if(t)return t;if(t===null)return;let n=Zt(e);if(!n)return;let r=T();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?ee(n):n}function Hd(e){return e!==void 0?t=>Sn(e,t):t=>t()}var pr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},S_="heartbeatFailed",y_="idleTimeout",E_="finalTimeout",b_="externalFinish";function Hi(e,t={}){let n=new Map,r=!1,o,i=b_,s=!t.disableAutoFinish,a=[],{idleTimeout:c=pr.idleTimeout,finalTimeout:u=pr.finalTimeout,childSpanTimeout:d=pr.childSpanTimeout,beforeSpanEnd:l}=t,f=T();if(!f||!Ve()){let E=new We,R={sample_rate:"0",sampled:"false",...Ie(E)};return lr(E,R),E}let p=k(),m=Z(),g=T_(e);g.end=new Proxy(g.end,{apply(E,R,M){if(l&&l(g),R instanceof We)return;let[I,...C]=M,z=I||ne(),v=At(z),D=tn(g).filter(F=>F!==g);if(!D.length)return O(v),Reflect.apply(E,R,[v,...C]);let q=D.map(F=>N(F).timestamp).filter(F=>!!F),U=q.length?Math.max(...q):void 0,L=N(g).start_timestamp,$=Math.min(L?L+u/1e3:1/0,Math.max(L||-1/0,Math.min(v,U||1/0)));return O($),Reflect.apply(E,R,[$,...C])}});function _(){o&&(clearTimeout(o),o=void 0)}function S(E){_(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=y_,g.end(E))},c)}function b(E){o=setTimeout(()=>{!r&&s&&(i=S_,g.end(E))},d)}function H(E){_(),n.set(E,!0);let R=ne();b(R+d/1e3)}function A(E){if(n.has(E)&&n.delete(E),n.size===0){let R=ne();S(R+c/1e3)}}function O(E){r=!0,n.clear(),a.forEach(v=>v()),$t(p,m);let R=N(g),{start_timestamp:M}=R;if(!M)return;R.data[On]||g.setAttribute(On,i),h.log(`[Tracing] Idle span "${R.op}" finished`);let C=tn(g).filter(v=>v!==g),z=0;C.forEach(v=>{v.isRecording()&&(v.setStatus({code:2,message:"cancelled"}),v.end(E),y&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(v,void 0,2)));let D=N(v),{timestamp:q=0,start_timestamp:U=0}=D,L=U<=E,$=(u+c)/1e3,F=q-U<=$;if(y){let V=JSON.stringify(v,void 0,2);L?F||h.log("[Tracing] Discarding span since it finished after idle span final timeout",V):h.log("[Tracing] Discarding span since it happened after idle span was finished",V)}(!F||!L)&&(xd(g,v),z++)}),z>0&&g.setAttribute("sentry.idle_span_discarded_spans",z)}return a.push(f.on("spanStart",E=>{if(r||E===g||N(E).timestamp||E instanceof gn&&E.isStandaloneSpan())return;tn(g).includes(E)&&H(E.spanContext().spanId)})),a.push(f.on("spanEnd",E=>{r||A(E.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",E=>{E===g&&(s=!0,S(),n.size&&b())})),t.disableAutoFinish||S(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=E_,g.end())},u),g}function T_(e){let t=ot(e);return $t(k(),t),y&&h.log("[Tracing] Started span is an idle span"),t}var lc=0,$d=1,Wd=2;function Ye(e){return new kt(t=>{t(e)})}function yn(e){return new kt((t,n)=>{n(e)})}var kt=class e{constructor(t){this._state=lc,this._handlers=[],this._runExecutor(t)}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===lc)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===$d&&n[1](this._value),this._state===Wd&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===lc){if(xt(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n($d,i)},o=i=>{n(Wd,i)};try{t(r,o)}catch(i){o(i)}}};function $i(e,t,n,r=0){return new kt((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);y&&s.id&&a===null&&h.log(`Event processor "${s.id}" dropped event`),xt(a)?a.then(c=>$i(e,c,n,r+1).then(o)).then(null,i):$i(e,a,n,r+1).then(o).then(null,i)}})}function Gd(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;I_(e,t),r&&R_(e,r),x_(e,n),v_(e,o),w_(e,i)}function mr(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:m}=t;Wi(e,"extra",n),Wi(e,"tags",r),Wi(e,"user",o),Wi(e,"contexts",i),e.sdkProcessingMetadata=mn(e.sdkProcessingMetadata,a,2),s&&(e.level=s),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function Wi(e,t,n){e[t]=mn(e[t],n,1)}function I_(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function v_(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function w_(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function R_(e,t){e.contexts={trace:co(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ie(t),...e.sdkProcessingMetadata};let n=ee(t),r=N(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function x_(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}var Gi,zd,zi;function ji(e){let t=w._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return zi&&n.length===zd||(zd=n.length,zi=n.reduce((r,o)=>{Gi||(Gi={});let i=Gi[o];if(i)r[i[0]]=i[1];else{let s=e(o);for(let a=s.length-1;a>=0;a--){let u=s[a]?.filename,d=t[o];if(u&&d){r[u]=d,Gi[o]=[u,d];break}}}return r},{})),zi}function dc(e,t){let n=ji(e);if(!n)return[];let r=[];for(let o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function _o(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||pe(),timestamp:t.timestamp||ct()},u=n.integrations||e.integrations.map(_=>_.name);C_(c,e),N_(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&A_(c,e.stackParser);let d=O_(r,n.captureContext);n.mechanism&&nt(c,n.mechanism);let l=o?o.getEventProcessors():[],f=Qt().getScopeData();if(i){let _=i.getScopeData();mr(f,_)}if(d){let _=d.getScopeData();mr(f,_)}let p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),Gd(c,f);let m=[...l,...f.eventProcessors];return $i(m,c,n).then(_=>(_&&k_(_),typeof s=="number"&&s>0?M_(_,s,a):_))}function C_(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||nn,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);let s=e.request;s?.url&&(s.url=_t(s.url,i))}function A_(e,t){let n=ji(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function k_(e){let t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function N_(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function M_(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:ke(o.data,t,n)}}))},...e.user&&{user:ke(e.user,t,n)},...e.contexts&&{contexts:ke(e.contexts,t,n)},...e.extra&&{extra:ke(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ke(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:ke(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=ke(e.contexts.flags,3,n)),r}function O_(e,t){if(!t)return e;let n=e?e.clone():new $e;return n.update(t),n}function jd(e){if(e)return L_(e)?{captureContext:e}:P_(e)?{captureContext:e}:e}function L_(e){return e instanceof $e||typeof e=="function"}var D_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function P_(e){return Object.keys(e).some(t=>D_.includes(t))}function dt(e,t){return k().captureException(e,jd(t))}function En(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return k().captureMessage(e,n,r)}function rn(e,t){return k().captureEvent(e,t)}function So(e,t){ie().setContext(e,t)}function fc(e){ie().setExtras(e)}function pc(e,t){ie().setExtra(e,t)}function mc(e){ie().setTags(e)}function hc(e,t){ie().setTag(e,t)}function gc(e){ie().setUser(e)}function yo(){return ie().lastEventId()}async function _c(e){let t=T();return t?t.flush(e):(y&&h.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function Sc(e){let t=T();return t?t.close(e):(y&&h.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function yc(){return!!T()}function Eo(){let e=T();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function bo(e){ie().addEventProcessor(e)}function hr(e){let t=ie(),n=k(),{userAgent:r}=w.navigator||{},o=fd({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&Xt(i,{status:"exited"}),To(),t.setSession(o),o}function To(){let e=ie(),n=k().getSession()||e.getSession();n&&pd(n),qd(),e.setSession()}function qd(){let e=ie(),t=T(),n=e.getSession();n&&t&&t.captureSession(n)}function gr(e=!1){if(e){To();return}qd()}var F_="7";function Vd(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function U_(e){return`${Vd(e)}${e.projectId}/envelope/`}function B_(e,t){let n={sentry_version:F_};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Io(e,t,n){return t||`${U_(e)}?${B_(e,n)}`}function Ec(e,t){let n=io(e);if(!n)return"";let r=`${Vd(n)}embed/error-page/`,o=`dsn=${rt(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var Yd=[];function H_(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function bc(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return H_(r)}function Jd(e,t){let n={};return t.forEach(r=>{r&&Ic(e,r,n)}),n}function Tc(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Ic(e,t,n){if(n[t.name]){y&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Yd.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Yd.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}y&&h.log(`Integration installed: ${t.name}`)}function _r(e){let t=T();if(!t){y&&h.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Kd(e,t,n){let r=[{type:"client_report"},{timestamp:n||ct(),discarded_events:e}];return De(t?{dsn:t}:{},[r])}function qi(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Xd(e){let{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[cr],exclusive_time:s?.[yt],measurements:e.measurements,is_segment:!0}}function Zd(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[cr]:e.profile_id},...e.exclusive_time&&{[yt]:e.exclusive_time}}}},measurements:e.measurements}}var Qd="Not capturing exception because it's already been captured.",ef="Discarded session because of missing or non-string release",rf=Symbol.for("SentryInternalError"),of=Symbol.for("SentryDoNotSendEventError");function Vi(e){return{message:e,[rf]:!0}}function vc(e){return{message:e,[of]:!0}}function tf(e){return!!e&&typeof e=="object"&&rf in e}function nf(e){return!!e&&typeof e=="object"&&of in e}var vo=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=io(t.dsn):y&&h.warn("No DSN provided, client will not send events."),this._dsn){let n=Io(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=pe();if(yi(t))return y&&h.log(Qd),o;let i={event_id:o,...n};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i={event_id:pe(),...r},s=pn(t)?t:String(t),a=gt(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=pe();if(n?.originalException&&yi(n.originalException))return y&&h.log(Qd),o;let i={event_id:o,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),Xt(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):Ye(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];Ic(this,t,this._integrations),n||Tc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Nd(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=ec(r,rc(i));let o=this.sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let{release:n,environment:r=nn}=this._options;if("aggregates"in t){let i=t.attrs||{};if(!i.release&&!n){y&&h.warn(ef);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){y&&h.warn(ef);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);let o=kd(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){let o=`${t}:${n}`;y&&h.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(y&&h.error("Error while sending envelope:",n),n)):(y&&h.error("Transport disabled"),Ye({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Jd(this,t),Tc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1,i=n.exception?.values;if(i){o=!0;for(let c of i)if(c.mechanism?.handled===!1){r=!0;break}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(Xt(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new kt(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),_o(i,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:bi(r),...a.contexts};let c=dr(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=k(),o=ie()){return y&&wc(t)&&h.log(`Captured error event \`${qi(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(i=>i.event_id,i=>{y&&(nf(i)?h.log(i.message):tf(i)?h.warn(i.message):h.warn(i))})}_processEvent(t,n,r,o){let i=this.getOptions(),{sampleRate:s}=i,a=sf(t),c=wc(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof s>"u"?void 0:ut(s);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),yn(vc(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),vc("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;let g=W_(this,i,p,n);return $_(g,d)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),a){let S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw vc(`${d} returned \`null\`, will not send event.`)}let m=r.getSession()||o.getSession();if(c&&m&&this._updateSessionFromEvent(m,p),a){let _=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,S=p.spans?p.spans.length:0,b=_-S;b>0&&this.recordDroppedEvent("before_send","span",b)}let g=p.transaction_info;if(a&&g&&p.transaction!==t.transaction){let _="custom";p.transaction_info={...g,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw nf(p)||tf(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),Vi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}_flushOutcomes(){y&&h.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){y&&h.log("No outcomes to send");return}if(!this._dsn){y&&h.log("No dsn provided, will not send outcomes");return}y&&h.log("Sending outcomes:",t);let n=Kd(t,this._options.tunnel&&rt(this._dsn));this.sendEnvelope(n)}};function $_(e,t){let n=`${t} must return \`null\` or a valid event.`;if(xt(e))return e.then(r=>{if(!Be(r)&&r!==null)throw Vi(n);return r},r=>{throw Vi(`${t} rejected with ${r}`)});if(!Be(e)&&e!==null)throw Vi(n);return e}function W_(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t,a=n;if(wc(a)&&o)return o(a,r);if(sf(a)){if(s){let c=s(Xd(a));if(c?a=mn(n,Zd(c)):lo(),a.spans){let u=[];for(let d of a.spans){let l=s(d);l?u.push(l):(lo(),u.push(d))}a.spans=u}}if(i){if(a.spans){let c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(a,r)}}return a}function wc(e){return e.type===void 0}function sf(e){return e.type==="transaction"}function af(e,t){return t?Ae(t,()=>{let n=Z(),r=n?co(n):bi(t);return[n?Ie(n):dr(e,t),r]}):[void 0,void 0]}var cf={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function G_(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function uf(e,t,n,r){let o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=rt(r)),De(o,[G_(e)])}var z_=100;function j_(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function bn(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function lf(e,t){let n=Rc(),r=df(e);r===void 0?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=z_&&yr(e,r))}function Sr(e,t=T(),n=k(),r=lf){if(!t){y&&h.warn("No client available to capture log.");return}let{release:o,environment:i,enableLogs:s=!1,beforeSendLog:a}=t.getOptions();if(!s){y&&h.warn("logging option not enabled, log will not be captured.");return}let[,c]=af(t,n),u={...e.attributes},{user:{id:d,email:l,username:f}}=q_(n);bn(u,"user.id",d,!1),bn(u,"user.email",l,!1),bn(u,"user.name",f,!1),bn(u,"sentry.release",o),bn(u,"sentry.environment",i);let{name:p,version:m}=t.getSdkMetadata()?.sdk??{};bn(u,"sentry.sdk.name",p),bn(u,"sentry.sdk.version",m);let g=e.message;if(pn(g)){let{__sentry_template_string__:M,__sentry_template_values__:I=[]}=g;u["sentry.message.template"]=M,I.forEach((C,z)=>{u[`sentry.message.parameter.${z}`]=C})}let _=Zt(n);bn(u,"sentry.trace.parent_span_id",_?.spanContext().spanId);let S={...e,attributes:u};t.emit("beforeCaptureLog",S);let b=a?Pe(()=>a(S)):S;if(!b){t.recordDroppedEvent("before_send","log_item",1),y&&h.warn("beforeSendLog returned null, log will not be captured.");return}let{level:H,message:A,attributes:O={},severityNumber:E}=b,R={timestamp:ne(),level:H,body:A,trace_id:c?.trace_id,severity_number:E??cf[H],attributes:Object.keys(O).reduce((M,I)=>(M[I]=j_(O[I]),M),{})};r(t,R),t.emit("afterCaptureLog",b)}function yr(e,t){let n=t??df(e)??[];if(n.length===0)return;let r=e.getOptions(),o=uf(n,r._metadata,r.tunnel,e.getDsn());Rc().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function df(e){return Rc().get(e)}function q_(e){let t=Qt().getScopeData();return mr(t,ie().getScopeData()),mr(t,e.getScopeData()),t}function Rc(){return Kt("clientToLogBufferMap",()=>new WeakMap)}function xc(e,t){t.debug===!0&&(y?h.enable():Pe(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),k().update(t.initialScope);let r=new e(t);return Yi(r),r.init(),r}function Yi(e){k().setClient(e)}var Cc=Symbol.for("SentryBufferFullError");function ff(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return yn(Cc);let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new kt((a,c)=>{let u=t.length;if(!u)return a(!0);let d=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{Ye(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:o,drain:i}}function Ji(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function pf(e,t){return e[t]||e.all||0}function wo(e,t,n=Date.now()){return pf(e,t)>n}function Ro(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(let p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[p]=r+f):o[p]=r+f}else s?o.all=r+Ji(s,r):t===429&&(o.all=r+60*1e3);return o}var V_=64;function xo(e,t,n=ff(e.bufferSize||V_)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(lt(s,(l,f)=>{let p=Pi(f);wo(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return Ye({});let c=De(s[0],a),u=l=>{lt(c,(f,p)=>{e.recordDroppedEvent(l,Pi(p))})},d=()=>t({body:hn(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&y&&h.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Ro(r,l),l),l=>{throw u("network_error"),y&&h.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Cc)return y&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),Ye({});throw l})}return{send:i,flush:o}}var Ac=100,kc=5e3,Y_=36e5;function Nc(e){function t(...n){y&&h.log("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let o=n.createStore(n),i=kc,s;function a(l,f,p){return Di(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let f=await o.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(i),i=Math.min(i*2,Y_))}async function d(l,f=!1){if(!f&&Di(l,["replay_event","replay_recording"]))return await o.push(l),c(Ac),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let p=await r.send(l),m=Ac;if(p){if(p.headers?.["retry-after"])m=Ji(p.headers["retry-after"]);else if(p.headers?.["x-sentry-rate-limits"])m=6e4;else if((p.statusCode||0)>=400)return p}return c(m),i=kc,p}catch(p){if(await a(l,p,i))return f?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(i=kc,c(Ac)),r.flush(l))}}}function mf(e,t){let n;return lt(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function J_(e,t){return n=>{let r=e(n);return{...r,send:async o=>{let i=mf(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)}}}}function K_(e,t){return De(t?{...e[0],dsn:t}:e[0],e[1])}function Mc(e,t){return n=>{let r=e(n),o=new Map;function i(c,u){let d=u?`${c}:${u}`:c,l=o.get(d);if(!l){let f=wi(c);if(!f)return;let p=Io(f,n.tunnel);l=u?J_(e,u)({...n,url:p}):e({...n,url:p}),o.set(d,l)}return[c,l]}async function s(c){function u(p){let m=p?.length?p:["event"];return mf(c,m)}let d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?i(p,void 0):i(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,m])=>m.send(K_(c,p)))))[0]}async function a(c){let u=[...o.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:s,flush:a}}}function Co(e,t){let n=t?.getDsn(),r=t?.getOptions().tunnel;return Z_(e,n)||X_(e,r)}function X_(e,t){return t?hf(e)===hf(t):!1}function Z_(e,t){return t?e.includes(t.host):!1}function hf(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Ki(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Oc=Ki;function Lc(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function Dc(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Pc(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Qe})),version:Qe}),e._metadata=o}function Pn(e={}){let t=e.client||T();if(!Eo()||!t)return{};let n=je(),r=St(n);if(r.getTraceData)return r.getTraceData(e);let o=e.scope||k(),i=e.span||Z(),s=i?uo(i):Q_(o),a=i?Ie(i):dr(t,o),c=vi(a);return xi.test(s)?{"sentry-trace":s,baggage:c}:(h.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Q_(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ao(t,r,n)}function Fc(e,t,n){let r,o,i,s=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function d(){return o!==void 0||i!==void 0?c():r}function l(){return o&&clearTimeout(o),o=a(c,t),s&&i===void 0&&(i=a(c,s)),r}return l.cancel=u,l.flush=d,l}var eS=100;function Je(e,t){let n=T(),r=ie();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=eS}=n.getOptions();if(i<=0)return;let a={timestamp:ct(),...e},c=o?Pe(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var gf,tS="FunctionToString",_f=new WeakMap,nS=()=>({name:tS,setupOnce(){gf=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=Mn(this),n=_f.has(T())&&t!==void 0?t:this;return gf.apply(n,e)}}catch{}},setup(e){_f.set(e,!0)}}),Ao=nS;var rS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],oS="EventFilters",Zi=(e={})=>{let t;return{name:oS,setup(n){let r=n.getOptions();t=Sf(e,r)},processEvent(n,r,o){if(!t){let i=o.getOptions();t=Sf(e,i)}return iS(n,t)?null:n}}},ko=(e={})=>({...Zi(e),name:"InboundFilters"});function Sf(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:rS],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function iS(e,t){if(e.type){if(e.type==="transaction"&&aS(e,t.ignoreTransactions))return y&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ht(e)}`),!0}else{if(sS(e,t.ignoreErrors))return y&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ht(e)}`),!0;if(dS(e))return y&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ht(e)}`),!0;if(cS(e,t.denyUrls))return y&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ht(e)}.
Url: ${Xi(e)}`),!0;if(!uS(e,t.allowUrls))return y&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ht(e)}.
Url: ${Xi(e)}`),!0}return!1}function sS(e,t){return t?.length?qi(e).some(n=>Le(n,t)):!1}function aS(e,t){if(!t?.length)return!1;let n=e.transaction;return n?Le(n,t):!1}function cS(e,t){if(!t?.length)return!1;let n=Xi(e);return n?Le(n,t):!1}function uS(e,t){if(!t?.length)return!0;let n=Xi(e);return n?Le(n,t):!0}function lS(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Xi(e){try{let n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?lS(n):null}catch{return y&&h.error(`Cannot extract url for event ${Ht(e)}`),null}}function dS(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Bc(e,t,n,r,o,i){if(!o.exception?.values||!i||!at(i.originalException,Error))return;let s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=Uc(e,t,r,i.originalException,n,o.exception.values,s,0))}function Uc(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(at(r[o],Error)){yf(s,a);let u=e(t,r[o]),d=c.length;Ef(u,o,d,a),c=Uc(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(at(u,Error)){yf(s,a);let l=e(t,u),f=c.length;Ef(l,`errors[${d}]`,f,a),c=Uc(e,t,n,u,o,[l,...c],l,f)}}),c}function yf(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Ef(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var Tf=new Map,bf=new Set;function fS(e){if(w._sentryModuleMetadata)for(let t of Object.keys(w._sentryModuleMetadata)){let n=w._sentryModuleMetadata[t];if(bf.has(t))continue;bf.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){Tf.set(o.filename,n);break}}}function pS(e,t){return fS(e),Tf.get(t)}function Qi(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let o=pS(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function es(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var Hc=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{lt(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(es(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;Qi(n,t)})}});function Fn(e){let t="console";Fe(t,e),Ue(t,mS)}function mS(){"console"in w&&An.forEach(function(e){e in w.console&&Se(w.console,e,function(t){return nr[e]=t,function(...n){we("console",{args:n,level:e}),nr[e]?.apply(w.console,n)}})})}function Un(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var hS="CaptureConsole",gS=(e={})=>{let t=e.levels||An,n=e.handled??!0;return{name:hS,setup(r){"console"in w&&Fn(({args:o,level:i})=>{T()!==r||!t.includes(i)||_S(o,i,n)})}}},$c=gS;function _S(e,t,n){let r={level:Un(t),extra:{arguments:e}};Ae(o=>{if(o.addEventProcessor(a=>(a.logger="console",nt(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){let a=`Assertion failed: ${Nn(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),En(a,r)}return}let i=e.find(a=>a instanceof Error);if(i){dt(i,r);return}let s=Nn(e," ");En(s,r)})}var SS="Dedupe",yS=()=>{let e;return{name:SS,processEvent(t){if(t.type)return t;try{if(ES(t,e))return y&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},No=yS;function ES(e,t){return t?!!(bS(e,t)||TS(e,t)):!1}function bS(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!wf(e,t)||!vf(e,t))}function TS(e,t){let n=If(t),r=If(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!wf(e,t)||!vf(e,t))}function vf(e,t){let n=rr(e),r=rr(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function wf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function If(e){return e.exception?.values?.[0]}var IS="ExtraErrorData",vS=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:IS,processEvent(r,o,i){let{maxValueLength:s=250}=i.getOptions();return wS(r,o,t,n,s)}}},Wc=vS;function wS(e,t={},n,r,o){if(!t.originalException||!tt(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=RS(t.originalException,r,o);if(s){let a={...e.contexts},c=ke(s,n);return Be(c)&&(fe(c,"__sentry_skip_normalization__",!0),a[i]=c),{...e,contexts:a}}return e}function RS(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];o[i]=tt(s)||typeof s=="string"?_t(`${s}`,n):s}if(t&&e.cause!==void 0&&(o.cause=tt(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let a=i[s];o[s]=tt(a)?a.toString():a}}return o}catch(r){y&&h.error("Unable to extract extra data from the Error object:",r)}return null}function xS(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var CS=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function AS(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=CS.exec(t);return n?n.slice(1):[]}function Rf(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=xS(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function xf(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Cf(e,t){e=Rf(e).slice(1),t=Rf(t).slice(1);let n=xf(e.split("/")),r=xf(t.split("/")),o=Math.min(n.length,r.length),i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function Af(e,t){let n=AS(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var kS="RewriteFrames",Gc=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in w&&!!w.window,o=e.iteratee||NS({isBrowser:r,root:t,prefix:n});function i(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames?.map(c=>o(c))}}return{name:kS,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function NS({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){let s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?Cf(t,s):Af(s);r.filename=`${n}${a}`}return r}}var MS=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],OS=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],LS={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},Nf=["select","insert","upsert","update","delete"];function ts(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function ns(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function DS(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function PS(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&LS[n]||"filter",`${o}(${e}, ${r.join(".")})`}function kf(e,t=!1){return new Proxy(e,{apply(n,r,o){return _n({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[X]:"auto.db.supabase",[he]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,o).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),dt(s.error,{mechanism:{handled:!1}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),dt(s,{mechanism:{handled:!1}}),s}).then(...o))}})}function FS(e){let t=e.auth;if(!(!t||ns(e.auth))){for(let n of MS){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=kf(r))}for(let n of OS){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=kf(r,!0))}ts(e.auth)}}function US(e){ns(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let o=Reflect.apply(t,n,r),i=o.constructor;return HS(i),o}}),ts(e.prototype.from))}function BS(e){ns(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){let o=Nf,i=n,s=DS(i.method,i.headers);if(!o.includes(s)||!i?.url?.pathname||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(let[p,m]of i.url.searchParams.entries())u.push(PS(p,m));let d=Object.create(null);if(Be(i.body))for(let[p,m]of Object.entries(i.body))d[p]=m;let l=`${s==="select"?"":`${s}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,f={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[X]:"auto.db.supabase",[he]:"db"};return u.length&&(f["db.query"]=u),Object.keys(d).length&&(f["db.body"]=d),_n({name:l,attributes:f},p=>Reflect.apply(t,n,[]).then(m=>{if(p&&(m&&typeof m=="object"&&"status"in m&&zt(p,m.status||500),p.end()),m.error){let S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);let b={};u.length&&(b.query=u),Object.keys(d).length&&(b.body=d),dt(S,{contexts:{supabase:b}})}let g={type:"supabase",category:`db.${s}`,message:l},_={};return u.length&&(_.query=u),Object.keys(d).length&&(_.body=d),Object.keys(_).length&&(g.data=_),Je(g),m},m=>{throw p&&(zt(p,500),p.end()),m}).then(...r))}}),ts(e.prototype.then))}function HS(e){for(let t of Nf)ns(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){let i=Reflect.apply(n,r,o),s=i.constructor;return y&&h.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),BS(s),i}}),ts(e.prototype[t]))}var rs=e=>{if(!e){y&&h.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;US(t),FS(e)},$S="Supabase",WS=e=>({setupOnce(){rs(e)},name:$S}),zc=e=>WS(e.supabaseClient);var GS=10,zS="ZodErrors";function jS(e){return tt(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function qS(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function VS(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function YS(e){let t=new Set;for(let r of e.issues){let o=VS(r.path);o.length>0&&t.add(o)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${_t(n.join(", "),100)}`}function JS(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!jS(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(qS);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:YS(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}var KS=(e={})=>{let t=e.limit??GS;return{name:zS,processEvent(n,r){return JS(t,e.saveZodIssuesAsAttachment,n,r)}}},jc=KS;var qc=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{lt(n,(r,o)=>{if(o==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(es(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;Qi(r,n)})},processEvent(t){let n=XS(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](i=>!i.some(s=>e.filterKeys.includes(s)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function XS(e){let t=rr(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(Mf)).map(r=>r.slice(Mf.length)):[])}var Mf="_sentryBundlerPluginAppKey:";var Of=100,Lf=10,os="flag.evaluation.";function Nt(e){let n=k().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function Tt(e,t,n=Of){let r=k().getScopeData().contexts;r.flags||(r.flags={values:[]});let o=r.flags.values;ZS(o,e,t,n)}function ZS(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){y&&h.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let o=e.findIndex(i=>i.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function It(e,t,n=Lf){if(typeof t!="boolean")return;let r=Z();if(!r)return;let o=N(r).data;if(`${os}${e}`in o){r.setAttribute(`${os}${e}`,t);return}Object.keys(o).filter(s=>s.startsWith(os)).length<n&&r.setAttribute(`${os}${e}`,t)}var Vc=()=>({name:"FeatureFlags",processEvent(e,t,n){return Nt(e)},addFeatureFlag(e,t){Tt(e,t),It(e,t)}});var QS="thismessage:/";function is(e){return"isRelative"in e}function Mo(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?QS:void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function Yc(e){if(is(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Mt(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Oo(e){return e.split(/[?#]/,1)[0]}function Jc(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,a=Ve()&&t(s);if(e.endTimestamp&&a){let l=e.fetchData.__span;if(!l)return;let f=r[l];f&&(ty(f,e),delete r[l]);return}let c=!!Z(),u=a&&c?ot(ry(s,i,o)):new We;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){let l=e.args[0],f=e.args[1]||{},p=ey(l,f,Ve()&&c?u:void 0);p&&(e.args[1]=f,f.headers=p)}let d=T();if(d){let l={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,l)}return u}function ey(e,t,n){let r=Pn({span:n}),o=r["sentry-trace"],i=r.baggage;if(!o)return;let s=t.headers||(gi(e)?e.headers:void 0);if(s)if(ny(s)){let a=new Headers(s);if(a.get("sentry-trace")||a.set("sentry-trace",o),i){let c=a.get("baggage");c?ss(c)||a.set("baggage",`${c},${i}`):a.set("baggage",i)}return a}else if(Array.isArray(s)){let a=[...s];s.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",o]);let c=s.find(u=>u[0]==="baggage"&&ss(u[1]));return i&&!c&&a.push(["baggage",i]),a}else{let a="sentry-trace"in s?s["sentry-trace"]:void 0,c="baggage"in s?s.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],d=c&&(Array.isArray(c)?c.find(l=>ss(l)):ss(c));return i&&!d&&u.push(i),{...s,"sentry-trace":a??o,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function ty(e,t){if(t.response){zt(e,t.response.status);let n=t.response?.headers?.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function ss(e){return e.split(",").some(t=>t.trim().startsWith(Ii))}function ny(e){return typeof Headers<"u"&&at(e,Headers)}function ry(e,t,n){let r=Mo(e);return{name:r?`${t} ${Yc(r)}`:t,attributes:oy(e,r,t,n)}}function oy(e,t,n,r){let o={url:e,type:"fetch","http.method":n,[X]:r,[he]:"http.client"};return t&&(is(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function Lo(e,t={},n=k()){let{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||T();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var iy="ConsoleLogs",Df={[X]:"auto.console.logging"},sy=(e={})=>{let t=e.levels||An;return{name:iy,setup(n){let{enableLogs:r,normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=n.getOptions();if(!r){y&&h.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}Fn(({args:s,level:a})=>{if(T()!==n||!t.includes(a))return;if(a==="assert"){if(!s[0]){let u=s.slice(1),d=u.length>0?`Assertion failed: ${Pf(u,o,i)}`:"Assertion failed";Sr({level:"error",message:d,attributes:Df})}return}let c=a==="log";Sr({level:c?"info":a,message:Pf(s,o,i),severityNumber:c?10:void 0,attributes:Df})})}}},Kc=sy;function Pf(e,t,n){return"util"in w&&typeof w.util.format=="function"?w.util.format(...e):ay(e,t,n)}function ay(e,t,n){return e.map(r=>gt(r)?String(r):JSON.stringify(ke(r,t,n))).join(" ")}function as(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var Er=w;function Xc(){return"history"in Er&&!!Er.history}function cy(){if(!("fetch"in Er))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Do(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Po(){if(typeof EdgeRuntime=="string")return!0;if(!cy())return!1;if(Do(Er.fetch))return!0;let e=!1,t=Er.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Do(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){y&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Zc(){return"ReportingObserver"in Er}function Bn(e,t){let n="fetch";Fe(n,e),Ue(n,()=>Uf(void 0,t))}function eu(e){let t="fetch-body-resolved";Fe(t,e),Ue(t,()=>Uf(ly))}function Uf(e,t=!1){t&&!Po()||Se(w,"fetch",function(n){return function(...r){let o=new Error,{method:i,url:s}=dy(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:ne()*1e3,virtualError:o,headers:fy(r)};return e||we("fetch",{...a}),n.apply(w,r).then(async c=>(e?e(c):we("fetch",{...a,endTimestamp:ne()*1e3,response:c}),c),c=>{if(we("fetch",{...a,endTimestamp:ne()*1e3,error:c}),tt(c)&&c.stack===void 0&&(c.stack=o.stack,fe(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function uy(e,t){if(e?.body){let n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:a}=await r.read();clearTimeout(s),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(s)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function ly(e){let t;try{t=e.clone()}catch{return}uy(t,()=>{we("fetch-body-resolved",{endTimestamp:ne()*1e3,response:e})})}function Qc(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Ff(e){return typeof e=="string"?e:e?Qc(e,"url")?e.url:e.toString?e.toString():"":""}function dy(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Ff(n),method:Qc(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Ff(t),method:Qc(t,"method")?String(t.method).toUpperCase():"GET"}}function fy(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(gi(t))return new Headers(t.headers)}catch{}}function tu(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function nu(){return"npm"}function Bf(){return!tu()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function br(){return typeof window<"u"&&(!Bf()||py())}function py(){return w.process?.type==="renderer"}var Lt=w,se=Lt.document,Fo=Lt.navigator,np="Report a Bug",my="Cancel",hy="Send Bug Report",gy="Confirm",_y="Report a Bug",Sy="your.email@example.org",yy="Email",Ey="What's the bug? What did you expect?",by="Description",Ty="Your Name",Iy="Name",vy="Thank you for your report!",wy="(required)",Ry="Add a screenshot",xy="Remove screenshot",Cy="widget",Ay="api",ky=5e3,fu=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=T();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&k().setTags(e.tags);let r=Lo({source:Ay,url:qe(),...e},t);return new Promise((o,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(s),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?o(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?i("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},ds=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ny(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Fo.userAgent)||/Macintosh/i.test(Fo.userAgent)&&Fo.maxTouchPoints&&Fo.maxTouchPoints>1||!isSecureContext)}function cs(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function My(e){let t=se.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function ft(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var Tr=20,Oy="http://www.w3.org/2000/svg";function Ly(){let e=a=>Lt.document.createElementNS(Oy,a),t=ft(e("svg"),{width:`${Tr}`,height:`${Tr}`,viewBox:`0 0 ${Tr} ${Tr}`,fill:"var(--actor-color, var(--foreground))"}),n=ft(e("g"),{clipPath:"url(#clip0_57_80)"}),r=ft(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=ft(e("clipPath"),{id:"clip0_57_80"}),s=ft(e("rect"),{width:`${Tr}`,height:`${Tr}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function Dy({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let o=se.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||np,o.appendChild(Ly()),e){let s=se.createElement("span");s.appendChild(se.createTextNode(e)),o.appendChild(s)}let i=My(r);return{el:o,appendToDom(){n.appendChild(i),n.appendChild(o)},removeFromDom(){o.remove(),i.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}var rp="rgba(88, 74, 192, 1)",Py={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:rp,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Hf={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:rp,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function $f(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function Fy({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let o=se.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${$f(e==="dark"?{...Hf,...t}:{...Py,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${$f({...Hf,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}var _s=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:m,scriptNonce:g,colorScheme:_="system",themeLight:S={},themeDark:b={},addScreenshotButtonLabel:H=Ry,cancelButtonLabel:A=my,confirmButtonLabel:O=gy,emailLabel:E=yy,emailPlaceholder:R=Sy,formTitle:M=_y,isRequiredLabel:I=wy,messageLabel:C=by,messagePlaceholder:z=Ey,nameLabel:v=Iy,namePlaceholder:D=Ty,removeScreenshotButtonLabel:q=xy,submitButtonLabel:U=hy,successMessageText:L=vy,triggerLabel:$=np,triggerAriaLabel:F="",onFormOpen:V,onFormClose:K,onSubmitSuccess:ge,onSubmitError:ht,onFormSubmitted:xe}={})=>{let ve={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:m,scriptNonce:g,colorScheme:_,themeDark:b,themeLight:S,triggerLabel:$,triggerAriaLabel:F,cancelButtonLabel:A,submitButtonLabel:U,confirmButtonLabel:O,formTitle:M,emailLabel:E,emailPlaceholder:R,messageLabel:C,messagePlaceholder:z,nameLabel:v,namePlaceholder:D,successMessageText:L,isRequiredLabel:I,addScreenshotButtonLabel:H,removeScreenshotButtonLabel:q,onFormClose:K,onFormOpen:V,onSubmitError:ht,onSubmitSuccess:ge,onFormSubmitted:xe},st=null,Jt=[],Qn=_e=>{if(!st){let Oe=se.createElement("div");Oe.id=String(_e.id),se.body.appendChild(Oe),st=Oe.attachShadow({mode:"open"}),st.appendChild(Fy(_e))}return st},er=async _e=>{let Oe=_e.enableScreenshot&&Ny(),Ut,Te;try{Ut=(t?t():await e("feedbackModalIntegration",g))(),_r(Ut)}catch{throw ds&&h.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let Bt=Oe?n?n():await e("feedbackScreenshotIntegration",g):void 0;Bt&&(Te=Bt(),_r(Te))}catch{ds&&h.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let Ce=Ut.createDialog({options:{..._e,onFormClose:()=>{Ce?.close(),_e.onFormClose?.()},onFormSubmitted:()=>{Ce?.close(),_e.onFormSubmitted?.()}},screenshotIntegration:Te,sendFeedback:fu,shadow:Qn(_e)});return Ce},Zr=(_e,Oe={})=>{let Ut=cs(ve,Oe),Te=typeof _e=="string"?se.querySelector(_e):typeof _e.addEventListener=="function"?_e:null;if(!Te)throw ds&&h.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let Ce=null,Bt=async()=>{Ce||(Ce=await er({...Ut,onFormSubmitted:()=>{Ce?.removeFromDom(),Ut.onFormSubmitted?.()}})),Ce.appendToDom(),Ce.open()};Te.addEventListener("click",Bt);let Cn=()=>{Jt=Jt.filter(tr=>tr!==Cn),Ce?.removeFromDom(),Ce=null,Te.removeEventListener("click",Bt)};return Jt.push(Cn),Cn},dn=(_e={})=>{let Oe=cs(ve,_e),Ut=Qn(Oe),Te=Dy({triggerLabel:Oe.triggerLabel,triggerAriaLabel:Oe.triggerAriaLabel,shadow:Ut,styleNonce:m});return Zr(Te.el,{...Oe,onFormOpen(){Te.hide()},onFormClose(){Te.show()},onFormSubmitted(){Te.show()}}),Te};return{name:"Feedback",setupOnce(){!br()||!ve.autoInject||(se.readyState==="loading"?se.addEventListener("DOMContentLoaded",()=>dn().appendToDom()):dn().appendToDom())},attachTo:Zr,createWidget(_e={}){let Oe=dn(cs(ve,_e));return Oe.appendToDom(),Oe},async createForm(_e={}){return er(cs(ve,_e))},remove(){st&&(st.parentElement?.remove(),st=null),Jt.forEach(_e=>_e()),Jt=[]}}};function op(){return T()?.getIntegrationByName("Feedback")}var Ss,ce,ip,Hn,Wf,sp,cu,Uo={},pu=[],Uy=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,mu=Array.isArray;function In(e,t){for(var n in t)e[n]=t[n];return e}function ap(e){var t=e.parentNode;t&&t.removeChild(e)}function Y(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?Ss.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return fs(e,s,r,o,null)}function fs(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++ip,__i:-1,__u:0};return o==null&&ce.vnode!=null&&ce.vnode(i),i}function Bo(e){return e.children}function ps(e,t){this.props=e,this.context=t}function vr(e,t){if(t==null)return e.__?vr(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?vr(e):null}function By(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=In({},o)).__v=o.__v+1,ce.vnode&&ce.vnode(r),hu(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??vr(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&cp(r),r}function cp(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return cp(e)}}function Gf(e){(!e.__d&&(e.__d=!0)&&Hn.push(e)&&!gs.__r++||Wf!==ce.debounceRendering)&&((Wf=ce.debounceRendering)||sp)(gs)}function gs(){var e,t,n,r=[],o=[];for(Hn.sort(cu);e=Hn.shift();)e.__d&&(n=Hn.length,t=By(e,r,o)||t,n===0||Hn.length>n?(uu(r,t,o),o.length=r.length=0,t=void 0,Hn.sort(cu)):t&&ce.__c&&ce.__c(t,pu));t&&uu(r,t,o),gs.__r=0}function up(e,t,n,r,o,i,s,a,c,u,d){var l,f,p,m,g,_=r&&r.__k||pu,S=t.length;for(n.__d=c,Hy(n,t,_),c=n.__d,l=0;l<S;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?Uo:_[p.__i]||Uo,p.__i=l,hu(e,p,f,o,i,s,a,c,u,d),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&gu(f.ref,null,p),d.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),65536&p.__u||f.__k===p.__k?c=lp(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:m&&(c=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=g}function Hy(e,t,n){var r,o,i,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?fs(null,o,null,null,o):mu(o)?fs(Bo,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?fs(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=$y(o,n,s=r+l,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=vr(i)),lu(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&(131072&i.__u)==0&&(i.__e==e.__d&&(e.__d=vr(i)),lu(i,i))}function lp(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=lp(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function $y(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return a;a++}}return-1}function zf(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Uy.test(t)?n:n+"px"}function us(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||zf(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||zf(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?qf:jf,i)):e.removeEventListener(t,i?qf:jf,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function jf(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ce.event?ce.event(e):e)}}function qf(e){if(this.l)return this.l[e.type+!0](ce.event?ce.event(e):e)}function hu(e,t,n,r,o,i,s,a,c,u){var d,l,f,p,m,g,_,S,b,H,A,O,E,R,M,I=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=ce.__b)&&d(t);e:if(typeof I=="function")try{if(S=t.props,b=(d=I.contextType)&&r[d.__c],H=d?b?b.props.value:d.__:r,n.__c?_=(l=t.__c=n.__c).__=l.__E:("prototype"in I&&I.prototype.render?t.__c=l=new I(S,H):(t.__c=l=new ps(S,H),l.constructor=I,l.render=Gy),b&&b.sub(l),l.props=S,l.state||(l.state={}),l.context=H,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),I.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=In({},l.__s)),In(l.__s,I.getDerivedStateFromProps(S,l.__s))),p=l.props,m=l.state,l.__v=t,f)I.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(I.getDerivedStateFromProps==null&&S!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(S,H),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(S,l.__s,H)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=S,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(C){C&&(C.__=t)}),A=0;A<l._sb.length;A++)l.__h.push(l._sb[A]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(S,l.__s,H),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,m,g)})}if(l.context=H,l.props=S,l.__P=e,l.__e=!1,O=ce.__r,E=0,"prototype"in I&&I.prototype.render){for(l.state=l.__s,l.__d=!1,O&&O(t),d=l.render(l.props,l.state,l.context),R=0;R<l._sb.length;R++)l.__h.push(l._sb[R]);l._sb=[]}else do l.__d=!1,O&&O(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++E<25);l.state=l.__s,l.getChildContext!=null&&(r=In(In({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(p,m)),up(e,mu(M=d!=null&&d.type===Bo&&d.key==null?d.props.children:d)?M:[M],t,n,r,o,i,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),_&&(l.__E=l.__=null)}catch(C){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ce.__e(C,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Wy(n.__e,t,n,r,o,i,s,c,u);(d=ce.diffed)&&d(t)}function uu(e,t,n){for(var r=0;r<n.length;r++)gu(n[r],n[++r],n[++r]);ce.__c&&ce.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){ce.__e(i,o.__v)}})}function Wy(e,t,n,r,o,i,s,a,c){var u,d,l,f,p,m,g,_=n.props,S=t.props,b=t.type;if(b==="svg"&&(o=!0),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!b&&(b?p.localName===b:p.nodeType===3)){e=p,i[u]=null;break}}if(e==null){if(b===null)return document.createTextNode(S);e=o?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,S.is&&S),i=null,a=!1}if(b===null)_===S||a&&e.data===S||(e.data=S);else{if(i=i&&Ss.call(e.childNodes),_=n.props||Uo,!a&&i!=null)for(_={},u=0;u<e.attributes.length;u++)_[(p=e.attributes[u]).name]=p.value;for(u in _)p=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in S||us(e,u,null,p,o));for(u in S)p=S[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?m=p:u=="checked"?g=p:u==="key"||a&&typeof p!="function"||_[u]===p||us(e,u,p,_[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),up(e,mu(f)?f:[f],t,n,r,o&&b!=="foreignObject",i,s,i?i[0]:n.__k&&vr(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&ap(i[u]);a||(u="value",m!==void 0&&(m!==e[u]||b==="progress"&&!m||b==="option"&&m!==_[u])&&us(e,u,m,_[u],!1),u="checked",g!==void 0&&g!==e[u]&&us(e,u,g,_[u],!1))}return e}function gu(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ce.__e(r,n)}}function lu(e,t,n){var r,o;if(ce.unmount&&ce.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||gu(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){ce.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&lu(r[o],t,n||typeof e.type!="function");n||e.__e==null||ap(e.__e),e.__=e.__e=e.__d=void 0}function Gy(e,t,n){return this.constructor(e,n)}function zy(e,t,n){var r,o,i,s;ce.__&&ce.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],hu(t,e=t.__k=Y(Bo,null,[e]),o||Uo,Uo,t.ownerSVGElement!==void 0,o?null:t.firstChild?Ss.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),e.__d=void 0,uu(i,e,s)}Ss=pu.slice,ce={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},ip=0,ps.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=In({},this.state),typeof e=="function"&&(e=e(In({},n),this.props)),e&&In(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Gf(this))},ps.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Gf(this))},ps.prototype.render=Bo,Hn=[],sp=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,cu=function(e,t){return e.__v.__b-t.__v.__b},gs.__r=0;var on,ae,ru,Vf,wr=0,dp=[],ms=[],ye=ce,Yf=ye.__b,Jf=ye.__r,Kf=ye.diffed,Xf=ye.__c,Zf=ye.unmount,Qf=ye.__;function Wn(e,t){ye.__h&&ye.__h(ae,e,wr||t),wr=0;var n=ae.__H||(ae.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ms}),n.__[e]}function $n(e){return wr=1,fp(mp,e)}function fp(e,t,n){var r=Wn(on++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):mp(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ae,!ae.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};ae.u=!0;var i=ae.shouldComponentUpdate,s=ae.componentWillUpdate;ae.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},ae.shouldComponentUpdate=o}return r.__N||r.__}function jy(e,t){var n=Wn(on++,3);!ye.__s&&_u(n.__H,t)&&(n.__=e,n.i=t,ae.__H.__h.push(n))}function pp(e,t){var n=Wn(on++,4);!ye.__s&&_u(n.__H,t)&&(n.__=e,n.i=t,ae.__h.push(n))}function qy(e){return wr=5,Ho(function(){return{current:e}},[])}function Vy(e,t,n){wr=6,pp(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Ho(e,t){var n=Wn(on++,7);return _u(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Ir(e,t){return wr=8,Ho(function(){return e},t)}function Yy(e){var t=ae.context[e.__c],n=Wn(on++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ae)),t.props.value):e.__}function Jy(e,t){ye.useDebugValue&&ye.useDebugValue(t?t(e):e)}function Ky(e){var t=Wn(on++,10),n=$n();return t.__=e,ae.componentDidCatch||(ae.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Xy(){var e=Wn(on++,11);if(!e.__){for(var t=ae.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Zy(){for(var e;e=dp.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(hs),e.__H.__h.forEach(du),e.__H.__h=[]}catch(t){e.__H.__h=[],ye.__e(t,e.__v)}}ye.__b=function(e){ae=null,Yf&&Yf(e)},ye.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Qf&&Qf(e,t)},ye.__r=function(e){Jf&&Jf(e),on=0;var t=(ae=e.__c).__H;t&&(ru===ae?(t.__h=[],ae.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ms,n.__N=n.i=void 0})):(t.__h.forEach(hs),t.__h.forEach(du),t.__h=[],on=0)),ru=ae},ye.diffed=function(e){Kf&&Kf(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(dp.push(t)!==1&&Vf===ye.requestAnimationFrame||((Vf=ye.requestAnimationFrame)||Qy)(Zy)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ms&&(n.__=n.__V),n.i=void 0,n.__V=ms})),ru=ae=null},ye.__c=function(e,t){t.some(function(n){try{n.__h.forEach(hs),n.__h=n.__h.filter(function(r){return!r.__||du(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ye.__e(r,n.__v)}}),Xf&&Xf(e,t)},ye.unmount=function(e){Zf&&Zf(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{hs(r)}catch(o){t=o}}),n.__H=void 0,t&&ye.__e(t,n.__v))};var ep=typeof requestAnimationFrame=="function";function Qy(e){var t,n=function(){clearTimeout(r),ep&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);ep&&(t=requestAnimationFrame(n))}function hs(e){var t=ae,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ae=t}function du(e){var t=ae;e.__c=e.__(),ae=t}function _u(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function mp(e,t){return typeof t=="function"?t(e):t}var eE=Object.defineProperty({__proto__:null,useCallback:Ir,useContext:Yy,useDebugValue:Jy,useEffect:jy,useErrorBoundary:Ky,useId:Xy,useImperativeHandle:Vy,useLayoutEffect:pp,useMemo:Ho,useReducer:fp,useRef:qy,useState:$n},Symbol.toStringTag,{value:"Module"}),tE="http://www.w3.org/2000/svg";function nE(){let e=r=>se.createElementNS(tE,r),t=ft(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=ft(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function rE({options:e}){let t=Ho(()=>({__html:nE().outerHTML}),[]);return Y("h2",{class:"dialog__header"},Y("span",{class:"dialog__title"},e.formTitle),e.showBranding?Y("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function oE(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function ou(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function iE({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){let{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:m,emailPlaceholder:g,isEmailRequired:_,isNameRequired:S,messageLabel:b,messagePlaceholder:H,nameLabel:A,namePlaceholder:O,submitButtonLabel:E,isRequiredLabel:R}=e,[M,I]=$n(!1),[C,z]=$n(null),[v,D]=$n(!1),q=u?.input,[U,L]=$n(null),$=Ir(K=>{L(K),D(!1)},[]),F=Ir(K=>{let ge=oE(K,{emailLabel:m,isEmailRequired:_,isNameRequired:S,messageLabel:b,nameLabel:A});return ge.length>0?z(`Please enter in the following required fields: ${ge.join(", ")}`):z(null),ge.length===0},[m,_,S,b,A]),V=Ir(async K=>{I(!0);try{if(K.preventDefault(),!(K.target instanceof HTMLFormElement))return;let ge=new FormData(K.target),ht=await(u&&v?u.value():void 0),xe={name:ou(ge,"name"),email:ou(ge,"email"),message:ou(ge,"message"),attachments:ht?[ht]:void 0};if(!F(xe))return;try{let ve=await o({name:xe.name,email:xe.email,message:xe.message,source:Cy,tags:d},{attachments:xe.attachments});i(xe,ve)}catch(ve){ds&&h.error(ve),z(ve),s(ve)}}finally{I(!1)}},[u&&v,i,s]);return Y("form",{class:"form",onSubmit:V},q&&v?Y(q,{onError:$}):null,Y("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:M},Y("div",{class:"form__top"},C?Y("div",{class:"form__error-container"},C):null,c?Y("label",{for:"name",class:"form__label"},Y(iu,{label:A,isRequiredLabel:R,isRequired:S}),Y("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:O,required:S,type:"text"})):Y("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?Y("label",{for:"email",class:"form__label"},Y(iu,{label:m,isRequiredLabel:R,isRequired:_}),Y("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:_,type:"email"})):Y("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),Y("label",{for:"message",class:"form__label"},Y(iu,{label:b,isRequiredLabel:R,isRequired:!0}),Y("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:H,required:!0,rows:5})),q?Y("label",{for:"screenshot",class:"form__label"},Y("button",{class:"btn btn--default",disabled:M,type:"button",onClick:()=>{L(null),D(K=>!K)}},v?f:l),U?Y("div",{class:"form__error-container"},U.message):null):null),Y("div",{class:"btn-group"},Y("button",{class:"btn btn--primary",disabled:M,type:"submit"},E),Y("button",{class:"btn btn--default",disabled:M,type:"button",onClick:r},p))))}function iu({label:e,isRequired:t,isRequiredLabel:n}){return Y("span",{class:"form__label__text"},e,t&&Y("span",{class:"form__label__text--required"},n))}var ls=16,tp=17,sE="http://www.w3.org/2000/svg";function aE(){let e=c=>Lt.document.createElementNS(sE,c),t=ft(e("svg"),{width:`${ls}`,height:`${tp}`,viewBox:`0 0 ${ls} ${tp}`,fill:"inherit"}),n=ft(e("g"),{clipPath:"url(#clip0_57_156)"}),r=ft(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=ft(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=ft(e("clipPath"),{id:"clip0_57_156"}),a=ft(e("rect"),{width:`${ls}`,height:`${ls}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}function cE({open:e,onFormSubmitted:t,...n}){let r=n.options,o=Ho(()=>({__html:aE().outerHTML}),[]),[i,s]=$n(null),a=Ir(()=>{i&&(clearTimeout(i),s(null)),t()},[i]),c=Ir((u,d)=>{n.onSubmitSuccess(u,d),s(setTimeout(()=>{t(),s(null)},ky))},[t]);return Y(Bo,null,i?Y("div",{class:"success__position",onClick:a},Y("div",{class:"success__content"},r.successMessageText,Y("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):Y("dialog",{class:"dialog",onClick:r.onFormClose,open:e},Y("div",{class:"dialog__position"},Y("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},Y(rE,{options:r}),Y(iE,{...n,onSubmitSuccess:c})))))}var uE=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,lE=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,dE=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,fE=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,pE=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function mE(e){let t=se.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${uE}
${lE}
${dE}
${fE}
${pE}
`,e&&t.setAttribute("nonce",e),t}function hE(){let e=k().getUser(),t=ie().getUser(),n=Qt().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var hp=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,i=e.useSentryUser,s=hE(),a=se.createElement("div"),c=mE(e.styleNonce),u="",d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),se.body.style.overflow=u},open(){f(!0),e.onFormOpen?.(),T()?.emit("openFeedbackWidget"),u=se.body.style.overflow,se.body.style.overflow="hidden"},close(){f(!1),se.body.style.overflow=u}},l=t?.createInput({h:Y,hooks:eE,dialog:d,options:e}),f=p=>{zy(Y(cE,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s?.[i.name]||"",defaultEmail:i&&s?.[i.email]||"",onFormClose:()=>{f(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:(m,g)=>{f(!1),e.onSubmitSuccess?.(m,g)},onSubmitError:m=>{e.onSubmitError?.(m)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:p}),a)};return d}});function gE({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function _E(e){let t=se.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function SE({h:e}){return function({action:n,setAction:r}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},"Hide")))}}function yE({hooks:e}){function t(){let[n,r]=e.useState(Lt.devicePixelRatio??1);return e.useEffect(()=>{let o=()=>{r(Lt.devicePixelRatio)},i=matchMedia(`(resolution: ${Lt.devicePixelRatio}dppx)`);return i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:i,onError:s}){let a=t();e.useEffect(()=>{(async()=>{r();let u=await Fo.mediaDevices.getDisplayMedia({video:{width:Lt.innerWidth*a,height:Lt.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=se.createElement("video");await new Promise((l,f)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(p=>p.stop()),l()},d.play().catch(f)}),i()})().catch(s)},[])}}function EE(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function Tn(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function su(e,t){Tn(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function au(e,t,n){Tn(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(i=>{EE(i,o,t)})})}function bE({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){let i=yE({hooks:t}),s=SE({h:e}),a=gE({h:e}),c={__html:_E(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{let[f,p]=t.useState("highlight"),[m,g]=t.useState([]),_=t.useRef(null),S=t.useRef(null),b=t.useRef(null),H=t.useRef(null),[A,O]=t.useState(1),E=t.useMemo(()=>{let v=se.getElementById(o.id);if(!v)return"white";let D=getComputedStyle(v);return D.getPropertyValue("--button-primary-background")||D.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{let v=()=>{let D=_.current;D&&(Tn(l.canvas,{alpha:!1},q=>{let U=Math.min(D.clientWidth/q.width,D.clientHeight/q.height);O(U)}),(D.clientHeight===0||D.clientWidth===0)&&setTimeout(v,0))};return v(),Lt.addEventListener("resize",v),()=>{Lt.removeEventListener("resize",v)}},[l]);let R=t.useCallback((v,D)=>{Tn(v,{alpha:!0},(q,U)=>{U.scale(D,D),q.width=l.canvas.width,q.height=l.canvas.height})},[l]);t.useEffect(()=>{R(S.current,l.dpi),su(S.current,l.canvas)},[l]),t.useEffect(()=>{R(b.current,l.dpi),Tn(b.current,{alpha:!0},(v,D)=>{D.clearRect(0,0,v.width,v.height)}),au(b.current,E,m)},[m,E]),t.useEffect(()=>{R(n,l.dpi),su(n,l.canvas),Tn(se.createElement("canvas"),{alpha:!0},(v,D)=>{D.scale(l.dpi,l.dpi),v.width=l.canvas.width,v.height=l.canvas.height,au(v,E,m),su(n,v)})},[m,l,E]);let M=v=>{if(!f||!H.current)return;let D=H.current.getBoundingClientRect(),q={type:f,x:v.offsetX/A,y:v.offsetY/A},U=(F,V)=>{let K=(V.clientX-D.x)/A,ge=(V.clientY-D.y)/A;return{type:F.type,x:Math.min(F.x,K),y:Math.min(F.y,ge),w:Math.abs(K-F.x),h:Math.abs(ge-F.y)}},L=F=>{Tn(b.current,{alpha:!0},(V,K)=>{K.clearRect(0,0,V.width,V.height)}),au(b.current,E,[...m,U(q,F)])},$=F=>{let V=U(q,F);V.w*A>=1&&V.h*A>=1&&g(K=>[...K,V]),se.removeEventListener("mousemove",L),se.removeEventListener("mouseup",$)};se.addEventListener("mousemove",L),se.addEventListener("mouseup",$)},I=t.useCallback(v=>D=>{D.preventDefault(),D.stopPropagation(),g(q=>{let U=[...q];return U.splice(v,1),U})},[]),C={width:`${l.canvas.width*A}px`,height:`${l.canvas.height*A}px`},z=v=>{v.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:_},e("canvas",{ref:S,id:"background",style:C}),e("canvas",{ref:b,id:"foreground",style:C}),e("div",{ref:H,onMouseDown:M,style:C},m.map((v,D)=>e("div",{key:D,class:"editor__rect",style:{top:`${v.y*A}px`,left:`${v.x*A}px`,width:`${v.w*A}px`,height:`${v.h*A}px`}},e("button",{"aria-label":"Remove",onClick:I(D),onMouseDown:z,onMouseUp:z,type:"button"},e(a,null))))))),e(s,{action:f,setAction:p}))};return function({onError:f}){let[p,m]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((g,_)=>{Tn(se.createElement("canvas"),{alpha:!1},(S,b)=>{b.scale(_,_),S.width=g.videoWidth,S.height=g.videoHeight,b.drawImage(g,0,0,S.width,S.height),m({canvas:S,dpi:_})}),n.width=g.videoWidth,n.height=g.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(g=>{u.display="block",f(g)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var gp=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=se.createElement("canvas");return{input:bE({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{let i=await new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(await i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}});var x=w,Su=0;function yu(){return Su>0}function TE(){Su++,setTimeout(()=>{Su--})}function Gn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(Mn(e))return e}catch{return e}let r=function(...o){try{let i=o.map(s=>Gn(s,t));return e.apply(this,i)}catch(i){throw TE(),Ae(s=>{s.addEventProcessor(a=>(t.mechanism&&(ir(a,void 0,void 0),nt(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),dt(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}_i(r,e),fe(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function $o(){let e=qe(),{referrer:t}=x.document||{},{userAgent:n}=x.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}var IE={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},_p=x;async function ys(e,t){let n=IE[e],r=_p.Sentry=_p.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;let i=vE(n),s=x.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let a=new Promise((l,f)=>{s.addEventListener("load",()=>l()),s.addEventListener("error",f)}),c=x.document.currentScript,u=x.document.body||x.document.head||c?.parentElement;if(u)u.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function vE(e){let n=T()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Qe}/${e}.min.js`,n).toString()}var Sp=_s({lazyLoadIntegration:ys});var Eu=_s({getModalIntegration:()=>hp,getScreenshotIntegration:()=>gp});var bu={};Ql(bu,{debug:()=>RE,error:()=>AE,fatal:()=>kE,fmt:()=>Oc,info:()=>xE,trace:()=>wE,warn:()=>CE});function Rr(e,t,n,r){Sr({level:e,message:t,attributes:n,severityNumber:r})}function wE(e,t){Rr("trace",e,t)}function RE(e,t){Rr("debug",e,t)}function xE(e,t){Rr("info",e,t)}function CE(e,t){Rr("warn",e,t)}function AE(e,t){Rr("error",e,t)}function kE(e,t){Rr("fatal",e,t)}function xr(e,t){let n=vu(e,t),r={type:DE(t),value:PE(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function NE(e,t,n,r){let i=T()?.getOptions().normalizeDepth,s=BE(t),a={__serialized__:Oi(t,i)};if(s)return{exception:{values:[xr(e,s)]},extra:a};let c={exception:{values:[{type:kn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:FE(t,{isUnhandledRejection:r})}]},extra:a};if(n){let u=vu(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Tu(e,t){return{exception:{values:[xr(e,t)]}}}function vu(e,t){let n=t.stacktrace||t.stack||"",r=OE(t),o=LE(t);try{return e(n,r,o)}catch{}return[]}var ME=/Minified React error #\d+;/i;function OE(e){return e&&ME.test(e.message)?1:0}function LE(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function yp(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function DE(e){let t=e?.name;return!t&&yp(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function PE(e){let t=e?.message;return yp(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Es(e,t,n,r){let o=n?.syntheticException||void 0,i=Ts(e,t,o,r);return nt(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),Ye(i)}function bs(e,t,n="info",r,o){let i=r?.syntheticException||void 0,s=Iu(e,t,i,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),Ye(s)}function Ts(e,t,n,r,o){let i;if(mi(t)&&t.error)return Tu(e,t.error);if(hi(t)||La(t)){let s=t;if("stack"in t)i=Tu(e,t);else{let a=s.name||(hi(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=Iu(e,c,n,r),ir(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return tt(t)?Tu(e,t):Be(t)||kn(t)?(i=NE(e,t,n,o),nt(i,{synthetic:!0}),i):(i=Iu(e,t,n,r),ir(i,`${t}`,void 0),nt(i,{synthetic:!0}),i)}function Iu(e,t,n,r){let o={};if(r&&n){let i=vu(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),nt(o,{synthetic:!0})}if(pn(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function FE(e,{isUnhandledRejection:t}){let n=Ba(e),r=t?"promise rejection":"exception";return mi(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:kn(e)?`Event \`${UE(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function UE(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function BE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var HE=5e3,Cr=class extends vo{constructor(t){let n=$E(t),r=x.SENTRY_SDK_SOURCE||nu();Pc(n,"browser",["browser"],r),super(n);let{sendDefaultPii:o,sendClientReports:i,enableLogs:s}=this._options;x.document&&(i||s)&&x.document.addEventListener("visibilitychange",()=>{x.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),s&&yr(this))}),s&&(this.on("flush",()=>{yr(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{yr(this)},HE)})),o&&(this.on("postprocessEvent",Lc),this.on("beforeSendSession",Dc))}eventFromException(t,n){return Es(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return bs(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}};function $E(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:x.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}var Dt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var P=w;var WE=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",jt=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o??0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=WE(t.value,n),e(t)))}};var Ep=()=>`v5-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var sn=(e=!0)=>{let t=P.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var vt=()=>sn()?.activationStart??0;var qt=(e,t=-1)=>{let n=sn(),r="navigate";return n&&(P.document?.prerendering||vt()>0?r="prerender":P.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:Ep(),navigationType:r}};var wu=new WeakMap;function Ar(e,t){return wu.get(e)||wu.set(e,new t),wu.get(e)}var Is=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;let n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}};var wt=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}};var kr=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var Wo=-1,GE=()=>P.document?.visibilityState==="hidden"&&!P.document?.prerendering?0:1/0,vs=e=>{P.document.visibilityState==="hidden"&&Wo>-1&&(Wo=e.type==="visibilitychange"?e.timeStamp:0,jE())},zE=()=>{addEventListener("visibilitychange",vs,!0),addEventListener("prerenderingchange",vs,!0)},jE=()=>{removeEventListener("visibilitychange",vs,!0),removeEventListener("prerenderingchange",vs,!0)},Nr=()=>{if(P.document&&Wo<0){let e=vt();Wo=(P.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??GE(),zE()}return{get firstHiddenTime(){return Wo}}};var vn=e=>{P.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var qE=[1800,3e3],bp=(e,t={})=>{vn(()=>{let n=Nr(),r=qt("FCP"),o,s=wt("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-vt(),0),r.entries.push(c),o(!0)))});s&&(o=jt(e,r,qE,t.reportAllChanges))})};var VE=[.1,.25],Tp=(e,t={})=>{bp(kr(()=>{let n=qt("CLS",0),r,o=Ar(t,Is),i=a=>{for(let c of a)o._processEntry(c);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},s=wt("layout-shift",i);s&&(r=jt(e,n,VE,t.reportAllChanges),P.document?.addEventListener("visibilitychange",()=>{P.document?.visibilityState==="hidden"&&(i(s.takeRecords()),r(!0))}),P?.setTimeout?.(r))}))};var Ip=0,Ru=1/0,ws=0,YE=e=>{e.forEach(t=>{t.interactionId&&(Ru=Math.min(Ru,t.interactionId),ws=Math.max(ws,t.interactionId),Ip=ws?(ws-Ru)/7+1:0)})},xu,Cu=()=>xu?Ip:performance.interactionCount||0,vp=()=>{"interactionCount"in performance||xu||(xu=wt("event",YE,{type:"event",buffered:!0,durationThreshold:0}))};var Au=10,wp=0,JE=()=>Cu()-wp,Rs=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){wp=Cu(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let t=Math.min(this._longestInteractionList.length-1,Math.floor(JE()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;let n=this._longestInteractionList.at(-1),r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Au||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,i)=>i._latency-o._latency),this._longestInteractionList.length>Au){let o=this._longestInteractionList.splice(Au);for(let i of o)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}};var Mr=e=>{let t=n=>{(n.type==="pagehide"||P.document?.visibilityState==="hidden")&&e(n)};P.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var xs=e=>{let t=P.requestIdleCallback||P.setTimeout;P.document?.visibilityState==="hidden"?e():(e=kr(e),t(e),Mr(e))};var KE=[200,500],XE=40,Rp=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&vn(()=>{vp();let n=qt("INP"),r,o=Ar(t,Rs),i=a=>{xs(()=>{for(let u of a)o._processEntry(u);let c=o._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},s=wt("event",i,{durationThreshold:t.durationThreshold??XE});r=jt(e,n,KE,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Mr(()=>{i(s.takeRecords()),r(!0)}))})};var Cs=class{_processEntry(t){this._onBeforeProcessingEntry?.(t)}};var ZE=[2500,4e3],xp=(e,t={})=>{vn(()=>{let n=Nr(),r=qt("LCP"),o,i=Ar(t,Cs),s=c=>{t.reportAllChanges||(c=c.slice(-1));for(let u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-vt(),0),r.entries=[u],o())},a=wt("largest-contentful-paint",s);if(a){o=jt(e,r,ZE,t.reportAllChanges);let c=kr(()=>{s(a.takeRecords()),a.disconnect(),o(!0)});for(let u of["keydown","click","visibilitychange"])P.document&&addEventListener(u,()=>xs(c),{capture:!0,once:!0})}})};var QE=[800,1800],ku=e=>{P.document?.prerendering?vn(()=>ku(e)):P.document?.readyState!=="complete"?addEventListener("load",()=>ku(e),!0):setTimeout(e)},Cp=(e,t={})=>{let n=qt("TTFB"),r=jt(e,n,QE,t.reportAllChanges);ku(()=>{let o=sn();o&&(n.value=Math.max(o.responseStart-vt(),0),n.entries=[o],r(!0))})};var Go={},As={},Ap,kp,Np,Mp;function zn(e,t=!1){return ks("cls",e,eb,Ap,t)}function jn(e,t=!1){return ks("lcp",e,tb,kp,t)}function Nu(e){return ks("ttfb",e,nb,Np)}function zo(e){return ks("inp",e,rb,Mp)}function pt(e,t){return Op(e,t),As[e]||(ob(e),As[e]=!0),Lp(e,t)}function jo(e,t){let n=Go[e];if(n?.length)for(let r of n)try{r(t)}catch(o){Dt&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${et(r)}
Error:`,o)}}function eb(){return Tp(e=>{jo("cls",{metric:e}),Ap=e},{reportAllChanges:!0})}function tb(){return xp(e=>{jo("lcp",{metric:e}),kp=e},{reportAllChanges:!0})}function nb(){return Cp(e=>{jo("ttfb",{metric:e}),Np=e})}function rb(){return Rp(e=>{jo("inp",{metric:e}),Mp=e})}function ks(e,t,n,r,o=!1){Op(e,t);let i;return As[e]||(i=n(),As[e]=!0),r&&t({metric:r}),Lp(e,t,o?i:void 0)}function ob(e){let t={};e==="event"&&(t.durationThreshold=0),wt(e,n=>{jo(e,{entries:n})},t)}function Op(e,t){Go[e]=Go[e]||[],Go[e].push(t)}function Lp(e,t,n){return()=>{n&&n();let r=Go[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Dp(e){return"duration"in e}function Ns(e){return typeof e=="number"&&isFinite(e)}function an(e,t,n,{...r}){let o=N(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Sn(e,()=>{let i=ot({startTime:t,...r});return i&&i.end(n),i})}function Or(e){let t=T();if(!t)return;let{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=k(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0,m;try{m=l.getScopeData().contexts.profile.profile_id}catch{}let g={release:s,environment:a,user:p||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":P.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return ot({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function qn(){return P.addEventListener&&P.performance}function ue(e){return e/1e3}function qo(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function Ms(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Os(e,t){let n,r=!1;function o(a){!r&&n&&t(a,n),r=!0}Mr(()=>{o("pagehide")});let i=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(o("navigation"),Pp(i,s))}),s=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,Pp(s)})}function Pp(...e){e.forEach(t=>t&&setTimeout(t,0))}function Fp(e){let t=0,n;if(!Ms("layout-shift"))return;let r=zn(({metric:o})=>{let i=o.entries[o.entries.length-1];i&&(t=o.value,n=i)},!0);Os(e,(o,i)=>{ib(t,n,i,o),r()})}function ib(e,t,n,r){Dt&&h.log(`Sending CLS span (${e})`);let o=ue((me()||0)+(t?.startTime||0)),i=k().getScopeData().transactionName,s=t?Re(t.sources[0]?.node):"Layout shift",a={[X]:"auto.http.browser.cls",[he]:"ui.webvital.cls",[yt]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{a[`cls.source.${d+1}`]=Re(u.node)});let c=Or({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("cls",{[Wt]:"",[Gt]:e}),c.end(o))}function Up(e){let t=0,n;if(!Ms("largest-contentful-paint"))return;let r=jn(({metric:o})=>{let i=o.entries[o.entries.length-1];i&&(t=o.value,n=i)},!0);Os(e,(o,i)=>{sb(t,n,i,o),r()})}function sb(e,t,n,r){Dt&&h.log(`Sending LCP span (${e})`);let o=ue((me()||0)+(t?.startTime||0)),i=k().getScopeData().transactionName,s=t?Re(t.element):"Largest contentful paint",a={[X]:"auto.http.browser.lcp",[he]:"ui.webvital.lcp",[yt]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Re(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));let c=Or({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("lcp",{[Wt]:"millisecond",[Gt]:e}),c.end(o))}var ab=2147483647,Bp=0,Pt={},it,Ds;function Ou({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){let r=qn();if(r&&me()){r.mark&&P.performance.mark("sentry-tracing-init");let o=t?Up(n):ub(),i=lb(),s=e?Fp(n):cb();return()=>{o?.(),i(),s?.()}}return()=>{}}function Lu(){pt("longtask",({entries:e})=>{let t=Z();if(!t)return;let{op:n,start_timestamp:r}=N(t);for(let o of e){let i=ue(me()+o.startTime),s=ue(o.duration);n==="navigation"&&r&&i<r||an(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[X]:"auto.ui.browser.metrics"}})}})}function Du(){new PerformanceObserver(t=>{let n=Z();if(n)for(let r of t.getEntries()){if(!r.scripts[0])continue;let o=ue(me()+r.startTime),{start_timestamp:i,op:s}=N(n);if(s==="navigation"&&i&&o<i)continue;let a=ue(r.duration),c={[X]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:m}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),m!==-1&&(c["browser.script.source_char_position"]=m),an(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Pu(){pt("event",({entries:e})=>{let t=Z();if(t){for(let n of e)if(n.name==="click"){let r=ue(me()+n.startTime),o=ue(n.duration),i={name:Re(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[X]:"auto.ui.browser.metrics"}},s=no(n.target);s&&(i.attributes["ui.component_name"]=s),an(t,r,r+o,i)}}})}function cb(){return zn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Pt.cls={value:e.value,unit:""},Ds=t)},!0)}function ub(){return jn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Pt.lcp={value:e.value,unit:"millisecond"},it=t)},!0)}function lb(){return Nu(({metric:e})=>{e.entries[e.entries.length-1]&&(Pt.ttfb={value:e.value,unit:"millisecond"})})}function Fu(e,t){let n=qn(),r=me();if(!n?.getEntries||!r)return;let o=ue(r),i=n.getEntries(),{op:s,start_timestamp:a}=N(e);i.slice(Bp).forEach(c=>{let u=ue(c.startTime),d=ue(Math.max(0,c.duration));if(!(s==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{pb(e,c,o);break}case"mark":case"paint":case"measure":{db(e,c,u,d,o,t.ignorePerformanceApiSpans);let l=Nr(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(Pt.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(Pt.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{gb(e,c,c.name,u,d,o,t.ignoreResourceSpans);break}}}),Bp=Math.max(i.length-1,0),_b(e),s==="pageload"&&(yb(Pt),t.recordClsOnPageloadSpan||delete Pt.cls,t.recordLcpOnPageloadSpan||delete Pt.lcp,Object.entries(Pt).forEach(([c,u])=>{mo(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",vt()),Sb(e,t)),it=void 0,Ds=void 0,Pt={}}function db(e,t,n,r,o,i){if(["mark","measure"].includes(t.entryType)&&Le(t.name,i))return;let s=sn(!1),a=ue(s?s.requestStart:0),c=o+Math.max(n,a),u=o+n,d=u+r,l={[X]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),fb(l,t),c<=d&&an(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function fb(e,t){try{let n=t.detail;if(!n)return;if(typeof n=="object"){for(let[r,o]of Object.entries(n))if(o&&gt(o))e[`sentry.browser.measure.detail.${r}`]=o;else if(o!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(o)}catch{}return}if(gt(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function pb(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Ls(e,t,r,n)}),Ls(e,t,"secureConnection",n,"TLS/SSL"),Ls(e,t,"fetch",n,"cache"),Ls(e,t,"domainLookup",n,"DNS"),hb(e,t,n)}function Ls(e,t,n,r,o=n){let i=mb(n),s=t[i],a=t[`${n}Start`];!a||!s||an(e,r+ue(a),r+ue(s),{op:`browser.${o}`,name:t.name,attributes:{[X]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function mb(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function hb(e,t,n){let r=n+ue(t.requestStart),o=n+ue(t.responseEnd),i=n+ue(t.responseStart);t.responseEnd&&(an(e,r,o,{op:"browser.request",name:t.name,attributes:{[X]:"auto.ui.browser.metrics"}}),an(e,i,o,{op:"browser.response",name:t.name,attributes:{[X]:"auto.ui.browser.metrics"}}))}function gb(e,t,n,r,o,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;let c=Mt(n),u={[X]:"auto.resource.browser.metrics"};Mu(u,t,"transferSize","http.response_transfer_size"),Mu(u,t,"encodedBodySize","http.response_content_length"),Mu(u,t,"decodedBodySize","http.decoded_response_content_length");let d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);let l=t.renderBlockingStatus;if(l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(P.location.origin),t.nextHopProtocol!=null){let{name:m,version:g}=qo(t.nextHopProtocol);u["network.protocol.name"]=m,u["network.protocol.version"]=g}let f=i+r,p=f+o;an(e,f,p,{name:n.replace(P.location.origin,""),op:a,attributes:u})}function _b(e){let t=P.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Ns(n.rtt)&&(Pt["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ns(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Ns(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Sb(e,t){it&&t.recordLcpOnPageloadSpan&&(it.element&&e.setAttribute("lcp.element",Re(it.element)),it.id&&e.setAttribute("lcp.id",it.id),it.url&&e.setAttribute("lcp.url",it.url.trim().slice(0,200)),it.loadTime!=null&&e.setAttribute("lcp.loadTime",it.loadTime),it.renderTime!=null&&e.setAttribute("lcp.renderTime",it.renderTime),e.setAttribute("lcp.size",it.size)),Ds?.sources&&t.recordClsOnPageloadSpan&&Ds.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Re(n.node)))}function Mu(e,t,n,r){let o=t[n];o!=null&&o<ab&&(e[r]=o)}function yb(e){let t=sn(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Uu(){return qn()&&me()?pt("element",Eb):()=>{}}var Eb=({entries:e})=>{let t=Z(),n=t?ee(t):void 0,r=n?N(n).description:k().getScopeData().transactionName;e.forEach(o=>{let i=o;if(!i.identifier)return;let s=i.name,a=i.renderTime,c=i.loadTime,[u,d]=c?[ue(c),"load-time"]:a?[ue(a),"render-time"]:[ne(),"entry-emission"],l=s==="image-paint"?ue(Math.max(0,(a??0)-(c??0))):0,f={[X]:"auto.ui.browser.elementtiming",[he]:"ui.elementtiming",[Ee]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":i.id,"element.type":i.element?.tagName?.toLowerCase()||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":s};_n({name:`element[${i.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},p=>{p.end(u+l)})})};var bb=1e3,Hp,Bu,Hu;function Vo(e){Fe("dom",e),Ue("dom",Tb)}function Tb(){if(!P.document)return;let e=we.bind(null,"dom"),t=$p(e,!0);P.document.addEventListener("click",t,!1),P.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let o=P[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(Se(o,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){let l=$p(e);d.handler=l,i.call(this,s,l,c)}d.refCount++}catch{}return i.call(this,s,a,c)}}),Se(o,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,c)}}))})}function Ib(e){if(e.type!==Bu)return!1;try{if(!e.target||e.target._sentryId!==Hu)return!1}catch{}return!0}function vb(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function $p(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=wb(n);if(vb(n.type,r))return;fe(n,"_sentryCaptured",!0),r&&!r._sentryId&&fe(r,"_sentryId",pe());let o=n.type==="keypress"?"input":n.type;Ib(n)||(e({event:n,name:o,global:t}),Bu=n.type,Hu=r?r._sentryId:void 0),clearTimeout(Hp),Hp=P.setTimeout(()=>{Hu=void 0,Bu=void 0},bb)}}function wb(e){try{return e.target}catch{return null}}var Ps;function cn(e){let t="history";Fe(t,e),Ue(t,Rb)}function Rb(){if(P.addEventListener("popstate",()=>{let t=P.location.href,n=Ps;if(Ps=t,n===t)return;we("history",{from:n,to:t})}),!Xc())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let o=Ps,i=xb(String(r));if(Ps=i,o===i)return t.apply(this,n);we("history",{from:o,to:i})}return t.apply(this,n)}}Se(P.history,"pushState",e),Se(P.history,"replaceState",e)}function xb(e){try{return new URL(e,P.location.origin).toString()}catch{return e}}var Fs={};function Lr(e){let t=Fs[e];if(t)return t;let n=P[e];if(Do(n))return Fs[e]=n.bind(P);let r=P.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){Dt&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(Fs[e]=n.bind(P))}function Us(e){Fs[e]=void 0}function Vn(...e){return Lr("setTimeout")(...e)}var Ke="__sentry_xhr_v3__";function Yn(e){Fe("xhr",e),Ue("xhr",Cb)}function Cb(){if(!P.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let o=new Error,i=ne()*1e3,s=Ne(r[0])?r[0].toUpperCase():void 0,a=Ab(r[1]);if(!s||!a)return t.apply(n,r);n[Ke]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let c=()=>{let u=n[Ke];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}let d={endTimestamp:ne()*1e3,startTimestamp:i,xhr:n,virtualError:o};we("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){let[f,p]=l,m=d[Ke];return m&&Ne(f)&&Ne(p)&&(m.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let o=n[Ke];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);let i={startTimestamp:ne()*1e3,xhr:n};return we("xhr",i),t.apply(n,r)}})}function Ab(e){if(Ne(e))return e;try{return e.toString()}catch{}}function Bs(e){return new URLSearchParams(e).toString()}function Jn(e,t=h){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Bs(e)];if(!e)return[void 0]}catch(n){return Dt&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Dt&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Dr(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var $u=[],Hs=new Map,kb=60;function Wu(){if(qn()&&me()){let t=Nb();return()=>{t()}}return()=>{}}var Wp={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Nb(){return zo(Mb)}var Mb=({metric:e})=>{if(e.value==null)return;let t=ue(e.value);if(t>kb)return;let n=e.entries.find(m=>m.duration===e.value&&Wp[m.name]);if(!n)return;let{interactionId:r}=n,o=Wp[n.name],i=ue(me()+n.startTime),s=Z(),a=s?ee(s):void 0,u=(r!=null?Hs.get(r):void 0)||a,d=u?N(u).description:k().getScopeData().transactionName,l=Re(n.target),f={[X]:"auto.http.browser.inp",[he]:`ui.interaction.${o}`,[yt]:n.duration},p=Or({name:l,transaction:d,attributes:f,startTime:i});p&&(p.addEvent("inp",{[Wt]:"millisecond",[Gt]:e.value}),p.end(i+t))};function Gu(){let e=({entries:t})=>{let n=Z(),r=n&&ee(n);t.forEach(o=>{if(!Dp(o)||!r)return;let i=o.interactionId;if(i!=null&&!Hs.has(i)){if($u.length>10){let s=$u.shift();Hs.delete(s)}$u.push(i),Hs.set(i,r)}})};pt("event",e),pt("first-input",e)}function Pr(e,t=Lr("fetch")){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Us("fetch"),yn("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Us("fetch"),n-=s,r--,yn(c)}}return xo(e,o)}var Ob=10,Lb=20,Db=30,Pb=40,Fb=50;function Fr(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?"?":t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var Ub=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Bb=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Hb=/\((\S*)(?::(\d+))(?::(\d+))\)/,$b=e=>{let t=Ub.exec(e);if(t){let[,r,o,i]=t;return Fr(r,"?",+o,+i)}let n=Bb.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let s=Hb.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}let[o,i]=qp(n[1]||"?",n[2]);return Fr(i,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},zu=[Db,$b],Wb=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Gb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,zb=e=>{let t=Wb.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=Gb.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||"?";return[o,r]=qp(o,r),Fr(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},ju=[Fb,zb],jb=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,qb=e=>{let t=jb.exec(e);return t?Fr(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0},Gp=[Pb,qb],Vb=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Yb=e=>{let t=Vb.exec(e);return t?Fr(t[2],t[3]||"?",+t[1]):void 0},zp=[Ob,Yb],Jb=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Kb=e=>{let t=Jb.exec(e);return t?Fr(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0},jp=[Lb,Kb],qu=[zu,ju],$s=fi(...qu),qp=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Vp(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:rt(r)}},i=Xb(e);return De(o,[i])}function Xb(e){return[{type:"user_report"},e]}var B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Ws=1024,Zb="Breadcrumbs",Qb=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Zb,setup(n){t.console&&Fn(nT(n)),t.dom&&Vo(tT(n,t.dom)),t.xhr&&Yn(rT(n)),t.fetch&&Bn(oT(n)),t.history&&cn(iT(n)),t.sentry&&n.on("beforeSendEvent",eT(n))}}},Gs=Qb;function eT(e){return function(n){T()===e&&Je({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ht(n)},{event:n})}}function tT(e,t){return function(r){if(T()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Ws&&(B&&h.warn(`\`dom.maxStringLength\` cannot exceed ${Ws}, but a value of ${a} was configured. Sentry will use ${Ws} instead.`),a=Ws),typeof s=="string"&&(s=[s]);try{let u=r.event,d=sT(u)?u.target:u;o=Re(d,{keyAttrs:s,maxStringLength:a}),i=no(d)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),Je(c,{event:r.event,name:r.name,global:r.global})}}function nT(e){return function(n){if(T()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:Un(n.level),message:Nn(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Nn(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Je(r,{input:n.args,level:n.level})}}function rT(e){return function(n){if(T()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Ke];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},f={category:"xhr",data:d,type:"http",level:as(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),Je(f,l)}}function oT(e){return function(n){if(T()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),Je(a,s)}else{let i=n.response,s={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;let a={input:n.args,response:i,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:s,type:"http",level:as(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Je(c,a)}}}function iT(e){return function(n){if(T()!==e)return;let r=n.from,o=n.to,i=Mt(x.location.href),s=r?Mt(r):void 0,a=Mt(o);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),Je({category:"navigation",data:{from:r,to:o}})}}function sT(e){return!!e&&!!e.target}var aT=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],cT="BrowserApiErrors",uT=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:cT,setupOnce(){t.setTimeout&&Se(x,"setTimeout",Yp),t.setInterval&&Se(x,"setInterval",Yp),t.requestAnimationFrame&&Se(x,"requestAnimationFrame",lT),t.XMLHttpRequest&&"XMLHttpRequest"in x&&Se(XMLHttpRequest.prototype,"send",dT);let n=t.eventTarget;n&&(Array.isArray(n)?n:aT).forEach(o=>fT(o,t))}}},zs=uT;function Yp(e){return function(...t){let n=t[0];return t[0]=Gn(n,{mechanism:{data:{function:et(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function lT(e){return function(t){return e.apply(this,[Gn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:et(e)},handled:!1,type:"instrument"}})])}}function dT(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&Se(n,o,function(i){let s={mechanism:{data:{function:o,handler:et(i)},handled:!1,type:"instrument"}},a=Mn(i);return a&&(s.mechanism.data.handler=et(a)),Gn(i,s)})}),e.apply(this,t)}}function fT(e,t){let r=x[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(Se(r,"addEventListener",function(o){return function(i,s,a){try{pT(s)&&(s.handleEvent=Gn(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:et(s),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&mT(this,i,s),o.apply(this,[i,Gn(s,{mechanism:{data:{function:"addEventListener",handler:et(s),target:e},handled:!1,type:"instrument"}}),a])}}),Se(r,"removeEventListener",function(o){return function(i,s,a){try{let c=s.__sentry_wrapped__;c&&o.call(this,i,c,a)}catch{}return o.call(this,i,s,a)}}))}function pT(e){return typeof e.handleEvent=="function"}function mT(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var js=()=>({name:"BrowserSession",setupOnce(){if(typeof x.document>"u"){B&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}hr({ignoreDuration:!0}),gr(),cn(({from:e,to:t})=>{e!==void 0&&e!==t&&(hr({ignoreDuration:!0}),gr())})}});var hT="GlobalHandlers",gT=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:hT,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(_T(n),Jp("onerror")),t.onunhandledrejection&&(ST(n),Jp("onunhandledrejection"))}}},qs=gT;function _T(e){Qr(t=>{let{stackParser:n,attachStacktrace:r}=Kp();if(T()!==e||yu())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=bT(Ts(n,c||o,void 0,r,!1),i,s,a);u.level="error",rn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function ST(e){eo(t=>{let{stackParser:n,attachStacktrace:r}=Kp();if(T()!==e||yu())return;let o=yT(t),i=gt(o)?ET(o):Ts(n,o,void 0,r,!0);i.level="error",rn(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function yT(e){if(gt(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function ET(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function bT(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=Ne(t)&&t.length>0?t:qe();return c.length===0&&c.push({colno:u,filename:l,function:"?",in_app:!0,lineno:d}),e}function Jp(e){B&&h.log(`Global Handler attached: ${e}`)}function Kp(){return T()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var Vs=()=>({name:"HttpContext",preprocessEvent(e){if(!x.navigator&&!x.location&&!x.document)return;let t=$o(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});var TT="cause",IT=5,vT="LinkedErrors",wT=(e={})=>{let t=e.limit||IT,n=e.key||TT;return{name:vT,preprocessEvent(r,o,i){let s=i.getOptions();Bc(xr,s.stackParser,n,t,r,o)}}},Ys=wT;function Xp(){return RT()?(B&&Pe(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function RT(){if(typeof x.window>"u")return!1;let e=x;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;let n=qe(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(x===x.top&&r.some(i=>n.startsWith(`${i}://`)))}function Vu(e){return[ko(),Ao(),zs(),Gs(),qs(),Ys(),No(),Vs(),js()]}function Zp(e={}){let t=!e.skipBrowserExtensionCheck&&Xp(),n={...e,enabled:t?!1:e.enabled,stackParser:Na(e.stackParser||$s),integrations:bc({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Vu():e.defaultIntegrations}),transport:e.transport||Pr};return xc(Cr,n)}function Qp(){}function em(e){e()}function tm(e={}){let t=x.document,n=t?.head||t?.body;if(!n){B&&h.error("[showReportDialog] Global document not defined");return}let r=k(),i=T()?.getDsn();if(!i){B&&h.error("[showReportDialog] DSN not configured");return}let s={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||yo()},a=x.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=Ec(i,s);let{onLoad:c,onClose:u}=s;if(c&&(a.onload=c),u){let d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{x.removeEventListener("message",d)}};x.addEventListener("message",d)}n.appendChild(a)}var xT=w,CT="ReportingObserver",nm=new WeakMap,AT=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(nm.has(T()))for(let o of r)Ae(i=>{i.setExtra("url",o.url);let s=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(i.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}En(`${s}: ${a}`)})}return{name:CT,setupOnce(){if(!Zc())return;new xT.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){nm.set(r,!0)}}},rm=AT;var kT="HttpClient",NT=(e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:kT,setup(n){BT(n,t),HT(n,t)}}},im=NT;function MT(e,t,n,r,o){if(am(e,n.status,n.url)){let i=$T(t,r),s,a,c,u;um()&&([s,c]=om("Cookie",i),[a,u]=om("Set-Cookie",n));let d=cm({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:a,requestCookies:c,responseCookies:u,error:o});rn(d)}}function om(e,t){let n=DT(t.headers),r;try{let o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=sm(o))}catch{}return[n,r]}function OT(e,t,n,r,o){if(am(e,t.status,t.responseURL)){let i,s,a;if(um()){try{let u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(s=sm(u))}catch{}try{a=PT(t)}catch{}i=r}let c=cm({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:a,responseCookies:s,error:o});rn(c)}}function LT(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function sm(e){return e.split("; ").reduce((t,n)=>{let[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function DT(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function PT(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function FT(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function UT(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function BT(e,t){Po()&&Bn(n=>{if(T()!==e)return;let{response:r,args:o,error:i,virtualError:s}=n,[a,c]=o;r&&MT(t,a,r,c,i||s)},!1)}function HT(e,t){"XMLHttpRequest"in w&&Yn(n=>{if(T()!==e)return;let{error:r,virtualError:o}=n,i=n.xhr,s=i[Ke];if(!s)return;let{method:a,request_headers:c}=s;try{OT(t,i,a,c,r||o)}catch(u){B&&h.warn("Error while extracting response event form XHR response",u)}})}function am(e,t,n){return UT(e.failedRequestStatusCodes,t)&&FT(e.failedRequestTargets,n)&&!Co(n,T())}function cm(e){let t=T(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,i={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:LT(e.responseHeaders)}}};return nt(i,{type:"http.client",handled:!1}),i}function $T(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function um(){let e=T();return e?!!e.getOptions().sendDefaultPii:!1}var Yu=w,WT=7,GT="ContextLines",zT=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:WT;return{name:GT,processEvent(n){return jT(n,t)}}},lm=zT;function jT(e,t){let n=Yu.document,r=Yu.location&&Oo(Yu.location.href);if(!n||!r)return e;let o=e.exception?.values;if(!o?.length)return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>qT(u,s,r,t)))}),e}function qT(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Ha(t,e,r),e}var VT="GraphQLClient",YT=e=>({name:VT,setup(t){JT(t,e),KT(t,e)}});function JT(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let i=N(n).data||{};if(!(i[he]==="http.client"))return;let c=i[ja]||i["http.url"],u=i[za]||i["http.method"];if(!Ne(c)||!Ne(u))return;let{endpoints:d}=t,l=Le(c,d),f=fm(r);if(l&&f){let p=pm(f);if(p){let m=dm(p);n.updateName(`${u} ${c} (${m})`),n.setAttribute("graphql.document",f)}}})}function KT(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:o,type:i,data:s}=n;if(i==="http"&&(o==="fetch"||o==="xhr")){let d=s?.url,{endpoints:l}=t,f=Le(d,l),p=fm(r);if(f&&s&&p){let m=pm(p);if(!s.graphql&&m){let g=dm(m);s["graphql.document"]=m.query,s["graphql.operation"]=g}}}})}function dm(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=XT(t);return r?`${o} ${r}`:`${o}`}function fm(e){let t="xhr"in e,n;if(t){let r=e.xhr[Ke];n=r&&Jn(r.body)[0]}else{let r=Dr(e.input);n=Jn(r)[0]}return n}function XT(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function pm(e){let t;try{let n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}var mm=YT;var de=w,Il="sentryReplaySession",ZT="replay_event",vl="Unable to send Replay",QT=3e5,eI=9e5,tI=5e3,nI=5500,rI=6e4,oI=5e3,iI=3,hm=15e4,Js=5e3,sI=3e3,aI=300,wl=2e7,cI=4999,uI=15e3,gm=36e5,lI=Object.defineProperty,dI=(e,t,n)=>t in e?lI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_m=(e,t,n)=>dI(e,typeof t!="symbol"?t+"":t,n),Me=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Me||{});function fI(e){return e.nodeType===e.ELEMENT_NODE}function Ko(e){return e?.host?.shadowRoot===e}function Xo(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function pI(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function mI(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function ea(e){try{let t=e.rules||e.cssRules;return t?pI(Array.from(t,Bm).join("")):null}catch{return null}}function hI(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function Bm(e){let t;if(_I(e))try{t=ea(e.styleSheet)||mI(e)}catch{}else if(SI(e)){let n=e.cssText,r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=hI(e)),r&&(n=gI(n)),r||o)return n}return t||e.cssText}function gI(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function _I(e){return"styleSheet"in e}function SI(e){return"selectorText"in e}var ta=class{constructor(){_m(this,"idNodeMap",new Map),_m(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function yI(){return new ta}function fa({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Qo({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function jr(e){return e.toLowerCase()}function el(e){return e.toUpperCase()}var Sm="__rrweb_original__";function EI(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=Sm in i?i[Sm]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function Rl(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?jr(t):null}function na(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Hm(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}var ym={};function $m(e){let t=ym[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return ym[e]=r.bind(window)}function tl(...e){return $m("setTimeout")(...e)}function Wm(...e){return $m("clearTimeout")(...e)}function Gm(e){try{return e.contentDocument}catch{}}var bI=1,TI=new RegExp("[^a-z0-9-_:]"),ei=-2;function xl(){return bI++}function II(e){if(e instanceof HTMLFormElement)return"form";let t=jr(e.tagName);return TI.test(t)?"div":t}function vI(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Ur,Em,wI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,RI=/^(?:[a-z+]+:)?\/\//i,xI=/^www\..*/i,CI=/^(data:)([^,]*),(.*)/i;function ra(e,t){return(e||"").replace(wI,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if(RI.test(c)||xI.test(c))return`url(${u}${c}${u})`;if(CI.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${vI(t)+c}${u})`;let d=t.split("/"),l=c.split("/");d.pop();for(let f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}var AI=/^[^ \t\n\r\u000c]+/,kI=/^[, \t\n\r\u000c]+/;function NI(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(kI),!(n>=t.length);){let i=r(AI);if(i.slice(-1)===",")i=$r(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=$r(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}var bm=new WeakMap;function $r(e,t){return!t||t.trim()===""?t:pa(e,t)}function MI(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function pa(e,t){let n=bm.get(e);if(n||(n=e.createElement("a"),bm.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function zm(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?$r(e,r):n==="srcset"?NI(e,r):n==="style"?ra(r,pa(e)):t==="object"&&n==="data"?$r(e,r):typeof i=="function"?i(n,r,o):r)}function jm(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function qm(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function OI(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Kn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Kn(e.parentNode,t,n,r+1)}function Wr(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(OI(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function qr(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=Kn(s,Wr(r,o)),c<0)return!0;a=Kn(s,Wr(t,n),c>=0?c:1/0)}else{if(a=Kn(s,Wr(t,n)),a<0)return!1;c=Kn(s,Wr(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function LI(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=tl(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{Wm(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return tl(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function DI(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=tl(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Wm(i),r=!0,t()})}function PI(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:g,maskInputFn:_,dataURLOptions:S={},inlineImages:b,recordCanvas:H,keepIframeSrcFn:A,newlyAddedElement:O=!1}=t,E=FI(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Me.Document,childNodes:[],compatMode:e.compatMode}:{type:Me.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Me.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:E};case e.ELEMENT_NODE:return BI(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:m,maskInputFn:_,dataURLOptions:S,inlineImages:b,recordCanvas:H,keepIframeSrcFn:A,newlyAddedElement:O,rootId:E,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return UI(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:m,maskInputFn:_,rootId:E});case e.CDATA_SECTION_NODE:return{type:Me.CDATA,textContent:"",rootId:E};case e.COMMENT_NODE:return{type:Me.Comment,textContent:e.textContent||"",rootId:E};default:return!1}}function FI(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function UI(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName,f=e.textContent,p=l==="STYLE"?!0:void 0,m=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=ea(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}f=ra(f,pa(t.doc))}m&&(f="SCRIPT_PLACEHOLDER");let _=qr(e,r,i,o,s,n);if(!p&&!m&&!g&&f&&_&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||_)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){let S=fa({type:null,tagName:l,maskInputOptions:c});f=Qo({isMasked:qr(e,r,i,o,s,S),element:e,value:f,maskInputFn:u})}return{type:Me.Text,textContent:f||"",isStyle:p,rootId:d}}function BI(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:g,maskTextClass:_,unmaskTextClass:S,maskTextSelector:b,unmaskTextSelector:H}=t,A=qm(e,r,o,i),O=II(e),E={},R=e.attributes.length;for(let I=0;I<R;I++){let C=e.attributes[I];C.name&&!jm(O,C.name,C.value)&&(E[C.name]=zm(n,O,jr(C.name),C.value,e,c))}if(O==="link"&&s){let I=Array.from(n.styleSheets).find(z=>z.href===e.href),C=null;I&&(C=ea(I)),C&&(E.rel=null,E.href=null,E.crossorigin=null,E._cssText=ra(C,I.href))}if(O==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let I=ea(e.sheet);I&&(E._cssText=ra(I,pa(n)))}if(O==="input"||O==="textarea"||O==="select"||O==="option"){let I=e,C=Rl(I),z=na(I,el(O),C),v=I.checked;if(C!=="submit"&&C!=="button"&&z){let D=qr(I,_,b,S,H,fa({type:C,tagName:el(O),maskInputOptions:a}));E.value=Qo({isMasked:D,element:I,value:z,maskInputFn:u})}v&&(E.checked=v)}if(O==="option"&&(e.selected&&!a.select?E.selected=!0:delete E.selected),O==="canvas"&&f){if(e.__context==="2d")EI(e)||(E.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let I=e.toDataURL(d.type,d.quality),C=n.createElement("canvas");C.width=e.width,C.height=e.height;let z=C.toDataURL(d.type,d.quality);I!==z&&(E.rr_dataURL=I)}}if(O==="img"&&l){Ur||(Ur=n.createElement("canvas"),Em=Ur.getContext("2d"));let I=e,C=I.currentSrc||I.getAttribute("src")||"<unknown-src>",z=I.crossOrigin,v=()=>{I.removeEventListener("load",v);try{Ur.width=I.naturalWidth,Ur.height=I.naturalHeight,Em.drawImage(I,0,0),E.rr_dataURL=Ur.toDataURL(d.type,d.quality)}catch(D){if(I.crossOrigin!=="anonymous"){I.crossOrigin="anonymous",I.complete&&I.naturalWidth!==0?v():I.addEventListener("load",v);return}else console.warn(`Cannot inline img src=${C}! Error: ${D}`)}I.crossOrigin==="anonymous"&&(z?E.crossOrigin=z:I.removeAttribute("crossorigin"))};I.complete&&I.naturalWidth!==0?v():I.addEventListener("load",v)}if((O==="audio"||O==="video")&&(E.rr_mediaState=e.paused?"paused":"played",E.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop)),A){let{width:I,height:C}=e.getBoundingClientRect();E={class:E.class,rr_width:`${I}px`,rr_height:`${C}px`}}O==="iframe"&&!p(E.src)&&(!A&&!Gm(e)&&(E.rr_src=E.src),delete E.src);let M;try{customElements.get(O)&&(M=!0)}catch{}return{type:Me.Element,tagName:O,attributes:E,childNodes:[],isSVG:MI(e)||void 0,needBlock:A,rootId:g,isCustom:M}}function le(e){return e==null?"":e.toLowerCase()}function HI(e,t){if(t.comment&&e.type===Me.Comment)return!0;if(e.type===Me.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Hm(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(le(e.attributes.name).match(/^msapplication-tile(image|color)$/)||le(e.attributes.name)==="application-name"||le(e.attributes.rel)==="icon"||le(e.attributes.rel)==="apple-touch-icon"||le(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&le(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(le(e.attributes.property).match(/^(og|twitter|fb):/)||le(e.attributes.name).match(/^(og|twitter):/)||le(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(le(e.attributes.name)==="robots"||le(e.attributes.name)==="googlebot"||le(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(le(e.attributes.name)==="author"||le(e.attributes.name)==="generator"||le(e.attributes.name)==="framework"||le(e.attributes.name)==="publisher"||le(e.attributes.name)==="progid"||le(e.attributes.property).match(/^article:/)||le(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(le(e.attributes.name)==="google-site-verification"||le(e.attributes.name)==="yandex-verification"||le(e.attributes.name)==="csrf-token"||le(e.attributes.name)==="p:domain_verify"||le(e.attributes.name)==="verify-v1"||le(e.attributes.name)==="verification"||le(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Gr(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:b,dataURLOptions:H={},inlineImages:A=!1,recordCanvas:O=!1,onSerialize:E,onIframeLoad:R,iframeLoadTimeout:M=5e3,onStylesheetLoad:I,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:z=()=>!1,newlyAddedElement:v=!1}=t,{preserveWhiteSpace:D=!0}=t,q=PI(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,dataURLOptions:H,inlineImages:A,recordCanvas:O,keepIframeSrcFn:z,newlyAddedElement:v});if(!q)return console.warn(e,"not serialized"),null;let U;r.hasNode(e)?U=r.getId(e):HI(q,b)||!D&&q.type===Me.Text&&!q.isStyle&&!q.textContent.replace(/^\s+|\s+$/gm,"").length?U=ei:U=xl();let L=Object.assign(q,{id:U});if(r.add(e,L),U===ei)return null;E&&E(e);let $=!f;if(L.type===Me.Element){$=$&&!L.needBlock,delete L.needBlock;let F=e.shadowRoot;F&&Xo(F)&&(L.isShadowHost=!0)}if((L.type===Me.Document||L.type===Me.Element)&&$){b.headWhitespace&&L.type===Me.Element&&L.tagName==="head"&&(D=!1);let F={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:b,dataURLOptions:H,inlineImages:A,recordCanvas:O,preserveWhiteSpace:D,onSerialize:E,onIframeLoad:R,iframeLoadTimeout:M,onStylesheetLoad:I,stylesheetLoadTimeout:C,keepIframeSrcFn:z};for(let V of Array.from(e.childNodes)){let K=Gr(V,F);K&&L.childNodes.push(K)}if(fI(e)&&e.shadowRoot)for(let V of Array.from(e.shadowRoot.childNodes)){let K=Gr(V,F);K&&(Xo(e.shadowRoot)&&(K.isShadow=!0),L.childNodes.push(K))}}return e.parentNode&&Ko(e.parentNode)&&Xo(e.parentNode)&&(L.isShadow=!0),L.type===Me.Element&&L.tagName==="iframe"&&!qm(e,o,i,s)&&LI(e,()=>{let F=Gm(e);if(F&&R){let V=Gr(F,{doc:F,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:b,dataURLOptions:H,inlineImages:A,recordCanvas:O,preserveWhiteSpace:D,onSerialize:E,onIframeLoad:R,iframeLoadTimeout:M,onStylesheetLoad:I,stylesheetLoadTimeout:C,keepIframeSrcFn:z});V&&R(e,V)}},M),L.type===Me.Element&&L.tagName==="link"&&typeof L.attributes.rel=="string"&&(L.attributes.rel==="stylesheet"||L.attributes.rel==="preload"&&typeof L.attributes.href=="string"&&Hm(L.attributes.href)==="css")&&DI(e,()=>{if(I){let F=Gr(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:b,dataURLOptions:H,inlineImages:A,recordCanvas:O,preserveWhiteSpace:D,onSerialize:E,onIframeLoad:R,iframeLoadTimeout:M,onStylesheetLoad:I,stylesheetLoadTimeout:C,keepIframeSrcFn:z});F&&I(e,F)}},C),L}function $I(e,t){let{mirror:n=new ta,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOM:b=!1,dataURLOptions:H,preserveWhiteSpace:A,onSerialize:O,onIframeLoad:E,iframeLoadTimeout:R,onStylesheetLoad:M,stylesheetLoadTimeout:I,keepIframeSrcFn:C=()=>!1}=t||{};return Gr(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:b==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:b===!1?{}:b,dataURLOptions:H,inlineImages:f,recordCanvas:p,preserveWhiteSpace:A,onSerialize:O,onIframeLoad:E,iframeLoadTimeout:R,onStylesheetLoad:M,stylesheetLoadTimeout:I,keepIframeSrcFn:C,newlyAddedElement:!1})}function Ze(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Br=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Tm={map:{},getId(){return console.error(Br),-1},getNode(){return console.error(Br),null},removeNodeFromMap(){console.error(Br)},has(){return console.error(Br),!1},reset(){console.error(Br)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Tm=new Proxy(Tm,{get(e,t,n){return t==="map"&&console.error(Br),Reflect.get(e,t,n)}}));function ti(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(VI(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=ma(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Vm(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){ma(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Vm(e,t,i||{},!0)}function Cl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var oa=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(oa=()=>new Date().getTime());function Ym(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Jm(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Km(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Xm(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function mt(e,t,n,r,o){if(!e)return!1;let i=Xm(e);if(!i)return!1;let s=Wr(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Kn(i,s),c=-1;return a<0?!1:(r&&(c=Kn(i,Wr(null,r))),a>-1&&c<0?!0:a<c)}function WI(e,t){return t.getId(e)!==-1}function Ju(e,t){return t.getId(e)===ei}function Zm(e,t){if(Ko(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Zm(e.parentNode,t):!0:!0}function nl(e){return!!e.changedTouches}function GI(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Qm(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function eh(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function rl(e){return!!e?.shadowRoot}var ol=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function th(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function zI(e){let t=e,n;for(;n=th(t);)t=n;return t}function jI(e){let t=e.ownerDocument;if(!t)return!1;let n=zI(e);return t.contains(n)}function nh(e){let t=e.ownerDocument;return t?t.contains(e)||jI(e):!1}var Im={};function Al(e){let t=Im[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return Im[e]=r.bind(window)}function qI(...e){return Al("requestAnimationFrame")(...e)}function ma(...e){return Al("setTimeout")(...e)}function VI(...e){return Al("clearTimeout")(...e)}var J=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(J||{}),j=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(j||{}),Xe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Xe||{}),un=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(un||{}),Hr=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Hr||{});function kl(e){try{return e.contentDocument}catch{}}function YI(e){try{return e.contentWindow}catch{}}function vm(e){return"__ln"in e}var il=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&vm(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&vm(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},wm=(e,t)=>`${e}@${t}`,sl=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new il,o=c=>{let u=c,d=ei;for(;d===ei;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!nh(c))return;let u=Ko(c.parentNode)?this.mirror.getId(th(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);let l=Gr(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Qm(f,this.mirror)&&!mt(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),eh(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),rl(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{mt(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)Rm(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!xm(this.droppedSet,c)&&!Rm(this.removes,c,this.mirror)||xm(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),d=o(s.value);u!==-1&&d!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let d=u;if(u=u.previous,d){let l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{let p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let m=p.parentNode.host;if(this.mirror.getId(m)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Ju(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!mt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:qr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Xm(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let s=Rl(n),a=n.tagName;o=na(n,a,s);let c=fa({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),u=qr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=Qo({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(mt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!kl(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!jm(n.tagName,r)&&(i.attributes[r]=zm(this.doc,jr(n.tagName),jr(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let a of Array.from(n.style)){let c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==s.style.getPropertyValue(a)||u!==s.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(let a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(mt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=Ko(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);mt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ju(n,this.mirror)||!WI(n,this.mirror)||(this.addedSet.has(n)?(al(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Zm(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[wm(r,o)]?al(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:Ko(t.target)&&Xo(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Ju(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[wm(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);mt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),rl(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function al(e,t){e.delete(t),t.childNodes.forEach(n=>al(e,n))}function Rm(e,t,n){return e.length===0?!1:JI(e,t,n)}function JI(e,t,n){let r=t.parentNode;for(;r;){let o=n.getId(r);if(e.some(i=>i.id===o))return!0;r=r.parentNode}return!1}function xm(e,t){return e.size===0?!1:rh(e,t)}function rh(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:rh(e,n):!1}var Zo;function KI(e){Zo=e}function XI(){Zo=void 0}var te=e=>Zo?(...n)=>{try{return e(...n)}catch(r){if(Zo&&Zo(r)===!0)return()=>{};throw r}}:e,zr=[];function si(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function oh(e,t){let n=new sl;zr.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);let i=new r(te(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function ZI({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=ti(te(l=>{let f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),l),s=[],a=null}),i),u=te(ti(te(l=>{let f=si(l),{clientX:p,clientY:m}=nl(l)?l.changedTouches[0]:l;a||(a=oa()),s.push({x:p,y:m,id:r.getId(f),timeOffset:oa()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?j.Drag:l instanceof MouseEvent?j.MouseMove:j.TouchMove)}),o,{trailing:!1})),d=[Ze("mousemove",u,n),Ze("touchmove",u,n),Ze("drag",u,n)];return te(()=>{d.forEach(l=>l())})}function QI({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,d=l=>f=>{let p=si(f);if(mt(p,r,o,i,!0))return;let m=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":m=un.Mouse;break;case"touch":m=un.Touch;break;case"pen":m=un.Pen;break}m===un.Touch?Xe[l]===Xe.MouseDown?g="TouchStart":Xe[l]===Xe.MouseUp&&(g="TouchEnd"):un.Pen}else nl(f)&&(m=un.Touch);m!==null?(u=m,(g.startsWith("Touch")&&m===un.Touch||g.startsWith("Mouse")&&m===un.Mouse)&&(m=null)):Xe[l]===Xe.Click&&(m=u,u=null);let _=nl(f)?f.changedTouches[0]:f;if(!_)return;let S=n.getId(p),{clientX:b,clientY:H}=_;te(e)({type:Xe[g],id:S,x:b,y:H,...m!==null&&{pointerType:m}})};return Object.keys(Xe).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=jr(l),p=d(l);if(window.PointerEvent)switch(Xe[l]){case Xe.MouseDown:case Xe.MouseUp:f=f.replace("mouse","pointer");break;case Xe.TouchStart:case Xe.TouchEnd:return}c.push(Ze(f,p,t))}),te(()=>{c.forEach(l=>l())})}function ih({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=te(ti(te(c=>{let u=si(c);if(!u||mt(u,r,o,i,!0))return;let d=n.getId(u);if(u===t&&t.defaultView){let l=Ym(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return Ze("scroll",a,t)}function ev({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=te(ti(te(()=>{let i=Jm(),s=Km();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return Ze("resize",o,t)}var tv=["INPUT","TEXTAREA","SELECT"],Cm=new WeakMap;function nv({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:g}){function _(R){let M=si(R),I=R.isTrusted,C=M&&el(M.tagName);if(C==="OPTION"&&(M=M.parentElement),!M||!C||tv.indexOf(C)<0||mt(M,r,o,i,!0))return;let z=M;if(z.classList.contains(s)||a&&z.matches(a))return;let v=Rl(M),D=na(z,C,v),q=!1,U=fa({maskInputOptions:c,tagName:C,type:v}),L=qr(M,f,m,p,g,U);(v==="radio"||v==="checkbox")&&(q=M.checked),D=Qo({isMasked:L,element:M,value:D,maskInputFn:u}),S(M,l?{text:D,isChecked:q,userTriggered:I}:{text:D,isChecked:q});let $=M.name;v==="radio"&&$&&q&&t.querySelectorAll(`input[type="radio"][name="${$}"]`).forEach(F=>{if(F!==M){let V=Qo({isMasked:L,element:F,value:na(F,C,v),maskInputFn:u});S(F,l?{text:V,isChecked:!q,userTriggered:!1}:{text:V,isChecked:!q})}})}function S(R,M){let I=Cm.get(R);if(!I||I.text!==M.text||I.isChecked!==M.isChecked){Cm.set(R,M);let C=n.getId(R);te(e)({...M,id:C})}}let H=(d.input==="last"?["change"]:["input","change"]).map(R=>Ze(R,te(_),t)),A=t.defaultView;if(!A)return()=>{H.forEach(R=>R())};let O=A.Object.getOwnPropertyDescriptor(A.HTMLInputElement.prototype,"value"),E=[[A.HTMLInputElement.prototype,"value"],[A.HTMLInputElement.prototype,"checked"],[A.HTMLSelectElement.prototype,"value"],[A.HTMLTextAreaElement.prototype,"value"],[A.HTMLSelectElement.prototype,"selectedIndex"],[A.HTMLOptionElement.prototype,"selected"]];return O&&O.set&&H.push(...E.map(R=>Vm(R[0],R[1],{set(){te(_)({target:this,isTrusted:!1})}},!1,A))),te(()=>{H.forEach(R=>R())})}function ia(e){let t=[];function n(r,o){if(Ks("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Ks("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Ks("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Ks("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function wn(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function rv({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:te((d,l,f)=>{let[p,m]=f,{id:g,styleId:_}=wn(l,t,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&e({id:g,styleId:_,adds:[{rule:p,index:m}]}),d.apply(l,f)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:te((d,l,f)=>{let[p]=f,{id:m,styleId:g}=wn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:p}]}),d.apply(l,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:te((d,l,f)=>{let[p]=f,{id:m,styleId:g}=wn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:te((d,l,f)=>{let[p]=f,{id:m,styleId:g}=wn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:p}),d.apply(l,f)})}));let c={};Xs("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Xs("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Xs("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Xs("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:te((f,p,m)=>{let[g,_]=m,{id:S,styleId:b}=wn(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||b&&b!==-1)&&e({id:S,styleId:b,adds:[{rule:g,index:[...ia(p),_||0]}]}),f.apply(p,m)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:te((f,p,m)=>{let[g]=m,{id:_,styleId:S}=wn(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,removes:[{index:[...ia(p),g]}]}),f.apply(p,m)})})}),te(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function sh({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,i=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return i.get?.call(this)},set(s){let a=i.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),te(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function ov({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:te((a,c,u)=>{let[d,l,f]=u;if(n.has(d))return i.apply(c,[d,l,f]);let{id:p,styleId:m}=wn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:d,value:l,priority:f},index:ia(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:te((a,c,u)=>{let[d]=u;if(n.has(d))return s.apply(c,[d]);let{id:l,styleId:f}=wn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:ia(c.parentRule)}),a.apply(c,u)})}),te(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function iv({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=te(u=>ti(te(d=>{let l=si(d);if(!l||mt(l,t,n,r,!0))return;let{currentTime:f,volume:p,muted:m,playbackRate:g}=l;e({type:u,id:o.getId(l),currentTime:f,volume:p,muted:m,playbackRate:g})}),i.media||500)),c=[Ze("play",a(Hr.Play),s),Ze("pause",a(Hr.Pause),s),Ze("seeked",a(Hr.Seeked),s),Ze("volumechange",a(Hr.VolumeChange),s),Ze("ratechange",a(Hr.RateChange),s)];return te(()=>{c.forEach(u=>u())})}function sv({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){let l=new i(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};let s=Cl(t.fonts,"add",function(a){return function(c){return ma(te(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),te(()=>{r.forEach(a=>a())})}function av(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=te(()=>{let u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;let d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){let p=u.getRangeAt(f),{startContainer:m,startOffset:g,endContainer:_,endOffset:S}=p;mt(m,r,o,i,!0)||mt(_,r,o,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(_),endOffset:S})}s({ranges:d})});return c(),Ze("selectionchange",c)}function cv({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:Cl(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function uv(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=oh(e,e.doc));let o=ZI(e),i=QI(e),s=ih(e),a=ev(e,{win:n}),c=nv(e),u=iv(e),d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=rv(e,{win:n}),l=sh(e,e.doc),f=ov(e,{win:n}),e.collectFonts&&(p=sv(e)));let m=av(e),g=cv(e),_=[];for(let S of e.plugins)_.push(S.observer(S.callback,n,S.options));return te(()=>{zr.forEach(S=>S.reset()),r?.disconnect(),o(),i(),s(),a(),c(),u(),d(),l(),f(),p(),m(),g(),_.forEach(S=>S())})}function Ks(e){return typeof window[e]<"u"}function Xs(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var ni=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}},cl=class{constructor(){this.crossOriginIframeMirror=new ni(xl),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},ul=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ni(xl),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ni(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);let r=kl(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case J.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:J.IncrementalSnapshot,data:{source:j.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case J.Meta:case J.Load:case J.DomContentLoaded:return!1;case J.Plugin:return n;case J.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case J.IncrementalSnapshot:switch(n.data.source){case j.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case j.Drag:case j.TouchMove:case j.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case j.ViewportResize:return!1;case j.MediaInteraction:case j.MouseInteraction:case j.Scroll:case j.CanvasMutation:case j.Input:return this.replaceIds(n.data,t,["id"]),n;case j.StyleSheetRule:case j.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case j.Font:return n;case j.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case j.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Me.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},ll=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},dl=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Xo(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=oh({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(ih({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),ma(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(sh({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let n=kl(t),r=YI(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(Cl(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&nh(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},Am="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Yo=0;Yo<Am.length;Yo++)lv[Am.charCodeAt(Yo)]=Yo;var Yo,sa=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},fl=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new ol,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Bm(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},pl=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.active||(this.active=!0,qI(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}},be,aa;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Ft=yI();function ln(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:_,slimDOMOptions:S,maskAttributeFn:b,maskInputFn:H,maskTextFn:A,maxCanvasSize:O=null,packFn:E,sampling:R={},dataURLOptions:M={},mousemoveWait:I,recordDOM:C=!0,recordCanvas:z=!1,recordCrossOriginIframes:v=!1,recordAfter:D=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:q=!1,collectFonts:U=!1,inlineImages:L=!1,plugins:$,keepIframeSrcFn:F=()=>!1,ignoreCSSAttributes:V=new Set([]),errorHandler:K,onMutation:ge,getCanvasManager:ht}=e;KI(K);let xe=v?window.parent===window:!0,ve=!1;if(!xe)try{window.parent.document&&(ve=!1)}catch{ve=!0}if(xe&&!t)throw new Error("emit function is required");if(!xe&&!ve)return()=>{};I!==void 0&&R.mousemove===void 0&&(R.mousemove=I),Ft.reset();let st=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},Jt=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};GI();let Qn,er=0,Zr=re=>{for(let Rt of $||[])Rt.eventProcessor&&(re=Rt.eventProcessor(re));return E&&!ve&&(re=E(re)),re};be=(re,Rt)=>{let Q=re;if(Q.timestamp=oa(),zr[0]?.isFrozen()&&Q.type!==J.FullSnapshot&&!(Q.type===J.IncrementalSnapshot&&Q.data.source===j.Mutation)&&zr.forEach(ze=>ze.unfreeze()),xe)t?.(Zr(Q),Rt);else if(ve){let ze={type:"rrweb",event:Zr(Q),origin:window.location.origin,isCheckout:Rt};window.parent.postMessage(ze,"*")}if(Q.type===J.FullSnapshot)Qn=Q,er=0;else if(Q.type===J.IncrementalSnapshot){if(Q.data.source===j.Mutation&&Q.data.isAttachIframe)return;er++;let ze=r&&er>=r,oe=n&&Qn&&Q.timestamp-Qn.timestamp>n;(ze||oe)&&Ra(!0)}};let dn=re=>{be({type:J.IncrementalSnapshot,data:{source:j.Mutation,...re}})},_e=re=>be({type:J.IncrementalSnapshot,data:{source:j.Scroll,...re}}),Oe=re=>be({type:J.IncrementalSnapshot,data:{source:j.CanvasMutation,...re}}),Ut=re=>be({type:J.IncrementalSnapshot,data:{source:j.AdoptedStyleSheet,...re}}),Te=new fl({mutationCb:dn,adoptedStyleSheetCb:Ut}),Ce=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new cl:new ul({mirror:Ft,mutationCb:dn,stylesheetManager:Te,recordCrossOriginIframes:v,wrappedEmit:be});for(let re of $||[])re.getMirror&&re.getMirror({nodeMirror:Ft,crossOriginIframeMirror:Ce.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ce.crossOriginIframeStyleMirror});let Bt=new pl,Cn=fv(ht,{mirror:Ft,win:window,mutationCb:re=>be({type:J.IncrementalSnapshot,data:{source:j.CanvasMutation,...re}}),recordCanvas:z,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:O,sampling:R.canvas,dataURLOptions:M,errorHandler:K}),tr=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ll:new dl({mutationCb:dn,scrollCb:_e,bypassOptions:{onMutation:ge,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:st,dataURLOptions:M,maskAttributeFn:b,maskTextFn:A,maskInputFn:H,recordCanvas:z,inlineImages:L,sampling:R,slimDOMOptions:Jt,iframeManager:Ce,stylesheetManager:Te,canvasManager:Cn,keepIframeSrcFn:F,processedNodeManager:Bt},mirror:Ft}),Ra=(re=!1)=>{if(!C)return;be({type:J.Meta,data:{href:window.location.href,width:Km(),height:Jm()}},re),Te.reset(),tr.init(),zr.forEach(Q=>Q.lock());let Rt=$I(document,{mirror:Ft,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:st,maskAttributeFn:b,maskInputFn:H,maskTextFn:A,slimDOM:Jt,dataURLOptions:M,recordCanvas:z,inlineImages:L,onSerialize:Q=>{Qm(Q,Ft)&&Ce.addIframe(Q),eh(Q,Ft)&&Te.trackLinkElement(Q),rl(Q)&&tr.addShadowRoot(Q.shadowRoot,document)},onIframeLoad:(Q,ze)=>{Ce.attachIframe(Q,ze),Q.contentWindow&&Cn.addWindow(Q.contentWindow),tr.observeAttachShadow(Q)},onStylesheetLoad:(Q,ze)=>{Te.attachLinkElement(Q,ze)},keepIframeSrcFn:F});if(!Rt)return console.warn("Failed to snapshot the document");be({type:J.FullSnapshot,data:{node:Rt,initialOffset:Ym(window)}}),zr.forEach(Q=>Q.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Te.adoptStyleSheets(document.adoptedStyleSheets,Ft.getId(document))};aa=Ra;try{let re=[],Rt=ze=>te(uv)({onMutation:ge,mutationCb:dn,mousemoveCb:(oe,xa)=>be({type:J.IncrementalSnapshot,data:{source:xa,positions:oe}}),mouseInteractionCb:oe=>be({type:J.IncrementalSnapshot,data:{source:j.MouseInteraction,...oe}}),scrollCb:_e,viewportResizeCb:oe=>be({type:J.IncrementalSnapshot,data:{source:j.ViewportResize,...oe}}),inputCb:oe=>be({type:J.IncrementalSnapshot,data:{source:j.Input,...oe}}),mediaInteractionCb:oe=>be({type:J.IncrementalSnapshot,data:{source:j.MediaInteraction,...oe}}),styleSheetRuleCb:oe=>be({type:J.IncrementalSnapshot,data:{source:j.StyleSheetRule,...oe}}),styleDeclarationCb:oe=>be({type:J.IncrementalSnapshot,data:{source:j.StyleDeclaration,...oe}}),canvasMutationCb:Oe,fontCb:oe=>be({type:J.IncrementalSnapshot,data:{source:j.Font,...oe}}),selectionCb:oe=>{be({type:J.IncrementalSnapshot,data:{source:j.Selection,...oe}})},customElementCb:oe=>{be({type:J.IncrementalSnapshot,data:{source:j.CustomElement,...oe}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:st,inlineStylesheet:m,sampling:R,recordDOM:C,recordCanvas:z,inlineImages:L,userTriggeredOnInput:q,collectFonts:U,doc:ze,maskAttributeFn:b,maskInputFn:H,maskTextFn:A,keepIframeSrcFn:F,blockSelector:i,unblockSelector:s,slimDOMOptions:Jt,dataURLOptions:M,mirror:Ft,iframeManager:Ce,stylesheetManager:Te,shadowDomManager:tr,processedNodeManager:Bt,canvasManager:Cn,ignoreCSSAttributes:V,plugins:$?.filter(oe=>oe.observer)?.map(oe=>({observer:oe.observer,options:oe.options,callback:xa=>be({type:J.Plugin,data:{plugin:oe.name,payload:xa}})}))||[]},{});Ce.addLoadListener(ze=>{try{re.push(Rt(ze.contentDocument))}catch(oe){console.warn(oe)}});let Q=()=>{Ra(),re.push(Rt(document))};return document.readyState==="interactive"||document.readyState==="complete"?Q():(re.push(Ze("DOMContentLoaded",()=>{be({type:J.DomContentLoaded,data:{}}),D==="DOMContentLoaded"&&Q()})),re.push(Ze("load",()=>{be({type:J.Load,data:{}}),D==="load"&&Q()},window))),()=>{re.forEach(ze=>ze()),Bt.destroy(),aa=void 0,XI()}}catch(re){console.warn(re)}}function dv(e){if(!aa)throw new Error("please take full snapshot after start recording");aa(e)}ln.mirror=Ft;ln.takeFullSnapshot=dv;function fv(e,t){try{return e?e(t):new sa}catch{return console.warn("Unable to initialize CanvasManager"),new sa}}var km;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(km||(km={}));var pv=3,mv=5;function Nl(e){return e>9999999999?e:e*1e3}function Ku(e){return e>9999999999?e/1e3:e}function ai(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:J.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ke(t,10,1e3)}}),t.category==="console")))}var hv="button,a";function ah(e){return e.closest(hv)||e}function ch(e){let t=uh(e);return!t||!(t instanceof Element)?t:ah(t)}function uh(e){return gv(e)?e.target:e}function gv(e){return typeof e=="object"&&!!e&&"target"in e}var Rn;function _v(e){return Rn||(Rn=[],Sv()),Rn.push(e),()=>{let t=Rn?Rn.indexOf(e):-1;t>-1&&Rn.splice(t,1)}}function Sv(){Se(de,"open",function(e){return function(...t){if(Rn)try{Rn.forEach(n=>n())}catch{}return e.apply(de,t)}})}var yv=new Set([j.Mutation,j.StyleSheetRule,j.StyleDeclaration,j.AdoptedStyleSheet,j.CanvasMutation,j.Selection,j.MediaInteraction]);function Ev(e,t,n){e.handleClick(t,n)}var ml=class{constructor(t,n,r=ai){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=_v(()=>{this._lastMutation=Nm()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(Tv(n,this._ignoreSelector)||!Iv(t))return;let r={timestamp:Ku(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Ku(t)}registerScroll(t=Date.now()){this._lastScroll=Ku(t)}registerClick(t){let n=ah(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=Nm();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:de.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,d);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:de.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Vn(()=>this._checkClicks(),1e3)}},bv=["A","BUTTON","INPUT"];function Tv(e,t){return!!(!bv.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Iv(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Nm(){return Date.now()/1e3}function vv(e,t){try{if(!wv(t))return;let{source:n}=t.data;if(yv.has(n)&&e.registerMutation(t.timestamp),n===j.Scroll&&e.registerScroll(t.timestamp),Rv(t)){let{type:r,id:o}=t.data,i=ln.mirror.getNode(o);i instanceof HTMLElement&&r===Xe.Click&&e.registerClick(i)}}catch{}}function wv(e){return e.type===pv}function Rv(e){return e.data.source===j.MouseInteraction}function Vt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ml=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ml||{}),xv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Cv(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(xv.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var Av=e=>t=>{if(!e.isEnabled())return;let n=kv(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&Ev(e.clickDetector,n,ch(t.event)),ai(e,n)};function lh(e,t){let n=ln.mirror.getId(e),r=n&&ln.mirror.getNode(n),o=r&&ln.mirror.getMeta(r),i=o&&Mv(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===Ml.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:Cv(i.attributes)}}:{}}}function kv(e){let{target:t,message:n}=Nv(e);return Vt({category:`ui.${e.name}`,...lh(t,n)})}function Nv(e){let t=e.name==="click",n,r=null;try{r=t?ch(e.event):uh(e.event),n=Re(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Mv(e){return e.type===Ml.Element}function Ov(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=Lv(t);n&&ai(e,n)}function Lv(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||Dv(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=Re(s,{maxStringLength:200})||"<unknown>",d=lh(s,u);return Vt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function Dv(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var Pv={resource:$v,paint:Bv,navigation:Hv};function Xu(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Fv(e){return e.map(Uv).filter(Boolean)}function Uv(e){let t=Pv[e.entryType];return t?t(e):null}function Vr(e){return((me()||de.performance.timeOrigin)+e)/1e3}function Bv(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=Vr(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function Hv(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:m,type:g}=e;return o===0?null:{type:`${t}.${g}`,start:Vr(p),end:Vr(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:f}}}function $v(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Vr(i),end:Vr(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function Wv(e){let t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return Ol(e,"largest-contentful-paint",n)}function Gv(e){return e.sources!==void 0}function zv(e){let t=[],n=[];for(let r of e.entries)if(Gv(r)){let o=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=ln.mirror.getId(i.node);s&&o.push(s)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return Ol(e,"cumulative-layout-shift",n,t)}function jv(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return Ol(e,"interaction-to-next-paint",n)}function Ol(e,t,n,r){let o=e.value,i=e.rating,s=Vr(o);return{type:"web-vital",name:t,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(a=>ln.mirror.getId(a)):void 0,attributions:r}}}function qv(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(pt(o,n))}),r.push(jn(Xu(Wv,e)),zn(Xu(zv,e)),zo(Xu(jv,e))),()=>{r.forEach(o=>o())}}var W=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Vv='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Yv(){let e=new Blob([Vv]);return URL.createObjectURL(e)}var Mm=["log","warn","error"],Qs="[Replay] ";function Zu(e,t="info"){Je({category:"console",data:{logger:"replay"},level:t,message:`${Qs}${e}`},{level:t})}function Jv(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return W?(Mm.forEach(r=>{n[r]=(...o)=>{h[r](Qs,...o),t&&Zu(o.join(""),Un(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),h.error(Qs,r),e?dt(r):t&&Zu(r,"error")},n.infoTick=(...r)=>{h.log(Qs,...r),t&&setTimeout(()=>Zu(r[0]),0)}):Mm.forEach(r=>{n[r]=()=>{}}),n}var G=Jv(),ri=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${wl}.`)}},ca=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>wl)throw new ri;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?Nl(t):null}},hl=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){W&&G.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){W&&G.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},gl=class{constructor(t){this._worker=new hl(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=Nl(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>wl?Promise.reject(new ri):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{W&&G.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},_l=class{constructor(t){this._fallback=new ca,this._compression=new gl(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){W&&G.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,o=[];for(let i of t)o.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(i){W&&G.exception(i,"Failed to add events when switching buffers.")}}};function Kv({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=Xv(t);if(n)return n}return W&&G.log("Using simple buffer"),new ca}function Xv(e){try{let t=e||Zv();if(!t)return;W&&G.log(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new _l(n)}catch(t){W&&G.exception(t,"Failed to create compression worker")}}function Zv(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Yv():""}function Ll(){try{return"sessionStorage"in de&&!!de.sessionStorage}catch{return!1}}function Qv(e){e0(),e.session=void 0}function e0(){if(Ll())try{de.sessionStorage.removeItem(Il)}catch{}}function dh(e){return e===void 0?!1:Math.random()<e}function Dl(e){if(Ll())try{de.sessionStorage.setItem(Il,JSON.stringify(e))}catch{}}function fh(e){let t=Date.now(),n=e.id||pe(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function t0(e,t){return dh(e)?"session":t?"buffer":!1}function Om({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=t0(e,t),i=fh({sampled:o,previousSessionId:r});return n&&Dl(i),i}function n0(){if(!Ll())return null;try{let e=de.sessionStorage.getItem(Il);if(!e)return null;let t=JSON.parse(e);return W&&G.infoTick("Loading existing session"),fh(t)}catch{return null}}function Sl(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function ph(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Sl(e.started,t,r)||Sl(e.lastActivity,n,r)}function mh(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!ph(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Qu({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let o=r.stickySession&&n0();return o?mh(o,{sessionIdleExpire:e,maxReplayDuration:t})?(W&&G.infoTick("Session in sessionStorage is expired, creating new one..."),Om(r,{previousSessionId:o.id})):o:(W&&G.infoTick("Creating new session"),Om(r,{previousSessionId:n}))}function r0(e){return e.type===J.Custom}function Pl(e,t,n){return gh(e,t)?(hh(e,t,n),!0):!1}function o0(e,t,n){return gh(e,t)?hh(e,t,n):Promise.resolve(null)}async function hh(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=i0(t,i.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(i){let s=i&&i instanceof ri,a=s?"addEventSizeExceeded":"addEvent";if(s&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a});let c=T();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function gh(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=Nl(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(W&&G.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function i0(e,t){try{if(typeof t=="function"&&r0(e))return t(e)}catch(n){return W&&G.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Fl(e){return!e.type}function yl(e){return e.type==="transaction"}function s0(e){return e.type==="replay_event"}function Lm(e){return e.type==="feedback"}function a0(e){return(t,n)=>{if(!e.isEnabled()||!Fl(t)&&!yl(t))return;let r=n?.statusCode;if(!(!r||r<200||r>=300)){if(yl(t)){c0(e,t);return}u0(e,t)}}}function c0(e,t){let n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function u0(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Vn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function l0(e){return t=>{!e.isEnabled()||!Fl(t)||d0(e,t)}}function d0(e,t){let n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=Vt({category:"replay.hydrate-error",data:{url:qe()}});ai(e,r)}}function f0(e){let t=T();t&&t.on("beforeAddBreadcrumb",n=>p0(e,n))}function p0(e,t){if(!e.isEnabled()||!_h(t))return;let n=m0(t);n&&ai(e,n)}function m0(e){return!_h(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?h0(e):Vt(e)}function h0(e){let t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return Vt(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Js?(n=!0,`${o.slice(0,Js)}\u2026`):o;if(typeof o=="object")try{let i=ke(o,7);return JSON.stringify(i).length>Js?(n=!0,`${JSON.stringify(i,null,2).slice(0,Js)}\u2026`):i}catch{}return o});return Vt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function _h(e){return!!e.category}function g0(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function Sh(){let e=k().getPropagationContext().dsc;e&&delete e.replay_id;let t=Z();if(t){let n=Ie(t);delete n.replay_id}}function _0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:J.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function S0(e,t){return e.recordingMode!=="buffer"||t.message===vl||!t.exception||t.type?!1:dh(e.getOptions().errorSampleRate)}function y0(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:s0(t)?(delete t.breadcrumbs,t):!Fl(t)&&!yl(t)&&!Lm(t)?t:e.checkAndHandleExpiredSession()?Lm(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),_0(e,t),t):g0(t,n)&&!e.getOptions()._experiments.captureExceptions?(W&&G.log("Ignoring error from rrweb internals",t),null):((S0(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(Sh(),t),{id:"Replay"})}function ha(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:J.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function E0(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function b0(e){return t=>{if(!e.isEnabled())return;let n=E0(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(ha(e,[n]),!1)))}}function T0(e,t){return W&&e.getOptions()._experiments.traceInternals?!1:Co(t,T())}function yh(e,t){e.isEnabled()&&t!==null&&(T0(e,t.name)||e.addUpdate(()=>(ha(e,[t]),!0)))}function ga(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=Bs(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Eh(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function ua(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function bh(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function oi(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function xn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=I0(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function El(e,t){return Object.entries(e).reduce((n,[r,o])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function I0(e){if(!e||typeof e!="string")return{body:e};let t=e.length>hm,n=v0(e);if(t){let r=e.slice(0,hm);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function v0(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function la(e,t){let n=w0(e);return Le(n,t)}function w0(e,t=de.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(de.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function R0(e,t,n){try{let r=await C0(e,t,n),o=bh("resource.fetch",r);yh(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture fetch breadcrumb")}}function x0(e,t){let{input:n,response:r}=t,o=n?Dr(n):void 0,i=ga(o),s=r?Eh(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}async function C0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=la(s,n.networkDetailAllowUrls)&&!la(s,n.networkDetailDenyUrls),f=l?A0(n,t.input,u):oi(u),p=await k0(l,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:p}}function A0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?O0(n,t):{};if(!e)return xn(o,r,void 0);let i=Dr(n),[s,a]=Jn(i,G),c=xn(o,r,s);return a?ua(c,a):c}async function k0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return oi(o);let i=r?Th(r.headers,n):{};if(!r||!t&&o!==void 0)return xn(i,o,void 0);let[s,a]=await M0(r),c=N0(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?ua(c,a):c}function N0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let i=e?.length&&n===void 0?ga(e):n;return r?t?xn(o,i,e):xn(o,i,void 0):oi(i)}catch(i){return W&&G.exception(i,"Failed to serialize response body"),xn(o,n,void 0)}}async function M0(e){let t=L0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await D0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(W&&G.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(W&&G.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function Th(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function O0(e,t){return e.length===1&&typeof e[0]!="string"?Dm(e[0],t):e.length===2?Dm(e[1],t):{}}function Dm(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?Th(n,t):Array.isArray(n)?{}:El(n,t):{}}function L0(e){try{return e.clone()}catch(t){W&&G.exception(t,"Failed to clone response body")}}function D0(e){return new Promise((t,n)=>{let r=Vn(()=>n(new Error("Timeout while trying to read response body")),500);P0(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function P0(e){return await e.text()}async function F0(e,t,n){try{let r=B0(e,t,n),o=bh("resource.xhr",r);yh(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture xhr breadcrumb")}}function U0(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=ga(r),i=n.getResponseHeader("content-length")?Eh(n.getResponseHeader("content-length")):G0(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function B0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!la(c,n.networkDetailAllowUrls)||la(c,n.networkDetailDenyUrls)){let E=oi(l),R=oi(f);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:E,response:R}}let p=a[Ke],m=p?El(p.request_headers,n.networkRequestHeaders):{},g=El(H0(a),n.networkResponseHeaders),[_,S]=n.networkCaptureBodies?Jn(s,G):[void 0],[b,H]=n.networkCaptureBodies?$0(a):[void 0],A=xn(m,l,_),O=xn(g,f,b);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:S?ua(A,S):A,response:H?ua(O,H):O}}function H0(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function $0(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return W0(e.response,e.responseType)}catch(n){t.push(n)}return W&&G.warn("Failed to get xhr response body",...t),[void 0]}function W0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return W&&G.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return W&&G.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function G0(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ga(n)}catch{return}}function z0(e){let t=T();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>j0(a,c,u))}catch{}}function j0(e,t,n){if(t.data)try{q0(t)&&Y0(n)&&(U0(t,n),F0(t,n,e)),V0(t)&&J0(n)&&(x0(t,n),R0(t,n,e))}catch(r){W&&G.exception(r,"Error when enriching network breadcrumb")}}function q0(e){return e.category==="xhr"}function V0(e){return e.category==="fetch"}function Y0(e){return e?.xhr}function J0(e){return e?.response}function K0(e){let t=T();Vo(Av(e)),cn(b0(e)),f0(e),z0(e);let n=y0(e);bo(n),t&&(t.on("beforeSendEvent",l0(e)),t.on("afterSendEvent",a0(e)),t.on("createDsc",r=>{let o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=o)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,o)=>{let i=e.getSessionId();o?.includeReplay&&e.isEnabled()&&i&&r.contexts?.feedback&&(r.contexts.feedback.source==="api"&&await e.flush(),r.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.flush()}))}async function X0(e){try{return Promise.all(ha(e,[Z0(de.performance.memory)]))}catch{return[]}}function Z0(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Q0(e,t,n){return Fc(e,t,{...n,setTimeoutImpl:Vn})}var Zs=w.navigator;function ew(){return/iPhone|iPad|iPod/i.test(Zs?.userAgent??"")||/Macintosh/i.test(Zs?.userAgent??"")&&Zs?.maxTouchPoints&&Zs?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function tw(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){W&&G.warn("Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&vv(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Pl(e,n,o))return!0;if(!o)return!1;let i=e.session;if(rw(e,o),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(W&&G.log(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&Dl(i))}return i?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function nw(e){let t=e.getOptions();return{type:J.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function rw(e,t){!t||!e.session||e.session.segmentId!==0||Pl(e,nw(e),!1)}function ow(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function iw(e,t,n,r){return De(po(e,fr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function sw({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function aw({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit("preprocessEvent",r,i);let s=await _o(e.getOptions(),r,i,t,e,ie());if(!s)return null;e.emit("postprocessEvent",s,i),s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:c,version:u}=a?.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},s}async function cw({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=sw({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=T(),f=k(),p=l?.getTransport(),m=l?.getDsn();if(!l||!p||!m||!i.sampled)return Ye({});let g={type:ZT,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},_=await aw({scope:f,client:l,replayId:t,event:g});if(!_)return l.recordDroppedEvent("event_processor","replay"),W&&G.log("An event processor returned `null`, will not send event."),Ye({});delete _.sdkProcessingMetadata;let S=iw(_,s,m,l.getOptions().tunnel),b;try{b=await p.send(S)}catch(A){let O=new Error(vl);try{O.cause=A}catch{}throw O}if(typeof b.statusCode=="number"&&(b.statusCode<200||b.statusCode>=300))throw new da(b.statusCode);let H=Ro({},b);if(wo(H,"replay"))throw new ii(H);return b}var da=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},ii=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function Ih(e,t={count:0,interval:oI}){let{recordingData:n,onError:r}=e;if(n.length)try{return await cw(e),!0}catch(o){if(o instanceof da||o instanceof ii)throw o;if(So("Replays",{_retryCount:t.count}),r&&r(o),t.count>=iI){let i=new Error(`${vl} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{Vn(async()=>{try{await Ih(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var vh="__THROTTLED",uw="__SKIPPED";function lw(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let d=s;return s=!0,d?uw:vh}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var bl=class{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:QT,sessionIdleExpire:eI},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Q0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=lw((s,a)=>o0(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(sI,r),timeout:r,scrollTimeout:aI,ignoreSelector:o?o.join(","):""}:void 0;if(i&&(this.clickDetector=new ml(this,i)),W){let s=t._experiments;G.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}this._handleVisibilityChange=()=>{de.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let s=Vt({category:"ui.blur"});this._doChangeToBackgroundTasks(s)},this._handleWindowFocus=()=>{let s=Vt({category:"ui.focus"});this._doChangeToForegroundTasks(s)},this._handleKeyboardEvent=s=>{Ov(this,s)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){W&&G.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){W&&G.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",W&&G.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){W&&G.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){W&&G.log("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=Qu({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){W&&G.log("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in buffer mode");let t=Qu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=ln({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:rI}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:tw(this),...ew(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{W&&G.log(`Stopping Replay${n?` triggered by ${n}`:""}`),Sh(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,Qv(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),W&&G.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),W&&G.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();W&&G.log("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Sl(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${de.location.pathname}${de.location.hash}${de.location.search}`,n=`${de.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===vh){let o=Vt({category:"replay.throttled"});this.addUpdate(()=>!Pl(this,{type:mv,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||Z(),n=t&&ee(t),o=(n&&N(n).data||{})[Ee];if(!(!n||!o||!["route","custom"].includes(o)))return N(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Kv({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Qu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return mh(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{de.document.addEventListener("visibilitychange",this._handleVisibilityChange),de.addEventListener("blur",this._handleWindowBlur),de.addEventListener("focus",this._handleWindowFocus),de.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(K0(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=qv(this)}_removeListeners(){try{de.document.removeEventListener("visibilitychange",this._handleVisibilityChange),de.removeEventListener("blur",this._handleWindowBlur),de.removeEventListener("focus",this._handleWindowFocus),de.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||ph(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){W&&G.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:J.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Fv(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(ha(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){W&&G.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await X0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await Ih({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=T();if(r){let o=n instanceof ii?"ratelimit_backoff":"send_error";r.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){W&&G.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){W&&G.log(`Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}let a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&W&&G.log("Flushing initial segment without checkout.");let c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Dl(this.session)}_onMutationHandler(t){let{ignoreMutations:n}=this._options._experiments;if(n?.length&&t.some(a=>{let c=ow(a.target),u=n.join(",");return c?.matches(u)}))return!1;let r=t.length,o=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=o&&r>o;if(r>i||s){let a=Vt({category:"replay.mutations",data:{count:r,limit:s}});this._createCustomBreadcrumb(a)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function Jo(e,t){return[...e,...t].join(",")}function dw({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let i=["base","iframe[srcdoc]:not([src])"],s=Jo(e,[".sentry-mask","[data-sentry-mask]"]),a=Jo(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:Jo(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Jo(r,[]),ignoreSelector:Jo(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function fw({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var Pm='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',pw=["content-length","content-type","accept"],Fm=!1,wh=e=>new Tl(e),Tl=class{constructor({flushMinDelay:t=tI,flushMaxDelay:n=nI,minReplayDuration:r=cI,maxReplayDuration:o=gm,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:S=[],networkCaptureBodies:b=!0,networkRequestHeaders:H=[],networkResponseHeaders:A=[],mask:O=[],maskAttributes:E=["title","placeholder","aria-label"],unmask:R=[],block:M=[],unblock:I=[],ignore:C=[],maskFn:z,beforeAddRecordingEvent:v,beforeErrorSampling:D,onError:q}={}){this.name="Replay";let U=dw({mask:O,unmask:R,block:M,unblock:I,ignore:C});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:z,maskInputFn:z,maskAttributeFn:(L,$,F)=>fw({maskAttributes:E,maskAllText:u,privacyOptions:U,key:L,value:$,el:F}),...U,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:L=>{try{L.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,uI),maxReplayDuration:Math.min(o,gm),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:_,networkDetailDenyUrls:S,networkCaptureBodies:b,networkRequestHeaders:Um(H),networkResponseHeaders:Um(A),beforeAddRecordingEvent:v,beforeErrorSampling:D,onError:q,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Pm}`:Pm),this._isInitialized&&br())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Fm}set _isInitialized(t){Fm=t}afterAllSetup(t){!br()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=mw(this._initialOptions,t);this._replay=new bl({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};function mw(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=ut(n.replaysSessionSampleRate),i=ut(n.replaysOnErrorSampleRate);return o==null&&i==null&&Pe(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function Um(e){return[...pw,...e.map(t=>t.toLowerCase())]}function Rh(){return T()?.getIntegrationByName("Replay")}var hw=Object.defineProperty,gw=(e,t,n)=>t in e?hw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xh=(e,t,n)=>gw(e,typeof t!="symbol"?t+"":t,n),Bl=class{constructor(){xh(this,"idNodeMap",new Map),xh(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function _w(){return new Bl}function Sw(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Hl(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Hl(e.parentNode,t,n,r+1)}function Ch(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Sw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var Yr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Ah={map:{},getId(){return console.error(Yr),-1},getNode(){return console.error(Yr),null},removeNodeFromMap(){console.error(Yr)},has(){return console.error(Yr),!1},reset(){console.error(Yr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ah=new Proxy(Ah,{get(e,t,n){return t==="map"&&console.error(Yr),Reflect.get(e,t,n)}}));function Wl(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){Fh(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Wl(e,t,i||{},!0)}function Gl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function yw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Ea(e,t,n,r,o){if(!e)return!1;let i=yw(e);if(!i)return!1;let s=Ch(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Hl(i,s),c=-1;return a<0?!1:(r&&(c=Hl(i,Ch(null,r))),a>-1&&c<0?!0:a<c)}var kh={};function Ph(e){let t=kh[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return kh[e]=r.bind(window)}function Xn(...e){return Ph("requestAnimationFrame")(...e)}function Fh(...e){return Ph("setTimeout")(...e)}var Kr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Kr||{}),Sa;function Ew(e){Sa=e}var Ul=e=>Sa?(...n)=>{try{return e(...n)}catch(r){if(Sa&&Sa(r)===!0)return()=>{};throw r}}:e,Jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(ci=0;ci<Jr.length;ci++)bw[Jr.charCodeAt(ci)]=ci;var ci,Tw=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=Jr[t[n]>>2],o+=Jr[(t[n]&3)<<4|t[n+1]>>4],o+=Jr[(t[n+1]&15)<<2|t[n+2]>>6],o+=Jr[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Nh=new Map;function Iw(e,t){let n=Nh.get(e);return n||(n=new Map,Nh.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Uh=(e,t,n)=>{if(!e||!(Hh(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=Iw(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function ya(e,t,n){if(e instanceof Array)return e.map(r=>ya(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=Tw(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[ya(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[ya(e.data,t,n),e.width,e.height]};if(Hh(e,t)||typeof e=="object"){let r=e.constructor.name,o=Uh(e,t,n);return{rr_type:r,index:o}}}}return e}var Bh=(e,t,n)=>e.map(r=>ya(r,t,n)),Hh=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function vw(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=Gl(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return Ea(this.canvas,n,r,o,!0)||Fh(()=>{let l=Bh(d,t,this);e(this.canvas,{type:Kr["2D"],property:a,args:l})},0),u.apply(this,d)}});i.push(c)}catch{let c=Wl(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Kr["2D"],property:a,args:[u],setter:!0})}});i.push(c)}return()=>{i.forEach(a=>a())}}function ww(e){return e==="experimental-webgl"?"webgl":e}function Mh(e,t,n,r,o){let i=[];try{let s=Gl(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!Ea(this,t,n,r,!0)){let d=ww(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){let l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Oh(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let l=Gl(e,d,function(f){return function(...p){let m=f.apply(this,p);if(Uh(m,a,this),"tagName"in this.canvas&&!Ea(this.canvas,r,o,i,!0)){let g=Bh(p,a,this),_={type:t,property:d,args:g};n(this.canvas,_)}return m}});c.push(l)}catch{let l=Wl(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});c.push(l)}return c}function Rw(e,t,n,r,o,i){let s=[];return s.push(...Oh(t.WebGLRenderingContext.prototype,Kr.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Oh(t.WebGL2RenderingContext.prototype,Kr.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var xw='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function Cw(){let e=new Blob([xw]);return URL.createObjectURL(e)}var $l=class{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};let{sampling:n="all",win:r,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&Ew(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&Ul(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,o,i,s,a,{dataURLOptions:u})})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){let{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:i,recordCanvas:s,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}Ul(()=>{if(s&&n==="all"&&this.initCanvasMutationObserver(t,r,o,i),s&&typeof n=="number"){let c=Mh(t,r,o,i,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){let t=new Worker(Cw());return t.onmessage=n=>{let r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;let{base64:i,type:s,width:a,height:c}=r;this.mutationCb({id:o,type:Kr["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:s}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,o,i,s){let a=this.takeSnapshot(!1,t,n,r,o,i,s.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,o){let i=Mh(t,n,r,o,!1),s=vw(this.processMutation.bind(this),t,n,r,o),a=Rw(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{i(),s(),a()})}snapshot(t){let{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,o,i,s,a,c){let u=1e3/n,d,l=p=>{if(p)return[p];let m=[],g=_=>{_.querySelectorAll("canvas").forEach(S=>{Ea(S,r,o,i,!0)||m.push(S)})};for(let _ of this.windows){let S=_.deref(),b;try{b=S&&S.document}catch{}b&&g(b)}for(let _ of this.shadowDoms){let S=_.deref();S&&g(S)}return m},f=p=>{if(this.windows.length){if(this.lastSnapshotTime&&p-this.lastSnapshotTime<u){d=Xn(f);return}this.lastSnapshotTime=p,l(c).forEach(m=>{if(!this.mirror.hasNode(m))return;let g=this.mirror.getId(m);if(!this.snapshotInProgressMap.get(g)&&!(!m.width||!m.height)){if(this.snapshotInProgressMap.set(g,!0),!t&&["webgl","webgl2"].includes(m.__context)){let _=m.getContext(m.__context);_?.getContextAttributes()?.preserveDrawingBuffer===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(m).then(_=>{this.worker?.postMessage({id:g,bitmap:_,width:m.width,height:m.height,dataURLOptions:a,maxCanvasSize:s},[_])}).catch(_=>{Ul(()=>{throw _})()})}}),t||(d=Xn(f))}};return d=Xn(f),d}startPendingCanvasMutationFlusher(){Xn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,Xn(t)};Xn(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Xn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}};try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}_w();var Lh;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Lh||(Lh={}));var Dh={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Aw="ReplayCanvas",_a=1280,kw=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,_a):_a,n?Math.min(n,_a):_a]},o,i=new Promise(s=>o=s);return{name:Aw,getOptions(){let{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{let d=new $l({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},...Dh[s]||Dh.medium}},async snapshot(s){(await i).snapshot(s)}}},$h=kw;function Yt(e=0){return((me()||performance.timeOrigin)+e)/1e3}function Wh(e){let t=[];if(e.nextHopProtocol!=null){let{name:n,version:r}=qo(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return me()?[...t,["http.request.redirect_start",Yt(e.redirectStart)],["http.request.fetch_start",Yt(e.fetchStart)],["http.request.domain_lookup_start",Yt(e.domainLookupStart)],["http.request.domain_lookup_end",Yt(e.domainLookupEnd)],["http.request.connect_start",Yt(e.connectStart)],["http.request.secure_connection_start",Yt(e.secureConnectionStart)],["http.request.connection_end",Yt(e.connectEnd)],["http.request.request_start",Yt(e.requestStart)],["http.request.response_start",Yt(e.responseStart)],["http.request.response_end",Yt(e.responseEnd)]]:t}var Gh=new WeakMap,zl=new Map,ui={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function ba(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...ui,...t},u=typeof i=="function"?i:f=>!0,d=f=>Mw(f,a),l={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(p=>{if(p.op==="http.client"){let m=zl.get(p.span_id);m&&(p.timestamp=m/1e3,zl.delete(p.span_id))}}),f)),o&&eu(f=>{if(f.response){let p=Gh.get(f.response);p&&f.endTimestamp&&zl.set(p,f.endTimestamp)}}),Bn(f=>{let p=Jc(f,u,d,l);if(f.response&&f.fetchData.__span&&Gh.set(f.response,f.fetchData.__span),p){let m=jh(f.fetchData.url),g=m?Mt(m).host:void 0;p.setAttributes({"http.url":m,"server.address":g}),s&&zh(p),c?.(p,{headers:f.headers})}})),r&&Yn(f=>{let p=Ow(f,u,d,l);if(p){s&&zh(p);let m;try{m=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(p,{headers:m})}})}function Nw(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function zh(e){let{url:t}=N(e).data;if(!t||typeof t!="string")return;let n=pt("resource",({entries:r})=>{r.forEach(o=>{Nw(o)&&o.name.endsWith(t)&&(Wh(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function Mw(e,t){let n=qe();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?Le(r.toString(),t)||i&&Le(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?Le(e,t):r}}function Ow(e,t,n,r){let o=e.xhr,i=o?.[Ke];if(!o||o.__sentry_own_request__||!i)return;let{url:s,method:a}=i,c=Ve()&&t(s);if(e.endTimestamp&&c){let g=o.__sentry_xhr_span_id__;if(!g)return;let _=r[g];_&&i.status_code!==void 0&&(zt(_,i.status_code),_.end(),delete r[g]);return}let u=jh(s),d=u?Mt(u):Mt(s),l=Oo(s),f=!!Z(),p=c&&f?ot({name:`${a} ${l}`,attributes:{url:s,type:"xhr","http.method":a,"http.url":u,"server.address":d?.host,[X]:"auto.http.browser",[he]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new We;o.__sentry_xhr_span_id__=p.spanContext().spanId,r[o.__sentry_xhr_span_id__]=p,n(s)&&Lw(o,Ve()&&f?p:void 0);let m=T();return m&&m.emit("beforeOutgoingRequestSpan",p,e),p}function Lw(e,t){let{"sentry-trace":n,baggage:r}=Pn({span:t});n&&Dw(e,n,r)}function Dw(e,t,n){let r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){let o=r?.baggage;(!o||!Pw(o))&&e.setRequestHeader("baggage",n)}}catch{}}function Pw(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function jh(e){try{return new URL(e,x.location.origin).href}catch{return}}function qh(){x.document?x.document.addEventListener("visibilitychange",()=>{let e=Z();if(!e)return;let t=ee(e);if(x.document.hidden&&t){let n="cancelled",{op:r,status:o}=N(t);B&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):B&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Fw=3600,Vh="sentry_previous_trace",Uw="sentry.previous_trace";function Yh(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",o=r?$w():void 0;e.on("spanStart",s=>{if(ee(s)!==s)return;let a=k().getPropagationContext();o=Bw(o,s,a),r&&Hw(o)});let i=!0;n&&e.on("beforeSampling",s=>{if(!o)return;let a=k(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(jl(o.spanContext))},sampleRand:o.sampleRand}),s.parentSampled=jl(o.spanContext),s.parentSampleRate=o.sampleRate,s.spanAttributes={...s.spanAttributes,[oo]:o.sampleRate}})}function Bw(e,t,n){let r=N(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[en])}catch{return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=Fw&&(B&&h.log(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[qa]:"previous_trace"}}),t.setAttribute(Uw,`${s.traceId}-${s.spanId}-${jl(s)?1:0}`)),i)}function Hw(e){try{x.sessionStorage.setItem(Vh,JSON.stringify(e))}catch(t){B&&h.warn("Could not store previous trace in sessionStorage",t)}}function $w(){try{let e=x.sessionStorage?.getItem(Vh);return JSON.parse(e)}catch{return}}function jl(e){return e.traceFlags===1}var Ww="BrowserTracing",Gw={...pr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...ui},Zh=(e={})=>{let t={name:void 0,source:void 0},n=x.document,{enableInp:r,enableElementTiming:o,enableLongTask:i,enableLongAnimationFrame:s,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:f,childSpanTimeout:p,markBackgroundSpan:m,traceFetch:g,traceXHR:_,trackFetchStreamPerformance:S,shouldCreateSpanForRequest:b,enableHTTPTimings:H,ignoreResourceSpans:A,ignorePerformanceApiSpans:O,instrumentPageLoad:E,instrumentNavigation:R,detectRedirects:M,linkPreviousTrace:I,consistentTraceSampling:C,onRequestSpanStart:z}={...Gw,...e},v,D;function q(U,L,$=!0){let F=L.op==="pageload",V=d?d(L):L,K=V.attributes||{};if(L.name!==V.name&&(K[Ee]="custom",V.attributes=K),!$){let xe=ct();ot({...V,startTime:xe}).end(xe);return}t.name=V.name,t.source=K[Ee];let ge=Hi(V,{idleTimeout:l,finalTimeout:f,childSpanTimeout:p,disableAutoFinish:F,beforeSpanEnd:xe=>{v?.(),Fu(xe,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:A,ignorePerformanceApiSpans:O}),Kh(U,void 0);let ve=k(),st=ve.getPropagationContext();ve.setPropagationContext({...st,traceId:ge.spanContext().traceId,sampled:Et(ge),dsc:Ie(xe)})}});Kh(U,ge);function ht(){n&&["interactive","complete"].includes(n.readyState)&&U.emit("idleSpanEnableAutoFinish",ge)}F&&n&&(n.addEventListener("readystatechange",()=>{ht()}),ht())}return{name:Ww,setup(U){if(fo(),v=Ou({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:U}),r&&Wu(),o&&Uu(),s&&w.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Du():i&&Lu(),a&&Pu(),M&&n){let $=()=>{D=ne()};addEventListener("click",$,{capture:!0}),addEventListener("keydown",$,{capture:!0,passive:!0})}function L(){let $=li(U);$&&!N($).timestamp&&(B&&h.log(`[Tracing] Finishing current active span with op: ${N($).op}`),$.setAttribute(On,"cancelled"),$.end())}U.on("startNavigationSpan",($,F)=>{if(T()!==U)return;if(F?.isRedirect){B&&h.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),q(U,{op:"navigation.redirect",...$},!1);return}L(),ie().setPropagationContext({traceId:He(),sampleRand:Math.random()});let V=k();V.setPropagationContext({traceId:He(),sampleRand:Math.random()}),V.setSDKProcessingMetadata({normalizedRequest:void 0}),q(U,{op:"navigation",...$})}),U.on("startPageLoadSpan",($,F={})=>{if(T()!==U)return;L();let V=F.sentryTrace||Jh("sentry-trace"),K=F.baggage||Jh("baggage"),ge=so(V,K),ht=k();ht.setPropagationContext(ge),ht.setSDKProcessingMetadata({normalizedRequest:$o()}),q(U,{op:"pageload",...$})})},afterAllSetup(U){let L=qe();if(I!=="off"&&Yh(U,{linkPreviousTrace:I,consistentTraceSampling:C}),x.location){if(E){let $=me();ql(U,{name:x.location.pathname,startTime:$?$/1e3:void 0,attributes:{[Ee]:"url",[X]:"auto.pageload.browser"}})}R&&cn(({to:$,from:F})=>{if(F===void 0&&L?.indexOf($)!==-1){L=void 0;return}L=void 0;let V=Mo($),K=li(U),ge=K&&M&&jw(K,D);Vl(U,{name:V?.pathname||x.location.pathname,attributes:{[Ee]:"url",[X]:"auto.navigation.browser"}},{url:$,isRedirect:ge})})}m&&qh(),a&&zw(U,l,f,p,t),r&&Gu(),ba(U,{traceFetch:g,traceXHR:_,trackFetchStreamPerformance:S,tracePropagationTargets:U.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:H,onRequestSpanStart:z})}}};function ql(e,t,n){e.emit("startPageLoadSpan",t,n),k().setTransactionName(t.name);let r=li(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Vl(e,t,n){let{url:r,isRedirect:o}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:o}),e.emit("startNavigationSpan",t,{isRedirect:o});let i=k();return i.setTransactionName(t.name),r&&!o&&i.setSDKProcessingMetadata({normalizedRequest:{...$o(),url:r}}),li(e)}function Jh(e){return x.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function zw(e,t,n,r,o){let i=x.document,s,a=()=>{let c="ui.action.click",u=li(e);if(u){let d=N(u).op;if(["navigation","pageload"].includes(d)){B&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(On,"interactionInterrupted"),s.end(),s=void 0),!o.name){B&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=Hi({name:o.name,op:c,attributes:{[Ee]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}var Qh="_sentry_idleSpan";function li(e){return e[Qh]}function Kh(e,t){fe(e,Qh,t)}var Xh=.3;function jw(e,t){let n=N(e),r=ct(),o=n.start_timestamp;return!(r-o>Xh||t&&r-t<=Xh)}function Xr(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function qw(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=Xr(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Yl(e){return Xr(e.getAllKeys())}function Vw(e,t,n){return e(r=>Yl(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),Xr(r.transaction)}))}function Yw(e,t,n){return e(r=>Yl(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),Xr(r.transaction)}))}function Jw(e){return e(t=>Yl(t).then(n=>{let r=n[0];if(r!=null)return Xr(t.get(r)).then(o=>(t.delete(r),Xr(t.transaction).then(()=>o)))}))}function Kw(e){let t;function n(){return t==null&&(t=qw(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{let o=await hn(r);await Vw(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{let o=await hn(r);await Yw(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{let r=await Jw(n());if(r)return tc(r)}catch{}}}}function Xw(e){return t=>{let n=e({...t,createStore:Kw});return x.addEventListener("online",async r=>{await n.flush()}),n}}function eg(e=Pr){return Xw(Nc(e))}var tg=1e6,Ta=String(0),Zw="main",Ia=x.navigator,rg="",og="",ig="",Jl=Ia?.userAgent||"",sg="",Qw=Ia?.language||Ia?.languages?.[0]||"";function eR(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var ng=Ia?.userAgentData;eR(ng)&&ng.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(rg=e.platform||"",ig=e.architecture||"",sg=e.model||"",og=e.platformVersion||"",e.fullVersionList?.length){let t=e.fullVersionList[e.fullVersionList.length-1];Jl=`${t.brand} ${t.version}`}}).catch(e=>{});function tR(e){return!("thread_metadata"in e)}function nR(e){return tR(e)?iR(e):e}function rR(e){let t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&B&&h.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function oR(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=rR(r),i=nR(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:ne()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:ne()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||nn,runtime:{name:"javascript",version:x.navigator.userAgent},os:{name:rg,version:og,build_number:Jl},device:{locale:Qw,model:sg,manufacturer:Jl,architecture:ig,is_emulator:!1},debug_meta:{images:sR(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||pe(),trace_id:o,active_thread_id:Ta,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function va(e){return N(e).op==="pageload"}function iR(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[Ta]:{name:Zw}}},o=e.samples[0];if(!o)return r;let i=o.timestamp,s=me(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,c=a-(s||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-i)*tg).toFixed(0),stack_id:t,thread_id:Ta};return}let l=e.stacks[u.stackId],f=[];for(;l;){f.push(l.frameId);let m=e.frames[l.frameId];m&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}let p={elapsed_since_start_ns:((u.timestamp+c-i)*tg).toFixed(0),stack_id:n,thread_id:Ta};r.stacks[n]=f,r.samples[d]=p,n++}),r}function ag(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function cg(e){let t=[];return lt(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++)n[o]?.contexts?.profile?.profile_id&&t.push(n[o])}),t}function sR(e){let r=T()?.getOptions()?.stackParser;return r?dc(r,e):[]}function aR(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(B&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(B&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function cR(e){return e.samples.length<2?(B&&h.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(B&&h.log("[Profiling] Discarding profile because it contains no frames"),!1)}var ug=!1,Kl=3e4;function uR(e){return typeof e=="function"}function lg(){let e=x.Profiler;if(!uR(e)){B&&h.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Kl/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{B&&(h.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.log("[Profiling] Disabling profiling for current user session.")),ug=!0}}function Xl(e){if(ug)return B&&h.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return B&&h.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let n=T()?.getOptions();if(!n)return B&&h.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return aR(r)?r?(r===!0?!0:Math.random()<r)?!0:(B&&h.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(B&&h.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(B&&h.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function dg(e,t,n,r){return cR(n)?oR(e,t,n,r):null}var Zn=new Map;function fg(){return Zn.size}function pg(e){let t=Zn.get(e);return t&&Zn.delete(e),t}function mg(e,t){if(Zn.set(e,t),Zn.size>30){let n=Zn.keys().next().value;Zn.delete(n)}}function Zl(e){let t;va(e)&&(t=ne()*1e3);let n=lg();if(!n)return;B&&h.log(`[Profiling] started profiling span: ${N(e).description}`);let r=pe();k().setContext("profile",{profile_id:r,start_timestamp:t});async function o(){if(e&&n)return n.stop().then(c=>{if(i&&(x.clearTimeout(i),i=void 0),B&&h.log(`[Profiling] stopped profiling of span: ${N(e).description}`),!c){B&&h.log(`[Profiling] profiler returned null profile for: ${N(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}mg(r,c)}).catch(c=>{B&&h.log("[Profiling] error while stopping profiler:",c)})}let i=x.setTimeout(()=>{B&&h.log("[Profiling] max profile duration elapsed, stopping profiling for:",N(e).description),o()},Kl),s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var lR="BrowserProfiling",dR=()=>({name:lR,setup(e){let t=Z(),n=t&&ee(t);n&&va(n)&&Xl(n)&&Zl(n),e.on("spanStart",r=>{r===ee(r)&&Xl(r)&&Zl(r)}),e.on("beforeEnvelope",r=>{if(!fg())return;let o=cg(r);if(!o.length)return;let i=[];for(let s of o){let a=s?.contexts,c=a?.profile?.profile_id,u=a?.profile?.start_timestamp;if(typeof c!="string"){B&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){B&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}a?.profile&&delete a.profile;let d=pg(c);if(!d){B&&h.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let l=dg(c,u,d,s);l&&i.push(l)}ag(r,i)})}}),hg=dR;var fR="SpotlightBrowser",pR=(e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:fR,setup:()=>{B&&h.log("Using Sidecar URL",t)},processEvent:n=>hR(n)?null:n,afterAllSetup:n=>{mR(n,t)}}};function mR(e,t){let n=Lr("fetch"),r=0;e.on("beforeEnvelope",o=>{if(r>3){h.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:hn(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,h.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var gg=pR;function hR(e){return!!(e.type==="transaction"&&e.spans&&e.contexts?.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}var _g=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Nt(e)}});function Sg(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{Tt(e,t.value),It(e,t.value)}}}var yg=()=>({name:"OpenFeature",processEvent(e,t,n){return Nt(e)}}),wa=class{after(t,n){Tt(n.flagKey,n.value),It(n.flagKey,n.value)}error(t,n,r){Tt(t.flagKey,t.defaultValue),It(t.flagKey,t.defaultValue)}};var Eg=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){let t=e.prototype;Se(t,"isEnabled",gR)},processEvent(t,n,r){return Nt(t)}});function gR(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(Tt(n,r),It(n,r)):B&&h.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var bg=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{Tt(n.gate.name,n.gate.value),It(n.gate.name,n.gate.value)})},processEvent(t,n,r){return Nt(t)}});async function Tg(){let e=T();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await ho(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}var _R="WebWorker",vg=({worker:e})=>({name:_R,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>Ig(t))},addWorker:t=>Ig(t)});function Ig(e){e.addEventListener("message",t=>{SR(t.data)&&(t.stopImmediatePropagation(),B&&h.log("Sentry debugId web worker message received",t.data),x._sentryDebugIds={...t.data._sentryDebugIds,...x._sentryDebugIds})})}function wg({self:e}){e.postMessage({_sentryMessage:!0,_sentryDebugIds:e._sentryDebugIds??void 0})}function SR(e){return Be(e)&&e._sentryMessage===!0&&"_sentryDebugIds"in e&&(Be(e._sentryDebugIds)||e._sentryDebugIds===void 0)}export{Rg as Sentry};
