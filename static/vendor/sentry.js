var Dg=Object.defineProperty;var nd=(e,t)=>{for(var n in t)Dg(e,n,{get:t[n],enumerable:!0})};var Lg={};nd(Lg,{BrowserClient:()=>kr,OpenFeatureIntegrationHook:()=>ka,SDK_VERSION:()=>tt,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Se,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>K,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>en,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Ie,Scope:()=>qe,WINDOW:()=>M,addBreadcrumb:()=>Xe,addEventProcessor:()=>Ro,addIntegration:()=>yr,breadcrumbsIntegration:()=>Ys,browserApiErrorsIntegration:()=>Js,browserProfilingIntegration:()=>Ig,browserSessionIntegration:()=>Ks,browserTracingIntegration:()=>og,buildLaunchDarklyFlagUsedHandler:()=>Rg,captureConsoleIntegration:()=>jc,captureEvent:()=>rn,captureException:()=>ht,captureFeedback:()=>Uo,captureMessage:()=>vn,captureSession:()=>Sr,chromeStackLineParser:()=>Vu,close:()=>Tc,consoleLoggingIntegration:()=>Qc,contextLinesIntegration:()=>Sm,continueTrace:()=>uc,createConsolaReporter:()=>eu,createTransport:()=>Mo,createUserFeedbackEnvelope:()=>tm,dedupeIntegration:()=>Fo,defaultRequestInstrumentationOptions:()=>mi,defaultStackLineParsers:()=>Ju,defaultStackParser:()=>qs,diagnoseSdkConnectivity:()=>kg,endSession:()=>xo,eventFiltersIntegration:()=>os,eventFromException:()=>Rs,eventFromMessage:()=>xs,exceptionFromError:()=>Ar,extraErrorDataIntegration:()=>qc,featureFlagsIntegration:()=>Xc,feedbackAsyncIntegration:()=>Rp,feedbackIntegration:()=>vu,feedbackSyncIntegration:()=>vu,flush:()=>bc,forceLoad:()=>am,functionToStringIntegration:()=>Do,geckoStackLineParser:()=>Yu,getActiveSpan:()=>X,getClient:()=>E,getCurrentScope:()=>L,getDefaultIntegrations:()=>Ku,getFeedback:()=>fp,getGlobalScope:()=>Qt,getIsolationScope:()=>ce,getReplay:()=>Oh,getRootSpan:()=>re,getSpanDescendants:()=>tn,getSpanStatusFromHttpCode:()=>Ci,getTraceData:()=>$n,globalHandlersIntegration:()=>Xs,graphqlClientIntegration:()=>Tm,httpClientIntegration:()=>pm,httpContextIntegration:()=>Zs,inboundFiltersIntegration:()=>Po,init:()=>sm,instrumentOutgoingRequests:()=>Ra,instrumentSupabaseClient:()=>us,isEnabled:()=>wo,isInitialized:()=>Ic,lastEventId:()=>vo,launchDarklyIntegration:()=>wg,lazyLoadIntegration:()=>ws,linkedErrorsIntegration:()=>Qs,logger:()=>fs,makeBrowserOfflineTransport:()=>cg,makeFetchTransport:()=>Ur,makeMultiplexedTransport:()=>Pc,moduleMetadataIntegration:()=>zc,onLoad:()=>cm,openFeatureIntegration:()=>xg,opera10StackLineParser:()=>Zp,opera11StackLineParser:()=>Qp,parameterize:()=>ns,registerSpanErrorInstrumentation:()=>go,registerWebWorker:()=>Og,replayCanvasIntegration:()=>Yh,replayIntegration:()=>Mh,reportPageLoaded:()=>sg,reportingObserverIntegration:()=>dm,rewriteFramesIntegration:()=>Vc,sendFeedback:()=>gu,setActiveSpanInBrowser:()=>ag,setContext:()=>Io,setCurrentClient:()=>es,setExtra:()=>_c,setExtras:()=>gc,setHttpStatus:()=>jt,setMeasurement:()=>So,setTag:()=>yc,setTags:()=>Sc,setUser:()=>Ec,showReportDialog:()=>um,spanToBaggageHeader:()=>tc,spanToJSON:()=>D,spanToTraceHeader:()=>mo,spotlightBrowserIntegration:()=>vg,startBrowserTracingNavigationSpan:()=>Kl,startBrowserTracingPageLoadSpan:()=>Jl,startInactiveSpan:()=>st,startNewTrace:()=>qi,startSession:()=>_r,startSpan:()=>bn,startSpanManual:()=>cc,statsigIntegration:()=>Ag,supabaseIntegration:()=>Yc,suppressTracing:()=>yo,thirdPartyErrorFilterIntegration:()=>Kc,unleashIntegration:()=>Cg,updateSpanName:()=>Qa,webWorkerIntegration:()=>Mg,winjsStackLineParser:()=>Xp,withActiveSpan:()=>Tn,withIsolationScope:()=>Ri,withScope:()=>ke,zodErrorsIntegration:()=>Jc});var y=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var v=globalThis;var tt="10.16.0";function Je(){return hn(v),v}function hn(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||tt,t[tt]=t[tt]||{}}function Kt(e,t,n=v){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[tt]=r[tt]||{};return o[e]||(o[e]=t())}var Mn=["debug","info","warn","error","log","assert","trace"],Pg="Sentry Logger ",rr={};function He(e){if(!("console"in v))return e();let t=v.console,n={},r=Object.keys(rr);r.forEach(o=>{let i=rr[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function Fg(){Ma().enabled=!0}function Ug(){Ma().enabled=!1}function rd(){return Ma().enabled}function Bg(...e){Na("log",...e)}function Hg(...e){Na("warn",...e)}function $g(...e){Na("error",...e)}function Na(e,...t){y&&rd()&&He(()=>{v.console[e](`${Pg}[${e}]:`,...t)})}function Ma(){return y?Kt("loggerSettings",()=>({enabled:!1})):{enabled:!1}}var h={enable:Fg,disable:Ug,isEnabled:rd,log:Bg,warn:Hg,error:$g};var od=/\(error: (.*)\)/,id=/captureMessage|captureException/;function Si(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];c.length>1024&&(c=c.slice(0,1024));let u=od.test(c)?c.replace(od,"$1"):c;if(!u.match(/\S*Error: /)){for(let d of t){let l=d(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return sd(i.slice(o))}}function La(e){return Array.isArray(e)?Si(...e):e}function sd(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(_i(t).function||"")&&t.pop(),t.reverse(),id.test(_i(t).function||"")&&(t.pop(),id.test(_i(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||_i(t).filename,function:n.function||"?"}))}function _i(e){return e[e.length-1]||{}}var Oa="<anonymous>";function nt(e){try{return!e||typeof e!="function"?Oa:e.name||Oa}catch{return Oa}}function or(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var yi={},ad={};function $e(e,t){yi[e]=yi[e]||[],yi[e].push(t)}function We(e,t){if(!ad[e]){ad[e]=!0;try{t()}catch(n){y&&h.error(`Error while instrumenting ${e}`,n)}}}function xe(e,t){let n=e&&yi[e];if(n)for(let r of n)try{r(t)}catch(o){y&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${nt(r)}
Error:`,o)}}var Da=null;function ro(e){let t="error";$e(t,e),We(t,Wg)}function Wg(){Da=v.onerror,v.onerror=function(e,t,n,r,o){return xe("error",{column:r,error:o,line:n,msg:e,url:t}),Da?Da.apply(this,arguments):!1},v.onerror.__SENTRY_INSTRUMENTED__=!0}var Pa=null;function oo(e){let t="unhandledrejection";$e(t,e),We(t,Gg)}function Gg(){Pa=v.onunhandledrejection,v.onunhandledrejection=function(e){return xe("unhandledrejection",e),Pa?Pa.apply(this,arguments):!0},v.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var cd=Object.prototype.toString;function rt(e){switch(cd.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return lt(e,Error)}}function ir(e,t){return cd.call(e)===`[object ${t}]`}function Ei(e){return ir(e,"ErrorEvent")}function bi(e){return ir(e,"DOMError")}function Fa(e){return ir(e,"DOMException")}function Oe(e){return ir(e,"String")}function gn(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function bt(e){return e===null||gn(e)||typeof e!="object"&&typeof e!="function"}function Ge(e){return ir(e,"Object")}function On(e){return typeof Event<"u"&&lt(e,Event)}function Ua(e){return typeof Element<"u"&&lt(e,Element)}function Ba(e){return ir(e,"RegExp")}function Tt(e){return!!(e?.then&&typeof e.then=="function")}function Ha(e){return Ge(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function lt(e,t){try{return e instanceof t}catch{return!1}}function io(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Ti(e){return typeof Request<"u"&&lt(e,Request)}var $a=v,zg=80;function Ce(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||zg;for(;n&&i++<r&&(u=jg(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function jg(e,t){let n=e,r=[];if(!n?.tagName)return"";if($a.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o?.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&Oe(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function Ke(){try{return $a.document.location.href}catch{return""}}function so(e){if(!$a.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function It(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function ao(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Ln(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{io(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function sr(e,t,n=!1){return Oe(e)?Ba(t)?t.test(e):Oe(t)?n?e===t:e.includes(t):!1:!1}function Pe(e,t=[],n=!1){return t.some(r=>sr(e,r,n))}function be(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let o=n(r);typeof o=="function"&&Ii(o,r);try{e[t]=o}catch{y&&h.log(`Failed to replace method "${t}" in object`,e)}}function he(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{y&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Ii(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,he(e,"__sentry_original__",t)}catch{}}function Dn(e){return e.__sentry_original__}function vi(e){if(rt(e))return{message:e.message,name:e.name,stack:e.stack,...ld(e)};if(On(e)){let t={type:e.type,target:ud(e.target),currentTarget:ud(e.currentTarget),...ld(e)};return typeof CustomEvent<"u"&&lt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function ud(e){try{return Ua(e)?Ce(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ld(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Wa(e,t=40){let n=Object.keys(vi(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return It(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:It(i,t)}return""}function qg(){let e=v;return e.crypto||e.msCrypto}function ge(e=qg()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function dd(e){return e.exception?.values?.[0]}function Wt(e){let{message:t,event_id:n}=e;if(t)return t;let r=dd(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ar(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function ze(e,t){let n=dd(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o?.data,...t.data};n.mechanism.data=i}}function Ga(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>ao(s,0));let i=Math.min(r-1,o);t.context_line=ao(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>ao(s,0))}function wi(e){if(Vg(e))return!0;try{he(e,"__sentry_captured__",!0)}catch{}return!1}function Vg(e){try{return e.__sentry_captured__}catch{}}var pd=1e3;function dt(){return Date.now()/pd}function Yg(){let{performance:e}=v;if(!e?.now||!e.timeOrigin)return dt;let t=e.timeOrigin;return()=>(t+e.now())/pd}var fd;function te(){return(fd??(fd=Yg()))()}var za;function Jg(){let{performance:e}=v;if(!e?.now)return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function _e(){return za||(za=Jg()),za[0]}function md(e){let t=te(),n={sid:ge(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Kg(n)};return e&&Xt(n,e),n}function Xt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||te(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ge()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function hd(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Xt(e,n)}function Kg(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function _n(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=_n(r[o],t[o],n-1));return r}function Fe(){return ge()}function je(){return ge().substring(16)}var ja="_sentrySpan";function ot(e,t){t?he(e,ja,t):delete e[ja]}function Zt(e){return e[ja]}var Xg=100,qe=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Fe(),sampleRand:Math.random()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,ot(t,Zt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Xt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof e?n.getScopeData():Ge(n)?t:void 0,{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ot(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Fe(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:Xg;if(r<=0)return this;let o={timestamp:dt(),...t,message:t.message?It(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Zt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=_n(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||ge();if(!this._client)return y&&h.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r?.event_id||ge();if(!this._client)return y&&h.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n?.event_id||ge();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(y&&h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function gd(){return Kt("defaultCurrentScope",()=>new qe)}function _d(){return Kt("defaultIsolationScope",()=>new qe)}var qa=class{constructor(t,n){let r;t?r=t:r=new qe;let o;n?o=n:o=new qe,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return Tt(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function cr(){let e=Je(),t=hn(e);return t.stack=t.stack||new qa(gd(),_d())}function Zg(e){return cr().withScope(e)}function Qg(e,t){let n=cr();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Sd(e){return cr().withScope(()=>e(cr().getIsolationScope()))}function yd(){return{withIsolationScope:Sd,withScope:Zg,withSetScope:Qg,withSetIsolationScope:(e,t)=>Sd(t),getCurrentScope:()=>cr().getScope(),getIsolationScope:()=>cr().getIsolationScope()}}function vt(e){let t=hn(e);return t.acs?t.acs:yd()}function L(){let e=Je();return vt(e).getCurrentScope()}function ce(){let e=Je();return vt(e).getIsolationScope()}function Qt(){return Kt("globalScope",()=>new qe)}function ke(...e){let t=Je(),n=vt(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function Ri(...e){let t=Je(),n=vt(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function E(){return L().getClient()}function xi(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||je()};return r&&(i.parent_span_id=r),i}var Ie="sentry.source",en="sentry.sample_rate",co="sentry.previous_trace_sample_rate",Se="sentry.op",K="sentry.origin",Sn="sentry.idle_span_finish_reason",Gt="sentry.measurement_unit",zt="sentry.measurement_value",ur="sentry.custom_span_name",lr="sentry.profile_id",wt="sentry.exclusive_time";var Va="http.request.method",Ya="url.full",Ja="sentry.link.type";function Ci(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function jt(e,t){e.setAttribute("http.response.status_code",t);let n=Ci(t);n.message!=="unknown_error"&&e.setStatus(n)}var Ed="_sentryScope",bd="_sentryIsolationScope";function e_(e){try{let t=v.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function t_(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function Td(e,t,n){e&&(he(e,bd,e_(n)),he(e,Ed,t))}function Pn(e){let t=e;return{scope:t[Ed],isolationScope:t_(t[bd])}}var Ai="sentry-",n_=/^sentry-/,r_=8192;function dr(e){let t=o_(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(n_)){let s=o.slice(Ai.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function ki(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Ai}${r}`]=o),n),{});return i_(t)}function o_(e){if(!(!e||!Oe(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=Id(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):Id(e)}function Id(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function i_(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>r_?(y&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var s_=/^o(\d+)\./,a_=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function c_(e){return e==="http"||e==="https"}function it(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Ni(e){let t=a_.exec(e);if(!t){He(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return vd({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function vd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function u_(e){if(!y)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(h.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?c_(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function l_(e){return e.match(s_)?.[1]}function Mi(e){let t=e.getOptions(),{host:n}=e.getDsn()||{},r;return t.orgId?r=String(t.orgId):n&&(r=l_(n)),r}function uo(e){let t=typeof e=="string"?Ni(e):vd(e);if(!(!t||!u_(t)))return t}function ft(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var Oi=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function wd(e){if(!e)return;let t=e.match(Oi);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function lo(e,t){let n=wd(e),r=dr(t);if(!n?.traceId)return{traceId:Fe(),sampleRand:Math.random()};let o=d_(n,r);r&&(r.sample_rand=o.toString());let{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function fo(e=Fe(),t=je(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Li(e=Fe(),t=je(),n){return`00-${e}-${t}-${n?"01":"00"}`}function d_(e,t){let n=ft(t?.sample_rand);if(n!==void 0)return n;let r=ft(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}function Ka(e,t){let n=Mi(e);return t&&n&&t!==n?(h.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):(e.getOptions().strictTraceContinuation||!1)&&(t&&!n||!t&&n)?(h.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1):!0}var Di=0,Pi=1,Rd=!1;function Cd(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=D(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function po(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:D(e).parent_span_id,i=Pn(e).scope,s=r?i?.getPropagationContext().propagationSpanId||je():t;return{parent_span_id:o,span_id:s,trace_id:n}}function mo(e){let{traceId:t,spanId:n}=e.spanContext(),r=pt(e);return fo(t,n,r)}function Ad(e){let{traceId:t,spanId:n}=e.spanContext(),r=pt(e);return Li(t,n,r)}function Fi(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Pi,attributes:i,...o}))}function Ot(e){return typeof e=="number"?xd(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?xd(e.getTime()):te()}function xd(e){return e>9999999999?e/1e3:e}function D(e){if(m_(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(p_(e)){let{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:Ot(o),timestamp:Ot(s)||void 0,status:Ui(a),op:r[Se],origin:r[K],links:Fi(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function p_(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function m_(e){return typeof e.getSpanJSON=="function"}function pt(e){let{traceFlags:t}=e.spanContext();return t===Pi}function Ui(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Fn="_sentryChildSpans",Xa="_sentryRootSpan";function Bi(e,t){let n=e[Xa]||e;he(t,Xa,n),e[Fn]?e[Fn].add(t):he(e,Fn,new Set([t]))}function kd(e,t){e[Fn]&&e[Fn].delete(t)}function tn(e){let t=new Set;function n(r){if(!t.has(r)&&pt(r)){t.add(r);let o=r[Fn]?Array.from(r[Fn]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function re(e){return e[Xa]||e}function X(){let e=Je(),t=vt(e);return t.getActiveSpan?t.getActiveSpan():Zt(L())}function ho(){Rd||(He(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Rd=!0)}function Qa(e,t){e.updateName(t),e.setAttributes({[Ie]:"custom",[ur]:t})}var Nd=!1;function go(){if(Nd)return;function e(){let t=X(),n=t&&re(t);if(n){let r="internal_error";y&&h.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:2,message:r})}}e.tag="sentry_tracingErrorCallback",Nd=!0,ro(e),oo(e)}function Ne(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||E()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Md(e){h.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Un(e,t){if(!t?.length||!e.description)return!1;for(let n of t){if(h_(n)){if(sr(e.description,n))return y&&Md(e),!0;continue}if(!n.name&&!n.op)continue;let r=n.name?sr(e.description,n.name):!0,o=n.op?e.op&&sr(e.op,n.op):!0;if(r&&o)return y&&Md(e),!0}return!1}function Od(e,t){let n=t.parent_span_id,r=t.span_id;if(n)for(let o of e)o.parent_span_id===r&&(o.parent_span_id=n)}function h_(e){return typeof e=="string"||e instanceof RegExp}var nn="production";var Ld="_frozenDsc";function fr(e,t){he(e,Ld,t)}function ec(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o={environment:n.environment||nn,release:n.release,public_key:r,trace_id:e,org_id:Mi(t)};return t.emit("createDsc",o),o}function pr(e,t){let n=t.getPropagationContext();return n.dsc||ec(n.traceId,e)}function Re(e){let t=E();if(!t)return{};let n=re(e),r=D(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[en]??o[co];function a(m){return(typeof s=="number"||typeof s=="string")&&(m.sample_rate=`${s}`),m}let c=n[Ld];if(c)return a(c);let u=i?.get("sentry.dsc"),d=u&&dr(u);if(d)return a(d);let l=ec(e.spanContext().traceId,t),p=o[Ie],f=r.description;return p!=="url"&&f&&(l.transaction=f),Ne()&&(l.sampled=String(pt(n)),l.sample_rand=i?.get("sentry.sample_rand")??Pn(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function tc(e){let t=Re(e);return ki(t)}var Ve=class{constructor(t={}){this._traceId=t.traceId||Fe(),this._spanId=t.spanId||je()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Di}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function Me(e,t=100,n=1/0){try{return nc("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Hi(e,t=3,n=100*1024){let r=Me(e,t);return y_(r)>n?Hi(e,t-1,n):r}function nc(e,t,n=1/0,r=1/0,o=E_()){let[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let a=g_(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let f=u.toJSON();return nc("",f,c-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},l=0,p=vi(t);for(let f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(l>=r){d[f]="[MaxProperties ~]";break}let m=p[f];d[f]=nc(f,m,c-1,r,o),l++}return s(t),d}function g_(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(io(t))return"[VueViewModel]";if(Ha(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${nt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=__(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function __(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function S_(e){return~-encodeURI(e).split(/%..|./).length}function y_(e){return S_(JSON.stringify(e))}function E_(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Ue(e,t=[]){return[e,t]}function rc(e,t){let[n,r]=e;return[n,[...r,t]]}function mt(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function Wi(e,t){return mt(e,(n,r)=>t.includes(r))}function $i(e){let t=hn(v);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function b_(e){let t=hn(v);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function yn(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[$i(r),i]:r.push(typeof i=="string"?$i(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Me(a))}o(c)}}return typeof r=="string"?r:T_(r)}function T_(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function oc(e){let t=typeof e=="string"?$i(e):e;function n(s){let a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(b_(n(s)))}let o=r(),i=[];for(;t.length;){let s=r(),a=typeof s.length=="number"?s.length:void 0;i.push([s,a?n(a):r()])}return[o,i]}function ic(e){return[{type:"span"},e]}function sc(e){let t=typeof e.data=="string"?$i(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var I_={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Gi(e){return I_[e]}function mr(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function _o(e,t,n,r){let o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:it(r)},...o&&{trace:o}}}function v_(e,t){if(!t)return e;let n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function Dd(e,t,n,r){let o=mr(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:it(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ue(i,[s])}function Pd(e,t,n,r){let o=mr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";v_(e,n?.sdk);let s=_o(e,o,r,t);return delete e.sdkProcessingMetadata,Ue(s,[[{type:i},e]])}function Fd(e,t){function n(f){return!!f.trace_id&&!!f.public_key}let r=Re(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:it(o)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(f=>!Un(D(f),c)):e,d=e.length-u.length;d&&t?.recordDroppedEvent("before_send","span",d);let l=a?f=>{let m=D(f),_=a(m);return _||(ho(),m)}:D,p=[];for(let f of u){let m=l(f);m&&p.push(ic(m))}return Ue(s,p)}function Ud(e){if(!y)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=D(e),{spanId:o}=e.spanContext(),i=pt(e),s=re(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:d,description:l}=D(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function Bd(e){if(!y)return;let{description:t="< unknown name >",op:n="< unknown op >"}=D(e),{spanId:r}=e.spanContext(),i=re(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;h.log(s)}function So(e,t,n,r=X()){let o=r&&re(r);o&&(y&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[zt]:t,[Gt]:n}))}function zi(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[Gt],i=r[zt];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var Hd=1e3,En=class{constructor(t={}){this._traceId=t.traceId||Fe(),this._spanId=t.spanId||je(),this._startTime=t.startTimestamp||te(),this._links=t.links,this._attributes={},this.setAttributes({[K]:"manual",[Se]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Pi:Di}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Ot(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Ie,"custom"),this}end(t){this._endTime||(this._endTime=Ot(t),Bd(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Se],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Ui(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[K],profile_id:this._attributes[lr],exclusive_time:this._attributes[wt],measurements:zi(this._events),is_segment:this._isStandaloneSpan&&re(this)===this||void 0,segment_id:this._isStandaloneSpan?re(this).spanContext().spanId:void 0,links:Fi(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){y&&h.log("[Tracing] Adding an event to span:",t);let o=$d(n)?n:r||te(),i=$d(n)?{}:n||{},s={name:t,time:Ot(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=E();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===re(this)))return;if(this._isStandaloneSpan){this._sampled?R_(Fd([this],t)):(y&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Pn(this).scope||L()).captureEvent(r)}_convertSpanToTransaction(){if(!Wd(D(this)))return;this._name||(y&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Pn(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=tn(this).filter(d=>d!==this&&!w_(d)).map(d=>D(d)).filter(Wd),s=this._attributes[Ie];delete this._attributes[ur],i.forEach(d=>{delete d.data[ur]});let a={contexts:{trace:Cd(this)},spans:i.length>Hd?i.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Hd):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Re(this)},request:r,...s&&{transaction_info:{source:s}}},c=zi(this._events);return c&&Object.keys(c).length&&(y&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function $d(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Wd(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function w_(e){return e instanceof En&&e.isStandaloneSpan()}function R_(e){let t=E();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function ac(e,t,n=()=>{},r=()=>{}){let o;try{o=e()}catch(i){throw t(i),n(),i}return x_(o,t,n,r)}function x_(e,t,n,r){return Tt(e)?e.then(o=>(n(),r(o),o),o=>{throw t(o),n(),o}):(n(),r(e),e)}function Gd(e,t,n){if(!Ne(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);let i=ft(o);if(i===void 0)return y&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return y&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||y&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}var ji="__SENTRY_SUPPRESS_TRACING__";function bn(e,t){let n=Eo();if(n.startSpan)return n.startSpan(e,t);let r=dc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return ke(a,()=>jd(i)(()=>{let u=L(),d=fc(u,i),p=e.onlyIfParent&&!d?new Ve:lc({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return ot(u,p),ac(()=>t(p),()=>{let{status:f}=D(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:2,message:"internal_error"})},()=>{p.end()})}))}function cc(e,t){let n=Eo();if(n.startSpanManual)return n.startSpanManual(e,t);let r=dc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return ke(a,()=>jd(i)(()=>{let u=L(),d=fc(u,i),p=e.onlyIfParent&&!d?new Ve:lc({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return ot(u,p),ac(()=>t(p,()=>p.end()),()=>{let{status:f}=D(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:2,message:"internal_error"})})}))}function st(e){let t=Eo();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=dc(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>ke(e.scope,s):o!==void 0?s=>Tn(o,s):s=>s())(()=>{let s=L(),a=fc(s,o);return e.onlyIfParent&&!a?new Ve:lc({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}var uc=(e,t)=>{let n=Je(),r=vt(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:o,baggage:i}=e,s=E(),a=dr(i);return s&&!Ka(s,a?.org_id)?qi(t):ke(c=>{let u=lo(o,i);return c.setPropagationContext(u),t()})};function Tn(e,t){let n=Eo();return n.withActiveSpan?n.withActiveSpan(e,t):ke(r=>(ot(r,e||void 0),t(r)))}function yo(e){let t=Eo();return t.suppressTracing?t.suppressTracing(e):ke(n=>{n.setSDKProcessingMetadata({[ji]:!0});let r=e();return n.setSDKProcessingMetadata({[ji]:void 0}),r})}function qi(e){return ke(t=>(t.setPropagationContext({traceId:Fe(),sampleRand:Math.random()}),y&&h.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),Tn(null,e)))}function lc({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ne()){let s=new Ve;if(n||!e){let a={sampled:"false",sample_rate:"0",transaction:t.name,...Re(s)};fr(s,a)}return s}let o=ce(),i;if(e&&!n)i=C_(e,r,t),Bi(e,i);else if(e){let s=Re(e),{traceId:a,spanId:c}=e.spanContext(),u=pt(e);i=zd({traceId:a,parentSpanId:c,...t},r,u),fr(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=zd({traceId:s,parentSpanId:c,...t},r,u),a&&fr(i,a)}return Ud(i),Td(i,r,o),i}function dc(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=Ot(e.startTime),delete r.startTime,r}return n}function Eo(){let e=Je();return vt(e)}function zd(e,t,n){let r=E(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[d,l,p]=t.getScopeData().sdkProcessingMetadata[ji]?[!1]:Gd(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:ft(u.dsc?.sample_rate)},u.sampleRand),f=new En({...e,attributes:{[Ie]:"custom",[en]:l!==void 0&&p?l:void 0,...c},sampled:d});return!d&&r&&(y&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function C_(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[ji]?!1:pt(e),s=i?new En({...n,parentSpanId:r,traceId:o,sampled:i}):new Ve({traceId:o});Bi(e,s);let a=E();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function fc(e,t){if(t)return t;if(t===null)return;let n=Zt(e);if(!n)return;let r=E();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?re(n):n}function jd(e){return e!==void 0?t=>Tn(e,t):t=>t()}var hr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},A_="heartbeatFailed",k_="idleTimeout",N_="finalTimeout",M_="externalFinish";function Vi(e,t={}){let n=new Map,r=!1,o,i=M_,s=!t.disableAutoFinish,a=[],{idleTimeout:c=hr.idleTimeout,finalTimeout:u=hr.finalTimeout,childSpanTimeout:d=hr.childSpanTimeout,beforeSpanEnd:l,trimIdleSpanEndTimestamp:p=!0}=t,f=E();if(!f||!Ne()){let I=new Ve,C={sample_rate:"0",sampled:"false",...Re(I)};return fr(I,C),I}let m=L(),_=X(),g=O_(e);g.end=new Proxy(g.end,{apply(I,C,T){if(l&&l(g),C instanceof Ve)return;let[A,...H]=T,w=A||te(),O=Ot(w),q=tn(g).filter($=>$!==g),J=D(g);if(!q.length||!p)return k(O),Reflect.apply(I,C,[O,...H]);let ne=f.getOptions().ignoreSpans,R=q?.reduce(($,Z)=>{let se=D(Z);return!se.timestamp||ne&&Un(se,ne)?$:$?Math.max($,se.timestamp):se.timestamp},void 0),z=J.start_timestamp,N=Math.min(z?z+u/1e3:1/0,Math.max(z||-1/0,Math.min(O,R||1/0)));return k(N),Reflect.apply(I,C,[N,...H])}});function S(){o&&(clearTimeout(o),o=void 0)}function b(I){S(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=k_,g.end(I))},c)}function F(I){o=setTimeout(()=>{!r&&s&&(i=A_,g.end(I))},d)}function x(I){S(),n.set(I,!0);let C=te();F(C+d/1e3)}function P(I){if(n.has(I)&&n.delete(I),n.size===0){let C=te();b(C+c/1e3)}}function k(I){r=!0,n.clear(),a.forEach(O=>O()),ot(m,_);let C=D(g),{start_timestamp:T}=C;if(!T)return;C.data[Sn]||g.setAttribute(Sn,i),h.log(`[Tracing] Idle span "${C.op}" finished`);let H=tn(g).filter(O=>O!==g),w=0;H.forEach(O=>{O.isRecording()&&(O.setStatus({code:2,message:"cancelled"}),O.end(I),y&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(O,void 0,2)));let q=D(O),{timestamp:J=0,start_timestamp:ne=0}=q,R=ne<=I,z=(u+c)/1e3,N=J-ne<=z;if(y){let $=JSON.stringify(O,void 0,2);R?N||h.log("[Tracing] Discarding span since it finished after idle span final timeout",$):h.log("[Tracing] Discarding span since it happened after idle span was finished",$)}(!N||!R)&&(kd(g,O),w++)}),w>0&&g.setAttribute("sentry.idle_span_discarded_spans",w)}return a.push(f.on("spanStart",I=>{if(r||I===g||D(I).timestamp||I instanceof En&&I.isStandaloneSpan())return;tn(g).includes(I)&&x(I.spanContext().spanId)})),a.push(f.on("spanEnd",I=>{r||P(I.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",I=>{I===g&&(s=!0,b(),n.size&&F())})),t.disableAutoFinish||b(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=N_,g.end())},u),g}function O_(e){let t=st(e);return ot(L(),t),y&&h.log("[Tracing] Started span is an idle span"),t}var pc=0,qd=1,Vd=2;function In(e){return new bo(t=>{t(e)})}function Bn(e){return new bo((t,n)=>{n(e)})}var bo=class e{constructor(t){this._state=pc,this._handlers=[],this._runExecutor(t)}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===pc)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===qd&&n[1](this._value),this._state===Vd&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===pc){if(Tt(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(qd,i)},o=i=>{n(Vd,i)};try{t(r,o)}catch(i){o(i)}}};function Yd(e,t,n,r=0){try{let o=mc(t,n,e,r);return Tt(o)?o:In(o)}catch(o){return Bn(o)}}function mc(e,t,n,r){let o=n[r];if(!e||!o)return e;let i=o({...e},t);return y&&i===null&&h.log(`Event processor "${o.id||"?"}" dropped event`),Tt(i)?i.then(s=>mc(s,t,n,r+1)):mc(i,t,n,r+1)}function Jd(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;L_(e,t),r&&F_(e,r),U_(e,n),D_(e,o),P_(e,i)}function gr(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:p,transactionName:f,span:m}=t;Yi(e,"extra",n),Yi(e,"tags",r),Yi(e,"user",o),Yi(e,"contexts",i),e.sdkProcessingMetadata=_n(e.sdkProcessingMetadata,a,2),s&&(e.level=s),f&&(e.transactionName=f),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...p}}function Yi(e,t,n){e[t]=_n(e[t],n,1)}function L_(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function D_(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function P_(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function F_(e,t){e.contexts={trace:po(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Re(t),...e.sdkProcessingMetadata};let n=re(t),r=D(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function U_(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}var Ji,Kd,Ki;function Xi(e){let t=v._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Ki&&n.length===Kd||(Kd=n.length,Ki=n.reduce((r,o)=>{Ji||(Ji={});let i=Ji[o];if(i)r[i[0]]=i[1];else{let s=e(o);for(let a=s.length-1;a>=0;a--){let u=s[a]?.filename,d=t[o];if(u&&d){r[u]=d,Ji[o]=[u,d];break}}}return r},{})),Ki}function hc(e,t){let n=Xi(e);if(!n)return[];let r=[];for(let o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function To(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ge(),timestamp:t.timestamp||dt()},u=n.integrations||e.integrations.map(g=>g.name);B_(c,e),W_(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&H_(c,e.stackParser);let d=z_(r,n.captureContext);n.mechanism&&ze(c,n.mechanism);let l=o?o.getEventProcessors():[],p=Qt().getScopeData();if(i){let g=i.getScopeData();gr(p,g)}if(d){let g=d.getScopeData();gr(p,g)}let f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),Jd(c,p);let m=[...l,...p.eventProcessors];return Yd(m,c,n).then(g=>(g&&$_(g),typeof s=="number"&&s>0?G_(g,s,a):g))}function B_(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||nn,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);let s=e.request;s?.url&&(s.url=It(s.url,i))}function H_(e,t){let n=Xi(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function $_(e){let t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function W_(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function G_(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Me(o.data,t,n)}}))},...e.user&&{user:Me(e.user,t,n)},...e.contexts&&{contexts:Me(e.contexts,t,n)},...e.extra&&{extra:Me(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Me(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:Me(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Me(e.contexts.flags,3,n)),r}function z_(e,t){if(!t)return e;let n=e?e.clone():new qe;return n.update(t),n}function Xd(e){if(e)return j_(e)?{captureContext:e}:V_(e)?{captureContext:e}:e}function j_(e){return e instanceof qe||typeof e=="function"}var q_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function V_(e){return Object.keys(e).some(t=>q_.includes(t))}function ht(e,t){return L().captureException(e,Xd(t))}function vn(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return L().captureMessage(e,n,r)}function rn(e,t){return L().captureEvent(e,t)}function Io(e,t){ce().setContext(e,t)}function gc(e){ce().setExtras(e)}function _c(e,t){ce().setExtra(e,t)}function Sc(e){ce().setTags(e)}function yc(e,t){ce().setTag(e,t)}function Ec(e){ce().setUser(e)}function vo(){return ce().lastEventId()}async function bc(e){let t=E();return t?t.flush(e):(y&&h.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function Tc(e){let t=E();return t?t.close(e):(y&&h.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function Ic(){return!!E()}function wo(){let e=E();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function Ro(e){ce().addEventProcessor(e)}function _r(e){let t=ce(),n=L(),{userAgent:r}=v.navigator||{},o=md({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&Xt(i,{status:"exited"}),xo(),t.setSession(o),o}function xo(){let e=ce(),n=L().getSession()||e.getSession();n&&hd(n),Zd(),e.setSession()}function Zd(){let e=ce(),t=E(),n=e.getSession();n&&t&&t.captureSession(n)}function Sr(e=!1){if(e){xo();return}Zd()}var Y_="7";function Qd(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function J_(e){return`${Qd(e)}${e.projectId}/envelope/`}function K_(e,t){let n={sentry_version:Y_};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Co(e,t,n){return t||`${J_(e)}?${K_(e,n)}`}function vc(e,t){let n=uo(e);if(!n)return"";let r=`${Qd(n)}embed/error-page/`,o=`dsn=${it(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var ef=[];function X_(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function wc(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return X_(r)}function tf(e,t){let n={};return t.forEach(r=>{r&&xc(e,r,n)}),n}function Rc(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function xc(e,t,n){if(n[t.name]){y&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,ef.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),ef.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}y&&h.log(`Integration installed: ${t.name}`)}function yr(e){let t=E();if(!t){y&&h.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function nf(e,t,n){let r=[{type:"client_report"},{timestamp:n||dt(),discarded_events:e}];return Ue(t?{dsn:t}:{},[r])}function Zi(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function rf(e){let{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[lr],exclusive_time:s?.[wt],measurements:e.measurements,is_segment:!0}}function of(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[lr]:e.profile_id},...e.exclusive_time&&{[wt]:e.exclusive_time}}}},measurements:e.measurements}}var sf="Not capturing exception because it's already been captured.",af="Discarded session because of missing or non-string release",lf=Symbol.for("SentryInternalError"),df=Symbol.for("SentryDoNotSendEventError");function Qi(e){return{message:e,[lf]:!0}}function Cc(e){return{message:e,[df]:!0}}function cf(e){return!!e&&typeof e=="object"&&lf in e}function uf(e){return!!e&&typeof e=="object"&&df in e}var Ao=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=uo(t.dsn):y&&h.warn("No DSN provided, client will not send events."),this._dsn){let n=Co(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=ge();if(wi(t))return y&&h.log(sf),o;let i={event_id:o,...n};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i={event_id:ge(),...r},s=gn(t)?t:String(t),a=bt(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=ge();if(n?.originalException&&wi(n.originalException))return y&&h.log(sf),o;let i={event_id:o,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),Xt(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){let n=this._transport;if(!n)return!0;this.emit("flush");let r=await this._isClientDoneProcessing(t),o=await n.flush(t);return r&&o}async close(t){let n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];xc(this,t,this._integrations),n||Rc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Pd(t,this._dsn,this._options._metadata,this._options.tunnel);for(let o of n.attachments||[])r=rc(r,sc(o));this.sendEnvelope(r).then(o=>this.emit("afterSendEvent",t,o))}sendSession(t){let{release:n,environment:r=nn}=this._options;if("aggregates"in t){let i=t.attrs||{};if(!i.release&&!n){y&&h.warn(af);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){y&&h.warn(af);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);let o=Dd(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){let o=`${t}:${n}`;y&&h.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){let r=this._hooks[t]=this._hooks[t]||new Set,o=(...i)=>n(...i);return r.add(o),()=>{r.delete(o)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return y&&h.error("Error while sending envelope:",n),{}}return y&&h.error("Transport disabled"),{}}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=tf(this,t),Rc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1,i=n.exception?.values;if(i){o=!0;for(let c of i)if(c.mechanism?.handled===!1){r=!0;break}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(Xt(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),To(i,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:xi(r),...a.contexts};let c=pr(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=L(),o=ce()){return y&&Ac(t)&&h.log(`Captured error event \`${Zi(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(i=>i.event_id,i=>{y&&(uf(i)?h.log(i.message):cf(i)?h.warn(i.message):h.warn(i))})}_processEvent(t,n,r,o){let i=this.getOptions(),{sampleRate:s}=i,a=ff(t),c=Ac(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof s>"u"?void 0:ft(s);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Bn(Cc(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let p=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",p),Cc("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;let _=Q_(this,i,f,n);return Z_(_,d)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",p),a){let S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw Cc(`${d} returned \`null\`, will not send event.`)}let m=r.getSession()||o.getSession();if(c&&m&&this._updateSessionFromEvent(m,f),a){let g=f.sdkProcessingMetadata?.spanCountBeforeProcessing||0,S=f.spans?f.spans.length:0,b=g-S;b>0&&this.recordDroppedEvent("before_send","span",b)}let _=f.transaction_info;if(a&&_&&f.transaction!==t.transaction){let g="custom";f.transaction_info={..._,source:g}}return this.sendEvent(f,n),f}).then(null,f=>{throw uf(f)||cf(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),Qi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}_flushOutcomes(){y&&h.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){y&&h.log("No outcomes to send");return}if(!this._dsn){y&&h.log("No dsn provided, will not send outcomes");return}y&&h.log("Sending outcomes:",t);let n=nf(t,this._options.tunnel&&it(this._dsn));this.sendEnvelope(n)}};function Z_(e,t){let n=`${t} must return \`null\` or a valid event.`;if(Tt(e))return e.then(r=>{if(!Ge(r)&&r!==null)throw Qi(n);return r},r=>{throw Qi(`${t} rejected with ${r}`)});if(!Ge(e)&&e!==null)throw Qi(n);return e}function Q_(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s,ignoreSpans:a}=t,c=n;if(Ac(c)&&o)return o(c,r);if(ff(c)){if(s||a){let u=rf(c);if(a?.length&&Un(u,a))return null;if(s){let d=s(u);d?c=_n(n,of(d)):ho()}if(c.spans){let d=[],l=c.spans;for(let f of l){if(a?.length&&Un(f,a)){Od(l,f);continue}if(s){let m=s(f);m?d.push(m):(ho(),d.push(f))}else d.push(f)}let p=c.spans.length-d.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=d}}if(i){if(c.spans){let u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,r)}}return c}function Ac(e){return e.type===void 0}function ff(e){return e.type==="transaction"}function pf(e,t){return t?ke(t,()=>{let n=X(),r=n?po(n):xi(t);return[n?Re(n):pr(e,t),r]}):[void 0,void 0]}var mf={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function eS(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function hf(e,t,n,r){let o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=it(r)),Ue(o,[eS(e)])}var tS=100;function nS(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function qt(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function gf(e,t){let n=kc(),r=_f(e);r===void 0?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=tS&&Er(e,r))}function wn(e,t=L(),n=gf){let r=t?.getClient()??E();if(!r){y&&h.warn("No client available to capture log.");return}let{release:o,environment:i,enableLogs:s=!1,beforeSendLog:a}=r.getOptions();if(!s){y&&h.warn("logging option not enabled, log will not be captured.");return}let[,c]=pf(r,t),u={...e.attributes},{user:{id:d,email:l,username:p}}=rS(t);qt(u,"user.id",d,!1),qt(u,"user.email",l,!1),qt(u,"user.name",p,!1),qt(u,"sentry.release",o),qt(u,"sentry.environment",i);let{name:f,version:m}=r.getSdkMetadata()?.sdk??{};qt(u,"sentry.sdk.name",f),qt(u,"sentry.sdk.version",m);let _=r.getIntegrationByName("Replay"),g=_?.getReplayId(!0);qt(u,"sentry.replay_id",g),g&&_?.getRecordingMode()==="buffer"&&qt(u,"sentry._internal.replay_is_buffering",!0);let S=e.message;if(gn(S)){let{__sentry_template_string__:A,__sentry_template_values__:H=[]}=S;H?.length&&(u["sentry.message.template"]=A),H.forEach((w,O)=>{u[`sentry.message.parameter.${O}`]=w})}let b=Zt(t);qt(u,"sentry.trace.parent_span_id",b?.spanContext().spanId);let F={...e,attributes:u};r.emit("beforeCaptureLog",F);let x=a?He(()=>a(F)):F;if(!x){r.recordDroppedEvent("before_send","log_item",1),y&&h.warn("beforeSendLog returned null, log will not be captured.");return}let{level:P,message:k,attributes:I={},severityNumber:C}=x,T={timestamp:te(),level:P,body:k,trace_id:c?.trace_id,severity_number:C??mf[P],attributes:Object.keys(I).reduce((A,H)=>(A[H]=nS(I[H]),A),{})};n(r,T),r.emit("afterCaptureLog",x)}function Er(e,t){let n=t??_f(e)??[];if(n.length===0)return;let r=e.getOptions(),o=hf(n,r._metadata,r.tunnel,e.getDsn());kc().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function _f(e){return kc().get(e)}function rS(e){let t=Qt().getScopeData();return gr(t,ce().getScopeData()),gr(t,e.getScopeData()),t}function kc(){return Kt("clientToLogBufferMap",()=>new WeakMap)}function Nc(e,t){t.debug===!0&&(y?h.enable():He(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),L().update(t.initialScope);let r=new e(t);return es(r),r.init(),r}function es(e){L().setClient(e)}var Mc=Symbol.for("SentryBufferFullError");function Sf(e=100){let t=new Set;function n(){return t.size<e}function r(s){t.delete(s)}function o(s){if(!n())return Bn(Mc);let a=s();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function i(s){if(!t.size)return In(!0);let a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!s)return a;let c=[a,new Promise(u=>setTimeout(()=>u(!1),s))];return Promise.race(c)}return{get $(){return Array.from(t)},add:o,drain:i}}function ts(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function yf(e,t){return e[t]||e.all||0}function ko(e,t,n=Date.now()){return yf(e,t)>n}function No(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,d]=a.split(":",5),l=parseInt(c,10),p=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+p;else for(let f of u.split(";"))f==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[f]=r+p):o[f]=r+p}else s?o.all=r+ts(s,r):t===429&&(o.all=r+60*1e3);return o}var oS=64;function Mo(e,t,n=Sf(e.bufferSize||oS)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(mt(s,(l,p)=>{let f=Gi(p);ko(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):a.push(l)}),a.length===0)return Promise.resolve({});let c=Ue(s[0],a),u=l=>{mt(c,(p,f)=>{e.recordDroppedEvent(l,Gi(f))})},d=()=>t({body:yn(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&y&&h.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=No(r,l),l),l=>{throw u("network_error"),y&&h.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Mc)return y&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw l})}return{send:i,flush:o}}var Oc=100,Lc=5e3,iS=36e5;function Dc(e){function t(...n){y&&h.log("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let o=n.createStore(n),i=Lc,s;function a(l,p,f){return Wi(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,p,f):!0}function c(l){s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let p=await o.shift();p&&(t("Attempting to send previously queued event"),p[0].sent_at=new Date().toISOString(),d(p,!0).catch(f=>{t("Failed to retry sending",f)}))},l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(i),i=Math.min(i*2,iS))}async function d(l,p=!1){if(!p&&Wi(l,["replay_event","replay_recording"]))return await o.push(l),c(Oc),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let f=await r.send(l),m=Oc;if(f){if(f.headers?.["retry-after"])m=ts(f.headers["retry-after"]);else if(f.headers?.["x-sentry-rate-limits"])m=6e4;else if((f.statusCode||0)>=400)return f}return c(m),i=Lc,f}catch(f){if(await a(l,f,i))return p?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",f),{};throw f}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(i=Lc,c(Oc)),r.flush(l))}}}function Ef(e,t){let n;return mt(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function sS(e,t){return n=>{let r=e(n);return{...r,send:async o=>{let i=Ef(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)}}}}function aS(e,t){return Ue(t?{...e[0],dsn:t}:e[0],e[1])}function Pc(e,t){return n=>{let r=e(n),o=new Map;function i(c,u){let d=u?`${c}:${u}`:c,l=o.get(d);if(!l){let p=Ni(c);if(!p)return;let f=Co(p,n.tunnel);l=u?sS(e,u)({...n,url:f}):e({...n,url:f}),o.set(d,l)}return[c,l]}async function s(c){function u(f){let m=f?.length?f:["event"];return Ef(c,m)}let d=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f),l=d.length?d:[["",r]];return(await Promise.all(l.map(([f,m])=>m.send(aS(c,f)))))[0]}async function a(c){let u=[...o.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:s,flush:a}}}var cS="thismessage:/";function br(e){return"isRelative"in e}function Hn(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?cS:void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function Fc(e){if(br(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Lt(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Oo(e){return e.split(/[?#]/,1)[0]}function Lo(e,t){let n=t?.getDsn(),r=t?.getOptions().tunnel;return lS(e,n)||uS(e,r)}function uS(e,t){return t?bf(e)===bf(t):!1}function lS(e,t){let n=Hn(e);return!n||br(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function bf(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function ns(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Uc=ns;function Bc(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Hc(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:tt})),version:tt}),e._metadata=o}function $n(e={}){let t=e.client||E();if(!wo()||!t)return{};let n=Je(),r=vt(n);if(r.getTraceData)return r.getTraceData(e);let o=e.scope||L(),i=e.span||X(),s=i?mo(i):dS(o),a=i?Re(i):pr(t,o),c=ki(a);if(!Oi.test(s))return h.warn("Invalid sentry-trace data. Cannot generate trace data"),{};let d={"sentry-trace":s,baggage:c};if(e.propagateTraceparent){let l=i?Ad(i):fS(o);l&&(d.traceparent=l)}return d}function dS(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return fo(t,r,n)}function fS(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Li(t,r,n)}function $c(e,t,n){let r,o,i,s=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function d(){return o!==void 0||i!==void 0?c():r}function l(){return o&&clearTimeout(o),o=a(c,t),s&&i===void 0&&(i=a(c,s)),r}return l.cancel=u,l.flush=d,l}var pS=100;function Xe(e,t){let n=E(),r=ce();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=pS}=n.getOptions();if(i<=0)return;let a={timestamp:dt(),...e},c=o?He(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var Tf,mS="FunctionToString",If=new WeakMap,hS=(()=>({name:mS,setupOnce(){Tf=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=Dn(this),n=If.has(E())&&t!==void 0?t:this;return Tf.apply(n,e)}}catch{}},setup(e){If.set(e,!0)}})),Do=hS;var gS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],_S="EventFilters",os=(e={})=>{let t;return{name:_S,setup(n){let r=n.getOptions();t=vf(e,r)},processEvent(n,r,o){if(!t){let i=o.getOptions();t=vf(e,i)}return SS(n,t)?null:n}}},Po=((e={})=>({...os(e),name:"InboundFilters"}));function vf(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:gS],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function SS(e,t){if(e.type){if(e.type==="transaction"&&ES(e,t.ignoreTransactions))return y&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Wt(e)}`),!0}else{if(yS(e,t.ignoreErrors))return y&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Wt(e)}`),!0;if(vS(e))return y&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Wt(e)}`),!0;if(bS(e,t.denyUrls))return y&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Wt(e)}.
Url: ${rs(e)}`),!0;if(!TS(e,t.allowUrls))return y&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Wt(e)}.
Url: ${rs(e)}`),!0}return!1}function yS(e,t){return t?.length?Zi(e).some(n=>Pe(n,t)):!1}function ES(e,t){if(!t?.length)return!1;let n=e.transaction;return n?Pe(n,t):!1}function bS(e,t){if(!t?.length)return!1;let n=rs(e);return n?Pe(n,t):!1}function TS(e,t){if(!t?.length)return!0;let n=rs(e);return n?Pe(n,t):!0}function IS(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function rs(e){try{let n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?IS(n):null}catch{return y&&h.error(`Cannot extract url for event ${Wt(e)}`),null}}function vS(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Gc(e,t,n,r,o,i){if(!o.exception?.values||!i||!lt(i.originalException,Error))return;let s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=Wc(e,t,r,i.originalException,n,o.exception.values,s,0))}function Wc(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(lt(r[o],Error)){wf(s,a);let u=e(t,r[o]),d=c.length;Rf(u,o,d,a),c=Wc(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(lt(u,Error)){wf(s,a);let l=e(t,u),p=c.length;Rf(l,`errors[${d}]`,p,a),c=Wc(e,t,n,u,o,[l,...c],l,p)}}),c}function wf(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Rf(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var Cf=new Map,xf=new Set;function wS(e){if(v._sentryModuleMetadata)for(let t of Object.keys(v._sentryModuleMetadata)){let n=v._sentryModuleMetadata[t];if(xf.has(t))continue;xf.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){Cf.set(o.filename,n);break}}}function RS(e,t){return wS(e),Cf.get(t)}function is(e,t){t.exception?.values?.forEach(n=>{n.stacktrace?.frames?.forEach(r=>{if(!r.filename||r.module_metadata)return;let o=RS(e,r.filename);o&&(r.module_metadata=o)})})}function ss(e){e.exception?.values?.forEach(t=>{t.stacktrace?.frames?.forEach(n=>{delete n.module_metadata})})}var zc=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{mt(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(ss(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;is(n,t)})}});function Wn(e){let t="console";$e(t,e),We(t,xS)}function xS(){"console"in v&&Mn.forEach(function(e){e in v.console&&be(v.console,e,function(t){return rr[e]=t,function(...n){xe("console",{args:n,level:e}),rr[e]?.apply(v.console,n)}})})}function Gn(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var CS="CaptureConsole",AS=((e={})=>{let t=e.levels||Mn,n=e.handled??!0;return{name:CS,setup(r){"console"in v&&Wn(({args:o,level:i})=>{E()!==r||!t.includes(i)||kS(o,i,n)})}}}),jc=AS;function kS(e,t,n){let r={level:Gn(t),extra:{arguments:e}};ke(o=>{if(o.addEventProcessor(a=>(a.logger="console",ze(a,{handled:n,type:"auto.core.capture_console"}),a)),t==="assert"){if(!e[0]){let a=`Assertion failed: ${Ln(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),vn(a,r)}return}let i=e.find(a=>a instanceof Error);if(i){ht(i,r);return}let s=Ln(e," ");vn(s,r)})}var NS="Dedupe",MS=(()=>{let e;return{name:NS,processEvent(t){if(t.type)return t;try{if(OS(t,e))return y&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),Fo=MS;function OS(e,t){return t?!!(LS(e,t)||DS(e,t)):!1}function LS(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Nf(e,t)||!kf(e,t))}function DS(e,t){let n=Af(t),r=Af(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Nf(e,t)||!kf(e,t))}function kf(e,t){let n=or(e),r=or(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function Nf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Af(e){return e.exception?.values?.[0]}var PS="ExtraErrorData",FS=((e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:PS,processEvent(r,o,i){let{maxValueLength:s=250}=i.getOptions();return US(r,o,t,n,s)}}}),qc=FS;function US(e,t={},n,r,o){if(!t.originalException||!rt(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=Mf(t.originalException,r,o);if(s){let a={...e.contexts},c=Me(s,n);return Ge(c)&&(he(c,"__sentry_skip_normalization__",!0),a[i]=c),{...e,contexts:a}}return e}function Mf(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];o[i]=rt(s)||typeof s=="string"?It(`${s}`,n):s}if(t&&e.cause!==void 0)if(rt(e.cause)){let i=e.cause.name||e.cause.constructor.name;o.cause={[i]:Mf(e.cause,!1,n)}}else o.cause=e.cause;if(typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let a=i[s];o[s]=rt(a)?a.toString():a}}return o}catch(r){y&&h.error("Unable to extract extra data from the Error object:",r)}return null}function BS(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var HS=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function $S(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=HS.exec(t);return n?n.slice(1):[]}function Of(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=BS(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Lf(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Df(e,t){e=Of(e).slice(1),t=Of(t).slice(1);let n=Lf(e.split("/")),r=Lf(t.split("/")),o=Math.min(n.length,r.length),i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function Pf(e,t){let n=$S(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var WS="RewriteFrames",Vc=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in v&&!!v.window,o=e.iteratee||GS({isBrowser:r,root:t,prefix:n});function i(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames?.map(c=>o(c))}}return{name:WS,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function GS({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){let s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?Df(t,s):Pf(s);r.filename=`${n}${a}`}return r}}var zS=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],jS=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],qS={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},Uf=["select","insert","upsert","update","delete"];function as(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function cs(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function VS(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function YS(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&qS[n]||"filter",`${o}(${e}, ${r.join(".")})`}function Ff(e,t=!1){return new Proxy(e,{apply(n,r,o){return bn({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[K]:"auto.db.supabase",[Se]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,o).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),ht(s.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),ht(s,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),s}).then(...o))}})}function JS(e){let t=e.auth;if(!(!t||cs(e.auth))){for(let n of zS){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Ff(r))}for(let n of jS){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Ff(r,!0))}as(e.auth)}}function KS(e){cs(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let o=Reflect.apply(t,n,r),i=o.constructor;return ZS(i),o}}),as(e.prototype.from))}function XS(e){cs(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){let o=Uf,i=n,s=VS(i.method,i.headers);if(!o.includes(s)||!i?.url?.pathname||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(let[f,m]of i.url.searchParams.entries())u.push(YS(f,m));let d=Object.create(null);if(Ge(i.body))for(let[f,m]of Object.entries(i.body))d[f]=m;let l=`${s==="select"?"":`${s}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,p={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[K]:"auto.db.supabase",[Se]:"db"};return u.length&&(p["db.query"]=u),Object.keys(d).length&&(p["db.body"]=d),bn({name:l,attributes:p},f=>Reflect.apply(t,n,[]).then(m=>{if(f&&(m&&typeof m=="object"&&"status"in m&&jt(f,m.status||500),f.end()),m.error){let S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);let b={};u.length&&(b.query=u),Object.keys(d).length&&(b.body=d),ht(S,F=>(F.addEventProcessor(x=>(ze(x,{handled:!1,type:"auto.db.supabase.postgres"}),x)),F.setContext("supabase",b),F))}let _={type:"supabase",category:`db.${s}`,message:l},g={};return u.length&&(g.query=u),Object.keys(d).length&&(g.body=d),Object.keys(g).length&&(_.data=g),Xe(_),m},m=>{throw f&&(jt(f,500),f.end()),m}).then(...r))}}),as(e.prototype.then))}function ZS(e){for(let t of Uf)cs(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){let i=Reflect.apply(n,r,o),s=i.constructor;return y&&h.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),XS(s),i}}),as(e.prototype[t]))}var us=e=>{if(!e){y&&h.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;KS(t),JS(e)},QS="Supabase",ey=(e=>({setupOnce(){us(e)},name:QS})),Yc=e=>ey(e.supabaseClient);var ty=10,ny="ZodErrors";function ry(e){return rt(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function oy(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function iy(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function sy(e){let t=new Set;for(let r of e.issues){let o=iy(r.path);o.length>0&&t.add(o)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${It(n.join(", "),100)}`}function ay(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!ry(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(oy);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:sy(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}var cy=((e={})=>{let t=e.limit??ty;return{name:ny,processEvent(n,r){return ay(t,e.saveZodIssuesAsAttachment,n,r)}}}),Jc=cy;var Kc=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{mt(n,(r,o)=>{if(o==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(ss(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;is(r,n)})},processEvent(t){let n=uy(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](i=>!i.some(s=>e.filterKeys.includes(s)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function uy(e){let t=or(e);if(t)return t.filter(n=>!!n.filename&&(n.lineno??n.colno)!=null).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(Bf)).map(r=>r.slice(Bf.length)):[])}var Bf="_sentryBundlerPluginAppKey:";var Hf=100,$f=10,ls="flag.evaluation.";function Dt(e){let n=L().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function xt(e,t,n=Hf){let r=L().getScopeData().contexts;r.flags||(r.flags={values:[]});let o=r.flags.values;ly(o,e,t,n)}function ly(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){y&&h.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let o=e.findIndex(i=>i.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function Ct(e,t,n=$f){if(typeof t!="boolean")return;let r=X();if(!r)return;let o=D(r).data;if(`${ls}${e}`in o){r.setAttribute(`${ls}${e}`,t);return}Object.keys(o).filter(s=>s.startsWith(ls)).length<n&&r.setAttribute(`${ls}${e}`,t)}var Xc=()=>({name:"FeatureFlags",processEvent(e,t,n){return Dt(e)},addFeatureFlag(e,t){xt(e,t),Ct(e,t)}});function Zc(e,t,n,r,o){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,a=Ne()&&t(s);if(e.endTimestamp&&a){let f=e.fetchData.__span;if(!f)return;let m=r[f];m&&(fy(m,e),delete r[f]);return}let{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof o=="object"?o:{spanOrigin:o},d=!!X(),l=a&&d?st(my(s,i,c)):new Ve;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){let f=e.args[0],m=e.args[1]||{},_=dy(f,m,Ne()&&d?l:void 0,u);_&&(e.args[1]=m,m.headers=_)}let p=E();if(p){let f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",l,f)}return l}function dy(e,t,n,r){let o=$n({span:n,propagateTraceparent:r}),i=o["sentry-trace"],s=o.baggage,a=o.traceparent;if(!i)return;let c=t.headers||(Ti(e)?e.headers:void 0);if(c)if(py(c)){let u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",i),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),s){let d=u.get("baggage");d?ds(d)||u.set("baggage",`${d},${s}`):u.set("baggage",s)}return u}else if(Array.isArray(c)){let u=[...c];c.find(l=>l[0]==="sentry-trace")||u.push(["sentry-trace",i]),r&&a&&!c.find(l=>l[0]==="traceparent")&&u.push(["traceparent",a]);let d=c.find(l=>l[0]==="baggage"&&ds(l[1]));return s&&!d&&u.push(["baggage",s]),u}else{let u="sentry-trace"in c?c["sentry-trace"]:void 0,d="traceparent"in c?c.traceparent:void 0,l="baggage"in c?c.baggage:void 0,p=l?Array.isArray(l)?[...l]:[l]:[],f=l&&(Array.isArray(l)?l.find(_=>ds(_)):ds(l));s&&!f&&p.push(s);let m={...c,"sentry-trace":u??i,baggage:p.length>0?p.join(","):void 0};return r&&a&&!d&&(m.traceparent=a),m}else return{...o}}function fy(e,t){if(t.response){jt(e,t.response.status);let n=t.response?.headers?.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function ds(e){return e.split(",").some(t=>t.trim().startsWith(Ai))}function py(e){return typeof Headers<"u"&&lt(e,Headers)}function my(e,t,n){let r=Hn(e);return{name:r?`${t} ${Fc(r)}`:t,attributes:hy(e,r,t,n)}}function hy(e,t,n,r){let o={url:e,type:"fetch","http.method":n,[K]:r,[Se]:"http.client"};return t&&(br(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function Uo(e,t={},n=L()){let{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||E();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var fs={};nd(fs,{debug:()=>_y,error:()=>Ey,fatal:()=>by,fmt:()=>Uc,info:()=>Sy,trace:()=>gy,warn:()=>yy});function Tr(e,t,n,r,o){wn({level:e,message:t,attributes:n,severityNumber:o},r)}function gy(e,t,{scope:n}={}){Tr("trace",e,t,n)}function _y(e,t,{scope:n}={}){Tr("debug",e,t,n)}function Sy(e,t,{scope:n}={}){Tr("info",e,t,n)}function yy(e,t,{scope:n}={}){Tr("warn",e,t,n)}function Ey(e,t,{scope:n}={}){Tr("error",e,t,n)}function by(e,t,{scope:n}={}){Tr("fatal",e,t,n)}function Bo(e,t,n){return"util"in v&&typeof v.util.format=="function"?v.util.format(...e):Ty(e,t,n)}function Ty(e,t,n){return e.map(r=>bt(r)?String(r):JSON.stringify(Me(r,t,n))).join(" ")}function Wf(e){return/%[sdifocO]/.test(e)}function Gf(e,t){let n={},r=new Array(t.length).fill("{}").join(" ");return n["sentry.message.template"]=`${e} ${r}`,t.forEach((o,i)=>{n[`sentry.message.parameter.${i}`]=o}),n}var Iy="ConsoleLogs",zf={[K]:"auto.console.logging"},vy=((e={})=>{let t=e.levels||Mn;return{name:Iy,setup(n){let{enableLogs:r,normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=n.getOptions();if(!r){y&&h.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}Wn(({args:s,level:a})=>{if(E()!==n||!t.includes(a))return;let c=s[0],u=s.slice(1);if(a==="assert"){if(!c){let f=u.length>0?`Assertion failed: ${Bo(u,o,i)}`:"Assertion failed";wn({level:"error",message:f,attributes:zf})}return}let d=a==="log",l=s.length>1&&typeof s[0]=="string"&&!Wf(s[0]),p={...zf,...l?Gf(c,u):{}};wn({level:d?"info":a,message:Bo(s,o,i),severityNumber:d?10:void 0,attributes:p})})}}}),Qc=vy;var wy=["trace","debug","info","warn","error","fatal"];function eu(e={}){let t=new Set(e.levels??wy),n=e.client;return{log(r){let{type:o,level:i,message:s,args:a,tag:c,date:u,...d}=r,l=n||E();if(!l)return;let p=Cy(o,i);if(!t.has(p))return;let{normalizeDepth:f=3,normalizeMaxBreadth:m=1e3}=l.getOptions(),_=[];s&&_.push(s),a&&a.length>0&&_.push(Bo(a,f,m));let g=_.join(" ");d["sentry.origin"]="auto.logging.consola",c&&(d["consola.tag"]=c),o&&(d["consola.type"]=o),i!=null&&typeof i=="number"&&(d["consola.level"]=i),wn({level:p,message:g,attributes:d})}}}var Ry={silent:"trace",fatal:"fatal",error:"error",warn:"warn",log:"info",info:"info",success:"info",fail:"error",ready:"info",start:"info",box:"info",debug:"debug",trace:"trace",verbose:"debug",critical:"fatal",notice:"info"},xy={0:"fatal",1:"warn",2:"info",3:"info",4:"debug",5:"trace"};function Cy(e,t){if(e==="verbose")return"debug";if(e==="silent")return"trace";if(e){let n=Ry[e];if(n)return n}if(typeof t=="number"){let n=xy[t];if(n)return n}return"info"}function ps(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var Ir=v;function tu(){return"history"in Ir&&!!Ir.history}function Ay(){if(!("fetch"in Ir))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Ho(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function $o(){if(typeof EdgeRuntime=="string")return!0;if(!Ay())return!1;if(Ho(Ir.fetch))return!0;let e=!1,t=Ir.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Ho(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){y&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function nu(){return"ReportingObserver"in Ir}function zn(e,t){let n="fetch";$e(n,e),We(n,()=>qf(void 0,t))}function ou(e){let t="fetch-body-resolved";$e(t,e),We(t,()=>qf(Ny))}function qf(e,t=!1){t&&!$o()||be(v,"fetch",function(n){return function(...r){let o=new Error,{method:i,url:s}=My(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:te()*1e3,virtualError:o,headers:Oy(r)};return e||xe("fetch",{...a}),n.apply(v,r).then(async c=>(e?e(c):xe("fetch",{...a,endTimestamp:te()*1e3,response:c}),c),c=>{if(xe("fetch",{...a,endTimestamp:te()*1e3,error:c}),rt(c)&&c.stack===void 0&&(c.stack=o.stack,he(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function ky(e,t){if(e?.body){let n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:a}=await r.read();clearTimeout(s),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(s)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function Ny(e){let t;try{t=e.clone()}catch{return}ky(t,()=>{xe("fetch-body-resolved",{endTimestamp:te()*1e3,response:e})})}function ru(e,t){return!!e&&typeof e=="object"&&!!e[t]}function jf(e){return typeof e=="string"?e:e?ru(e,"url")?e.url:e.toString?e.toString():"":""}function My(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:jf(n),method:ru(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:jf(t),method:ru(t,"method")?String(t.method).toUpperCase():"GET"}}function Oy(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Ti(t))return new Headers(t.headers)}catch{}}function iu(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function su(){return"npm"}function Vf(){return!iu()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function vr(){return typeof window<"u"&&(!Vf()||Ly())}function Ly(){return v.process?.type==="renderer"}var Ft=v,ue=Ft.document,Wo=Ft.navigator,lp="Report a Bug",Dy="Cancel",Py="Send Bug Report",Fy="Confirm",Uy="Report a Bug",By="your.email@example.org",Hy="Email",$y="What's the bug? What did you expect?",Wy="Description",Gy="Your Name",zy="Name",jy="Thank you for your report!",qy="(required)",Vy="Add a screenshot",Yy="Remove screenshot",Jy="Highlight",Ky="Hide",Xy="Remove",Zy="widget",Qy="api",eE=5e3,gu=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=E();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&L().setTags(e.tags);let r=Uo({source:Qy,url:Ke(),...e},t);return new Promise((o,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(s),a(),u?.statusCode&&u.statusCode>=200&&u.statusCode<300?o(r):u?.statusCode===403?i("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},_s=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function tE(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Wo.userAgent)||/Macintosh/i.test(Wo.userAgent)&&Wo.maxTouchPoints&&Wo.maxTouchPoints>1||!isSecureContext)}function ms(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function nE(e){let t=ue.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function gt(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var wr=20,rE="http://www.w3.org/2000/svg";function oE(){let e=a=>Ft.document.createElementNS(rE,a),t=gt(e("svg"),{width:`${wr}`,height:`${wr}`,viewBox:`0 0 ${wr} ${wr}`,fill:"var(--actor-color, var(--foreground))"}),n=gt(e("g"),{clipPath:"url(#clip0_57_80)"}),r=gt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=gt(e("clipPath"),{id:"clip0_57_80"}),s=gt(e("rect"),{width:`${wr}`,height:`${wr}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function iE({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let o=ue.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||lp,o.appendChild(oE()),e){let s=ue.createElement("span");s.appendChild(ue.createTextNode(e)),o.appendChild(s)}let i=nE(r);return{el:o,appendToDom(){n.appendChild(i),n.appendChild(o)},removeFromDom(){o.remove(),i.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}var dp="rgba(88, 74, 192, 1)",sE={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:dp,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Yf={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:dp,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Jf(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function aE({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let o=ue.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Jf(e==="dark"?{...Yf,...t}:{...sE,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Jf({...Yf,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}var Is=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>(({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:p={email:"email",name:"username"},tags:f,styleNonce:m,scriptNonce:_,colorScheme:g="system",themeLight:S={},themeDark:b={},addScreenshotButtonLabel:F=Vy,cancelButtonLabel:x=Dy,confirmButtonLabel:P=Fy,emailLabel:k=Hy,emailPlaceholder:I=By,formTitle:C=Uy,isRequiredLabel:T=qy,messageLabel:A=Wy,messagePlaceholder:H=$y,nameLabel:w=zy,namePlaceholder:O=Gy,removeScreenshotButtonLabel:q=Yy,submitButtonLabel:J=Py,successMessageText:ne=jy,triggerLabel:R=lp,triggerAriaLabel:z="",highlightToolText:N=Jy,hideToolText:$=Ky,removeHighlightText:Z=Xy,onFormOpen:se,onFormClose:we,onSubmitSuccess:ye,onSubmitError:fn,onFormSubmitted:Mt}={})=>{let yt={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:p,tags:f,styleNonce:m,scriptNonce:_,colorScheme:g,themeDark:b,themeLight:S,triggerLabel:R,triggerAriaLabel:z,cancelButtonLabel:x,submitButtonLabel:J,confirmButtonLabel:P,formTitle:C,emailLabel:k,emailPlaceholder:I,messageLabel:A,messagePlaceholder:H,nameLabel:w,namePlaceholder:O,successMessageText:ne,isRequiredLabel:T,addScreenshotButtonLabel:F,removeScreenshotButtonLabel:q,highlightToolText:N,hideToolText:$,removeHighlightText:Z,onFormClose:we,onFormOpen:se,onSubmitError:fn,onSubmitSuccess:ye,onFormSubmitted:Mt},ct=null,pn=[],mn=ae=>{if(!ct){let Ee=ue.createElement("div");Ee.id=String(ae.id),ue.body.appendChild(Ee),ct=Ee.attachShadow({mode:"open"}),ct.appendChild(aE(ae))}return ct},eo=async ae=>{let Ee=ae.enableScreenshot&&tE(),Et,Le;try{Et=(t?t():await e("feedbackModalIntegration",_))(),yr(Et)}catch{throw _s&&h.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let $t=Ee?n?n():await e("feedbackScreenshotIntegration",_):void 0;$t&&(Le=$t(),yr(Le))}catch{_s&&h.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let Be=Et.createDialog({options:{...ae,onFormClose:()=>{Be?.close(),ae.onFormClose?.()},onFormSubmitted:()=>{Be?.close(),ae.onFormSubmitted?.()}},screenshotIntegration:Le,sendFeedback:gu,shadow:mn(ae)});return Be},gi=(ae,Ee={})=>{let Et=ms(yt,Ee),Le=typeof ae=="string"?ue.querySelector(ae):typeof ae.addEventListener=="function"?ae:null;if(!Le)throw _s&&h.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let Be=null,$t=async()=>{Be||(Be=await eo({...Et,onFormSubmitted:()=>{Be?.removeFromDom(),Et.onFormSubmitted?.()}})),Be.appendToDom(),Be.open()};Le.addEventListener("click",$t);let Q=()=>{pn=pn.filter(ut=>ut!==Q),Be?.removeFromDom(),Be=null,Le.removeEventListener("click",$t)};return pn.push(Q),Q},to=(ae={})=>{let Ee=ms(yt,ae),Et=mn(Ee),Le=iE({triggerLabel:Ee.triggerLabel,triggerAriaLabel:Ee.triggerAriaLabel,shadow:Et,styleNonce:m});return gi(Le.el,{...Ee,onFormOpen(){Le.hide()},onFormClose(){Le.show()},onFormSubmitted(){Le.show()}}),Le};return{name:"Feedback",setupOnce(){!vr()||!yt.autoInject||(ue.readyState==="loading"?ue.addEventListener("DOMContentLoaded",()=>to().appendToDom()):to().appendToDom())},attachTo:gi,createWidget(ae={}){let Ee=to(ms(yt,ae));return Ee.appendToDom(),Ee},async createForm(ae={}){return eo(ms(yt,ae))},remove(){ct&&(ct.parentElement?.remove(),ct=null),pn.forEach(ae=>ae()),pn=[]}}});function fp(){return E()?.getIntegrationByName("Feedback")}var vs,de,pp,jn,Kf,mp,fu,Go={},_u=[],cE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Su=Array.isArray;function xn(e,t){for(var n in t)e[n]=t[n];return e}function hp(e){var t=e.parentNode;t&&t.removeChild(e)}function V(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?vs.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return Ss(e,s,r,o,null)}function Ss(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++pp,__i:-1,__u:0};return o==null&&de.vnode!=null&&de.vnode(i),i}function zo(e){return e.children}function ys(e,t){this.props=e,this.context=t}function xr(e,t){if(t==null)return e.__?xr(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?xr(e):null}function uE(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=xn({},o)).__v=o.__v+1,de.vnode&&de.vnode(r),yu(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??xr(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&gp(r),r}function gp(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return gp(e)}}function Xf(e){(!e.__d&&(e.__d=!0)&&jn.push(e)&&!Ts.__r++||Kf!==de.debounceRendering)&&((Kf=de.debounceRendering)||mp)(Ts)}function Ts(){var e,t,n,r=[],o=[];for(jn.sort(fu);e=jn.shift();)e.__d&&(n=jn.length,t=uE(e,r,o)||t,n===0||jn.length>n?(pu(r,t,o),o.length=r.length=0,t=void 0,jn.sort(fu)):t&&de.__c&&de.__c(t,_u));t&&pu(r,t,o),Ts.__r=0}function _p(e,t,n,r,o,i,s,a,c,u,d){var l,p,f,m,_,g=r&&r.__k||_u,S=t.length;for(n.__d=c,lE(n,t,g),c=n.__d,l=0;l<S;l++)(f=n.__k[l])!=null&&typeof f!="boolean"&&typeof f!="function"&&(p=f.__i===-1?Go:g[f.__i]||Go,f.__i=l,yu(e,f,p,o,i,s,a,c,u,d),m=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&Eu(p.ref,null,f),d.push(f.ref,f.__c||m,f)),_==null&&m!=null&&(_=m),65536&f.__u||p.__k===f.__k?c=Sp(f,c,e):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:m&&(c=m.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=_}function lE(e,t,n){var r,o,i,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Ss(null,o,null,null,o):Su(o)?Ss(zo,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?Ss(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=dE(o,n,s=r+l,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=xr(i)),mu(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&(131072&i.__u)==0&&(i.__e==e.__d&&(e.__d=xr(i)),mu(i,i))}function Sp(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Sp(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function dE(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return a;a++}}return-1}function Zf(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||cE.test(t)?n:n+"px"}function hs(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Zf(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Zf(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?ep:Qf,i)):e.removeEventListener(t,i?ep:Qf,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Qf(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(de.event?de.event(e):e)}}function ep(e){if(this.l)return this.l[e.type+!0](de.event?de.event(e):e)}function yu(e,t,n,r,o,i,s,a,c,u){var d,l,p,f,m,_,g,S,b,F,x,P,k,I,C,T=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=de.__b)&&d(t);e:if(typeof T=="function")try{if(S=t.props,b=(d=T.contextType)&&r[d.__c],F=d?b?b.props.value:d.__:r,n.__c?g=(l=t.__c=n.__c).__=l.__E:("prototype"in T&&T.prototype.render?t.__c=l=new T(S,F):(t.__c=l=new ys(S,F),l.constructor=T,l.render=pE),b&&b.sub(l),l.props=S,l.state||(l.state={}),l.context=F,l.__n=r,p=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),T.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=xn({},l.__s)),xn(l.__s,T.getDerivedStateFromProps(S,l.__s))),f=l.props,m=l.state,l.__v=t,p)T.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(T.getDerivedStateFromProps==null&&S!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(S,F),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(S,l.__s,F)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=S,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(A){A&&(A.__=t)}),x=0;x<l._sb.length;x++)l.__h.push(l._sb[x]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(S,l.__s,F),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,m,_)})}if(l.context=F,l.props=S,l.__P=e,l.__e=!1,P=de.__r,k=0,"prototype"in T&&T.prototype.render){for(l.state=l.__s,l.__d=!1,P&&P(t),d=l.render(l.props,l.state,l.context),I=0;I<l._sb.length;I++)l.__h.push(l._sb[I]);l._sb=[]}else do l.__d=!1,P&&P(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++k<25);l.state=l.__s,l.getChildContext!=null&&(r=xn(xn({},r),l.getChildContext())),p||l.getSnapshotBeforeUpdate==null||(_=l.getSnapshotBeforeUpdate(f,m)),_p(e,Su(C=d!=null&&d.type===zo&&d.key==null?d.props.children:d)?C:[C],t,n,r,o,i,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),g&&(l.__E=l.__=null)}catch(A){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),de.__e(A,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=fE(n.__e,t,n,r,o,i,s,c,u);(d=de.diffed)&&d(t)}function pu(e,t,n){for(var r=0;r<n.length;r++)Eu(n[r],n[++r],n[++r]);de.__c&&de.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){de.__e(i,o.__v)}})}function fE(e,t,n,r,o,i,s,a,c){var u,d,l,p,f,m,_,g=n.props,S=t.props,b=t.type;if(b==="svg"&&(o=!0),i!=null){for(u=0;u<i.length;u++)if((f=i[u])&&"setAttribute"in f==!!b&&(b?f.localName===b:f.nodeType===3)){e=f,i[u]=null;break}}if(e==null){if(b===null)return document.createTextNode(S);e=o?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,S.is&&S),i=null,a=!1}if(b===null)g===S||a&&e.data===S||(e.data=S);else{if(i=i&&vs.call(e.childNodes),g=n.props||Go,!a&&i!=null)for(g={},u=0;u<e.attributes.length;u++)g[(f=e.attributes[u]).name]=f.value;for(u in g)f=g[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=f:u==="key"||u in S||hs(e,u,null,f,o));for(u in S)f=S[u],u=="children"?p=f:u=="dangerouslySetInnerHTML"?d=f:u=="value"?m=f:u=="checked"?_=f:u==="key"||a&&typeof f!="function"||g[u]===f||hs(e,u,f,g[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),_p(e,Su(p)?p:[p],t,n,r,o&&b!=="foreignObject",i,s,i?i[0]:n.__k&&xr(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&hp(i[u]);a||(u="value",m!==void 0&&(m!==e[u]||b==="progress"&&!m||b==="option"&&m!==g[u])&&hs(e,u,m,g[u],!1),u="checked",_!==void 0&&_!==e[u]&&hs(e,u,_,g[u],!1))}return e}function Eu(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){de.__e(r,n)}}function mu(e,t,n){var r,o;if(de.unmount&&de.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Eu(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){de.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&mu(r[o],t,n||typeof e.type!="function");n||e.__e==null||hp(e.__e),e.__=e.__e=e.__d=void 0}function pE(e,t,n){return this.constructor(e,n)}function mE(e,t,n){var r,o,i,s;de.__&&de.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],yu(t,e=t.__k=V(zo,null,[e]),o||Go,Go,t.ownerSVGElement!==void 0,o?null:t.firstChild?vs.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),e.__d=void 0,pu(i,e,s)}vs=_u.slice,de={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},pp=0,ys.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=xn({},this.state),typeof e=="function"&&(e=e(xn({},n),this.props)),e&&xn(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Xf(this))},ys.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Xf(this))},ys.prototype.render=zo,jn=[],mp=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fu=function(e,t){return e.__v.__b-t.__v.__b},Ts.__r=0;var on,le,au,tp,Cr=0,yp=[],Es=[],Te=de,np=Te.__b,rp=Te.__r,op=Te.diffed,ip=Te.__c,sp=Te.unmount,ap=Te.__;function Vn(e,t){Te.__h&&Te.__h(le,e,Cr||t),Cr=0;var n=le.__H||(le.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Es}),n.__[e]}function qn(e){return Cr=1,Ep(Tp,e)}function Ep(e,t,n){var r=Vn(on++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Tp(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=le,!le.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};le.u=!0;var i=le.shouldComponentUpdate,s=le.componentWillUpdate;le.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},le.shouldComponentUpdate=o}return r.__N||r.__}function hE(e,t){var n=Vn(on++,3);!Te.__s&&bu(n.__H,t)&&(n.__=e,n.i=t,le.__H.__h.push(n))}function bp(e,t){var n=Vn(on++,4);!Te.__s&&bu(n.__H,t)&&(n.__=e,n.i=t,le.__h.push(n))}function gE(e){return Cr=5,jo(function(){return{current:e}},[])}function _E(e,t,n){Cr=6,bp(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function jo(e,t){var n=Vn(on++,7);return bu(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Rr(e,t){return Cr=8,jo(function(){return e},t)}function SE(e){var t=le.context[e.__c],n=Vn(on++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(le)),t.props.value):e.__}function yE(e,t){Te.useDebugValue&&Te.useDebugValue(t?t(e):e)}function EE(e){var t=Vn(on++,10),n=qn();return t.__=e,le.componentDidCatch||(le.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function bE(){var e=Vn(on++,11);if(!e.__){for(var t=le.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function TE(){for(var e;e=yp.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(bs),e.__H.__h.forEach(hu),e.__H.__h=[]}catch(t){e.__H.__h=[],Te.__e(t,e.__v)}}Te.__b=function(e){le=null,np&&np(e)},Te.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ap&&ap(e,t)},Te.__r=function(e){rp&&rp(e),on=0;var t=(le=e.__c).__H;t&&(au===le?(t.__h=[],le.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Es,n.__N=n.i=void 0})):(t.__h.forEach(bs),t.__h.forEach(hu),t.__h=[],on=0)),au=le},Te.diffed=function(e){op&&op(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(yp.push(t)!==1&&tp===Te.requestAnimationFrame||((tp=Te.requestAnimationFrame)||IE)(TE)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Es&&(n.__=n.__V),n.i=void 0,n.__V=Es})),au=le=null},Te.__c=function(e,t){t.some(function(n){try{n.__h.forEach(bs),n.__h=n.__h.filter(function(r){return!r.__||hu(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],Te.__e(r,n.__v)}}),ip&&ip(e,t)},Te.unmount=function(e){sp&&sp(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{bs(r)}catch(o){t=o}}),n.__H=void 0,t&&Te.__e(t,n.__v))};var cp=typeof requestAnimationFrame=="function";function IE(e){var t,n=function(){clearTimeout(r),cp&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);cp&&(t=requestAnimationFrame(n))}function bs(e){var t=le,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),le=t}function hu(e){var t=le;e.__c=e.__(),le=t}function bu(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Tp(e,t){return typeof t=="function"?t(e):t}var vE=Object.defineProperty({__proto__:null,useCallback:Rr,useContext:SE,useDebugValue:yE,useEffect:hE,useErrorBoundary:EE,useId:bE,useImperativeHandle:_E,useLayoutEffect:bp,useMemo:jo,useReducer:Ep,useRef:gE,useState:qn},Symbol.toStringTag,{value:"Module"}),wE="http://www.w3.org/2000/svg";function RE(){let e=r=>ue.createElementNS(wE,r),t=gt(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=gt(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function xE({options:e}){let t=jo(()=>({__html:RE().outerHTML}),[]);return V("h2",{class:"dialog__header"},V("span",{class:"dialog__title"},e.formTitle),e.showBranding?V("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function CE(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function cu(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function AE({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){let{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:p,cancelButtonLabel:f,emailLabel:m,emailPlaceholder:_,isEmailRequired:g,isNameRequired:S,messageLabel:b,messagePlaceholder:F,nameLabel:x,namePlaceholder:P,submitButtonLabel:k,isRequiredLabel:I}=e,[C,T]=qn(!1),[A,H]=qn(null),[w,O]=qn(!1),q=u?.input,[J,ne]=qn(null),R=Rr($=>{ne($),O(!1)},[]),z=Rr($=>{let Z=CE($,{emailLabel:m,isEmailRequired:g,isNameRequired:S,messageLabel:b,nameLabel:x});return Z.length>0?H(`Please enter in the following required fields: ${Z.join(", ")}`):H(null),Z.length===0},[m,g,S,b,x]),N=Rr(async $=>{T(!0);try{if($.preventDefault(),!($.target instanceof HTMLFormElement))return;let Z=new FormData($.target),se=await(u&&w?u.value():void 0),we={name:cu(Z,"name"),email:cu(Z,"email"),message:cu(Z,"message"),attachments:se?[se]:void 0};if(!z(we))return;try{let ye=await o({name:we.name,email:we.email,message:we.message,source:Zy,tags:d},{attachments:we.attachments});i(we,ye)}catch(ye){_s&&h.error(ye),H(ye),s(ye)}}finally{T(!1)}},[u&&w,i,s]);return V("form",{class:"form",onSubmit:N},q&&w?V(q,{onError:R}):null,V("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:C},V("div",{class:"form__top"},A?V("div",{class:"form__error-container"},A):null,c?V("label",{for:"name",class:"form__label"},V(uu,{label:x,isRequiredLabel:I,isRequired:S}),V("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:P,required:S,type:"text"})):V("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?V("label",{for:"email",class:"form__label"},V(uu,{label:m,isRequiredLabel:I,isRequired:g}),V("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:_,required:g,type:"email"})):V("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),V("label",{for:"message",class:"form__label"},V(uu,{label:b,isRequiredLabel:I,isRequired:!0}),V("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:F,required:!0,rows:5})),q?V("label",{for:"screenshot",class:"form__label"},V("button",{class:"btn btn--default",disabled:C,type:"button",onClick:()=>{ne(null),O($=>!$)}},w?p:l),J?V("div",{class:"form__error-container"},J.message):null):null),V("div",{class:"btn-group"},V("button",{class:"btn btn--primary",disabled:C,type:"submit"},k),V("button",{class:"btn btn--default",disabled:C,type:"button",onClick:r},f))))}function uu({label:e,isRequired:t,isRequiredLabel:n}){return V("span",{class:"form__label__text"},e,t&&V("span",{class:"form__label__text--required"},n))}var gs=16,up=17,kE="http://www.w3.org/2000/svg";function NE(){let e=c=>Ft.document.createElementNS(kE,c),t=gt(e("svg"),{width:`${gs}`,height:`${up}`,viewBox:`0 0 ${gs} ${up}`,fill:"inherit"}),n=gt(e("g"),{clipPath:"url(#clip0_57_156)"}),r=gt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=gt(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=gt(e("clipPath"),{id:"clip0_57_156"}),a=gt(e("rect"),{width:`${gs}`,height:`${gs}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}function ME({open:e,onFormSubmitted:t,...n}){let r=n.options,o=jo(()=>({__html:NE().outerHTML}),[]),[i,s]=qn(null),a=Rr(()=>{i&&(clearTimeout(i),s(null)),t()},[i]),c=Rr((u,d)=>{n.onSubmitSuccess(u,d),s(setTimeout(()=>{t(),s(null)},eE))},[t]);return V(zo,null,i?V("div",{class:"success__position",onClick:a},V("div",{class:"success__content"},r.successMessageText,V("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):V("dialog",{class:"dialog",onClick:r.onFormClose,open:e},V("div",{class:"dialog__position"},V("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},V(xE,{options:r}),V(AE,{...n,onSubmitSuccess:c})))))}var OE=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,LE=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,DE=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,PE=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,FE=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function UE(e){let t=ue.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${OE}
${LE}
${DE}
${PE}
${FE}
`,e&&t.setAttribute("nonce",e),t}function BE(){let e=L().getUser(),t=ce().getUser(),n=Qt().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var Ip=(()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,i=e.useSentryUser,s=BE(),a=ue.createElement("div"),c=UE(e.styleNonce),u="",d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),ue.body.style.overflow=u},open(){p(!0),e.onFormOpen?.(),E()?.emit("openFeedbackWidget"),u=ue.body.style.overflow,ue.body.style.overflow="hidden"},close(){p(!1),ue.body.style.overflow=u}},l=t?.createInput({h:V,hooks:vE,dialog:d,options:e}),p=f=>{mE(V(ME,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s?.[i.name]||"",defaultEmail:i&&s?.[i.email]||"",onFormClose:()=>{p(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:(m,_)=>{p(!1),e.onSubmitSuccess?.(m,_)},onSubmitError:m=>{e.onSubmitError?.(m)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:f}),a)};return d}}));function HE({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function $E(e){let t=ue.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function WE({h:e}){return function({action:n,setAction:r,options:o}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},o.highlightToolText),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},o.hideToolText)))}}function GE({hooks:e}){function t(){let[n,r]=e.useState(Ft.devicePixelRatio??1);return e.useEffect(()=>{let o=()=>{r(Ft.devicePixelRatio)},i=matchMedia(`(resolution: ${Ft.devicePixelRatio}dppx)`);return i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:i,onError:s}){let a=t();e.useEffect(()=>{(async()=>{r();let u=await Wo.mediaDevices.getDisplayMedia({video:{width:Ft.innerWidth*a,height:Ft.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=ue.createElement("video");await new Promise((l,p)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(f=>f.stop()),l()},d.play().catch(p)}),i()})().catch(s)},[])}}function zE(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function Rn(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function lu(e,t){Rn(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function du(e,t,n){Rn(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(i=>{zE(i,o,t)})})}function jE({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){let i=GE({hooks:t}),s=WE({h:e}),a=HE({h:e}),c={__html:$E(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{let[p,f]=t.useState("highlight"),[m,_]=t.useState([]),g=t.useRef(null),S=t.useRef(null),b=t.useRef(null),F=t.useRef(null),[x,P]=t.useState(1),k=t.useMemo(()=>{let w=ue.getElementById(o.id);if(!w)return"white";let O=getComputedStyle(w);return O.getPropertyValue("--button-primary-background")||O.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{let w=()=>{let O=g.current;O&&(Rn(l.canvas,{alpha:!1},q=>{let J=Math.min(O.clientWidth/q.width,O.clientHeight/q.height);P(J)}),(O.clientHeight===0||O.clientWidth===0)&&setTimeout(w,0))};return w(),Ft.addEventListener("resize",w),()=>{Ft.removeEventListener("resize",w)}},[l]);let I=t.useCallback((w,O)=>{Rn(w,{alpha:!0},(q,J)=>{J.scale(O,O),q.width=l.canvas.width,q.height=l.canvas.height})},[l]);t.useEffect(()=>{I(S.current,l.dpi),lu(S.current,l.canvas)},[l]),t.useEffect(()=>{I(b.current,l.dpi),Rn(b.current,{alpha:!0},(w,O)=>{O.clearRect(0,0,w.width,w.height)}),du(b.current,k,m)},[m,k]),t.useEffect(()=>{I(n,l.dpi),lu(n,l.canvas),Rn(ue.createElement("canvas"),{alpha:!0},(w,O)=>{O.scale(l.dpi,l.dpi),w.width=l.canvas.width,w.height=l.canvas.height,du(w,k,m),lu(n,w)})},[m,l,k]);let C=w=>{if(!p||!F.current)return;let O=F.current.getBoundingClientRect(),q={type:p,x:w.offsetX/x,y:w.offsetY/x},J=(z,N)=>{let $=(N.clientX-O.x)/x,Z=(N.clientY-O.y)/x;return{type:z.type,x:Math.min(z.x,$),y:Math.min(z.y,Z),w:Math.abs($-z.x),h:Math.abs(Z-z.y)}},ne=z=>{Rn(b.current,{alpha:!0},(N,$)=>{$.clearRect(0,0,N.width,N.height)}),du(b.current,k,[...m,J(q,z)])},R=z=>{let N=J(q,z);N.w*x>=1&&N.h*x>=1&&_($=>[...$,N]),ue.removeEventListener("mousemove",ne),ue.removeEventListener("mouseup",R)};ue.addEventListener("mousemove",ne),ue.addEventListener("mouseup",R)},T=t.useCallback(w=>O=>{O.preventDefault(),O.stopPropagation(),_(q=>{let J=[...q];return J.splice(w,1),J})},[]),A={width:`${l.canvas.width*x}px`,height:`${l.canvas.height*x}px`},H=w=>{w.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:g},e("canvas",{ref:S,id:"background",style:A}),e("canvas",{ref:b,id:"foreground",style:A}),e("div",{ref:F,onMouseDown:C,style:A},m.map((w,O)=>e("div",{key:O,class:"editor__rect",style:{top:`${w.y*x}px`,left:`${w.x*x}px`,width:`${w.w*x}px`,height:`${w.h*x}px`}},e("button",{"aria-label":o.removeHighlightText,onClick:T(O),onMouseDown:H,onMouseUp:H,type:"button"},e(a,null))))))),e(s,{options:o,action:p,setAction:f}))};return function({onError:p}){let[f,m]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((_,g)=>{Rn(ue.createElement("canvas"),{alpha:!1},(S,b)=>{b.scale(g,g),S.width=_.videoWidth,S.height=_.videoHeight,b.drawImage(_,0,0,S.width,S.height),m({canvas:S,dpi:g})}),n.width=_.videoWidth,n.height=_.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(_=>{u.display="block",p(_)},[])}),f?e(d,{screenshot:f}):e("div",null)}}var vp=(()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=ue.createElement("canvas");return{input:jE({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{let i=await new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(await i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}));var M=v,Tu=0;function Iu(){return Tu>0}function qE(){Tu++,setTimeout(()=>{Tu--})}function Yn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(Dn(e))return e}catch{return e}let r=function(...o){try{let i=o.map(s=>Yn(s,t));return e.apply(this,i)}catch(i){throw qE(),ke(s=>{s.addEventProcessor(a=>(t.mechanism&&(ar(a,void 0,void 0),ze(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),ht(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}Ii(r,e),he(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function qo(){let e=Ke(),{referrer:t}=M.document||{},{userAgent:n}=M.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}var VE={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},wp=M;async function ws(e,t){let n=VE[e],r=wp.Sentry=wp.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;let i=YE(n),s=M.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let a=new Promise((l,p)=>{s.addEventListener("load",()=>l()),s.addEventListener("error",p)}),c=M.document.currentScript,u=M.document.body||M.document.head||c?.parentElement;if(u)u.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function YE(e){let n=E()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${tt}/${e}.min.js`,n).toString()}var Rp=Is({lazyLoadIntegration:ws});var vu=Is({getModalIntegration:()=>Ip,getScreenshotIntegration:()=>vp});function Ar(e,t){let n=xu(e,t),r={type:QE(t),value:eb(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function JE(e,t,n,r){let i=E()?.getOptions().normalizeDepth,s=rb(t),a={__serialized__:Hi(t,i)};if(s)return{exception:{values:[Ar(e,s)]},extra:a};let c={exception:{values:[{type:On(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:tb(t,{isUnhandledRejection:r})}]},extra:a};if(n){let u=xu(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function wu(e,t){return{exception:{values:[Ar(e,t)]}}}function xu(e,t){let n=t.stacktrace||t.stack||"",r=XE(t),o=ZE(t);try{return e(n,r,o)}catch{}return[]}var KE=/Minified React error #\d+;/i;function XE(e){return e&&KE.test(e.message)?1:0}function ZE(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function xp(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function QE(e){let t=e?.name;return!t&&xp(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function eb(e){let t=e?.message;return xp(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Rs(e,t,n,r){let o=n?.syntheticException||void 0,i=Cs(e,t,o,r);return ze(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),In(i)}function xs(e,t,n="info",r,o){let i=r?.syntheticException||void 0,s=Ru(e,t,i,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),In(s)}function Cs(e,t,n,r,o){let i;if(Ei(t)&&t.error)return wu(e,t.error);if(bi(t)||Fa(t)){let s=t;if("stack"in t)i=wu(e,t);else{let a=s.name||(bi(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=Ru(e,c,n,r),ar(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return rt(t)?wu(e,t):Ge(t)||On(t)?(i=JE(e,t,n,o),ze(i,{synthetic:!0}),i):(i=Ru(e,t,n,r),ar(i,`${t}`,void 0),ze(i,{synthetic:!0}),i)}function Ru(e,t,n,r){let o={};if(r&&n){let i=xu(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),ze(o,{synthetic:!0})}if(gn(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function tb(e,{isUnhandledRejection:t}){let n=Wa(e),r=t?"promise rejection":"exception";return Ei(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:On(e)?`Event \`${nb(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function nb(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function rb(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var ob=5e3,kr=class extends Ao{constructor(t){let n=ib(t),r=M.SENTRY_SDK_SOURCE||su();Hc(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);let{sendDefaultPii:o,sendClientReports:i,enableLogs:s}=this._options;M.document&&(i||s)&&M.document.addEventListener("visibilitychange",()=>{M.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),s&&Er(this))}),s&&(this.on("flush",()=>{Er(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Er(this)},ob)})),o&&this.on("beforeSendSession",Bc)}eventFromException(t,n){return Rs(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return xs(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}};function ib(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:M.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}var Ut=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var U=v;var sb=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Vt=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o??0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=sb(t.value,n),e(t)))}};var Cp=()=>`v5-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var sn=(e=!0)=>{let t=U.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var At=()=>sn()?.activationStart??0;var Yt=(e,t=-1)=>{let n=sn(),r="navigate";return n&&(U.document?.prerendering||At()>0?r="prerender":U.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:Cp(),navigationType:r}};var Cu=new WeakMap;function Nr(e,t){return Cu.get(e)||Cu.set(e,new t),Cu.get(e)}var As=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;let n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}};var kt=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}};var Mr=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var Vo=-1,ab=()=>U.document?.visibilityState==="hidden"&&!U.document?.prerendering?0:1/0,ks=e=>{U.document.visibilityState==="hidden"&&Vo>-1&&(Vo=e.type==="visibilitychange"?e.timeStamp:0,ub())},cb=()=>{addEventListener("visibilitychange",ks,!0),addEventListener("prerenderingchange",ks,!0)},ub=()=>{removeEventListener("visibilitychange",ks,!0),removeEventListener("prerenderingchange",ks,!0)},Or=()=>{if(U.document&&Vo<0){let e=At();Vo=(U.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??ab(),cb()}return{get firstHiddenTime(){return Vo}}};var Cn=e=>{U.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var lb=[1800,3e3],Ap=(e,t={})=>{Cn(()=>{let n=Or(),r=Yt("FCP"),o,s=kt("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-At(),0),r.entries.push(c),o(!0)))});s&&(o=Vt(e,r,lb,t.reportAllChanges))})};var db=[.1,.25],kp=(e,t={})=>{Ap(Mr(()=>{let n=Yt("CLS",0),r,o=Nr(t,As),i=a=>{for(let c of a)o._processEntry(c);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},s=kt("layout-shift",i);s&&(r=Vt(e,n,db,t.reportAllChanges),U.document?.addEventListener("visibilitychange",()=>{U.document?.visibilityState==="hidden"&&(i(s.takeRecords()),r(!0))}),U?.setTimeout?.(r))}))};var Np=0,Au=1/0,Ns=0,fb=e=>{e.forEach(t=>{t.interactionId&&(Au=Math.min(Au,t.interactionId),Ns=Math.max(Ns,t.interactionId),Np=Ns?(Ns-Au)/7+1:0)})},ku,Nu=()=>ku?Np:performance.interactionCount||0,Mp=()=>{"interactionCount"in performance||ku||(ku=kt("event",fb,{type:"event",buffered:!0,durationThreshold:0}))};var Mu=10,Op=0,pb=()=>Nu()-Op,Ms=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Op=Nu(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let t=Math.min(this._longestInteractionList.length-1,Math.floor(pb()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;let n=this._longestInteractionList.at(-1),r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Mu||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,i)=>i._latency-o._latency),this._longestInteractionList.length>Mu){let o=this._longestInteractionList.splice(Mu);for(let i of o)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}};var Lr=e=>{let t=n=>{(n.type==="pagehide"||U.document?.visibilityState==="hidden")&&e(n)};U.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var Os=e=>{let t=U.requestIdleCallback||U.setTimeout;U.document?.visibilityState==="hidden"?e():(e=Mr(e),t(e),Lr(e))};var mb=[200,500],hb=40,Lp=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Cn(()=>{Mp();let n=Yt("INP"),r,o=Nr(t,Ms),i=a=>{Os(()=>{for(let u of a)o._processEntry(u);let c=o._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},s=kt("event",i,{durationThreshold:t.durationThreshold??hb});r=Vt(e,n,mb,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Lr(()=>{i(s.takeRecords()),r(!0)}))})};var Ls=class{_processEntry(t){this._onBeforeProcessingEntry?.(t)}};var gb=[2500,4e3],Dp=(e,t={})=>{Cn(()=>{let n=Or(),r=Yt("LCP"),o,i=Nr(t,Ls),s=c=>{t.reportAllChanges||(c=c.slice(-1));for(let u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-At(),0),r.entries=[u],o())},a=kt("largest-contentful-paint",s);if(a){o=Vt(e,r,gb,t.reportAllChanges);let c=Mr(()=>{s(a.takeRecords()),a.disconnect(),o(!0)});for(let u of["keydown","click","visibilitychange"])U.document&&addEventListener(u,()=>Os(c),{capture:!0,once:!0})}})};var _b=[800,1800],Ou=e=>{U.document?.prerendering?Cn(()=>Ou(e)):U.document?.readyState!=="complete"?addEventListener("load",()=>Ou(e),!0):setTimeout(e)},Pp=(e,t={})=>{let n=Yt("TTFB"),r=Vt(e,n,_b,t.reportAllChanges);Ou(()=>{let o=sn();o&&(n.value=Math.max(o.responseStart-At(),0),n.entries=[o],r(!0))})};var Yo={},Ds={},Fp,Up,Bp,Hp;function Jn(e,t=!1){return Ps("cls",e,Sb,Fp,t)}function Kn(e,t=!1){return Ps("lcp",e,yb,Up,t)}function Lu(e){return Ps("ttfb",e,Eb,Bp)}function Jo(e){return Ps("inp",e,bb,Hp)}function _t(e,t){return $p(e,t),Ds[e]||(Tb(e),Ds[e]=!0),Wp(e,t)}function Ko(e,t){let n=Yo[e];if(n?.length)for(let r of n)try{r(t)}catch(o){Ut&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${nt(r)}
Error:`,o)}}function Sb(){return kp(e=>{Ko("cls",{metric:e}),Fp=e},{reportAllChanges:!0})}function yb(){return Dp(e=>{Ko("lcp",{metric:e}),Up=e},{reportAllChanges:!0})}function Eb(){return Pp(e=>{Ko("ttfb",{metric:e}),Bp=e})}function bb(){return Lp(e=>{Ko("inp",{metric:e}),Hp=e})}function Ps(e,t,n,r,o=!1){$p(e,t);let i;return Ds[e]||(i=n(),Ds[e]=!0),r&&t({metric:r}),Wp(e,t,o?i:void 0)}function Tb(e){let t={};e==="event"&&(t.durationThreshold=0),kt(e,n=>{Ko(e,{entries:n})},t)}function $p(e,t){Yo[e]=Yo[e]||[],Yo[e].push(t)}function Wp(e,t,n){return()=>{n&&n();let r=Yo[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Gp(e){return"duration"in e}function Fs(e){return typeof e=="number"&&isFinite(e)}function an(e,t,n,{...r}){let o=D(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Tn(e,()=>{let i=st({startTime:t,...r});return i&&i.end(n),i})}function Dr(e){let t=E();if(!t)return;let{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=L(),p=l.getUser(),f=p!==void 0?p.email||p.id||p.ip_address:void 0,m;try{m=l.getScopeData().contexts.profile.profile_id}catch{}let _={release:s,environment:a,user:f||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":U.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return st({name:n,attributes:_,startTime:i,experimental:{standalone:!0}})}function cn(){return U.addEventListener&&U.performance}function fe(e){return e/1e3}function zp(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function Us(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Bs(e,t){let n,r=!1;function o(a){!r&&n&&t(a,n),r=!0}Lr(()=>{o("pagehide")});let i=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(o("navigation"),i(),s())}),s=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,s()})}function jp(e){let t=0,n;if(!Us("layout-shift"))return;let r=Jn(({metric:o})=>{let i=o.entries[o.entries.length-1];i&&(t=o.value,n=i)},!0);Bs(e,(o,i)=>{Ib(t,n,i,o),r()})}function Ib(e,t,n,r){Ut&&h.log(`Sending CLS span (${e})`);let o=t?fe((_e()||0)+t.startTime):te(),i=L().getScopeData().transactionName,s=t?Ce(t.sources[0]?.node):"Layout shift",a={[K]:"auto.http.browser.cls",[Se]:"ui.webvital.cls",[wt]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{a[`cls.source.${d+1}`]=Ce(u.node)});let c=Dr({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("cls",{[Gt]:"",[zt]:e}),c.end(o))}function qp(e){let t=0,n;if(!Us("largest-contentful-paint"))return;let r=Kn(({metric:o})=>{let i=o.entries[o.entries.length-1];i&&(t=o.value,n=i)},!0);Bs(e,(o,i)=>{vb(t,n,i,o),r()})}function vb(e,t,n,r){Ut&&h.log(`Sending LCP span (${e})`);let o=fe((_e()||0)+(t?.startTime||0)),i=L().getScopeData().transactionName,s=t?Ce(t.element):"Largest contentful paint",a={[K]:"auto.http.browser.lcp",[Se]:"ui.webvital.lcp",[wt]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Ce(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));let c=Dr({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("lcp",{[Gt]:"millisecond",[zt]:e}),c.end(o))}function Nt(e){return e&&((_e()||performance.timeOrigin)+e)/1e3}function Xo(e){let t={};if(e.nextHopProtocol!=null){let{name:n,version:r}=zp(e.nextHopProtocol);t["network.protocol.version"]=r,t["network.protocol.name"]=n}return _e()||cn()?.timeOrigin?wb({...t,"http.request.redirect_start":Nt(e.redirectStart),"http.request.redirect_end":Nt(e.redirectEnd),"http.request.worker_start":Nt(e.workerStart),"http.request.fetch_start":Nt(e.fetchStart),"http.request.domain_lookup_start":Nt(e.domainLookupStart),"http.request.domain_lookup_end":Nt(e.domainLookupEnd),"http.request.connect_start":Nt(e.connectStart),"http.request.secure_connection_start":Nt(e.secureConnectionStart),"http.request.connection_end":Nt(e.connectEnd),"http.request.request_start":Nt(e.requestStart),"http.request.response_start":Nt(e.responseStart),"http.request.response_end":Nt(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function wb(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}var Rb=2147483647,Vp=0,Bt={},at,$s;function Du({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){let r=cn();if(r&&_e()){r.mark&&U.performance.mark("sentry-tracing-init");let o=t?qp(n):Cb(),i=Ab(),s=e?jp(n):xb();return()=>{o?.(),i(),s?.()}}return()=>{}}function Pu(){_t("longtask",({entries:e})=>{let t=X();if(!t)return;let{op:n,start_timestamp:r}=D(t);for(let o of e){let i=fe(_e()+o.startTime),s=fe(o.duration);n==="navigation"&&r&&i<r||an(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[K]:"auto.ui.browser.metrics"}})}})}function Fu(){new PerformanceObserver(t=>{let n=X();if(n)for(let r of t.getEntries()){if(!r.scripts[0])continue;let o=fe(_e()+r.startTime),{start_timestamp:i,op:s}=D(n);if(s==="navigation"&&i&&o<i)continue;let a=fe(r.duration),c={[K]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:p,sourceFunctionName:f,sourceCharPosition:m}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,p&&(c["code.filepath"]=p),f&&(c["code.function"]=f),m!==-1&&(c["browser.script.source_char_position"]=m),an(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Uu(){_t("event",({entries:e})=>{let t=X();if(t){for(let n of e)if(n.name==="click"){let r=fe(_e()+n.startTime),o=fe(n.duration),i={name:Ce(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[K]:"auto.ui.browser.metrics"}},s=so(n.target);s&&(i.attributes["ui.component_name"]=s),an(t,r,r+o,i)}}})}function xb(){return Jn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Bt.cls={value:e.value,unit:""},$s=t)},!0)}function Cb(){return Kn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Bt.lcp={value:e.value,unit:"millisecond"},at=t)},!0)}function Ab(){return Lu(({metric:e})=>{e.entries[e.entries.length-1]&&(Bt.ttfb={value:e.value,unit:"millisecond"})})}function Bu(e,t){let n=cn(),r=_e();if(!n?.getEntries||!r)return;let o=fe(r),i=n.getEntries(),{op:s,start_timestamp:a}=D(e);i.slice(Vp).forEach(c=>{let u=fe(c.startTime),d=fe(Math.max(0,c.duration));if(!(s==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{Mb(e,c,o);break}case"mark":case"paint":case"measure":{kb(e,c,u,d,o,t.ignorePerformanceApiSpans);let l=Or(),p=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&p&&(Bt.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(Bt.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Db(e,c,c.name,u,d,o,t.ignoreResourceSpans);break}}}),Vp=Math.max(i.length-1,0),Pb(e),s==="pageload"&&(Bb(Bt),t.recordClsOnPageloadSpan||delete Bt.cls,t.recordLcpOnPageloadSpan||delete Bt.lcp,Object.entries(Bt).forEach(([c,u])=>{So(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",At()),Fb(e,t)),at=void 0,$s=void 0,Bt={}}function kb(e,t,n,r,o,i){if(["mark","measure"].includes(t.entryType)&&Pe(t.name,i))return;let s=sn(!1),a=fe(s?s.requestStart:0),c=o+Math.max(n,a),u=o+n,d=u+r,l={[K]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),Nb(l,t),c<=d&&an(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function Nb(e,t){try{let n=t.detail;if(!n)return;if(typeof n=="object"){for(let[r,o]of Object.entries(n))if(o&&bt(o))e[`sentry.browser.measure.detail.${r}`]=o;else if(o!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(o)}catch{}return}if(bt(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function Mb(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Hs(e,t,r,n)}),Hs(e,t,"secureConnection",n,"TLS/SSL"),Hs(e,t,"fetch",n,"cache"),Hs(e,t,"domainLookup",n,"DNS"),Lb(e,t,n)}function Hs(e,t,n,r,o=n){let i=Ob(n),s=t[i],a=t[`${n}Start`];!a||!s||an(e,r+fe(a),r+fe(s),{op:`browser.${o}`,name:t.name,attributes:{[K]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function Ob(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Lb(e,t,n){let r=n+fe(t.requestStart),o=n+fe(t.responseEnd),i=n+fe(t.responseStart);t.responseEnd&&(an(e,r,o,{op:"browser.request",name:t.name,attributes:{[K]:"auto.ui.browser.metrics"}}),an(e,i,o,{op:"browser.response",name:t.name,attributes:{[K]:"auto.ui.browser.metrics"}}))}function Db(e,t,n,r,o,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;let c={[K]:"auto.resource.browser.metrics"},u=Lt(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(U.location.origin),Ub(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);let d={...c,...Xo(t)},l=i+r,p=l+o;an(e,l,p,{name:n.replace(U.location.origin,""),op:a,attributes:d})}function Pb(e){let t=U.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Fs(n.rtt)&&(Bt["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Fs(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Fs(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Fb(e,t){at&&t.recordLcpOnPageloadSpan&&(at.element&&e.setAttribute("lcp.element",Ce(at.element)),at.id&&e.setAttribute("lcp.id",at.id),at.url&&e.setAttribute("lcp.url",at.url.trim().slice(0,200)),at.loadTime!=null&&e.setAttribute("lcp.loadTime",at.loadTime),at.renderTime!=null&&e.setAttribute("lcp.renderTime",at.renderTime),e.setAttribute("lcp.size",at.size)),$s?.sources&&t.recordClsOnPageloadSpan&&$s.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Ce(n.node)))}function Ub(e,t,n){n.forEach(([r,o])=>{let i=e[r];i!=null&&(typeof i=="number"&&i<Rb||typeof i=="string")&&(t[o]=i)})}function Bb(e){let t=sn(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Hu(){return cn()&&_e()?_t("element",Hb):()=>{}}var Hb=({entries:e})=>{let t=X(),n=t?re(t):void 0,r=n?D(n).description:L().getScopeData().transactionName;e.forEach(o=>{let i=o;if(!i.identifier)return;let s=i.name,a=i.renderTime,c=i.loadTime,[u,d]=c?[fe(c),"load-time"]:a?[fe(a),"render-time"]:[te(),"entry-emission"],l=s==="image-paint"?fe(Math.max(0,(a??0)-(c??0))):0,p={[K]:"auto.ui.browser.elementtiming",[Se]:"ui.elementtiming",[Ie]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":i.id,"element.type":i.element?.tagName?.toLowerCase()||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":s};bn({name:`element[${i.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},f=>{f.end(u+l)})})};var $b=1e3,Yp,$u,Wu;function Zo(e){$e("dom",e),We("dom",Wb)}function Wb(){if(!U.document)return;let e=xe.bind(null,"dom"),t=Jp(e,!0);U.document.addEventListener("click",t,!1),U.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let o=U[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(be(o,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){let l=Jp(e);d.handler=l,i.call(this,s,l,c)}d.refCount++}catch{}return i.call(this,s,a,c)}}),be(o,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,c)}}))})}function Gb(e){if(e.type!==$u)return!1;try{if(!e.target||e.target._sentryId!==Wu)return!1}catch{}return!0}function zb(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Jp(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=jb(n);if(zb(n.type,r))return;he(n,"_sentryCaptured",!0),r&&!r._sentryId&&he(r,"_sentryId",ge());let o=n.type==="keypress"?"input":n.type;Gb(n)||(e({event:n,name:o,global:t}),$u=n.type,Wu=r?r._sentryId:void 0),clearTimeout(Yp),Yp=U.setTimeout(()=>{Wu=void 0,$u=void 0},$b)}}function jb(e){try{return e.target}catch{return null}}var Ws;function un(e){let t="history";$e(t,e),We(t,qb)}function qb(){if(U.addEventListener("popstate",()=>{let t=U.location.href,n=Ws;if(Ws=t,n===t)return;xe("history",{from:n,to:t})}),!tu())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let o=Ws,i=Vb(String(r));if(Ws=i,o===i)return t.apply(this,n);xe("history",{from:o,to:i})}return t.apply(this,n)}}be(U.history,"pushState",e),be(U.history,"replaceState",e)}function Vb(e){try{return new URL(e,U.location.origin).toString()}catch{return e}}var Gs={};function Pr(e){let t=Gs[e];if(t)return t;let n=U[e];if(Ho(n))return Gs[e]=n.bind(U);let r=U.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){Ut&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(Gs[e]=n.bind(U))}function Gu(e){Gs[e]=void 0}function Xn(...e){return Pr("setTimeout")(...e)}var Ze="__sentry_xhr_v3__";function Zn(e){$e("xhr",e),We("xhr",Yb)}function Yb(){if(!U.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let o=new Error,i=te()*1e3,s=Oe(r[0])?r[0].toUpperCase():void 0,a=Jb(r[1]);if(!s||!a)return t.apply(n,r);n[Ze]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let c=()=>{let u=n[Ze];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}let d={endTimestamp:te()*1e3,startTimestamp:i,xhr:n,virtualError:o};xe("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){let[p,f]=l,m=d[Ze];return m&&Oe(p)&&Oe(f)&&(m.request_headers[p.toLowerCase()]=f),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let o=n[Ze];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);let i={startTimestamp:te()*1e3,xhr:n};return xe("xhr",i),t.apply(n,r)}})}function Jb(e){if(Oe(e))return e;try{return e.toString()}catch{}}function zs(e){return new URLSearchParams(e).toString()}function Qn(e,t=h){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[zs(e)];if(!e)return[void 0]}catch(n){return Ut&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Ut&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Fr(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var zu=[],js=new Map,Kb=60;function ju(){if(cn()&&_e()){let t=Xb();return()=>{t()}}return()=>{}}var Kp={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Xb(){return Jo(Zb)}var Zb=({metric:e})=>{if(e.value==null)return;let t=fe(e.value);if(t>Kb)return;let n=e.entries.find(m=>m.duration===e.value&&Kp[m.name]);if(!n)return;let{interactionId:r}=n,o=Kp[n.name],i=fe(_e()+n.startTime),s=X(),a=s?re(s):void 0,u=(r!=null?js.get(r):void 0)||a,d=u?D(u).description:L().getScopeData().transactionName,l=Ce(n.target),p={[K]:"auto.http.browser.inp",[Se]:`ui.interaction.${o}`,[wt]:n.duration},f=Dr({name:l,transaction:d,attributes:p,startTime:i});f&&(f.addEvent("inp",{[Gt]:"millisecond",[zt]:e.value}),f.end(i+t))};function qu(){let e=({entries:t})=>{let n=X(),r=n&&re(n);t.forEach(o=>{if(!Gp(o)||!r)return;let i=o.interactionId;if(i!=null&&!js.has(i)){if(zu.length>10){let s=zu.shift();js.delete(s)}zu.push(i),js.set(i,r)}})};_t("event",e),_t("first-input",e)}function Ur(e,t=Pr("fetch")){let n=0,r=0;async function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{let c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw Gu("fetch"),c}finally{n-=s,r--}}return Mo(e,o)}var Qb=10,eT=20,tT=30,nT=40,rT=50;function Br(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?"?":t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var oT=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,iT=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,sT=/\((\S*)(?::(\d+))(?::(\d+))\)/,aT=/at (.+?) ?\(data:(.+?),/,cT=e=>{let t=e.match(aT);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};let n=oT.exec(e);if(n){let[,o,i,s]=n;return Br(o,"?",+i,+s)}let r=iT.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){let a=sT.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}let[i,s]=em(r[1]||"?",r[2]);return Br(s,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Vu=[tT,cT],uT=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,lT=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,dT=e=>{let t=uT.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=lT.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||"?";return[o,r]=em(o,r),Br(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Yu=[rT,dT],fT=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,pT=e=>{let t=fT.exec(e);return t?Br(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0},Xp=[nT,pT],mT=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,hT=e=>{let t=mT.exec(e);return t?Br(t[2],t[3]||"?",+t[1]):void 0},Zp=[Qb,hT],gT=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,_T=e=>{let t=gT.exec(e);return t?Br(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0},Qp=[eT,_T],Ju=[Vu,Yu],qs=Si(...Ju),em=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function tm(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:it(r)}},i=ST(e);return Ue(o,[i])}function ST(e){return[{type:"user_report"},e]}var B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Vs=1024,yT="Breadcrumbs",ET=((e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:yT,setup(n){t.console&&Wn(IT(n)),t.dom&&Zo(TT(n,t.dom)),t.xhr&&Zn(vT(n)),t.fetch&&zn(wT(n)),t.history&&un(RT(n)),t.sentry&&n.on("beforeSendEvent",bT(n))}}}),Ys=ET;function bT(e){return function(n){E()===e&&Xe({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Wt(n)},{event:n})}}function TT(e,t){return function(r){if(E()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Vs&&(B&&h.warn(`\`dom.maxStringLength\` cannot exceed ${Vs}, but a value of ${a} was configured. Sentry will use ${Vs} instead.`),a=Vs),typeof s=="string"&&(s=[s]);try{let u=r.event,d=xT(u)?u.target:u;o=Ce(d,{keyAttrs:s,maxStringLength:a}),i=so(d)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),Xe(c,{event:r.event,name:r.name,global:r.global})}}function IT(e){return function(n){if(E()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:Gn(n.level),message:Ln(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Ln(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Xe(r,{input:n.args,level:n.level})}}function vT(e){return function(n){if(E()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Ze];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},p={category:"xhr",data:d,type:"http",level:ps(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,l),Xe(p,l)}}function wT(e){return function(n){if(E()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),Xe(a,s)}else{let i=n.response,s={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;let a={input:n.args,response:i,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:s,type:"http",level:ps(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Xe(c,a)}}}function RT(e){return function(n){if(E()!==e)return;let r=n.from,o=n.to,i=Lt(M.location.href),s=r?Lt(r):void 0,a=Lt(o);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),Xe({category:"navigation",data:{from:r,to:o}})}}function xT(e){return!!e&&!!e.target}var CT=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],AT="BrowserApiErrors",kT=((e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:AT,setupOnce(){t.setTimeout&&be(M,"setTimeout",nm),t.setInterval&&be(M,"setInterval",nm),t.requestAnimationFrame&&be(M,"requestAnimationFrame",NT),t.XMLHttpRequest&&"XMLHttpRequest"in M&&be(XMLHttpRequest.prototype,"send",MT);let n=t.eventTarget;n&&(Array.isArray(n)?n:CT).forEach(o=>OT(o,t))}}}),Js=kT;function nm(e){return function(...t){let n=t[0];return t[0]=Yn(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${nt(e)}`}}),e.apply(this,t)}}function NT(e){return function(t){return e.apply(this,[Yn(t,{mechanism:{data:{handler:nt(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function MT(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&be(n,o,function(i){let s={mechanism:{data:{handler:nt(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${o}`}},a=Dn(i);return a&&(s.mechanism.data.handler=nt(a)),Yn(i,s)})}),e.apply(this,t)}}function OT(e,t){let r=M[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(be(r,"addEventListener",function(o){return function(i,s,a){try{LT(s)&&(s.handleEvent=Yn(s.handleEvent,{mechanism:{data:{handler:nt(s),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&DT(this,i,s),o.apply(this,[i,Yn(s,{mechanism:{data:{handler:nt(s),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),be(r,"removeEventListener",function(o){return function(i,s,a){try{let c=s.__sentry_wrapped__;c&&o.call(this,i,c,a)}catch{}return o.call(this,i,s,a)}}))}function LT(e){return typeof e.handleEvent=="function"}function DT(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var Ks=()=>({name:"BrowserSession",setupOnce(){if(typeof M.document>"u"){B&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}_r({ignoreDuration:!0}),Sr(),un(({from:e,to:t})=>{e!==void 0&&e!==t&&(_r({ignoreDuration:!0}),Sr())})}});var PT="GlobalHandlers",FT=((e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:PT,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(UT(n),rm("onerror")),t.onunhandledrejection&&(BT(n),rm("onunhandledrejection"))}}}),Xs=FT;function UT(e){ro(t=>{let{stackParser:n,attachStacktrace:r}=om();if(E()!==e||Iu())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=WT(Cs(n,c||o,void 0,r,!1),i,s,a);u.level="error",rn(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function BT(e){oo(t=>{let{stackParser:n,attachStacktrace:r}=om();if(E()!==e||Iu())return;let o=HT(t),i=bt(o)?$T(o):Cs(n,o,void 0,r,!0);i.level="error",rn(i,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function HT(e){if(bt(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function $T(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function WT(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=GT(t)??Ke();return c.length===0&&c.push({colno:u,filename:l,function:"?",in_app:!0,lineno:d}),e}function rm(e){B&&h.log(`Global Handler attached: ${e}`)}function om(){return E()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function GT(e){if(!(!Oe(e)||e.length===0)){if(e.startsWith("data:")){let t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e.slice(0,1024)}}var Zs=()=>({name:"HttpContext",preprocessEvent(e){if(!M.navigator&&!M.location&&!M.document)return;let t=qo(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});var zT="cause",jT=5,qT="LinkedErrors",VT=((e={})=>{let t=e.limit||jT,n=e.key||zT;return{name:qT,preprocessEvent(r,o,i){let s=i.getOptions();Gc(Ar,s.stackParser,n,t,r,o)}}}),Qs=VT;function im(){return YT()?(B&&He(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function YT(){if(typeof M.window>"u")return!1;let e=M;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;let n=Ke(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(M===M.top&&r.some(i=>n.startsWith(`${i}://`)))}function Ku(e){return[Po(),Do(),Js(),Ys(),Xs(),Qs(),Fo(),Zs(),Ks()]}function sm(e={}){let t=!e.skipBrowserExtensionCheck&&im(),n={...e,enabled:t?!1:e.enabled,stackParser:La(e.stackParser||qs),integrations:wc({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Ku():e.defaultIntegrations}),transport:e.transport||Ur};return Nc(kr,n)}function am(){}function cm(e){e()}function um(e={}){let t=M.document,n=t?.head||t?.body;if(!n){B&&h.error("[showReportDialog] Global document not defined");return}let r=L(),i=E()?.getDsn();if(!i){B&&h.error("[showReportDialog] DSN not configured");return}let s={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||vo()},a=M.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=vc(i,s);let{onLoad:c,onClose:u}=s;if(c&&(a.onload=c),u){let d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{M.removeEventListener("message",d)}};M.addEventListener("message",d)}n.appendChild(a)}var JT=v,KT="ReportingObserver",lm=new WeakMap,XT=((e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(lm.has(E()))for(let o of r)ke(i=>{i.setExtra("url",o.url);let s=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(i.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}vn(`${s}: ${a}`)})}return{name:KT,setupOnce(){if(!nu())return;new JT.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){lm.set(r,!0)}}}),dm=XT;var ZT="HttpClient",QT=((e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:ZT,setup(n){aI(n,t),cI(n,t)}}}),pm=QT;function eI(e,t,n,r,o){if(hm(e,n.status,n.url)){let i=uI(t,r),s,a,c,u;_m()&&([s,c]=fm("Cookie",i),[a,u]=fm("Set-Cookie",n));let d=gm({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:a,requestCookies:c,responseCookies:u,error:o,type:"fetch"});rn(d)}}function fm(e,t){let n=rI(t.headers),r;try{let o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=mm(o))}catch{}return[n,r]}function tI(e,t,n,r,o){if(hm(e,t.status,t.responseURL)){let i,s,a;if(_m()){try{let u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(s=mm(u))}catch{}try{a=oI(t)}catch{}i=r}let c=gm({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:a,responseCookies:s,error:o,type:"xhr"});rn(c)}}function nI(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function mm(e){return e.split("; ").reduce((t,n)=>{let[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function rI(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function oI(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function iI(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function sI(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function aI(e,t){$o()&&zn(n=>{if(E()!==e)return;let{response:r,args:o,error:i,virtualError:s}=n,[a,c]=o;r&&eI(t,a,r,c,i||s)},!1)}function cI(e,t){"XMLHttpRequest"in v&&Zn(n=>{if(E()!==e)return;let{error:r,virtualError:o}=n,i=n.xhr,s=i[Ze];if(!s)return;let{method:a,request_headers:c}=s;try{tI(t,i,a,c,r||o)}catch(u){B&&h.warn("Error while extracting response event form XHR response",u)}})}function hm(e,t,n){return sI(e.failedRequestStatusCodes,t)&&iI(e.failedRequestTargets,n)&&!Lo(n,E())}function gm(e){let t=E(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,i={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:nI(e.responseHeaders)}}};return ze(i,{type:`auto.http.client.${e.type}`,handled:!1}),i}function uI(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function _m(){let e=E();return e?!!e.getOptions().sendDefaultPii:!1}var Xu=v,lI=7,dI="ContextLines",fI=((e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:lI;return{name:dI,processEvent(n){return pI(n,t)}}}),Sm=fI;function pI(e,t){let n=Xu.document,r=Xu.location&&Oo(Xu.location.href);if(!n||!r)return e;let o=e.exception?.values;if(!o?.length)return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>mI(u,s,r,t)))}),e}function mI(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Ga(t,e,r),e}var hI="GraphQLClient",gI=(e=>({name:hI,setup(t){_I(t,e),SI(t,e)}}));function _I(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let i=D(n).data||{};if(!(i[Se]==="http.client"))return;let c=i[Ya]||i["http.url"],u=i[Va]||i["http.method"];if(!Oe(c)||!Oe(u))return;let{endpoints:d}=t,l=Pe(c,d),p=Em(r);if(l&&p){let f=bm(p);if(f){let m=ym(f);n.updateName(`${u} ${c} (${m})`),n.setAttribute("graphql.document",p)}}})}function SI(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:o,type:i,data:s}=n;if(i==="http"&&(o==="fetch"||o==="xhr")){let d=s?.url,{endpoints:l}=t,p=Pe(d,l),f=Em(r);if(p&&s&&f){let m=bm(f);if(!s.graphql&&m){let _=ym(m);s["graphql.document"]=m.query,s["graphql.operation"]=_}}}})}function ym(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=yI(t);return r?`${o} ${r}`:`${o}`}function Em(e){let t="xhr"in e,n;if(t){let r=e.xhr[Ze];n=r&&Qn(r.body)[0]}else{let r=Fr(e.input);n=Qn(r)[0]}return n}function yI(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function bm(e){let t;try{let n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}var Tm=gI;var me=v,Rl="sentryReplaySession",EI="replay_event",xl="Unable to send Replay",bI=3e5,TI=9e5,II=5e3,vI=5500,wI=6e4,RI=5e3,xI=3,Im=15e4,ea=5e3,CI=3e3,AI=300,Cl=2e7,kI=4999,NI=15e3,vm=36e5,MI=Object.defineProperty,OI=(e,t,n)=>t in e?MI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wm=(e,t,n)=>OI(e,typeof t!="symbol"?t+"":t,n),Ae=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ae||{});function LI(e){return e.nodeType===e.ELEMENT_NODE}function ti(e){return e?.host?.shadowRoot===e}function ni(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function DI(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function PI(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function ia(e){try{let t=e.rules||e.cssRules;return t?DI(Array.from(t,Vm).join("")):null}catch{return null}}function FI(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function Vm(e){let t;if(BI(e))try{t=ia(e.styleSheet)||PI(e)}catch{}else if(HI(e)){let n=e.cssText,r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=FI(e)),r&&(n=UI(n)),r||o)return n}return t||e.cssText}function UI(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function BI(e){return"styleSheet"in e}function HI(e){return"selectorText"in e}var sa=class{constructor(){wm(this,"idNodeMap",new Map),wm(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function $I(){return new sa}function _a({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function oi({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Vr(e){return e.toLowerCase()}function rl(e){return e.toUpperCase()}var Rm="__rrweb_original__";function WI(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=Rm in i?i[Rm]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function Al(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Vr(t):null}function aa(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Ym(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}var xm={};function Jm(e){let t=xm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return xm[e]=r.bind(window)}function ol(...e){return Jm("setTimeout")(...e)}function Km(...e){return Jm("clearTimeout")(...e)}function Xm(e){try{return e.contentDocument}catch{}}var GI=1,zI=new RegExp("[^a-z0-9-_:]"),ii=-2;function kl(){return GI++}function jI(e){if(e instanceof HTMLFormElement)return"form";let t=Vr(e.tagName);return zI.test(t)?"div":t}function qI(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Hr,Cm,VI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,YI=/^(?:[a-z+]+:)?\/\//i,JI=/^www\..*/i,KI=/^(data:)([^,]*),(.*)/i;function ca(e,t){return(e||"").replace(VI,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if(YI.test(c)||JI.test(c))return`url(${u}${c}${u})`;if(KI.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${qI(t)+c}${u})`;let d=t.split("/"),l=c.split("/");d.pop();for(let p of l)p!=="."&&(p===".."?d.pop():d.push(p));return`url(${u}${d.join("/")}${u})`})}var XI=/^[^ \t\n\r\u000c]+/,ZI=/^[, \t\n\r\u000c]+/;function QI(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(ZI),!(n>=t.length);){let i=r(XI);if(i.slice(-1)===",")i=Gr(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=Gr(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}var Am=new WeakMap;function Gr(e,t){return!t||t.trim()===""?t:Sa(e,t)}function ev(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Sa(e,t){let n=Am.get(e);if(n||(n=e.createElement("a"),Am.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Zm(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Gr(e,r):n==="srcset"?QI(e,r):n==="style"?ca(r,Sa(e)):t==="object"&&n==="data"?Gr(e,r):typeof i=="function"?i(n,r,o):r)}function Qm(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function tv(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function nv(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function er(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:er(e.parentNode,t,n,r+1)}function zr(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(nv(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Yr(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=er(s,zr(r,o)),c<0)return!0;a=er(s,zr(t,n),c>=0?c:1/0)}else{if(a=er(s,zr(t,n)),a<0)return!1;c=er(s,zr(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function rv(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=ol(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{Km(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return ol(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function ov(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=ol(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Km(i),r=!0,t()})}function iv(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:m={},maskTextFn:_,maskInputFn:g,dataURLOptions:S={},inlineImages:b,recordCanvas:F,keepIframeSrcFn:x,newlyAddedElement:P=!1}=t,k=sv(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ae.Document,childNodes:[],compatMode:e.compatMode}:{type:Ae.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ae.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return cv(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:m,maskInputFn:g,dataURLOptions:S,inlineImages:b,recordCanvas:F,keepIframeSrcFn:x,newlyAddedElement:P,rootId:k,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p});case e.TEXT_NODE:return av(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,maskTextFn:_,maskInputOptions:m,maskInputFn:g,rootId:k});case e.CDATA_SECTION_NODE:return{type:Ae.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:Ae.Comment,textContent:e.textContent||"",rootId:k};default:return!1}}function sv(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function av(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName,p=e.textContent,f=l==="STYLE"?!0:void 0,m=l==="SCRIPT"?!0:void 0,_=l==="TEXTAREA"?!0:void 0;if(f&&p){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(p=ia(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}p=ca(p,Sa(t.doc))}m&&(p="SCRIPT_PLACEHOLDER");let g=Yr(e,r,i,o,s,n);if(!f&&!m&&!_&&p&&g&&(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),_&&p&&(c.textarea||g)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),l==="OPTION"&&p){let S=_a({type:null,tagName:l,maskInputOptions:c});p=oi({isMasked:Yr(e,r,i,o,s,S),element:e,value:p,maskInputFn:u})}return{type:Ae.Text,textContent:p||"",isStyle:f,rootId:d}}function cv(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:m=!1,rootId:_,maskTextClass:g,unmaskTextClass:S,maskTextSelector:b,unmaskTextSelector:F}=t,x=tv(e,r,o,i),P=jI(e),k={},I=e.attributes.length;for(let T=0;T<I;T++){let A=e.attributes[T];A.name&&!Qm(P,A.name,A.value)&&(k[A.name]=Zm(n,P,Vr(A.name),A.value,e,c))}if(P==="link"&&s){let T=Array.from(n.styleSheets).find(H=>H.href===e.href),A=null;T&&(A=ia(T)),A&&(k.rel=null,k.href=null,k.crossorigin=null,k._cssText=ca(A,T.href))}if(P==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let T=ia(e.sheet);T&&(k._cssText=ca(T,Sa(n)))}if(P==="input"||P==="textarea"||P==="select"||P==="option"){let T=e,A=Al(T),H=aa(T,rl(P),A),w=T.checked;if(A!=="submit"&&A!=="button"&&H){let O=Yr(T,g,b,S,F,_a({type:A,tagName:rl(P),maskInputOptions:a}));k.value=oi({isMasked:O,element:T,value:H,maskInputFn:u})}w&&(k.checked=w)}if(P==="option"&&(e.selected&&!a.select?k.selected=!0:delete k.selected),P==="canvas"&&p){if(e.__context==="2d")WI(e)||(k.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let T=e.toDataURL(d.type,d.quality),A=n.createElement("canvas");A.width=e.width,A.height=e.height;let H=A.toDataURL(d.type,d.quality);T!==H&&(k.rr_dataURL=T)}}if(P==="img"&&l){Hr||(Hr=n.createElement("canvas"),Cm=Hr.getContext("2d"));let T=e,A=T.currentSrc||T.getAttribute("src")||"<unknown-src>",H=T.crossOrigin,w=()=>{T.removeEventListener("load",w);try{Hr.width=T.naturalWidth,Hr.height=T.naturalHeight,Cm.drawImage(T,0,0),k.rr_dataURL=Hr.toDataURL(d.type,d.quality)}catch(O){if(T.crossOrigin!=="anonymous"){T.crossOrigin="anonymous",T.complete&&T.naturalWidth!==0?w():T.addEventListener("load",w);return}else console.warn(`Cannot inline img src=${A}! Error: ${O}`)}T.crossOrigin==="anonymous"&&(H?k.crossOrigin=H:T.removeAttribute("crossorigin"))};T.complete&&T.naturalWidth!==0?w():T.addEventListener("load",w)}if((P==="audio"||P==="video")&&(k.rr_mediaState=e.paused?"paused":"played",k.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(k.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(k.rr_scrollTop=e.scrollTop)),x){let{width:T,height:A}=e.getBoundingClientRect();k={class:k.class,rr_width:`${T}px`,rr_height:`${A}px`}}P==="iframe"&&!f(k.src)&&(!x&&!Xm(e)&&(k.rr_src=k.src),delete k.src);let C;try{customElements.get(P)&&(C=!0)}catch{}return{type:Ae.Element,tagName:P,attributes:k,childNodes:[],isSVG:ev(e)||void 0,needBlock:x,rootId:_,isCustom:C}}function pe(e){return e==null?"":e.toLowerCase()}function uv(e,t){if(t.comment&&e.type===Ae.Comment)return!0;if(e.type===Ae.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Ym(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(pe(e.attributes.name).match(/^msapplication-tile(image|color)$/)||pe(e.attributes.name)==="application-name"||pe(e.attributes.rel)==="icon"||pe(e.attributes.rel)==="apple-touch-icon"||pe(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&pe(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(pe(e.attributes.property).match(/^(og|twitter|fb):/)||pe(e.attributes.name).match(/^(og|twitter):/)||pe(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(pe(e.attributes.name)==="robots"||pe(e.attributes.name)==="googlebot"||pe(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(pe(e.attributes.name)==="author"||pe(e.attributes.name)==="generator"||pe(e.attributes.name)==="framework"||pe(e.attributes.name)==="publisher"||pe(e.attributes.name)==="progid"||pe(e.attributes.property).match(/^article:/)||pe(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(pe(e.attributes.name)==="google-site-verification"||pe(e.attributes.name)==="yandex-verification"||pe(e.attributes.name)==="csrf-token"||pe(e.attributes.name)==="p:domain_verify"||pe(e.attributes.name)==="verify-v1"||pe(e.attributes.name)==="verification"||pe(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function jr(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:m={},maskAttributeFn:_,maskTextFn:g,maskInputFn:S,slimDOMOptions:b,dataURLOptions:F={},inlineImages:x=!1,recordCanvas:P=!1,onSerialize:k,onIframeLoad:I,iframeLoadTimeout:C=5e3,onBlockedImageLoad:T,onStylesheetLoad:A,stylesheetLoadTimeout:H=5e3,keepIframeSrcFn:w=()=>!1,newlyAddedElement:O=!1}=t,{preserveWhiteSpace:q=!0}=t,J=iv(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:g,maskInputFn:S,dataURLOptions:F,inlineImages:x,recordCanvas:P,keepIframeSrcFn:w,newlyAddedElement:O});if(!J)return console.warn(e,"not serialized"),null;let ne;r.hasNode(e)?ne=r.getId(e):uv(J,b)||!q&&J.type===Ae.Text&&!J.isStyle&&!J.textContent.replace(/^\s+|\s+$/gm,"").length?ne=ii:ne=kl();let R=Object.assign(J,{id:ne});if(r.add(e,R),ne===ii)return null;k&&k(e);let z=!p;if(R.type===Ae.Element){z=z&&!R.needBlock;let N=e.shadowRoot;N&&ni(N)&&(R.isShadowHost=!0)}if((R.type===Ae.Document||R.type===Ae.Element)&&z){b.headWhitespace&&R.type===Ae.Element&&R.tagName==="head"&&(q=!1);let N={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:g,maskInputFn:S,slimDOMOptions:b,dataURLOptions:F,inlineImages:x,recordCanvas:P,preserveWhiteSpace:q,onSerialize:k,onIframeLoad:I,iframeLoadTimeout:C,onBlockedImageLoad:T,onStylesheetLoad:A,stylesheetLoadTimeout:H,keepIframeSrcFn:w},$=e.childNodes?Array.from(e.childNodes):[];for(let Z of $){let se=jr(Z,N);se&&R.childNodes.push(se)}if(LI(e)&&e.shadowRoot)for(let Z of Array.from(e.shadowRoot.childNodes)){let se=jr(Z,N);se&&(ni(e.shadowRoot)&&(se.isShadow=!0),R.childNodes.push(se))}}if(e.parentNode&&ti(e.parentNode)&&ni(e.parentNode)&&(R.isShadow=!0),R.type===Ae.Element&&R.tagName==="iframe"&&!R.needBlock&&rv(e,()=>{let N=Xm(e);if(N&&I){let $=jr(N,{doc:N,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:g,maskInputFn:S,slimDOMOptions:b,dataURLOptions:F,inlineImages:x,recordCanvas:P,preserveWhiteSpace:q,onSerialize:k,onIframeLoad:I,iframeLoadTimeout:C,onStylesheetLoad:A,stylesheetLoadTimeout:H,keepIframeSrcFn:w});$&&I(e,$)}},C),R.type===Ae.Element&&R.tagName==="img"&&!e.complete&&R.needBlock){let N=e,$=()=>{if(N.isConnected&&!N.complete&&T)try{let Z=N.getBoundingClientRect();Z.width>0&&Z.height>0&&T(N,R,Z)}catch{}N.removeEventListener("load",$)};N.isConnected&&N.addEventListener("load",$)}return R.type===Ae.Element&&R.tagName==="link"&&typeof R.attributes.rel=="string"&&(R.attributes.rel==="stylesheet"||R.attributes.rel==="preload"&&typeof R.attributes.href=="string"&&Ym(R.attributes.href)==="css")&&ov(e,()=>{if(A){let N=jr(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:g,maskInputFn:S,slimDOMOptions:b,dataURLOptions:F,inlineImages:x,recordCanvas:P,preserveWhiteSpace:q,onSerialize:k,onIframeLoad:I,iframeLoadTimeout:C,onStylesheetLoad:A,stylesheetLoadTimeout:H,keepIframeSrcFn:w});N&&A(e,N)}},H),R.type===Ae.Element&&delete R.needBlock,R}function lv(e,t){let{mirror:n=new sa,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:m=!1,maskAttributeFn:_,maskTextFn:g,maskInputFn:S,slimDOM:b=!1,dataURLOptions:F,preserveWhiteSpace:x,onSerialize:P,onIframeLoad:k,iframeLoadTimeout:I,onBlockedImageLoad:C,onStylesheetLoad:T,stylesheetLoadTimeout:A,keepIframeSrcFn:H=()=>!1}=t||{};return jr(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:_,maskTextFn:g,maskInputFn:S,slimDOMOptions:b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:b==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:b===!1?{}:b,dataURLOptions:F,inlineImages:p,recordCanvas:f,preserveWhiteSpace:x,onSerialize:P,onIframeLoad:k,iframeLoadTimeout:I,onBlockedImageLoad:C,onStylesheetLoad:T,stylesheetLoadTimeout:A,keepIframeSrcFn:H,newlyAddedElement:!1})}function et(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var $r=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,km={map:{},getId(){return console.error($r),-1},getNode(){return console.error($r),null},removeNodeFromMap(){console.error($r)},has(){return console.error($r),!1},reset(){console.error($r)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(km=new Proxy(km,{get(e,t,n){return t==="map"&&console.error($r),Reflect.get(e,t,n)}}));function si(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(gv(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=ya(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function eh(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){ya(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>eh(e,t,i||{},!0)}function Nl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var ua=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ua=()=>new Date().getTime());function th(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function nh(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function rh(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function oh(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function St(e,t,n,r,o){if(!e)return!1;let i=oh(e);if(!i)return!1;let s=zr(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=er(i,s),c=-1;return a<0?!1:(r&&(c=er(i,zr(null,r))),a>-1&&c<0?!0:a<c)}function dv(e,t){return t.getId(e)!==-1}function Zu(e,t){return t.getId(e)===ii}function ih(e,t){if(ti(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?ih(e.parentNode,t):!0:!0}function il(e){return!!e.changedTouches}function fv(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function sh(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function ah(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function sl(e){return!!e?.shadowRoot}var al=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function ch(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function pv(e){let t=e,n;for(;n=ch(t);)t=n;return t}function mv(e){let t=e.ownerDocument;if(!t)return!1;let n=pv(e);return t.contains(n)}function uh(e){let t=e.ownerDocument;return t?t.contains(e)||mv(e):!1}var Nm={};function Ml(e){let t=Nm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return Nm[e]=r.bind(window)}function hv(...e){return Ml("requestAnimationFrame")(...e)}function ya(...e){return Ml("setTimeout")(...e)}function gv(...e){return Ml("clearTimeout")(...e)}var Y=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Y||{}),j=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(j||{}),Qe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Qe||{}),ln=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(ln||{}),Wr=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Wr||{});function Ol(e){try{return e.contentDocument}catch{}}function _v(e){try{return e.contentWindow}catch{}}function Mm(e){return"__ln"in e}var cl=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Mm(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Mm(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},Om=(e,t)=>`${e}@${t}`,ul=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new cl,o=c=>{let u=c,d=ii;for(;d===ii;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!uh(c))return;let u=ti(c.parentNode)?this.mirror.getId(ch(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);let l=jr(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{sh(p,this.mirror)&&!St(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(p),ah(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),sl(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(p,f)=>{St(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(p,f),p.contentWindow&&this.canvasManager.addWindow(p.contentWindow),this.shadowDomManager.observeAttachShadow(p))},onStylesheetLoad:(p,f)=>{this.stylesheetManager.attachLinkElement(p,f)},onBlockedImageLoad:(p,f,{width:m,height:_})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:{style:{width:`${m}px`,height:`${_}px`}}}]})}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)Lm(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!Dm(this.droppedSet,c)&&!Lm(this.removes,c,this.mirror)||Dm(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),d=o(s.value);u!==-1&&d!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let d=u;if(u=u.previous,d){let l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{let f=d.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let m=f.parentNode.host;if(this.mirror.getId(m)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Zu(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!St(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Yr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,oh(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let s=Al(n),a=n.tagName;o=aa(n,a,s);let c=_a({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),u=Yr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=oi({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(St(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!Ol(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Qm(n.tagName,r)&&(i.attributes[r]=Zm(this.doc,Vr(n.tagName),Vr(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let a of Array.from(n.style)){let c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==s.style.getPropertyValue(a)||u!==s.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(let a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(St(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=ti(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);St(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Zu(n,this.mirror)||!dv(n,this.mirror)||(this.addedSet.has(n)?(ll(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||ih(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Om(r,o)]?ll(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:ti(t.target)&&ni(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Zu(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Om(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);St(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),sl(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function ll(e,t){e.delete(t),t.childNodes?.forEach(n=>ll(e,n))}function Lm(e,t,n){return e.length===0?!1:Sv(e,t,n)}function Sv(e,t,n){let r=t.parentNode;for(;r;){let o=n.getId(r);if(e.some(i=>i.id===o))return!0;r=r.parentNode}return!1}function Dm(e,t){return e.size===0?!1:lh(e,t)}function lh(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:lh(e,n):!1}var ri;function yv(e){ri=e}function Ev(){ri=void 0}var oe=e=>ri?(...n)=>{try{return e(...n)}catch(r){if(ri&&ri(r)===!0)return()=>{};throw r}}:e,qr=[];function di(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function dh(e,t){let n=new ul;qr.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);let i=new r(oe(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function bv({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=si(oe(l=>{let p=Date.now()-a;e(s.map(f=>(f.timeOffset-=p,f)),l),s=[],a=null}),i),u=oe(si(oe(l=>{let p=di(l),{clientX:f,clientY:m}=il(l)?l.changedTouches[0]:l;a||(a=ua()),s.push({x:f,y:m,id:r.getId(p),timeOffset:ua()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?j.Drag:l instanceof MouseEvent?j.MouseMove:j.TouchMove)}),o,{trailing:!1})),d=[et("mousemove",u,n),et("touchmove",u,n),et("drag",u,n)];return oe(()=>{d.forEach(l=>l())})}function Tv({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,d=l=>p=>{let f=di(p);if(St(f,r,o,i,!0))return;let m=null,_=l;if("pointerType"in p){switch(p.pointerType){case"mouse":m=ln.Mouse;break;case"touch":m=ln.Touch;break;case"pen":m=ln.Pen;break}m===ln.Touch?Qe[l]===Qe.MouseDown?_="TouchStart":Qe[l]===Qe.MouseUp&&(_="TouchEnd"):ln.Pen}else il(p)&&(m=ln.Touch);m!==null?(u=m,(_.startsWith("Touch")&&m===ln.Touch||_.startsWith("Mouse")&&m===ln.Mouse)&&(m=null)):Qe[l]===Qe.Click&&(m=u,u=null);let g=il(p)?p.changedTouches[0]:p;if(!g)return;let S=n.getId(f),{clientX:b,clientY:F}=g;oe(e)({type:Qe[_],id:S,x:b,y:F,...m!==null&&{pointerType:m}})};return Object.keys(Qe).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let p=Vr(l),f=d(l);if(window.PointerEvent)switch(Qe[l]){case Qe.MouseDown:case Qe.MouseUp:p=p.replace("mouse","pointer");break;case Qe.TouchStart:case Qe.TouchEnd:return}c.push(et(p,f,t))}),oe(()=>{c.forEach(l=>l())})}function fh({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=oe(si(oe(c=>{let u=di(c);if(!u||St(u,r,o,i,!0))return;let d=n.getId(u);if(u===t&&t.defaultView){let l=th(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return et("scroll",a,t)}function Iv({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=oe(si(oe(()=>{let i=nh(),s=rh();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return et("resize",o,t)}var vv=["INPUT","TEXTAREA","SELECT"],Pm=new WeakMap;function wv({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:_}){function g(I){let C=di(I),T=I.isTrusted,A=C&&rl(C.tagName);if(A==="OPTION"&&(C=C.parentElement),!C||!A||vv.indexOf(A)<0||St(C,r,o,i,!0))return;let H=C;if(H.classList.contains(s)||a&&H.matches(a))return;let w=Al(C),O=aa(H,A,w),q=!1,J=_a({maskInputOptions:c,tagName:A,type:w}),ne=Yr(C,p,m,f,_,J);(w==="radio"||w==="checkbox")&&(q=C.checked),O=oi({isMasked:ne,element:C,value:O,maskInputFn:u}),S(C,l?{text:O,isChecked:q,userTriggered:T}:{text:O,isChecked:q});let R=C.name;w==="radio"&&R&&q&&t.querySelectorAll(`input[type="radio"][name="${R}"]`).forEach(z=>{if(z!==C){let N=oi({isMasked:ne,element:z,value:aa(z,A,w),maskInputFn:u});S(z,l?{text:N,isChecked:!q,userTriggered:!1}:{text:N,isChecked:!q})}})}function S(I,C){let T=Pm.get(I);if(!T||T.text!==C.text||T.isChecked!==C.isChecked){Pm.set(I,C);let A=n.getId(I);oe(e)({...C,id:A})}}let F=(d.input==="last"?["change"]:["input","change"]).map(I=>et(I,oe(g),t)),x=t.defaultView;if(!x)return()=>{F.forEach(I=>I())};let P=x.Object.getOwnPropertyDescriptor(x.HTMLInputElement.prototype,"value"),k=[[x.HTMLInputElement.prototype,"value"],[x.HTMLInputElement.prototype,"checked"],[x.HTMLSelectElement.prototype,"value"],[x.HTMLTextAreaElement.prototype,"value"],[x.HTMLSelectElement.prototype,"selectedIndex"],[x.HTMLOptionElement.prototype,"selected"]];return P&&P.set&&F.push(...k.map(I=>eh(I[0],I[1],{set(){oe(g)({target:this,isTrusted:!1})}},!1,x))),oe(()=>{F.forEach(I=>I())})}function la(e){let t=[];function n(r,o){if(ta("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||ta("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||ta("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||ta("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function An(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function Rv({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:oe((d,l,p)=>{let[f,m]=p,{id:_,styleId:g}=An(l,t,n.styleMirror);return(_&&_!==-1||g&&g!==-1)&&e({id:_,styleId:g,adds:[{rule:f,index:m}]}),d.apply(l,p)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:oe((d,l,p)=>{let[f]=p,{id:m,styleId:_}=An(l,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,removes:[{index:f}]}),d.apply(l,p)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:oe((d,l,p)=>{let[f]=p,{id:m,styleId:_}=An(l,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,replace:f}),d.apply(l,p)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:oe((d,l,p)=>{let[f]=p,{id:m,styleId:_}=An(l,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,replaceSync:f}),d.apply(l,p)})}));let c={};na("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(na("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),na("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),na("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:oe((p,f,m)=>{let[_,g]=m,{id:S,styleId:b}=An(f.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||b&&b!==-1)&&e({id:S,styleId:b,adds:[{rule:_,index:[...la(f),g||0]}]}),p.apply(f,m)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:oe((p,f,m)=>{let[_]=m,{id:g,styleId:S}=An(f.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||S&&S!==-1)&&e({id:g,styleId:S,removes:[{index:[...la(f),_]}]}),p.apply(f,m)})})}),oe(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function ph({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,i=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return i.get?.call(this)},set(s){let a=i.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),oe(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function xv({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:oe((a,c,u)=>{let[d,l,p]=u;if(n.has(d))return i.apply(c,[d,l,p]);let{id:f,styleId:m}=An(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||m&&m!==-1)&&e({id:f,styleId:m,set:{property:d,value:l,priority:p},index:la(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:oe((a,c,u)=>{let[d]=u;if(n.has(d))return s.apply(c,[d]);let{id:l,styleId:p}=An(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||p&&p!==-1)&&e({id:l,styleId:p,remove:{property:d},index:la(c.parentRule)}),a.apply(c,u)})}),oe(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function Cv({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=oe(u=>si(oe(d=>{let l=di(d);if(!l||St(l,t,n,r,!0))return;let{currentTime:p,volume:f,muted:m,playbackRate:_}=l;e({type:u,id:o.getId(l),currentTime:p,volume:f,muted:m,playbackRate:_})}),i.media||500)),c=[et("play",a(Wr.Play),s),et("pause",a(Wr.Pause),s),et("seeked",a(Wr.Seeked),s),et("volumechange",a(Wr.VolumeChange),s),et("ratechange",a(Wr.RateChange),s)];return oe(()=>{c.forEach(u=>u())})}function Av({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){let l=new i(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};let s=Nl(t.fonts,"add",function(a){return function(c){return ya(oe(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),oe(()=>{r.forEach(a=>a())})}function kv(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=oe(()=>{let u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;let d=[],l=u.rangeCount||0;for(let p=0;p<l;p++){let f=u.getRangeAt(p),{startContainer:m,startOffset:_,endContainer:g,endOffset:S}=f;St(m,r,o,i,!0)||St(g,r,o,i,!0)||d.push({start:n.getId(m),startOffset:_,end:n.getId(g),endOffset:S})}s({ranges:d})});return c(),et("selectionchange",c)}function Nv({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:Nl(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function Mv(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=dh(e,e.doc));let o=bv(e),i=Tv(e),s=fh(e),a=Iv(e,{win:n}),c=wv(e),u=Cv(e),d=()=>{},l=()=>{},p=()=>{},f=()=>{};e.recordDOM&&(d=Rv(e,{win:n}),l=ph(e,e.doc),p=xv(e,{win:n}),e.collectFonts&&(f=Av(e)));let m=kv(e),_=Nv(e),g=[];for(let S of e.plugins)g.push(S.observer(S.callback,n,S.options));return oe(()=>{qr.forEach(S=>S.reset()),r?.disconnect(),o(),i(),s(),a(),c(),u(),d(),l(),p(),f(),m(),_(),g.forEach(S=>S())})}function ta(e){return typeof window[e]<"u"}function na(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var ai=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}},dl=class{constructor(){this.crossOriginIframeMirror=new ai(kl),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},fl=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ai(kl),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ai(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);let r=Ol(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case Y.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:Y.IncrementalSnapshot,data:{source:j.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Y.Meta:case Y.Load:case Y.DomContentLoaded:return!1;case Y.Plugin:return n;case Y.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Y.IncrementalSnapshot:switch(n.data.source){case j.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case j.Drag:case j.TouchMove:case j.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case j.ViewportResize:return!1;case j.MediaInteraction:case j.MouseInteraction:case j.Scroll:case j.CanvasMutation:case j.Input:return this.replaceIds(n.data,t,["id"]),n;case j.StyleSheetRule:case j.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case j.Font:return n;case j.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case j.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Ae.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},pl=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},ml=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!ni(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=dh({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(fh({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),ya(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(ph({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let n=Ol(t),r=_v(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(Nl(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&uh(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},Fm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ov=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Qo=0;Qo<Fm.length;Qo++)Ov[Fm.charCodeAt(Qo)]=Qo;var Qo,da=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},hl=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new al,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Vm(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},gl=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.active||(this.active=!0,hv(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}},ve,fa;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Ht=$I();function dn(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,maskAllInputs:_,maskInputOptions:g,slimDOMOptions:S,maskAttributeFn:b,maskInputFn:F,maskTextFn:x,maxCanvasSize:P=null,packFn:k,sampling:I={},dataURLOptions:C={},mousemoveWait:T,recordDOM:A=!0,recordCanvas:H=!1,recordCrossOriginIframes:w=!1,recordAfter:O=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:q=!1,collectFonts:J=!1,inlineImages:ne=!1,plugins:R,keepIframeSrcFn:z=()=>!1,ignoreCSSAttributes:N=new Set([]),errorHandler:$,onMutation:Z,getCanvasManager:se}=e;yv($);let we=w?window.parent===window:!0,ye=!1;if(!we)try{window.parent.document&&(ye=!1)}catch{ye=!0}if(we&&!t)throw new Error("emit function is required");if(!we&&!ye)return()=>{};T!==void 0&&I.mousemove===void 0&&(I.mousemove=T),Ht.reset();let fn=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:g!==void 0?g:{},Mt=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};fv();let yt,ct=0,pn=Q=>{for(let ut of R||[])ut.eventProcessor&&(Q=ut.eventProcessor(Q));return k&&!ye&&(Q=k(Q)),Q};ve=(Q,ut)=>{let ee=Q;if(ee.timestamp=ua(),qr[0]?.isFrozen()&&ee.type!==Y.FullSnapshot&&!(ee.type===Y.IncrementalSnapshot&&ee.data.source===j.Mutation)&&qr.forEach(De=>De.unfreeze()),we)t?.(pn(ee),ut);else if(ye){let De={type:"rrweb",event:pn(ee),origin:window.location.origin,isCheckout:ut};window.parent.postMessage(De,"*")}if(ee.type===Y.FullSnapshot)yt=ee,ct=0;else if(ee.type===Y.IncrementalSnapshot){if(ee.data.source===j.Mutation&&ee.data.isAttachIframe)return;ct++;let De=r&&ct>=r,ie=n&&yt&&ee.timestamp-yt.timestamp>n;(De||ie)&&$t(!0)}};let mn=Q=>{ve({type:Y.IncrementalSnapshot,data:{source:j.Mutation,...Q}})},eo=Q=>ve({type:Y.IncrementalSnapshot,data:{source:j.Scroll,...Q}}),gi=Q=>ve({type:Y.IncrementalSnapshot,data:{source:j.CanvasMutation,...Q}}),to=Q=>ve({type:Y.IncrementalSnapshot,data:{source:j.AdoptedStyleSheet,...Q}}),ae=new hl({mutationCb:mn,adoptedStyleSheetCb:to}),Ee=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new dl:new fl({mirror:Ht,mutationCb:mn,stylesheetManager:ae,recordCrossOriginIframes:w,wrappedEmit:ve});for(let Q of R||[])Q.getMirror&&Q.getMirror({nodeMirror:Ht,crossOriginIframeMirror:Ee.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ee.crossOriginIframeStyleMirror});let Et=new gl,Le=Dv(se,{mirror:Ht,win:window,mutationCb:Q=>ve({type:Y.IncrementalSnapshot,data:{source:j.CanvasMutation,...Q}}),recordCanvas:H,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:P,sampling:I.canvas,dataURLOptions:C,errorHandler:$}),Be=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new pl:new ml({mutationCb:mn,scrollCb:eo,bypassOptions:{onMutation:Z,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:fn,dataURLOptions:C,maskAttributeFn:b,maskTextFn:x,maskInputFn:F,recordCanvas:H,inlineImages:ne,sampling:I,slimDOMOptions:Mt,iframeManager:Ee,stylesheetManager:ae,canvasManager:Le,keepIframeSrcFn:z,processedNodeManager:Et},mirror:Ht}),$t=(Q=!1)=>{if(!A)return;ve({type:Y.Meta,data:{href:window.location.href,width:rh(),height:nh()}},Q),ae.reset(),Be.init(),qr.forEach(ee=>ee.lock());let ut=lv(document,{mirror:Ht,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskAllInputs:fn,maskAttributeFn:b,maskInputFn:F,maskTextFn:x,slimDOM:Mt,dataURLOptions:C,recordCanvas:H,inlineImages:ne,onSerialize:ee=>{sh(ee,Ht)&&Ee.addIframe(ee),ah(ee,Ht)&&ae.trackLinkElement(ee),sl(ee)&&Be.addShadowRoot(ee.shadowRoot,document)},onIframeLoad:(ee,De)=>{Ee.attachIframe(ee,De),ee.contentWindow&&Le.addWindow(ee.contentWindow),Be.observeAttachShadow(ee)},onStylesheetLoad:(ee,De)=>{ae.attachLinkElement(ee,De)},onBlockedImageLoad:(ee,De,{width:ie,height:no})=>{mn({adds:[],removes:[],texts:[],attributes:[{id:De.id,attributes:{style:{width:`${ie}px`,height:`${no}px`}}}]})},keepIframeSrcFn:z});if(!ut)return console.warn("Failed to snapshot the document");ve({type:Y.FullSnapshot,data:{node:ut,initialOffset:th(window)}}),qr.forEach(ee=>ee.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ae.adoptStyleSheets(document.adoptedStyleSheets,Ht.getId(document))};fa=$t;try{let Q=[],ut=De=>oe(Mv)({onMutation:Z,mutationCb:mn,mousemoveCb:(ie,no)=>ve({type:Y.IncrementalSnapshot,data:{source:no,positions:ie}}),mouseInteractionCb:ie=>ve({type:Y.IncrementalSnapshot,data:{source:j.MouseInteraction,...ie}}),scrollCb:eo,viewportResizeCb:ie=>ve({type:Y.IncrementalSnapshot,data:{source:j.ViewportResize,...ie}}),inputCb:ie=>ve({type:Y.IncrementalSnapshot,data:{source:j.Input,...ie}}),mediaInteractionCb:ie=>ve({type:Y.IncrementalSnapshot,data:{source:j.MediaInteraction,...ie}}),styleSheetRuleCb:ie=>ve({type:Y.IncrementalSnapshot,data:{source:j.StyleSheetRule,...ie}}),styleDeclarationCb:ie=>ve({type:Y.IncrementalSnapshot,data:{source:j.StyleDeclaration,...ie}}),canvasMutationCb:gi,fontCb:ie=>ve({type:Y.IncrementalSnapshot,data:{source:j.Font,...ie}}),selectionCb:ie=>{ve({type:Y.IncrementalSnapshot,data:{source:j.Selection,...ie}})},customElementCb:ie=>{ve({type:Y.IncrementalSnapshot,data:{source:j.CustomElement,...ie}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:fn,inlineStylesheet:m,sampling:I,recordDOM:A,recordCanvas:H,inlineImages:ne,userTriggeredOnInput:q,collectFonts:J,doc:De,maskAttributeFn:b,maskInputFn:F,maskTextFn:x,keepIframeSrcFn:z,blockSelector:i,unblockSelector:s,slimDOMOptions:Mt,dataURLOptions:C,mirror:Ht,iframeManager:Ee,stylesheetManager:ae,shadowDomManager:Be,processedNodeManager:Et,canvasManager:Le,ignoreCSSAttributes:N,plugins:R?.filter(ie=>ie.observer)?.map(ie=>({observer:ie.observer,options:ie.options,callback:no=>ve({type:Y.Plugin,data:{plugin:ie.name,payload:no}})}))||[]},{});Ee.addLoadListener(De=>{try{Q.push(ut(De.contentDocument))}catch(ie){console.warn(ie)}});let ee=()=>{$t(),Q.push(ut(document))};return document.readyState==="interactive"||document.readyState==="complete"?ee():(Q.push(et("DOMContentLoaded",()=>{ve({type:Y.DomContentLoaded,data:{}}),O==="DOMContentLoaded"&&ee()})),Q.push(et("load",()=>{ve({type:Y.Load,data:{}}),O==="load"&&ee()},window))),()=>{Q.forEach(De=>De()),Et.destroy(),fa=void 0,Ev()}}catch(Q){console.warn(Q)}}function Lv(e){if(!fa)throw new Error("please take full snapshot after start recording");fa(e)}dn.mirror=Ht;dn.takeFullSnapshot=Lv;function Dv(e,t){try{return e?e(t):new da}catch{return console.warn("Unable to initialize CanvasManager"),new da}}var Um;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Um||(Um={}));var Pv=3,Fv=5;function Ll(e){return e>9999999999?e:e*1e3}function Qu(e){return e>9999999999?e/1e3:e}function fi(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Y.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Me(t,10,1e3)}}),t.category==="console")))}var Uv="button,a";function mh(e){return e.closest(Uv)||e}function hh(e){let t=gh(e);return!t||!(t instanceof Element)?t:mh(t)}function gh(e){return Bv(e)?e.target:e}function Bv(e){return typeof e=="object"&&!!e&&"target"in e}var kn;function Hv(e){return kn||(kn=[],$v()),kn.push(e),()=>{let t=kn?kn.indexOf(e):-1;t>-1&&kn.splice(t,1)}}function $v(){be(me,"open",function(e){return function(...t){if(kn)try{kn.forEach(n=>n())}catch{}return e.apply(me,t)}})}var Wv=new Set([j.Mutation,j.StyleSheetRule,j.StyleDeclaration,j.AdoptedStyleSheet,j.CanvasMutation,j.Selection,j.MediaInteraction]);function Gv(e,t,n){e.handleClick(t,n)}var _l=class{constructor(t,n,r=fi){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=Hv(()=>{this._lastMutation=Bm()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(jv(n,this._ignoreSelector)||!qv(t))return;let r={timestamp:Qu(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Qu(t)}registerScroll(t=Date.now()){this._lastScroll=Qu(t)}registerClick(t){let n=mh(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=Bm();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:me.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,d);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:me.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Xn(()=>this._checkClicks(),1e3)}},zv=["A","BUTTON","INPUT"];function jv(e,t){return!!(!zv.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function qv(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Bm(){return Date.now()/1e3}function Vv(e,t){try{if(!Yv(t))return;let{source:n}=t.data;if(Wv.has(n)&&e.registerMutation(t.timestamp),n===j.Scroll&&e.registerScroll(t.timestamp),Jv(t)){let{type:r,id:o}=t.data,i=dn.mirror.getNode(o);i instanceof HTMLElement&&r===Qe.Click&&e.registerClick(i)}}catch{}}function Yv(e){return e.type===Pv}function Jv(e){return e.data.source===j.MouseInteraction}function Jt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Dl=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Dl||{}),Kv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Xv(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(Kv.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var Zv=e=>t=>{if(!e.isEnabled())return;let n=Qv(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&Gv(e.clickDetector,n,hh(t.event)),fi(e,n)};function _h(e,t){let n=dn.mirror.getId(e),r=n&&dn.mirror.getNode(n),o=r&&dn.mirror.getMeta(r),i=o&&t0(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===Dl.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:Xv(i.attributes)}}:{}}}function Qv(e){let{target:t,message:n}=e0(e);return Jt({category:`ui.${e.name}`,..._h(t,n)})}function e0(e){let t=e.name==="click",n,r=null;try{r=t?hh(e.event):gh(e.event),n=Ce(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function t0(e){return e.type===Dl.Element}function n0(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=r0(t);n&&fi(e,n)}function r0(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||o0(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=Ce(s,{maxStringLength:200})||"<unknown>",d=_h(s,u);return Jt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function o0(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var i0={resource:l0,paint:c0,navigation:u0};function el(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function s0(e){return e.map(a0).filter(Boolean)}function a0(e){let t=i0[e.entryType];return t?t(e):null}function Jr(e){return((_e()||me.performance.timeOrigin)+e)/1e3}function c0(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=Jr(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function u0(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:p,startTime:f,transferSize:m,type:_}=e;return o===0?null:{type:`${t}.${_}`,start:Jr(f),end:Jr(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:p}}}function l0(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Jr(i),end:Jr(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function d0(e){let t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return Pl(e,"largest-contentful-paint",n)}function f0(e){return e.sources!==void 0}function p0(e){let t=[],n=[];for(let r of e.entries)if(f0(r)){let o=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=dn.mirror.getId(i.node);s&&o.push(s)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return Pl(e,"cumulative-layout-shift",n,t)}function m0(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return Pl(e,"interaction-to-next-paint",n)}function Pl(e,t,n,r){let o=e.value,i=e.rating,s=Jr(o);return{type:"web-vital",name:t,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(a=>dn.mirror.getId(a)):void 0,attributions:r}}}function h0(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(_t(o,n))}),r.push(Kn(el(d0,e)),Jn(el(p0,e)),Jo(el(m0,e))),()=>{r.forEach(o=>o())}}var W=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,g0='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function _0(){let e=new Blob([g0]);return URL.createObjectURL(e)}var Hm=["log","warn","error"],oa="[Replay] ";function tl(e,t="info"){Xe({category:"console",data:{logger:"replay"},level:t,message:`${oa}${e}`},{level:t})}function S0(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return W?(Hm.forEach(r=>{n[r]=(...o)=>{h[r](oa,...o),t&&tl(o.join(""),Gn(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),h.error(oa,r),e?ht(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&tl(r,"error")},n.infoTick=(...r)=>{h.log(oa,...r),t&&setTimeout(()=>tl(r[0]),0)}):Hm.forEach(r=>{n[r]=()=>{}}),n}var G=S0(),ci=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Cl}.`)}},pa=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Cl)throw new ci;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?Ll(t):null}},Sl=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){W&&G.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){W&&G.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},yl=class{constructor(t){this._worker=new Sl(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=Ll(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Cl?Promise.reject(new ci):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{W&&G.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},El=class{constructor(t){this._fallback=new pa,this._compression=new yl(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){W&&G.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,o=[];for(let i of t)o.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(i){W&&G.exception(i,"Failed to add events when switching buffers.")}}};function y0({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=E0(t);if(n)return n}return W&&G.log("Using simple buffer"),new pa}function E0(e){try{let t=e||b0();if(!t)return;W&&G.log(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new El(n)}catch(t){W&&G.exception(t,"Failed to create compression worker")}}function b0(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?_0():""}function Fl(){try{return"sessionStorage"in me&&!!me.sessionStorage}catch{return!1}}function T0(e){I0(),e.session=void 0}function I0(){if(Fl())try{me.sessionStorage.removeItem(Rl)}catch{}}function Sh(e){return e===void 0?!1:Math.random()<e}function Ul(e){if(Fl())try{me.sessionStorage.setItem(Rl,JSON.stringify(e))}catch{}}function yh(e){let t=Date.now(),n=e.id||ge(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function v0(e,t){return Sh(e)?"session":t?"buffer":!1}function $m({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=v0(e,t),i=yh({sampled:o,previousSessionId:r});return n&&Ul(i),i}function w0(){if(!Fl())return null;try{let e=me.sessionStorage.getItem(Rl);if(!e)return null;let t=JSON.parse(e);return W&&G.infoTick("Loading existing session"),yh(t)}catch{return null}}function bl(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Eh(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return bl(e.started,t,r)||bl(e.lastActivity,n,r)}function bh(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Eh(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function nl({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let o=r.stickySession&&w0();return o?bh(o,{sessionIdleExpire:e,maxReplayDuration:t})?(W&&G.infoTick("Session in sessionStorage is expired, creating new one..."),$m(r,{previousSessionId:o.id})):o:(W&&G.infoTick("Creating new session"),$m(r,{previousSessionId:n}))}function R0(e){return e.type===Y.Custom}function Bl(e,t,n){return Ih(e,t)?(Th(e,t,n),!0):!1}function x0(e,t,n){return Ih(e,t)?Th(e,t,n):Promise.resolve(null)}async function Th(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=C0(t,i.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(i){let s=i&&i instanceof ci,a=s?"addEventSizeExceeded":"addEvent";if(s&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a});let c=E();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function Ih(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=Ll(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(W&&G.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function C0(e,t){try{if(typeof t=="function"&&R0(e))return t(e)}catch(n){return W&&G.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Hl(e){return!e.type}function Tl(e){return e.type==="transaction"}function A0(e){return e.type==="replay_event"}function Wm(e){return e.type==="feedback"}function k0(e){return(t,n)=>{if(!e.isEnabled()||!Hl(t)&&!Tl(t))return;let r=n.statusCode;if(!(!r||r<200||r>=300)){if(Tl(t)){N0(e,t);return}M0(e,t)}}}function N0(e,t){let n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function M0(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Xn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function O0(e){return t=>{!e.isEnabled()||!Hl(t)||L0(e,t)}}function L0(e,t){let n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=Jt({category:"replay.hydrate-error",data:{url:Ke()}});fi(e,r)}}function D0(e){let t=E();t&&t.on("beforeAddBreadcrumb",n=>P0(e,n))}function P0(e,t){if(!e.isEnabled()||!vh(t))return;let n=F0(t);n&&fi(e,n)}function F0(e){return!vh(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?U0(e):Jt(e)}function U0(e){let t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return Jt(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>ea?(n=!0,`${o.slice(0,ea)}\u2026`):o;if(typeof o=="object")try{let i=Me(o,7);return JSON.stringify(i).length>ea?(n=!0,`${JSON.stringify(i,null,2).slice(0,ea)}\u2026`):i}catch{}return o});return Jt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function vh(e){return!!e.category}function B0(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function wh(){let e=L().getPropagationContext().dsc;e&&delete e.replay_id;let t=X();if(t){let n=Re(t);delete n.replay_id}}function H0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function $0(e,t){return e.recordingMode!=="buffer"||t.message===xl||!t.exception||t.type?!1:Sh(e.getOptions().errorSampleRate)}function W0(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:A0(t)?(delete t.breadcrumbs,t):!Hl(t)&&!Tl(t)&&!Wm(t)?t:e.checkAndHandleExpiredSession()?Wm(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),H0(e,t),t):B0(t,n)&&!e.getOptions()._experiments.captureExceptions?(W&&G.log("Ignoring error from rrweb internals",t),null):(($0(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(wh(),t),{id:"Replay"})}function Ea(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:Y.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function G0(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function z0(e){return t=>{if(!e.isEnabled())return;let n=G0(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Ea(e,[n]),!1)))}}function j0(e,t){return W&&e.getOptions()._experiments.traceInternals?!1:Lo(t,E())}function Rh(e,t){e.isEnabled()&&t!==null&&(j0(e,t.name)||e.addUpdate(()=>(Ea(e,[t]),!0)))}function ba(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=zs(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function xh(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function ma(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Ch(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function ui(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Nn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=q0(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function Il(e,t){return Object.entries(e).reduce((n,[r,o])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function q0(e){if(!e||typeof e!="string")return{body:e};let t=e.length>Im,n=V0(e);if(t){let r=e.slice(0,Im);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function V0(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function ha(e,t){let n=Y0(e);return Pe(n,t)}function Y0(e,t=me.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(me.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function J0(e,t,n){try{let r=await X0(e,t,n),o=Ch("resource.fetch",r);Rh(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture fetch breadcrumb")}}function K0(e,t){let{input:n,response:r}=t,o=n?Fr(n):void 0,i=ba(o),s=r?xh(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}async function X0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=ha(s,n.networkDetailAllowUrls)&&!ha(s,n.networkDetailDenyUrls),p=l?Z0(n,t.input,u):ui(u),f=await Q0(l,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:p,response:f}}function Z0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?nw(n,t):{};if(!e)return Nn(o,r,void 0);let i=Fr(n),[s,a]=Qn(i,G),c=Nn(o,r,s);return a?ma(c,a):c}async function Q0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return ui(o);let i=r?Ah(r.headers,n):{};if(!r||!t&&o!==void 0)return Nn(i,o,void 0);let[s,a]=await tw(r),c=ew(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?ma(c,a):c}function ew(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let i=e?.length&&n===void 0?ba(e):n;return r?t?Nn(o,i,e):Nn(o,i,void 0):ui(i)}catch(i){return W&&G.exception(i,"Failed to serialize response body"),Nn(o,n,void 0)}}async function tw(e){let t=rw(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await ow(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(W&&G.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(W&&G.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function Ah(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function nw(e,t){return e.length===1&&typeof e[0]!="string"?Gm(e[0],t):e.length===2?Gm(e[1],t):{}}function Gm(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?Ah(n,t):Array.isArray(n)?{}:Il(n,t):{}}function rw(e){try{return e.clone()}catch(t){W&&G.exception(t,"Failed to clone response body")}}function ow(e){return new Promise((t,n)=>{let r=Xn(()=>n(new Error("Timeout while trying to read response body")),500);iw(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function iw(e){return await e.text()}async function sw(e,t,n){try{let r=cw(e,t,n),o=Ch("resource.xhr",r);Rh(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture xhr breadcrumb")}}function aw(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=ba(r),i=n.getResponseHeader("content-length")?xh(n.getResponseHeader("content-length")):fw(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function cw(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:p}=e.data;if(!c)return null;if(!a||!ha(c,n.networkDetailAllowUrls)||ha(c,n.networkDetailDenyUrls)){let k=ui(l),I=ui(p);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:k,response:I}}let f=a[Ze],m=f?Il(f.request_headers,n.networkRequestHeaders):{},_=Il(uw(a),n.networkResponseHeaders),[g,S]=n.networkCaptureBodies?Qn(s,G):[void 0],[b,F]=n.networkCaptureBodies?lw(a):[void 0],x=Nn(m,l,g),P=Nn(_,p,b);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:S?ma(x,S):x,response:F?ma(P,F):P}}function uw(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function lw(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return dw(e.response,e.responseType)}catch(n){t.push(n)}return W&&G.warn("Failed to get xhr response body",...t),[void 0]}function dw(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return W&&G.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return W&&G.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function fw(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ba(n)}catch{return}}function pw(e){let t=E();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>mw(a,c,u))}catch{}}function mw(e,t,n){if(t.data)try{hw(t)&&_w(n)&&(aw(t,n),sw(t,n,e)),gw(t)&&Sw(n)&&(K0(t,n),J0(t,n,e))}catch(r){W&&G.exception(r,"Error when enriching network breadcrumb")}}function hw(e){return e.category==="xhr"}function gw(e){return e.category==="fetch"}function _w(e){return e?.xhr}function Sw(e){return e?.response}function yw(e){let t=E();Zo(Zv(e)),un(z0(e)),D0(e),pw(e);let n=W0(e);Ro(n),t&&(t.on("beforeSendEvent",O0(e)),t.on("afterSendEvent",k0(e)),t.on("createDsc",r=>{let o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=o)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,o)=>{let i=e.getSessionId();o?.includeReplay&&e.isEnabled()&&i&&r.contexts?.feedback&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function Ew(e){try{return Promise.all(Ea(e,[bw(me.performance.memory)]))}catch{return[]}}function bw(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Tw(e,t,n){return $c(e,t,{...n,setTimeoutImpl:Xn})}var ra=v.navigator;function Iw(){return/iPhone|iPad|iPod/i.test(ra?.userAgent??"")||/Macintosh/i.test(ra?.userAgent??"")&&ra?.maxTouchPoints&&ra?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function vw(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){W&&G.warn("Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&Vv(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Bl(e,n,o))return!0;if(!o)return!1;let i=e.session;if(Rw(e,o),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(W&&G.log(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&Ul(i))}return i?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function ww(e){let t=e.getOptions();return{type:Y.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Rw(e,t){!t||!e.session||e.session.segmentId!==0||Bl(e,ww(e),!1)}function xw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Cw(e,t,n,r){return Ue(_o(e,mr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Aw({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function kw({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit("preprocessEvent",r,i);let s=await To(e.getOptions(),r,i,t,e,ce());if(!s)return null;e.emit("postprocessEvent",s,i),s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:c,version:u,settings:d}=a?.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:d},s}async function Nw({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=Aw({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=E(),p=L(),f=l?.getTransport(),m=l?.getDsn();if(!l||!f||!m||!i.sampled)return Promise.resolve({});let _={type:EI,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},g=await kw({scope:p,client:l,replayId:t,event:_});if(!g)return l.recordDroppedEvent("event_processor","replay"),W&&G.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete g.sdkProcessingMetadata;let S=Cw(g,s,m,l.getOptions().tunnel),b;try{b=await f.send(S)}catch(x){let P=new Error(xl);try{P.cause=x}catch{}throw P}if(typeof b.statusCode=="number"&&(b.statusCode<200||b.statusCode>=300))throw new ga(b.statusCode);let F=No({},b);if(ko(F,"replay"))throw new li(F);return b}var ga=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},li=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function kh(e,t={count:0,interval:RI}){let{recordingData:n,onError:r}=e;if(n.length)try{return await Nw(e),!0}catch(o){if(o instanceof ga||o instanceof li)throw o;if(Io("Replays",{_retryCount:t.count}),r&&r(o),t.count>=xI){let i=new Error(`${xl} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{Xn(async()=>{try{await kh(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var Nh="__THROTTLED",Mw="__SKIPPED";function Ow(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let d=s;return s=!0,d?Mw:Nh}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var vl=class{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:bI,sessionIdleExpire:TI},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Tw(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Ow((s,a)=>x0(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(CI,r),timeout:r,scrollTimeout:AI,ignoreSelector:o?o.join(","):""}:void 0;if(i&&(this.clickDetector=new _l(this,i)),W){let s=t._experiments;G.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}this._handleVisibilityChange=()=>{me.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let s=Jt({category:"ui.blur"});this._doChangeToBackgroundTasks(s)},this._handleWindowFocus=()=>{let s=Jt({category:"ui.focus"});this._doChangeToForegroundTasks(s)},this._handleKeyboardEvent=s=>{n0(this,s)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){W&&G.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){W&&G.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",W&&G.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){W&&G.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){W&&G.log("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=nl({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){W&&G.log("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in buffer mode");let t=nl({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=dn({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:wI}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:vw(this),...Iw(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{W&&G.log(`Stopping Replay${n?` triggered by ${n}`:""}`),wh(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,T0(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),W&&G.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),W&&G.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();W&&G.log("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){if(!(t&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&bl(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${me.location.pathname}${me.location.hash}${me.location.search}`,n=`${me.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===Nh){let o=Jt({category:"replay.throttled"});this.addUpdate(()=>!Bl(this,{type:Fv,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||X(),n=t&&re(t),o=(n&&D(n).data||{})[Ie];if(!(!n||!o||!["route","custom"].includes(o)))return D(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=y0({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=nl({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return bh(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{me.document.addEventListener("visibilitychange",this._handleVisibilityChange),me.addEventListener("blur",this._handleWindowBlur),me.addEventListener("focus",this._handleWindowFocus),me.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(yw(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=h0(this)}_removeListeners(){try{me.document.removeEventListener("visibilitychange",this._handleVisibilityChange),me.removeEventListener("blur",this._handleWindowBlur),me.removeEventListener("focus",this._handleWindowFocus),me.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||Eh(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){W&&G.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=s0(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Ea(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){W&&G.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await Ew(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await kh({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=E();if(r){let o=n instanceof li?"ratelimit_backoff":"send_error";r.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){W&&G.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){W&&G.log(`Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}let a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&W&&G.log("Flushing initial segment without checkout.");let c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ul(this.session)}_onMutationHandler(t){let{ignoreMutations:n}=this._options._experiments;if(n?.length&&t.some(a=>{let c=xw(a.target),u=n.join(",");return c?.matches(u)}))return!1;let r=t.length,o=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=o&&r>o;if(r>i||s){let a=Jt({category:"replay.mutations",data:{count:r,limit:s}});this._createCustomBreadcrumb(a)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function ei(e,t){return[...e,...t].join(",")}function Lw({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let i=["base","iframe[srcdoc]:not([src])"],s=ei(e,[".sentry-mask","[data-sentry-mask]"]),a=ei(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:ei(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:ei(r,[]),ignoreSelector:ei(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Dw({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var zm='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Pw=["content-length","content-type","accept"],jm=!1,Mh=(e=>new wl(e)),wl=class{constructor({flushMinDelay:t=II,flushMaxDelay:n=vI,minReplayDuration:r=kI,maxReplayDuration:o=vm,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:_=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:S=[],networkCaptureBodies:b=!0,networkRequestHeaders:F=[],networkResponseHeaders:x=[],mask:P=[],maskAttributes:k=["title","placeholder","aria-label"],unmask:I=[],block:C=[],unblock:T=[],ignore:A=[],maskFn:H,beforeAddRecordingEvent:w,beforeErrorSampling:O,onError:q}={}){this.name="Replay";let J=Lw({mask:P,unmask:I,block:C,unblock:T,ignore:A});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:H,maskInputFn:H,maskAttributeFn:(ne,R,z)=>Dw({maskAttributes:k,maskAllText:u,privacyOptions:J,key:ne,value:R,el:z}),...J,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:ne=>{try{ne.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,NI),maxReplayDuration:Math.min(o,vm),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:m,slowClickIgnoreSelectors:_,networkDetailAllowUrls:g,networkDetailDenyUrls:S,networkCaptureBodies:b,networkRequestHeaders:qm(F),networkResponseHeaders:qm(x),beforeAddRecordingEvent:w,beforeErrorSampling:O,onError:q,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${zm}`:zm),this._isInitialized&&vr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return jm}set _isInitialized(t){jm=t}afterAllSetup(t){!vr()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){if(this._replay?.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=Fw(this._initialOptions,t);this._replay=new vl({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};function Fw(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=ft(n.replaysSessionSampleRate),i=ft(n.replaysOnErrorSampleRate);return o==null&&i==null&&He(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function qm(e){return[...Pw,...e.map(t=>t.toLowerCase())]}function Oh(){return E()?.getIntegrationByName("Replay")}var Uw=Object.defineProperty,Bw=(e,t,n)=>t in e?Uw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lh=(e,t,n)=>Bw(e,typeof t!="symbol"?t+"":t,n),Wl=class{constructor(){Lh(this,"idNodeMap",new Map),Lh(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Hw(){return new Wl}function $w(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Gl(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Gl(e.parentNode,t,n,r+1)}function Dh(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if($w(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var Kr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Ph={map:{},getId(){return console.error(Kr),-1},getNode(){return console.error(Kr),null},removeNodeFromMap(){console.error(Kr)},has(){return console.error(Kr),!1},reset(){console.error(Kr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ph=new Proxy(Ph,{get(e,t,n){return t==="map"&&console.error(Kr),Reflect.get(e,t,n)}}));function jl(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){zh(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>jl(e,t,i||{},!0)}function ql(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function Ww(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function wa(e,t,n,r,o){if(!e)return!1;let i=Ww(e);if(!i)return!1;let s=Dh(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Gl(i,s),c=-1;return a<0?!1:(r&&(c=Gl(i,Dh(null,r))),a>-1&&c<0?!0:a<c)}var Fh={};function Gh(e){let t=Fh[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return Fh[e]=r.bind(window)}function tr(...e){return Gh("requestAnimationFrame")(...e)}function zh(...e){return Gh("setTimeout")(...e)}var Zr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Zr||{}),Ia;function Gw(e){Ia=e}var $l=e=>Ia?(...n)=>{try{return e(...n)}catch(r){if(Ia&&Ia(r)===!0)return()=>{};throw r}}:e,Xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(pi=0;pi<Xr.length;pi++)zw[Xr.charCodeAt(pi)]=pi;var pi,jw=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=Xr[t[n]>>2],o+=Xr[(t[n]&3)<<4|t[n+1]>>4],o+=Xr[(t[n+1]&15)<<2|t[n+2]>>6],o+=Xr[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Uh=new Map;function qw(e,t){let n=Uh.get(e);return n||(n=new Map,Uh.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var jh=(e,t,n)=>{if(!e||!(Vh(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=qw(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function va(e,t,n){if(e instanceof Array)return e.map(r=>va(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=jw(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[va(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[va(e.data,t,n),e.width,e.height]};if(Vh(e,t)||typeof e=="object"){let r=e.constructor.name,o=jh(e,t,n);return{rr_type:r,index:o}}}}return e}var qh=(e,t,n)=>e.map(r=>va(r,t,n)),Vh=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function Vw(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=ql(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return wa(this.canvas,n,r,o,!0)||zh(()=>{let l=qh(d,t,this);e(this.canvas,{type:Zr["2D"],property:a,args:l})},0),u.apply(this,d)}});i.push(c)}catch{let c=jl(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Zr["2D"],property:a,args:[u],setter:!0})}});i.push(c)}return()=>{i.forEach(a=>a())}}function Yw(e){return e==="experimental-webgl"?"webgl":e}function Bh(e,t,n,r,o){let i=[];try{let s=ql(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!wa(this,t,n,r,!0)){let d=Yw(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){let l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Hh(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let l=ql(e,d,function(p){return function(...f){let m=p.apply(this,f);if(jh(m,a,this),"tagName"in this.canvas&&!wa(this.canvas,r,o,i,!0)){let _=qh(f,a,this),g={type:t,property:d,args:_};n(this.canvas,g)}return m}});c.push(l)}catch{let l=jl(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(l)}return c}function Jw(e,t,n,r,o,i){let s=[];return s.push(...Hh(t.WebGLRenderingContext.prototype,Zr.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Hh(t.WebGL2RenderingContext.prototype,Zr.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var Kw='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function Xw(){let e=new Blob([Kw]);return URL.createObjectURL(e)}var zl=class{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(a,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(c)};let{enableManualSnapshot:n,sampling:r="all",win:o,recordCanvas:i,errorHandler:s}=t;t.sampling=r,this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,s&&Gw(s),(i&&typeof r=="number"||n)&&(this.worker=this.initFPSWorker()),this.addWindow(o),!n&&$l(()=>{i&&r==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),i&&typeof r=="number"&&this.initCanvasFPSObserver()})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){let{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:i,recordCanvas:s,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}$l(()=>{if(s&&n==="all"&&this.initCanvasMutationObserver(t,r,o,i),s&&typeof n=="number"){let c=Bh(t,r,o,i,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(t,n){if(n?.skipRequestAnimationFrame){this.takeSnapshot(performance.now(),!0,t);return}tr(r=>this.takeSnapshot(r,!0,t))}initFPSWorker(){let t=new Worker(Xw());return t.onmessage=n=>{let r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;let{base64:i,type:s,width:a,height:c}=r;this.mutationCb({id:o,type:Zr["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:s}]},0,0,a,c]}]})},t}initCanvasFPSObserver(){let t;if(!this.windows.length&&!this.shadowDoms.size)return;let n=r=>{this.takeSnapshot(r,!1),t=tr(n)};t=tr(n),this.restoreHandlers.push(()=>{t&&cancelAnimationFrame(t)})}initCanvasMutationObserver(t,n,r,o){let i=Bh(t,n,r,o,!1),s=Vw(this.processMutation.bind(this),t,n,r,o),a=Jw(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{i(),s(),a()})}getCanvasElements(t,n,r){let o=[],i=s=>{s.querySelectorAll("canvas").forEach(a=>{wa(a,t,n,r,!0)||o.push(a)})};for(let s of this.windows){let a=s.deref(),c;try{c=a&&a.document}catch{}c&&i(c)}for(let s of this.shadowDoms){let a=s.deref();a&&i(a)}return o}takeSnapshot(t,n,r){let{sampling:o,blockClass:i,blockSelector:s,unblockSelector:a,dataURLOptions:c,maxCanvasSize:u}=this.options,l=1e3/(o==="all"?2:o||2);return this.lastSnapshotTime&&t-this.lastSnapshotTime<l?!1:(this.lastSnapshotTime=t,(r?[r]:this.getCanvasElements(i,s,a)).forEach(m=>{let _=this.mirror.getId(m);if(!(!this.mirror.hasNode(m)||!m.width||!m.height||this.snapshotInProgressMap.get(_))){if(this.snapshotInProgressMap.set(_,!0),!n&&["webgl","webgl2"].includes(m.__context)){let g=m.getContext(m.__context);g?.getContextAttributes()?.preserveDrawingBuffer===!1&&g.clear(g.COLOR_BUFFER_BIT)}createImageBitmap(m).then(g=>{this.worker?.postMessage({id:_,bitmap:g,width:m.width,height:m.height,dataURLOptions:c,maxCanvasSize:u},[g])}).catch(g=>{$l(()=>{throw this.snapshotInProgressMap.delete(_),g})()})}}),!0)}startPendingCanvasMutationFlusher(){tr(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,tr(t)};tr(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),tr(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}};try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}Hw();var $h;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})($h||($h={}));var Wh={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Zw="ReplayCanvas",Ta=1280,Qw=((e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Ta):Ta,n?Math.min(n,Ta):Ta]},o,i=new Promise(s=>o=s);return{name:Zw,getOptions(){let{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{let d=new zl({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},...Wh[s]||Wh.medium}},async snapshot(s,a){(await i).snapshot(s,a)}}}),Yh=Qw;var Jh=new WeakMap,Vl=new Map,mi={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Ra(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...mi,...t},u=typeof i=="function"?i:f=>!0,d=f=>tR(f,a),l={},p=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(m=>{if(m.op==="http.client"){let _=Vl.get(m.span_id);_&&(m.timestamp=_/1e3,Vl.delete(m.span_id))}}),f)),o&&ou(f=>{if(f.response){let m=Jh.get(f.response);m&&f.endTimestamp&&Vl.set(m,f.endTimestamp)}}),zn(f=>{let m=Zc(f,u,d,l,{propagateTraceparent:p});if(f.response&&f.fetchData.__span&&Jh.set(f.response,f.fetchData.__span),m){let _=Xh(f.fetchData.url),g=_?Lt(_).host:void 0;m.setAttributes({"http.url":_,"server.address":g}),s&&Kh(m),c?.(m,{headers:f.headers})}})),r&&Zn(f=>{let m=nR(f,u,d,l,p);if(m){s&&Kh(m);let _;try{_=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(m,{headers:_})}})}function eR(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Kh(e){let{url:t}=D(e).data;if(!t||typeof t!="string")return;let n=_t("resource",({entries:r})=>{r.forEach(o=>{eR(o)&&o.name.endsWith(t)&&(e.setAttributes(Xo(o)),setTimeout(n))})})}function tR(e,t){let n=Ke();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?Pe(r.toString(),t)||i&&Pe(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?Pe(e,t):r}}function nR(e,t,n,r,o){let i=e.xhr,s=i?.[Ze];if(!i||i.__sentry_own_request__||!s)return;let{url:a,method:c}=s,u=Ne()&&t(a);if(e.endTimestamp&&u){let g=i.__sentry_xhr_span_id__;if(!g)return;let S=r[g];S&&s.status_code!==void 0&&(jt(S,s.status_code),S.end(),delete r[g]);return}let d=Xh(a),l=d?Lt(d):Lt(a),p=Oo(a),f=!!X(),m=u&&f?st({name:`${c} ${p}`,attributes:{url:a,type:"xhr","http.method":c,"http.url":d,"server.address":l?.host,[K]:"auto.http.browser",[Se]:"http.client",...l?.search&&{"http.query":l?.search},...l?.hash&&{"http.fragment":l?.hash}}}):new Ve;i.__sentry_xhr_span_id__=m.spanContext().spanId,r[i.__sentry_xhr_span_id__]=m,n(a)&&rR(i,Ne()&&f?m:void 0,o);let _=E();return _&&_.emit("beforeOutgoingRequestSpan",m,e),m}function rR(e,t,n){let{"sentry-trace":r,baggage:o,traceparent:i}=$n({span:t,propagateTraceparent:n});r&&oR(e,r,o,i)}function oR(e,t,n,r){let o=e.__sentry_xhr_v3__?.request_headers;if(!(o?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!o?.traceparent&&e.setRequestHeader("traceparent",r),n){let i=o?.baggage;(!i||!iR(i))&&e.setRequestHeader("baggage",n)}}catch{}}function iR(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Xh(e){try{return new URL(e,M.location.origin).href}catch{return}}function Zh(){M.document?M.document.addEventListener("visibilitychange",()=>{let e=X();if(!e)return;let t=re(e);if(M.document.hidden&&t){let n="cancelled",{op:r,status:o}=D(t);B&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):B&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var sR=3600,Qh="sentry_previous_trace",aR="sentry.previous_trace";function eg(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",o=r?lR():void 0;e.on("spanStart",s=>{if(re(s)!==s)return;let a=L().getPropagationContext();o=cR(o,s,a),r&&uR(o)});let i=!0;n&&e.on("beforeSampling",s=>{if(!o)return;let a=L(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(Yl(o.spanContext))},sampleRand:o.sampleRand}),s.parentSampled=Yl(o.spanContext),s.parentSampleRate=o.sampleRate,s.spanAttributes={...s.spanAttributes,[co]:o.sampleRate}})}function cR(e,t,n){let r=D(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[en])}catch{return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=sR&&(B&&h.log(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[Ja]:"previous_trace"}}),t.setAttribute(aR,`${s.traceId}-${s.spanId}-${Yl(s)?1:0}`)),i)}function uR(e){try{M.sessionStorage.setItem(Qh,JSON.stringify(e))}catch(t){B&&h.warn("Could not store previous trace in sessionStorage",t)}}function lR(){try{let e=M.sessionStorage?.getItem(Qh);return JSON.parse(e)}catch{return}}function Yl(e){return e.traceFlags===1}var dR="BrowserTracing",fR={...hr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...mi},og=((e={})=>{let t={name:void 0,source:void 0},n=M.document,{enableInp:r,enableElementTiming:o,enableLongTask:i,enableLongAnimationFrame:s,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:p,childSpanTimeout:f,markBackgroundSpan:m,traceFetch:_,traceXHR:g,trackFetchStreamPerformance:S,shouldCreateSpanForRequest:b,enableHTTPTimings:F,ignoreResourceSpans:x,ignorePerformanceApiSpans:P,instrumentPageLoad:k,instrumentNavigation:I,detectRedirects:C,linkPreviousTrace:T,consistentTraceSampling:A,enableReportPageLoaded:H,onRequestSpanStart:w}={...fR,...e},O,q,J;function ne(R,z,N=!0){let $=z.op==="pageload",Z=z.name,se=d?d(z):z,we=se.attributes||{};if(Z!==se.name&&(we[Ie]="custom",se.attributes=we),!N){let Mt=dt();st({...se,startTime:Mt}).end(Mt);return}t.name=se.name,t.source=we[Ie];let ye=Vi(se,{idleTimeout:l,finalTimeout:p,childSpanTimeout:f,disableAutoFinish:$,beforeSpanEnd:Mt=>{O?.(),Bu(Mt,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:x,ignorePerformanceApiSpans:P}),ng(R,void 0);let yt=L(),ct=yt.getPropagationContext();yt.setPropagationContext({...ct,traceId:ye.spanContext().traceId,sampled:pt(ye),dsc:Re(Mt)}),$&&(J=void 0)},trimIdleSpanEndTimestamp:!H});$&&H&&(J=ye),ng(R,ye);function fn(){n&&["interactive","complete"].includes(n.readyState)&&R.emit("idleSpanEnableAutoFinish",ye)}$&&!H&&n&&(n.addEventListener("readystatechange",()=>{fn()}),fn())}return{name:dR,setup(R){if(go(),O=Du({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:R}),r&&ju(),o&&Hu(),s&&v.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Fu():i&&Pu(),a&&Uu(),C&&n){let N=()=>{q=te()};addEventListener("click",N,{capture:!0}),addEventListener("keydown",N,{capture:!0,passive:!0})}function z(){let N=hi(R);N&&!D(N).timestamp&&(B&&h.log(`[Tracing] Finishing current active span with op: ${D(N).op}`),N.setAttribute(Sn,"cancelled"),N.end())}R.on("startNavigationSpan",(N,$)=>{if(E()!==R)return;if($?.isRedirect){B&&h.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),ne(R,{op:"navigation.redirect",...N},!1);return}q=void 0,z(),ce().setPropagationContext({traceId:Fe(),sampleRand:Math.random(),propagationSpanId:Ne()?void 0:je()});let Z=L();Z.setPropagationContext({traceId:Fe(),sampleRand:Math.random(),propagationSpanId:Ne()?void 0:je()}),Z.setSDKProcessingMetadata({normalizedRequest:void 0}),ne(R,{op:"navigation",...N,parentSpan:null,forceTransaction:!0})}),R.on("startPageLoadSpan",(N,$={})=>{if(E()!==R)return;z();let Z=$.sentryTrace||tg("sentry-trace"),se=$.baggage||tg("baggage"),we=lo(Z,se),ye=L();ye.setPropagationContext(we),Ne()||(ye.getPropagationContext().propagationSpanId=je()),ye.setSDKProcessingMetadata({normalizedRequest:qo()}),ne(R,{op:"pageload",...N})}),R.on("endPageloadSpan",()=>{H&&J&&(J.setAttribute(Sn,"reportPageLoaded"),J.end())})},afterAllSetup(R){let z=Ke();if(T!=="off"&&eg(R,{linkPreviousTrace:T,consistentTraceSampling:A}),M.location){if(k){let N=_e();Jl(R,{name:M.location.pathname,startTime:N?N/1e3:void 0,attributes:{[Ie]:"url",[K]:"auto.pageload.browser"}})}I&&un(({to:N,from:$})=>{if($===void 0&&z?.indexOf(N)!==-1){z=void 0;return}z=void 0;let Z=Hn(N),se=hi(R),we=se&&C&&mR(se,q);Kl(R,{name:Z?.pathname||M.location.pathname,attributes:{[Ie]:"url",[K]:"auto.navigation.browser"}},{url:N,isRedirect:we})})}m&&Zh(),a&&pR(R,l,p,f,t),r&&qu(),Ra(R,{traceFetch:_,traceXHR:g,trackFetchStreamPerformance:S,tracePropagationTargets:R.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:F,onRequestSpanStart:w})}}});function Jl(e,t,n){e.emit("startPageLoadSpan",t,n),L().setTransactionName(t.name);let r=hi(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Kl(e,t,n){let{url:r,isRedirect:o}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:o}),e.emit("startNavigationSpan",t,{isRedirect:o});let i=L();return i.setTransactionName(t.name),r&&!o&&i.setSDKProcessingMetadata({normalizedRequest:{...qo(),url:r}}),hi(e)}function tg(e){return M.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function pR(e,t,n,r,o){let i=M.document,s,a=()=>{let c="ui.action.click",u=hi(e);if(u){let d=D(u).op;if(["navigation","pageload"].includes(d)){B&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Sn,"interactionInterrupted"),s.end(),s=void 0),!o.name){B&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=Vi({name:o.name,op:c,attributes:{[Ie]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}var ig="_sentry_idleSpan";function hi(e){return e[ig]}function ng(e,t){he(e,ig,t)}var rg=1.5;function mR(e,t){let n=D(e),r=dt(),o=n.start_timestamp;return!(r-o>rg||t&&r-t<=rg)}function sg(e=E()){e?.emit("endPageloadSpan")}function ag(e){let t=X();if(t===e)return;let n=L();e.end=new Proxy(e.end,{apply(r,o,i){return ot(n,t),Reflect.apply(r,o,i)}}),ot(n,e)}function Qr(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function hR(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=Qr(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Xl(e){return Qr(e.getAllKeys())}function gR(e,t,n){return e(r=>Xl(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),Qr(r.transaction)}))}function _R(e,t,n){return e(r=>Xl(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),Qr(r.transaction)}))}function SR(e){return e(t=>Xl(t).then(n=>{let r=n[0];if(r!=null)return Qr(t.get(r)).then(o=>(t.delete(r),Qr(t.transaction).then(()=>o)))}))}function yR(e){let t;function n(){return t==null&&(t=hR(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{let o=await yn(r);await gR(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{let o=await yn(r);await _R(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{let r=await SR(n());if(r)return oc(r)}catch{}}}}function ER(e){return t=>{let n=e({...t,createStore:yR});return M.addEventListener("online",async r=>{await n.flush()}),n}}function cg(e=Ur){return ER(Dc(e))}var ug=1e6,xa=String(0),bR="main",Ca=M.navigator,dg="",fg="",pg="",Zl=Ca?.userAgent||"",mg="",TR=Ca?.language||Ca?.languages?.[0]||"";function IR(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var lg=Ca?.userAgentData;IR(lg)&&lg.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(dg=e.platform||"",pg=e.architecture||"",mg=e.model||"",fg=e.platformVersion||"",e.fullVersionList?.length){let t=e.fullVersionList[e.fullVersionList.length-1];Zl=`${t.brand} ${t.version}`}}).catch(e=>{});function vR(e){return!("thread_metadata"in e)}function wR(e){return vR(e)?CR(e):e}function RR(e){let t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&B&&h.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function xR(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=RR(r),i=wR(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:te()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:te()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||nn,runtime:{name:"javascript",version:M.navigator.userAgent},os:{name:dg,version:fg,build_number:Zl},device:{locale:TR,model:mg,manufacturer:Zl,architecture:pg,is_emulator:!1},debug_meta:{images:AR(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||ge(),trace_id:o,active_thread_id:xa,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function Aa(e){return D(e).op==="pageload"}function CR(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[xa]:{name:bR}}},o=e.samples[0];if(!o)return r;let i=o.timestamp,s=_e(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,c=a-(s||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-i)*ug).toFixed(0),stack_id:t,thread_id:xa};return}let l=e.stacks[u.stackId],p=[];for(;l;){p.push(l.frameId);let m=e.frames[l.frameId];m&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}let f={elapsed_since_start_ns:((u.timestamp+c-i)*ug).toFixed(0),stack_id:n,thread_id:xa};r.stacks[n]=p,r.samples[d]=f,n++}),r}function hg(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function gg(e){let t=[];return mt(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++)n[o]?.contexts?.profile?.profile_id&&t.push(n[o])}),t}function AR(e){let r=E()?.getOptions()?.stackParser;return r?hc(r,e):[]}function kR(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(B&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(B&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function NR(e){return e.samples.length<2?(B&&h.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(B&&h.log("[Profiling] Discarding profile because it contains no frames"),!1)}var _g=!1,Ql=3e4;function MR(e){return typeof e=="function"}function Sg(){let e=M.Profiler;if(!MR(e)){B&&h.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Ql/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{B&&(h.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.log("[Profiling] Disabling profiling for current user session.")),_g=!0}}function ed(e){if(_g)return B&&h.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return B&&h.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let n=E()?.getOptions();if(!n)return B&&h.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return kR(r)?r?(r===!0?!0:Math.random()<r)?!0:(B&&h.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(B&&h.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(B&&h.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function yg(e,t,n,r){return NR(n)?xR(e,t,n,r):null}var nr=new Map;function Eg(){return nr.size}function bg(e){let t=nr.get(e);return t&&nr.delete(e),t}function Tg(e,t){if(nr.set(e,t),nr.size>30){let n=nr.keys().next().value;nr.delete(n)}}function td(e){let t;Aa(e)&&(t=te()*1e3);let n=Sg();if(!n)return;B&&h.log(`[Profiling] started profiling span: ${D(e).description}`);let r=ge();L().setContext("profile",{profile_id:r,start_timestamp:t});async function o(){if(e&&n)return n.stop().then(c=>{if(i&&(M.clearTimeout(i),i=void 0),B&&h.log(`[Profiling] stopped profiling of span: ${D(e).description}`),!c){B&&h.log(`[Profiling] profiler returned null profile for: ${D(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}Tg(r,c)}).catch(c=>{B&&h.log("[Profiling] error while stopping profiler:",c)})}let i=M.setTimeout(()=>{B&&h.log("[Profiling] max profile duration elapsed, stopping profiling for:",D(e).description),o()},Ql),s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var OR="BrowserProfiling",LR=(()=>({name:OR,setup(e){let t=X(),n=t&&re(t);n&&Aa(n)&&ed(n)&&td(n),e.on("spanStart",r=>{r===re(r)&&ed(r)&&td(r)}),e.on("beforeEnvelope",r=>{if(!Eg())return;let o=gg(r);if(!o.length)return;let i=[];for(let s of o){let a=s?.contexts,c=a?.profile?.profile_id,u=a?.profile?.start_timestamp;if(typeof c!="string"){B&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){B&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}a?.profile&&delete a.profile;let d=bg(c);if(!d){B&&h.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let l=yg(c,u,d,s);l&&i.push(l)}hg(r,i)})}})),Ig=LR;var DR="SpotlightBrowser",PR=((e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:DR,setup:()=>{B&&h.log("Using Sidecar URL",t)},processEvent:n=>UR(n)?null:n,afterAllSetup:n=>{FR(n,t)}}});function FR(e,t){let n=Pr("fetch"),r=0;e.on("beforeEnvelope",o=>{if(r>3){h.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:yn(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,h.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var vg=PR;function UR(e){return!!(e.type==="transaction"&&e.spans&&e.contexts?.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}var wg=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Dt(e)}});function Rg(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{xt(e,t.value),Ct(e,t.value)}}}var xg=()=>({name:"OpenFeature",processEvent(e,t,n){return Dt(e)}}),ka=class{after(t,n){xt(n.flagKey,n.value),Ct(n.flagKey,n.value)}error(t,n,r){xt(t.flagKey,t.defaultValue),Ct(t.flagKey,t.defaultValue)}};var Cg=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){let t=e.prototype;be(t,"isEnabled",BR)},processEvent(t,n,r){return Dt(t)}});function BR(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(xt(n,r),Ct(n,r)):B&&h.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var Ag=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{xt(n.gate.name,n.gate.value),Ct(n.gate.name,n.gate.value)})},processEvent(t,n,r){return Dt(t)}});async function kg(){let e=E();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await yo(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}var HR="WebWorker",Mg=({worker:e})=>({name:HR,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>Ng(t))},addWorker:t=>Ng(t)});function Ng(e){e.addEventListener("message",t=>{$R(t.data)&&(t.stopImmediatePropagation(),B&&h.log("Sentry debugId web worker message received",t.data),M._sentryDebugIds={...t.data._sentryDebugIds,...M._sentryDebugIds})})}function Og({self:e}){e.postMessage({_sentryMessage:!0,_sentryDebugIds:e._sentryDebugIds??void 0})}function $R(e){return Ge(e)&&e._sentryMessage===!0&&"_sentryDebugIds"in e&&(Ge(e._sentryDebugIds)||e._sentryDebugIds===void 0)}export{Lg as Sentry};
