var pg=Object.defineProperty;var ql=(e,t)=>{for(var n in t)pg(e,n,{get:t[n],enumerable:!0})};var fg={};ql(fg,{BrowserClient:()=>Ar,OpenFeatureIntegrationHook:()=>Ia,SDK_VERSION:()=>Xe,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Ee,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>K,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>Zt,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Ie,Scope:()=>Fe,WINDOW:()=>k,addBreadcrumb:()=>qe,addEventProcessor:()=>So,addIntegration:()=>Sr,breadcrumbsIntegration:()=>Us,browserApiErrorsIntegration:()=>Bs,browserProfilingIntegration:()=>og,browserSessionIntegration:()=>Hs,browserTracingIntegration:()=>$h,buildLaunchDarklyFlagUsedHandler:()=>ag,captureConsoleIntegration:()=>Fc,captureEvent:()=>nn,captureException:()=>dt,captureFeedback:()=>No,captureMessage:()=>yn,captureSession:()=>_r,chromeStackLineParser:()=>Bu,close:()=>hc,consoleLoggingIntegration:()=>qc,contextLinesIntegration:()=>tm,continueTrace:()=>nc,createTransport:()=>vo,createUserFeedbackEnvelope:()=>Up,dedupeIntegration:()=>Co,defaultRequestInstrumentationOptions:()=>ui,defaultStackLineParsers:()=>$u,defaultStackParser:()=>Ps,diagnoseSdkConnectivity:()=>dg,endSession:()=>yo,eventFiltersIntegration:()=>Ki,eventFromException:()=>_s,eventFromMessage:()=>Ss,exceptionFromError:()=>Cr,extraErrorDataIntegration:()=>Uc,featureFlagsIntegration:()=>Gc,feedbackAsyncIntegration:()=>up,feedbackIntegration:()=>gu,feedbackSyncIntegration:()=>gu,flush:()=>mc,forceLoad:()=>zp,functionToStringIntegration:()=>Ro,geckoStackLineParser:()=>Hu,getActiveSpan:()=>Y,getClient:()=>b,getCurrentScope:()=>M,getDefaultIntegrations:()=>Wu,getFeedback:()=>Jf,getGlobalScope:()=>Xt,getIsolationScope:()=>ie,getReplay:()=>_h,getRootSpan:()=>X,getSpanDescendants:()=>Qt,getSpanStatusFromHttpCode:()=>bi,getTraceData:()=>Fn,globalHandlersIntegration:()=>$s,graphqlClientIntegration:()=>im,httpClientIntegration:()=>Kp,httpContextIntegration:()=>Ws,inboundFiltersIntegration:()=>xo,init:()=>Gp,instrumentOutgoingRequests:()=>Sa,instrumentSupabaseClient:()=>ts,isEnabled:()=>_o,isInitialized:()=>gc,lastEventId:()=>go,launchDarklyIntegration:()=>sg,lazyLoadIntegration:()=>gs,linkedErrorsIntegration:()=>Gs,logger:()=>_u,makeBrowserOfflineTransport:()=>Gh,makeFetchTransport:()=>Lr,makeMultiplexedTransport:()=>Cc,moduleMetadataIntegration:()=>Pc,onLoad:()=>jp,openFeatureIntegration:()=>cg,opera10StackLineParser:()=>Dp,opera11StackLineParser:()=>Pp,parameterize:()=>Yi,registerSpanErrorInstrumentation:()=>co,replayCanvasIntegration:()=>Mh,replayIntegration:()=>gh,reportingObserverIntegration:()=>Yp,rewriteFramesIntegration:()=>Bc,sendFeedback:()=>cu,setContext:()=>ho,setCurrentClient:()=>qi,setExtra:()=>lc,setExtras:()=>uc,setHttpStatus:()=>Wt,setMeasurement:()=>fo,setTag:()=>fc,setTags:()=>dc,setUser:()=>pc,showReportDialog:()=>qp,spanToBaggageHeader:()=>Ya,spanToJSON:()=>O,spanToTraceHeader:()=>so,spotlightBrowserIntegration:()=>ig,startBrowserTracingNavigationSpan:()=>Hl,startBrowserTracingPageLoadSpan:()=>Bl,startInactiveSpan:()=>yt,startNewTrace:()=>oc,startSession:()=>gr,startSpan:()=>pr,startSpanManual:()=>tc,statsigIntegration:()=>lg,supabaseIntegration:()=>Hc,suppressTracing:()=>rc,thirdPartyErrorFilterIntegration:()=>Wc,unleashIntegration:()=>ug,updateSpanName:()=>ja,winjsStackLineParser:()=>Lp,withActiveSpan:()=>_n,withIsolationScope:()=>yi,withScope:()=>we,zodErrorsIntegration:()=>$c});var T=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var w=globalThis;var Xe="9.33.0";function We(){return dn(w),w}function dn(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Xe,t[Xe]=t[Xe]||{}}function kn(e,t,n=w){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[Xe]=r[Xe]||{};return o[e]||(o[e]=t())}var mg="Sentry Logger ",Yt=["debug","info","warn","error","log","assert","trace"],nr={};function Ze(e){if(!("console"in w))return e();let t=w.console,n={},r=Object.keys(nr);r.forEach(o=>{let i=nr[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function hg(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return T?Yt.forEach(n=>{t[n]=(...r)=>{e&&Ze(()=>{w.console[n](`${mg}[${n}]:`,...r)})}}):Yt.forEach(n=>{t[n]=()=>{}}),t}var h=kn("logger",hg);var st="?",Vl=/\(error: (.*)\)/,Yl=/captureMessage|captureException/;function di(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];if(c.length>1024)continue;let u=Vl.test(c)?c.replace(Vl,"$1"):c;if(!u.match(/\S*Error: /)){for(let d of t){let l=d(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return Jl(i.slice(o))}}function xa(e){return Array.isArray(e)?di(...e):e}function Jl(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(li(t).function||"")&&t.pop(),t.reverse(),Yl.test(li(t).function||"")&&(t.pop(),Yl.test(li(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||li(t).filename,function:n.function||st}))}function li(e){return e[e.length-1]||{}}var Ra="<anonymous>";function Qe(e){try{return!e||typeof e!="function"?Ra:e.name||Ra}catch{return Ra}}function rr(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var fi={},Kl={};function Le(e,t){fi[e]=fi[e]||[],fi[e].push(t)}function De(e,t){if(!Kl[e]){Kl[e]=!0;try{t()}catch(n){T&&h.error(`Error while instrumenting ${e}`,n)}}}function Te(e,t){let n=e&&fi[e];if(n)for(let r of n)try{r(t)}catch(o){T&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Qe(r)}
Error:`,o)}}var Ca=null;function Xr(e){let t="error";Le(t,e),De(t,gg)}function gg(){Ca=w.onerror,w.onerror=function(e,t,n,r,o){return Te("error",{column:r,error:o,line:n,msg:e,url:t}),Ca?Ca.apply(this,arguments):!1},w.onerror.__SENTRY_INSTRUMENTED__=!0}var Aa=null;function Zr(e){let t="unhandledrejection";Le(t,e),De(t,_g)}function _g(){Aa=w.onunhandledrejection,w.onunhandledrejection=function(e){return Te("unhandledrejection",e),Aa?Aa.apply(this,arguments):!0},w.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var Xl=Object.prototype.toString;function et(e){switch(Xl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ct(e,Error)}}function or(e,t){return Xl.call(e)===`[object ${t}]`}function pi(e){return or(e,"ErrorEvent")}function mi(e){return or(e,"DOMError")}function ka(e){return or(e,"DOMException")}function xe(e){return or(e,"String")}function fn(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function mt(e){return e===null||fn(e)||typeof e!="object"&&typeof e!="function"}function at(e){return or(e,"Object")}function Nn(e){return typeof Event<"u"&&ct(e,Event)}function Na(e){return typeof Element<"u"&&ct(e,Element)}function Ma(e){return or(e,"RegExp")}function xt(e){return!!(e?.then&&typeof e.then=="function")}function Oa(e){return at(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ct(e,t){try{return e instanceof t}catch{return!1}}function Qr(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function hi(e){return typeof Request<"u"&&ct(e,Request)}var La=w,Sg=80;function ke(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Sg;for(;n&&i++<r&&(u=yg(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function yg(e,t){let n=e,r=[];if(!n?.tagName)return"";if(La.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o?.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&xe(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function Ge(){try{return La.document.location.href}catch{return""}}function eo(e){if(!La.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function ht(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function to(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Mn(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{Qr(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Zl(e,t,n=!1){return xe(e)?Ma(t)?t.test(e):xe(t)?n?e===t:e.includes(t):!1:!1}function Ne(e,t=[],n=!1){return t.some(r=>Zl(e,r,n))}function he(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let o=n(r);typeof o=="function"&&gi(o,r);try{e[t]=o}catch{T&&h.log(`Failed to replace method "${t}" in object`,e)}}function de(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{T&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function gi(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,de(e,"__sentry_original__",t)}catch{}}function On(e){return e.__sentry_original__}function _i(e){if(et(e))return{message:e.message,name:e.name,stack:e.stack,...ed(e)};if(Nn(e)){let t={type:e.type,target:Ql(e.target),currentTarget:Ql(e.currentTarget),...ed(e)};return typeof CustomEvent<"u"&&ct(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ql(e){try{return Na(e)?ke(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ed(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Da(e,t=40){let n=Object.keys(_i(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return ht(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:ht(i,t)}return""}function Eg(){let e=w;return e.crypto||e.msCrypto}function fe(e=Eg()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function td(e){return e.exception?.values?.[0]}function Ut(e){let{message:t,event_id:n}=e;if(t)return t;let r=td(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ir(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function tt(e,t){let n=td(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o?.data,...t.data};n.mechanism.data=i}}function Pa(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>to(s,0));let i=Math.min(r-1,o);t.context_line=to(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>to(s,0))}function Si(e){if(bg(e))return!0;try{de(e,"__sentry_captured__",!0)}catch{}return!1}function bg(e){try{return e.__sentry_captured__}catch{}}var nd=1e3;function Bt(){return Date.now()/nd}function Tg(){let{performance:e}=w;if(!e?.now)return Bt;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/nd}var oe=Tg(),Fa;function Ig(){let{performance:e}=w;if(!e?.now)return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function _e(){return Fa||(Fa=Ig()),Fa[0]}function rd(e){let t=oe(),n={sid:fe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>vg(n)};return e&&Jt(n,e),n}function Jt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||oe(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:fe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function od(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Jt(e,n)}function vg(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function pn(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=pn(r[o],t[o],n-1));return r}function Pe(){return fe()}function Ct(){return fe().substring(16)}var Ua="_sentrySpan";function Ht(e,t){t?de(e,Ua,t):delete e[Ua]}function Kt(e){return e[Ua]}var wg=100,Fe=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Pe(),sampleRand:Math.random()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ht(t,Kt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Jt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof e?n.getScopeData():at(n)?t:void 0,{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ht(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Pe(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:wg;if(r<=0)return this;let o={timestamp:Bt(),...t,message:t.message?ht(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Kt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=pn(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||fe();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r?.event_id||fe();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n?.event_id||fe();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function id(){return kn("defaultCurrentScope",()=>new Fe)}function sd(){return kn("defaultIsolationScope",()=>new Fe)}var Ba=class{constructor(t,n){let r;t?r=t:r=new Fe;let o;n?o=n:o=new Fe,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return xt(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function sr(){let e=We(),t=dn(e);return t.stack=t.stack||new Ba(id(),sd())}function Rg(e){return sr().withScope(e)}function xg(e,t){let n=sr();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function ad(e){return sr().withScope(()=>e(sr().getIsolationScope()))}function cd(){return{withIsolationScope:ad,withScope:Rg,withSetScope:xg,withSetIsolationScope:(e,t)=>ad(t),getCurrentScope:()=>sr().getScope(),getIsolationScope:()=>sr().getIsolationScope()}}function gt(e){let t=dn(e);return t.acs?t.acs:cd()}function M(){let e=We();return gt(e).getCurrentScope()}function ie(){let e=We();return gt(e).getIsolationScope()}function Xt(){return kn("globalScope",()=>new Fe)}function we(...e){let t=We(),n=gt(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function yi(...e){let t=We(),n=gt(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function b(){return M().getClient()}function Ei(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||Ct()};return r&&(i.parent_span_id=r),i}var Ie="sentry.source",Zt="sentry.sample_rate",no="sentry.previous_trace_sample_rate",Ee="sentry.op",K="sentry.origin",Ln="sentry.idle_span_finish_reason",mn="sentry.measurement_unit",hn="sentry.measurement_value",ar="sentry.custom_span_name",cr="sentry.profile_id",$t="sentry.exclusive_time";var Ha="http.request.method",$a="url.full",Wa="sentry.link.type";function bi(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function Wt(e,t){e.setAttribute("http.response.status_code",t);let n=bi(t);n.message!=="unknown_error"&&e.setStatus(n)}var ud="_sentryScope",ld="_sentryIsolationScope";function dd(e,t,n){e&&(de(e,ld,n),de(e,ud,t))}function Dn(e){return{scope:e[ud],isolationScope:e[ld]}}var Ti="sentry-",Cg=/^sentry-/,Ag=8192;function Ii(e){let t=kg(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(Cg)){let s=o.slice(Ti.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function vi(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Ti}${r}`]=o),n),{});return Ng(t)}function kg(e){if(!(!e||!xe(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=fd(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):fd(e)}function fd(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Ng(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>Ag?(T&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}function ut(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var wi=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function pd(e){if(!e)return;let t=e.match(wi);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function ro(e,t){let n=pd(e),r=Ii(t);if(!n?.traceId)return{traceId:Pe(),sampleRand:Math.random()};let o=Mg(n,r);r&&(r.sample_rand=o.toString());let{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function oo(e=Pe(),t=Ct(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Mg(e,t){let n=ut(t?.sample_rand);if(n!==void 0)return n;let r=ut(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}var Ri=0,xi=1,md=!1;function gd(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=O(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function io(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:O(e).parent_span_id,i=Dn(e).scope,s=r?i?.getPropagationContext().propagationSpanId||Ct():t;return{parent_span_id:o,span_id:s,trace_id:n}}function so(e){let{traceId:t,spanId:n}=e.spanContext(),r=_t(e);return oo(t,n,r)}function Ci(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===xi,attributes:i,...o}))}function At(e){return typeof e=="number"?hd(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?hd(e.getTime()):oe()}function hd(e){return e>9999999999?e/1e3:e}function O(e){if(Dg(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(Lg(e)){let{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:At(o),timestamp:At(s)||void 0,status:Ai(a),op:r[Ee],origin:r[K],links:Ci(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Lg(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Dg(e){return typeof e.getSpanJSON=="function"}function _t(e){let{traceFlags:t}=e.spanContext();return t===xi}function Ai(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Pn="_sentryChildSpans",Ga="_sentryRootSpan";function ki(e,t){let n=e[Ga]||e;de(t,Ga,n),e[Pn]?e[Pn].add(t):de(e,Pn,new Set([t]))}function _d(e,t){e[Pn]&&e[Pn].delete(t)}function Qt(e){let t=new Set;function n(r){if(!t.has(r)&&_t(r)){t.add(r);let o=r[Pn]?Array.from(r[Pn]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function X(e){return e[Ga]||e}function Y(){let e=We(),t=gt(e);return t.getActiveSpan?t.getActiveSpan():Kt(M())}function ao(){md||(Ze(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),md=!0)}function ja(e,t){e.updateName(t),e.setAttributes({[Ie]:"custom",[ar]:t})}var Sd=!1;function co(){Sd||(Sd=!0,Xr(qa),Zr(qa))}function qa(){let e=Y(),t=e&&X(e);if(t){let n="internal_error";T&&h.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:2,message:n})}}qa.tag="sentry_tracingErrorCallback";function ze(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||b()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var en="production";var Pg=/^o(\d+)\./,Fg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ug(e){return e==="http"||e==="https"}function nt(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Ni(e){let t=Fg.exec(e);if(!t){Ze(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return yd({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function yd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Bg(e){if(!T)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(h.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?Ug(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Ed(e){return e.match(Pg)?.[1]}function uo(e){let t=typeof e=="string"?Ni(e):yd(e);if(!(!t||!Bg(t)))return t}var bd="_frozenDsc";function ur(e,t){de(e,bd,t)}function Va(e,t){let n=t.getOptions(),{publicKey:r,host:o}=t.getDsn()||{},i;n.orgId?i=String(n.orgId):o&&(i=Ed(o));let s={environment:n.environment||en,release:n.release,public_key:r,trace_id:e,org_id:i};return t.emit("createDsc",s),s}function lr(e,t){let n=t.getPropagationContext();return n.dsc||Va(n.traceId,e)}function be(e){let t=b();if(!t)return{};let n=X(e),r=O(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[Zt]??o[no];function a(m){return(typeof s=="number"||typeof s=="string")&&(m.sample_rate=`${s}`),m}let c=n[bd];if(c)return a(c);let u=i?.get("sentry.dsc"),d=u&&Ii(u);if(d)return a(d);let l=Va(e.spanContext().traceId,t),f=o[Ie],p=r.description;return f!=="url"&&p&&(l.transaction=p),ze()&&(l.sampled=String(_t(n)),l.sample_rand=i?.get("sentry.sample_rand")??Dn(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function Ya(e){let t=be(e);return vi(t)}var Ue=class{constructor(t={}){this._traceId=t.traceId||Pe(),this._spanId=t.spanId||Ct()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Ri}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function Ja(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return Hg(r,t,n)}function Hg(e,t,n){return xt(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Td(e){if(!T)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=O(e),{spanId:o}=e.spanContext(),i=_t(e),s=X(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:d,description:l}=O(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function Id(e){if(!T)return;let{description:t="< unknown name >",op:n="< unknown op >"}=O(e),{spanId:r}=e.spanContext(),i=X(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;h.log(s)}function vd(e,t,n){if(!ze(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);let i=ut(o);if(i===void 0)return T&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return T&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||T&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}function Re(e,t=100,n=1/0){try{return Ka("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Mi(e,t=3,n=100*1024){let r=Re(e,t);return zg(r)>n?Mi(e,t-1,n):r}function Ka(e,t,n=1/0,r=1/0,o=jg()){let[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let a=$g(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let p=u.toJSON();return Ka("",p,c-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},l=0,f=_i(t);for(let p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}let m=f[p];d[p]=Ka(p,m,c-1,r,o),l++}return s(t),d}function $g(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Qr(t))return"[VueViewModel]";if(Oa(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Qe(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=Wg(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Wg(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Gg(e){return~-encodeURI(e).split(/%..|./).length}function zg(e){return Gg(JSON.stringify(e))}function jg(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Me(e,t=[]){return[e,t]}function Xa(e,t){let[n,r]=e;return[n,[...r,t]]}function lt(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function Li(e,t){return lt(e,(n,r)=>t.includes(r))}function Oi(e){let t=dn(w);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function qg(e){let t=dn(w);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function gn(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[Oi(r),i]:r.push(typeof i=="string"?Oi(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Re(a))}o(c)}}return typeof r=="string"?r:Vg(r)}function Vg(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function Za(e){let t=typeof e=="string"?Oi(e):e;function n(s){let a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(qg(n(s)))}let o=r(),i=[];for(;t.length;){let s=r(),a=typeof s.length=="number"?s.length:void 0;i.push([s,a?n(a):r()])}return[o,i]}function Qa(e){return[{type:"span"},e]}function ec(e){let t=typeof e.data=="string"?Oi(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var Yg={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Di(e){return Yg[e]}function dr(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function lo(e,t,n,r){let o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:nt(r)},...o&&{trace:o}}}function Jg(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function wd(e,t,n,r){let o=dr(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:nt(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Me(i,[s])}function Rd(e,t,n,r){let o=dr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Jg(e,n?.sdk);let s=lo(e,o,r,t);return delete e.sdkProcessingMetadata,Me(s,[[{type:i},e]])}function xd(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=be(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:nt(o)}},a=t?.getOptions().beforeSendSpan,c=a?d=>{let l=O(d),f=a(l);return f||(ao(),l)}:O,u=[];for(let d of e){let l=c(d);l&&u.push(Qa(l))}return Me(s,u)}function fo(e,t,n,r=Y()){let o=r&&X(r);o&&(T&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[hn]:t,[mn]:n}))}function Pi(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[mn],i=r[hn];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var Cd=1e3,fr=class{constructor(t={}){this._traceId=t.traceId||Pe(),this._spanId=t.spanId||Ct(),this._startTime=t.startTimestamp||oe(),this._links=t.links,this._attributes={},this.setAttributes({[K]:"manual",[Ee]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?xi:Ri}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=At(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Ie,"custom"),this}end(t){this._endTime||(this._endTime=At(t),Id(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ee],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Ai(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[K],profile_id:this._attributes[cr],exclusive_time:this._attributes[$t],measurements:Pi(this._events),is_segment:this._isStandaloneSpan&&X(this)===this||void 0,segment_id:this._isStandaloneSpan?X(this).spanContext().spanId:void 0,links:Ci(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){T&&h.log("[Tracing] Adding an event to span:",t);let o=Ad(n)?n:r||oe(),i=Ad(n)?{}:n||{},s={name:t,time:At(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=b();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===X(this)))return;if(this._isStandaloneSpan){this._sampled?Xg(xd([this],t)):(T&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Dn(this).scope||M()).captureEvent(r)}_convertSpanToTransaction(){if(!kd(O(this)))return;this._name||(T&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Dn(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=Qt(this).filter(d=>d!==this&&!Kg(d)).map(d=>O(d)).filter(kd),s=this._attributes[Ie];delete this._attributes[ar],i.forEach(d=>{delete d.data[ar]});let a={contexts:{trace:gd(this)},spans:i.length>Cd?i.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Cd):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:be(this)},request:r,...s&&{transaction_info:{source:s}}},c=Pi(this._events);return c&&Object.keys(c).length&&(T&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function Ad(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function kd(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Kg(e){return e instanceof fr&&e.isStandaloneSpan()}function Xg(e){let t=b();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var Fi="__SENTRY_SUPPRESS_TRACING__";function pr(e,t){let n=po();if(n.startSpan)return n.startSpan(e,t);let r=sc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return we(a,()=>Md(i)(()=>{let u=M(),d=ac(u),f=e.onlyIfParent&&!d?new Ue:ic({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Ht(u,f),Ja(()=>t(f),()=>{let{status:p}=O(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})},()=>{f.end()})}))}function tc(e,t){let n=po();if(n.startSpanManual)return n.startSpanManual(e,t);let r=sc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return we(a,()=>Md(i)(()=>{let u=M(),d=ac(u),f=e.onlyIfParent&&!d?new Ue:ic({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Ht(u,f),Ja(()=>t(f,()=>f.end()),()=>{let{status:p}=O(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})})}))}function yt(e){let t=po();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=sc(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>we(e.scope,s):o!==void 0?s=>_n(o,s):s=>s())(()=>{let s=M(),a=ac(s);return e.onlyIfParent&&!a?new Ue:ic({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}var nc=(e,t)=>{let n=We(),r=gt(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:o,baggage:i}=e;return we(s=>{let a=ro(o,i);return s.setPropagationContext(a),t()})};function _n(e,t){let n=po();return n.withActiveSpan?n.withActiveSpan(e,t):we(r=>(Ht(r,e||void 0),t(r)))}function rc(e){let t=po();return t.suppressTracing?t.suppressTracing(e):we(n=>{n.setSDKProcessingMetadata({[Fi]:!0});let r=e();return n.setSDKProcessingMetadata({[Fi]:void 0}),r})}function oc(e){return we(t=>(t.setPropagationContext({traceId:Pe(),sampleRand:Math.random()}),T&&h.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),_n(null,e)))}function ic({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ze()){let s=new Ue;if(n||!e){let a={sampled:"false",sample_rate:"0",transaction:t.name,...be(s)};ur(s,a)}return s}let o=ie(),i;if(e&&!n)i=Zg(e,r,t),ki(e,i);else if(e){let s=be(e),{traceId:a,spanId:c}=e.spanContext(),u=_t(e);i=Nd({traceId:a,parentSpanId:c,...t},r,u),ur(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=Nd({traceId:s,parentSpanId:c,...t},r,u),a&&ur(i,a)}return Td(i),dd(i,r,o),i}function sc(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=At(e.startTime),delete r.startTime,r}return n}function po(){let e=We();return gt(e)}function Nd(e,t,n){let r=b(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[Fi]?[!1]:vd(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:ut(u.dsc?.sample_rate)},u.sampleRand),p=new fr({...e,attributes:{[Ie]:"custom",[Zt]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(T&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function Zg(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Fi]?!1:_t(e),s=i?new fr({...n,parentSpanId:r,traceId:o,sampled:i}):new Ue({traceId:o});ki(e,s);let a=b();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function ac(e){let t=Kt(e);if(!t)return;let n=b();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?X(t):t}function Md(e){return e!==void 0?t=>_n(e,t):t=>t()}var mr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Qg="heartbeatFailed",e_="idleTimeout",t_="finalTimeout",n_="externalFinish";function Ui(e,t={}){let n=new Map,r=!1,o,i=n_,s=!t.disableAutoFinish,a=[],{idleTimeout:c=mr.idleTimeout,finalTimeout:u=mr.finalTimeout,childSpanTimeout:d=mr.childSpanTimeout,beforeSpanEnd:l}=t,f=b();if(!f||!ze()){let y=new Ue,C={sample_rate:"0",sampled:"false",...be(y)};return ur(y,C),y}let p=M(),m=Y(),g=r_(e);g.end=new Proxy(g.end,{apply(y,C,D){if(l&&l(g),C instanceof Ue)return;let[I,...x]=D,N=I||oe(),v=At(N),R=Qt(g).filter(H=>H!==g);if(!R.length)return L(v),Reflect.apply(y,C,[v,...x]);let B=R.map(H=>O(H).timestamp).filter(H=>!!H),j=B.length?Math.max(...B):void 0,F=O(g).start_timestamp,te=Math.min(F?F+u/1e3:1/0,Math.max(F||-1/0,Math.min(v,j||1/0)));return L(te),Reflect.apply(y,C,[te,...x])}});function _(){o&&(clearTimeout(o),o=void 0)}function S(y){_(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=e_,g.end(y))},c)}function E(y){o=setTimeout(()=>{!r&&s&&(i=Qg,g.end(y))},d)}function U(y){_(),n.set(y,!0);let C=oe();E(C+d/1e3)}function A(y){if(n.has(y)&&n.delete(y),n.size===0){let C=oe();S(C+c/1e3)}}function L(y){r=!0,n.clear(),a.forEach(v=>v()),Ht(p,m);let C=O(g),{start_timestamp:D}=C;if(!D)return;C.data[Ln]||g.setAttribute(Ln,i),h.log(`[Tracing] Idle span "${C.op}" finished`);let x=Qt(g).filter(v=>v!==g),N=0;x.forEach(v=>{v.isRecording()&&(v.setStatus({code:2,message:"cancelled"}),v.end(y),T&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(v,void 0,2)));let R=O(v),{timestamp:B=0,start_timestamp:j=0}=R,F=j<=y,te=(u+c)/1e3,H=B-j<=te;if(T){let Q=JSON.stringify(v,void 0,2);F?H||h.log("[Tracing] Discarding span since it finished after idle span final timeout",Q):h.log("[Tracing] Discarding span since it happened after idle span was finished",Q)}(!H||!F)&&(_d(g,v),N++)}),N>0&&g.setAttribute("sentry.idle_span_discarded_spans",N)}return a.push(f.on("spanStart",y=>{if(r||y===g||O(y).timestamp)return;Qt(g).includes(y)&&U(y.spanContext().spanId)})),a.push(f.on("spanEnd",y=>{r||A(y.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",y=>{y===g&&(s=!0,S(),n.size&&E())})),t.disableAutoFinish||S(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=t_,g.end())},u),g}function r_(e){let t=yt(e);return Ht(M(),t),T&&h.log("[Tracing] Started span is an idle span"),t}var tn;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(tn||(tn={}));function je(e){return new kt(t=>{t(e)})}function Sn(e){return new kt((t,n)=>{n(e)})}var kt=class e{constructor(t){this._state=tn.PENDING,this._handlers=[],this._runExecutor(t)}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===tn.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===tn.RESOLVED&&n[1](this._value),this._state===tn.REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===tn.PENDING){if(xt(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(tn.RESOLVED,i)},o=i=>{n(tn.REJECTED,i)};try{t(r,o)}catch(i){o(i)}}};function Bi(e,t,n,r=0){return new kt((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);T&&s.id&&a===null&&h.log(`Event processor "${s.id}" dropped event`),xt(a)?a.then(c=>Bi(e,c,n,r+1).then(o)).then(null,i):Bi(e,a,n,r+1).then(o).then(null,i)}})}function Od(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;o_(e,t),r&&a_(e,r),c_(e,n),i_(e,o),s_(e,i)}function hr(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:m}=t;Hi(e,"extra",n),Hi(e,"tags",r),Hi(e,"user",o),Hi(e,"contexts",i),e.sdkProcessingMetadata=pn(e.sdkProcessingMetadata,a,2),s&&(e.level=s),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function Hi(e,t,n){e[t]=pn(e[t],n,1)}function o_(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function i_(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function s_(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function a_(e,t){e.contexts={trace:io(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:be(t),...e.sdkProcessingMetadata};let n=X(t),r=O(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function c_(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}var $i,Ld,Wi;function Gi(e){let t=w._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Wi&&n.length===Ld||(Ld=n.length,Wi=n.reduce((r,o)=>{$i||($i={});let i=$i[o];if(i)r[i[0]]=i[1];else{let s=e(o);for(let a=s.length-1;a>=0;a--){let u=s[a]?.filename,d=t[o];if(u&&d){r[u]=d,$i[o]=[u,d];break}}}return r},{})),Wi}function cc(e,t){let n=Gi(e);if(!n)return[];let r=[];for(let o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function mo(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||fe(),timestamp:t.timestamp||Bt()},u=n.integrations||e.integrations.map(_=>_.name);u_(c,e),f_(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&l_(c,e.stackParser);let d=m_(r,n.captureContext);n.mechanism&&tt(c,n.mechanism);let l=o?o.getEventProcessors():[],f=Xt().getScopeData();if(i){let _=i.getScopeData();hr(f,_)}if(d){let _=d.getScopeData();hr(f,_)}let p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),Od(c,f);let m=[...l,...f.eventProcessors];return Bi(m,c,n).then(_=>(_&&d_(_),typeof s=="number"&&s>0?p_(_,s,a):_))}function u_(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||en,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);let s=e.request;s?.url&&(s.url=ht(s.url,i))}function l_(e,t){let n=Gi(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function d_(e){let t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function f_(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function p_(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Re(o.data,t,n)}}))},...e.user&&{user:Re(e.user,t,n)},...e.contexts&&{contexts:Re(e.contexts,t,n)},...e.extra&&{extra:Re(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Re(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:Re(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Re(e.contexts.flags,3,n)),r}function m_(e,t){if(!t)return e;let n=e?e.clone():new Fe;return n.update(t),n}function Dd(e){if(e)return h_(e)?{captureContext:e}:__(e)?{captureContext:e}:e}function h_(e){return e instanceof Fe||typeof e=="function"}var g_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function __(e){return Object.keys(e).some(t=>g_.includes(t))}function dt(e,t){return M().captureException(e,Dd(t))}function yn(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return M().captureMessage(e,n,r)}function nn(e,t){return M().captureEvent(e,t)}function ho(e,t){ie().setContext(e,t)}function uc(e){ie().setExtras(e)}function lc(e,t){ie().setExtra(e,t)}function dc(e){ie().setTags(e)}function fc(e,t){ie().setTag(e,t)}function pc(e){ie().setUser(e)}function go(){return ie().lastEventId()}async function mc(e){let t=b();return t?t.flush(e):(T&&h.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function hc(e){let t=b();return t?t.close(e):(T&&h.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function gc(){return!!b()}function _o(){let e=b();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function So(e){ie().addEventProcessor(e)}function gr(e){let t=ie(),n=M(),{userAgent:r}=w.navigator||{},o=rd({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&Jt(i,{status:"exited"}),yo(),t.setSession(o),o}function yo(){let e=ie(),n=M().getSession()||e.getSession();n&&od(n),Pd(),e.setSession()}function Pd(){let e=ie(),t=b(),n=e.getSession();n&&t&&t.captureSession(n)}function _r(e=!1){if(e){yo();return}Pd()}var S_="7";function Fd(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function y_(e){return`${Fd(e)}${e.projectId}/envelope/`}function E_(e,t){let n={sentry_version:S_};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Eo(e,t,n){return t||`${y_(e)}?${E_(e,n)}`}function _c(e,t){let n=uo(e);if(!n)return"";let r=`${Fd(n)}embed/error-page/`,o=`dsn=${nt(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var Ud=[];function b_(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Sc(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return b_(r)}function Bd(e,t){let n={};return t.forEach(r=>{r&&Ec(e,r,n)}),n}function yc(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Ec(e,t,n){if(n[t.name]){T&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ud.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Ud.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}T&&h.log(`Integration installed: ${t.name}`)}function Sr(e){let t=b();if(!t){T&&h.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Hd(e,t,n){let r=[{type:"client_report"},{timestamp:n||Bt(),discarded_events:e}];return Me(t?{dsn:t}:{},[r])}function zi(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function $d(e){let{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[cr],exclusive_time:s?.[$t],measurements:e.measurements,is_segment:!0}}function Wd(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[cr]:e.profile_id},...e.exclusive_time&&{[$t]:e.exclusive_time}}}},measurements:e.measurements}}var Gd="Not capturing exception because it's already been captured.",zd="Discarded session because of missing or non-string release",Vd=Symbol.for("SentryInternalError"),Yd=Symbol.for("SentryDoNotSendEventError");function ji(e){return{message:e,[Vd]:!0}}function bc(e){return{message:e,[Yd]:!0}}function jd(e){return!!e&&typeof e=="object"&&Vd in e}function qd(e){return!!e&&typeof e=="object"&&Yd in e}var bo=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=uo(t.dsn):T&&h.warn("No DSN provided, client will not send events."),this._dsn){let n=Eo(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=fe();if(Si(t))return T&&h.log(Gd),o;let i={event_id:o,...n};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i={event_id:fe(),...r},s=fn(t)?t:String(t),a=mt(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=fe();if(n?.originalException&&Si(n.originalException))return T&&h.log(Gd),o;let i={event_id:o,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),Jt(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):je(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];Ec(this,t,this._integrations),n||yc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Rd(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=Xa(r,ec(i));let o=this.sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let{release:n,environment:r=en}=this._options;if("aggregates"in t){let i=t.attrs||{};if(!i.release&&!n){T&&h.warn(zd);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){T&&h.warn(zd);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);let o=wd(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){let o=`${t}:${n}`;T&&h.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(T&&h.error("Error while sending envelope:",n),n)):(T&&h.error("Transport disabled"),je({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Bd(this,t),yc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1,i=n.exception?.values;if(i){o=!0;for(let c of i)if(c.mechanism?.handled===!1){r=!0;break}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(Jt(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new kt(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),mo(i,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Ei(r),...a.contexts};let c=lr(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=M(),o=ie()){return T&&Tc(t)&&h.log(`Captured error event \`${zi(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(i=>i.event_id,i=>{T&&(qd(i)?h.log(i.message):jd(i)?h.warn(i.message):h.warn(i))})}_processEvent(t,n,r,o){let i=this.getOptions(),{sampleRate:s}=i,a=Jd(t),c=Tc(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof s>"u"?void 0:ut(s);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Sn(bc(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),bc("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;let g=I_(this,i,p,n);return T_(g,d)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),a){let S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw bc(`${d} returned \`null\`, will not send event.`)}let m=r.getSession()||o.getSession();if(c&&m&&this._updateSessionFromEvent(m,p),a){let _=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,S=p.spans?p.spans.length:0,E=_-S;E>0&&this.recordDroppedEvent("before_send","span",E)}let g=p.transaction_info;if(a&&g&&p.transaction!==t.transaction){let _="custom";p.transaction_info={...g,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw qd(p)||jd(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),ji(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}_flushOutcomes(){T&&h.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){T&&h.log("No outcomes to send");return}if(!this._dsn){T&&h.log("No dsn provided, will not send outcomes");return}T&&h.log("Sending outcomes:",t);let n=Hd(t,this._options.tunnel&&nt(this._dsn));this.sendEnvelope(n)}};function T_(e,t){let n=`${t} must return \`null\` or a valid event.`;if(xt(e))return e.then(r=>{if(!at(r)&&r!==null)throw ji(n);return r},r=>{throw ji(`${t} rejected with ${r}`)});if(!at(e)&&e!==null)throw ji(n);return e}function I_(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t,a=n;if(Tc(a)&&o)return o(a,r);if(Jd(a)){if(s){let c=s($d(a));if(c?a=pn(n,Wd(c)):ao(),a.spans){let u=[];for(let d of a.spans){let l=s(d);l?u.push(l):(ao(),u.push(d))}a.spans=u}}if(i){if(a.spans){let c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(a,r)}}return a}function Tc(e){return e.type===void 0}function Jd(e){return e.type==="transaction"}function Kd(e,t){return t?we(t,()=>{let n=Y(),r=n?io(n):Ei(t);return[n?be(n):lr(e,t),r]}):[void 0,void 0]}var Xd={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function v_(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Zd(e,t,n,r){let o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=nt(r)),Me(o,[v_(e)])}var w_=100;w._sentryClientToLogBufferMap=new WeakMap;function R_(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function En(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function Qd(e,t){let n=ef(e);n===void 0?w._sentryClientToLogBufferMap?.set(e,[t]):(w._sentryClientToLogBufferMap?.set(e,[...n,t]),n.length>=w_&&Er(e,n))}function yr(e,t=b(),n=M(),r=Qd){if(!t){T&&h.warn("No client available to capture log.");return}let{_experiments:o,release:i,environment:s}=t.getOptions(),{enableLogs:a=!1,beforeSendLog:c}=o??{};if(!a){T&&h.warn("logging option not enabled, log will not be captured.");return}let[,u]=Kd(t,n),d={...e.attributes},{user:{id:l,email:f,username:p}}=x_(n);En(d,"user.id",l,!1),En(d,"user.email",f,!1),En(d,"user.name",p,!1),En(d,"sentry.release",i),En(d,"sentry.environment",s);let{name:m,version:g}=t.getSdkMetadata()?.sdk??{};En(d,"sentry.sdk.name",m),En(d,"sentry.sdk.version",g);let _=e.message;if(fn(_)){let{__sentry_template_string__:I,__sentry_template_values__:x=[]}=_;d["sentry.message.template"]=I,x.forEach((N,v)=>{d[`sentry.message.parameter.${v}`]=N})}let S=Kt(n);En(d,"sentry.trace.parent_span_id",S?.spanContext().spanId);let E={...e,attributes:d};t.emit("beforeCaptureLog",E);let U=c?c(E):E;if(!U){t.recordDroppedEvent("before_send","log_item",1),T&&h.warn("beforeSendLog returned null, log will not be captured.");return}let{level:A,message:L,attributes:y={},severityNumber:C}=U,D={timestamp:oe(),level:A,body:L,trace_id:u?.trace_id,severity_number:C??Xd[A],attributes:Object.keys(y).reduce((I,x)=>(I[x]=R_(y[x]),I),{})};r(t,D),t.emit("afterCaptureLog",U)}function Er(e,t){let n=t??ef(e)??[];if(n.length===0)return;let r=e.getOptions(),o=Zd(n,r._metadata,r.tunnel,e.getDsn());w._sentryClientToLogBufferMap?.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function ef(e){return w._sentryClientToLogBufferMap?.get(e)}function x_(e){let t=Xt().getScopeData();return hr(t,ie().getScopeData()),hr(t,e.getScopeData()),t}function Ic(e,t){t.debug===!0&&(T?h.enable():Ze(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),M().update(t.initialScope);let r=new e(t);return qi(r),r.init(),r}function qi(e){M().setClient(e)}var vc=Symbol.for("SentryBufferFullError");function tf(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return Sn(vc);let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new kt((a,c)=>{let u=t.length;if(!u)return a(!0);let d=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{je(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:o,drain:i}}function Vi(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function nf(e,t){return e[t]||e.all||0}function To(e,t,n=Date.now()){return nf(e,t)>n}function Io(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(let p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[p]=r+f):o[p]=r+f}else s?o.all=r+Vi(s,r):t===429&&(o.all=r+60*1e3);return o}var C_=64;function vo(e,t,n=tf(e.bufferSize||C_)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(lt(s,(l,f)=>{let p=Di(f);To(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return je({});let c=Me(s[0],a),u=l=>{lt(c,(f,p)=>{e.recordDroppedEvent(l,Di(p))})},d=()=>t({body:gn(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&T&&h.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Io(r,l),l),l=>{throw u("network_error"),T&&h.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===vc)return T&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),je({});throw l})}return{send:i,flush:o}}var wc=100,Rc=5e3,A_=36e5;function xc(e){function t(...n){T&&h.info("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let o=n.createStore(n),i=Rc,s;function a(l,f,p){return Li(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let f=await o.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(i),i=Math.min(i*2,A_))}async function d(l,f=!1){if(!f&&Li(l,["replay_event","replay_recording"]))return await o.push(l),c(wc),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let p=await r.send(l),m=wc;if(p){if(p.headers?.["retry-after"])m=Vi(p.headers["retry-after"]);else if(p.headers?.["x-sentry-rate-limits"])m=6e4;else if((p.statusCode||0)>=400)return p}return c(m),i=Rc,p}catch(p){if(await a(l,p,i))return f?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(i=Rc,c(wc)),r.flush(l))}}}function rf(e,t){let n;return lt(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function k_(e,t){return n=>{let r=e(n);return{...r,send:async o=>{let i=rf(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)}}}}function N_(e,t){return Me(t?{...e[0],dsn:t}:e[0],e[1])}function Cc(e,t){return n=>{let r=e(n),o=new Map;function i(c,u){let d=u?`${c}:${u}`:c,l=o.get(d);if(!l){let f=Ni(c);if(!f)return;let p=Eo(f,n.tunnel);l=u?k_(e,u)({...n,url:p}):e({...n,url:p}),o.set(d,l)}return[c,l]}async function s(c){function u(p){let m=p?.length?p:["event"];return rf(c,m)}let d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?i(p,void 0):i(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,m])=>m.send(N_(c,p)))))[0]}async function a(c){let u=[...o.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:s,flush:a}}}function wo(e,t){let n=t?.getDsn(),r=t?.getOptions().tunnel;return O_(e,n)||M_(e,r)}function M_(e,t){return t?of(e)===of(t):!1}function O_(e,t){return t?e.includes(t.host):!1}function of(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Yi(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Ac=Yi;function kc(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function Nc(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Mc(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Xe})),version:Xe}),e._metadata=o}function Fn(e={}){let t=e.client||b();if(!_o()||!t)return{};let n=We(),r=gt(n);if(r.getTraceData)return r.getTraceData(e);let o=e.scope||M(),i=e.span||Y(),s=i?so(i):L_(o),a=i?be(i):lr(t,o),c=vi(a);return wi.test(s)?{"sentry-trace":s,baggage:c}:(h.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function L_(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return oo(t,r,n)}function Oc(e,t,n){let r,o,i,s=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function d(){return o!==void 0||i!==void 0?c():r}function l(){return o&&clearTimeout(o),o=a(c,t),s&&i===void 0&&(i=a(c,s)),r}return l.cancel=u,l.flush=d,l}var D_=100;function qe(e,t){let n=b(),r=ie();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=D_}=n.getOptions();if(i<=0)return;let a={timestamp:Bt(),...e},c=o?Ze(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var sf,P_="FunctionToString",af=new WeakMap,F_=()=>({name:P_,setupOnce(){sf=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=On(this),n=af.has(b())&&t!==void 0?t:this;return sf.apply(n,e)}}catch{}},setup(e){af.set(e,!0)}}),Ro=F_;var U_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],B_="EventFilters",Ki=(e={})=>{let t;return{name:B_,setup(n){let r=n.getOptions();t=cf(e,r)},processEvent(n,r,o){if(!t){let i=o.getOptions();t=cf(e,i)}return H_(n,t)?null:n}}},xo=(e={})=>({...Ki(e),name:"InboundFilters"});function cf(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:U_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function H_(e,t){if(e.type){if(e.type==="transaction"&&W_(e,t.ignoreTransactions))return T&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ut(e)}`),!0}else{if($_(e,t.ignoreErrors))return T&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ut(e)}`),!0;if(q_(e))return T&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ut(e)}`),!0;if(G_(e,t.denyUrls))return T&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ut(e)}.
Url: ${Ji(e)}`),!0;if(!z_(e,t.allowUrls))return T&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ut(e)}.
Url: ${Ji(e)}`),!0}return!1}function $_(e,t){return t?.length?zi(e).some(n=>Ne(n,t)):!1}function W_(e,t){if(!t?.length)return!1;let n=e.transaction;return n?Ne(n,t):!1}function G_(e,t){if(!t?.length)return!1;let n=Ji(e);return n?Ne(n,t):!1}function z_(e,t){if(!t?.length)return!0;let n=Ji(e);return n?Ne(n,t):!0}function j_(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Ji(e){try{let n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?j_(n):null}catch{return T&&h.error(`Cannot extract url for event ${Ut(e)}`),null}}function q_(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Dc(e,t,n,r,o,i){if(!o.exception?.values||!i||!ct(i.originalException,Error))return;let s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=Lc(e,t,r,i.originalException,n,o.exception.values,s,0))}function Lc(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(ct(r[o],Error)){uf(s,a);let u=e(t,r[o]),d=c.length;lf(u,o,d,a),c=Lc(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(ct(u,Error)){uf(s,a);let l=e(t,u),f=c.length;lf(l,`errors[${d}]`,f,a),c=Lc(e,t,n,u,o,[l,...c],l,f)}}),c}function uf(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function lf(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var ff=new Map,df=new Set;function V_(e){if(w._sentryModuleMetadata)for(let t of Object.keys(w._sentryModuleMetadata)){let n=w._sentryModuleMetadata[t];if(df.has(t))continue;df.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){ff.set(o.filename,n);break}}}function Y_(e,t){return V_(e),ff.get(t)}function Xi(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let o=Y_(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function Zi(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var Pc=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{lt(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(Zi(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;Xi(n,t)})}});function Un(e){let t="console";Le(t,e),De(t,J_)}function J_(){"console"in w&&Yt.forEach(function(e){e in w.console&&he(w.console,e,function(t){return nr[e]=t,function(...n){Te("console",{args:n,level:e}),nr[e]?.apply(w.console,n)}})})}function Bn(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var K_="CaptureConsole",X_=(e={})=>{let t=e.levels||Yt,n=e.handled??!0;return{name:K_,setup(r){"console"in w&&Un(({args:o,level:i})=>{b()!==r||!t.includes(i)||Z_(o,i,n)})}}},Fc=X_;function Z_(e,t,n){let r={level:Bn(t),extra:{arguments:e}};we(o=>{if(o.addEventProcessor(a=>(a.logger="console",tt(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){let a=`Assertion failed: ${Mn(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),yn(a,r)}return}let i=e.find(a=>a instanceof Error);if(i){dt(i,r);return}let s=Mn(e," ");yn(s,r)})}var Q_="Dedupe",eS=()=>{let e;return{name:Q_,processEvent(t){if(t.type)return t;try{if(tS(t,e))return T&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Co=eS;function tS(e,t){return t?!!(nS(e,t)||rS(e,t)):!1}function nS(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!hf(e,t)||!mf(e,t))}function rS(e,t){let n=pf(t),r=pf(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!hf(e,t)||!mf(e,t))}function mf(e,t){let n=rr(e),r=rr(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function hf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function pf(e){return e.exception?.values&&e.exception.values[0]}var oS="ExtraErrorData",iS=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:oS,processEvent(r,o,i){let{maxValueLength:s=250}=i.getOptions();return sS(r,o,t,n,s)}}},Uc=iS;function sS(e,t={},n,r,o){if(!t.originalException||!et(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=aS(t.originalException,r,o);if(s){let a={...e.contexts},c=Re(s,n);return at(c)&&(de(c,"__sentry_skip_normalization__",!0),a[i]=c),{...e,contexts:a}}return e}function aS(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];o[i]=et(s)||typeof s=="string"?ht(`${s}`,n):s}if(t&&e.cause!==void 0&&(o.cause=et(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let a=i[s];o[s]=et(a)?a.toString():a}}return o}catch(r){T&&h.error("Unable to extract extra data from the Error object:",r)}return null}function cS(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var uS=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function lS(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=uS.exec(t);return n?n.slice(1):[]}function gf(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=cS(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function _f(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Sf(e,t){e=gf(e).slice(1),t=gf(t).slice(1);let n=_f(e.split("/")),r=_f(t.split("/")),o=Math.min(n.length,r.length),i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function yf(e,t){let n=lS(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var dS="RewriteFrames",Bc=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in w&&!!w.window,o=e.iteratee||fS({isBrowser:r,root:t,prefix:n});function i(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames&&a.frames.map(c=>o(c))}}return{name:dS,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function fS({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){let s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?Sf(t,s):yf(s);r.filename=`${n}${a}`}return r}}var pS=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],mS=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],hS={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},bf=["select","insert","upsert","update","delete"];function Qi(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function es(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function gS(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function _S(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&hS[n]||"filter",`${o}(${e}, ${r.join(".")})`}function Ef(e,t=!1){return new Proxy(e,{apply(n,r,o){return pr({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[K]:"auto.db.supabase",[Ee]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,o).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),dt(s.error,{mechanism:{handled:!1}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),dt(s,{mechanism:{handled:!1}}),s}).then(...o))}})}function SS(e){let t=e.auth;if(!(!t||es(e.auth))){for(let n of pS){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Ef(r))}for(let n of mS){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Ef(r,!0))}Qi(e.auth)}}function yS(e){es(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let o=Reflect.apply(t,n,r),i=o.constructor;return bS(i),o}}),Qi(e.prototype.from))}function ES(e){es(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){let o=bf,i=n,s=gS(i.method,i.headers);if(!o.includes(s)||!i?.url?.pathname||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(let[p,m]of i.url.searchParams.entries())u.push(_S(p,m));let d=Object.create(null);if(at(i.body))for(let[p,m]of Object.entries(i.body))d[p]=m;let l=`${s==="select"?"":`${s}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,f={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[K]:"auto.db.supabase",[Ee]:"db"};return u.length&&(f["db.query"]=u),Object.keys(d).length&&(f["db.body"]=d),pr({name:l,attributes:f},p=>Reflect.apply(t,n,[]).then(m=>{if(p&&(m&&typeof m=="object"&&"status"in m&&Wt(p,m.status||500),p.end()),m.error){let S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);let E={};u.length&&(E.query=u),Object.keys(d).length&&(E.body=d),dt(S,{contexts:{supabase:E}})}let g={type:"supabase",category:`db.${s}`,message:l},_={};return u.length&&(_.query=u),Object.keys(d).length&&(_.body=d),Object.keys(_).length&&(g.data=_),qe(g),m},m=>{throw p&&(Wt(p,500),p.end()),m}).then(...r))}}),Qi(e.prototype.then))}function bS(e){for(let t of bf)es(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){let i=Reflect.apply(n,r,o),s=i.constructor;return T&&h.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),ES(s),i}}),Qi(e.prototype[t]))}var ts=e=>{if(!e){T&&h.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;yS(t),SS(e)},TS="Supabase",IS=e=>({setupOnce(){ts(e)},name:TS}),Hc=e=>IS(e.supabaseClient);var vS=10,wS="ZodErrors";function RS(e){return et(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function xS(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function CS(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function AS(e){let t=new Set;for(let r of e.issues){let o=CS(r.path);o.length>0&&t.add(o)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${ht(n.join(", "),100)}`}function kS(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!RS(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(xS);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:AS(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}var NS=(e={})=>{let t=e.limit??vS;return{name:wS,processEvent(n,r){return kS(t,e.saveZodIssuesAsAttachment,n,r)}}},$c=NS;var Wc=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{lt(n,(r,o)=>{if(o==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(Zi(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;Xi(r,n)})},processEvent(t){let n=MS(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](i=>!i.some(s=>e.filterKeys.includes(s)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function MS(e){let t=rr(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(Tf)).map(r=>r.slice(Tf.length)):[])}var Tf="_sentryBundlerPluginAppKey:";var vf=100,wf=10;w._spanToFlagBufferMap=new WeakMap;var If="flag.evaluation.";function Nt(e){let n=M().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function Et(e,t,n=vf){let r=M().getScopeData().contexts;r.flags||(r.flags={values:[]});let o=r.flags.values;OS(o,e,t,n)}function OS(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){T&&h.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let o=e.findIndex(i=>i.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function bt(e,t,n=wf){let r=w._spanToFlagBufferMap;if(!r||typeof t!="boolean")return;let o=Y();if(o){let i=r.get(o)||new Set;i.has(e)?o.setAttribute(`${If}${e}`,t):i.size<n&&(i.add(e),o.setAttribute(`${If}${e}`,t)),r.set(o,i)}}var Gc=()=>({name:"FeatureFlags",processEvent(e,t,n){return Nt(e)},addFeatureFlag(e,t){Et(e,t),bt(e,t)}});var LS="thismessage:/";function ns(e){return"isRelative"in e}function Ao(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?LS:void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function zc(e){if(ns(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Mt(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function ko(e){return e.split(/[?#]/,1)[0]}function jc(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,a=ze()&&t(s);if(e.endTimestamp&&a){let l=e.fetchData.__span;if(!l)return;let f=r[l];f&&(PS(f,e),delete r[l]);return}let c=!!Y(),u=a&&c?yt(US(s,i,o)):new Ue;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){let l=e.args[0],f=e.args[1]||{},p=DS(l,f,ze()&&c?u:void 0);p&&(e.args[1]=f,f.headers=p)}let d=b();if(d){let l={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,l)}return u}function DS(e,t,n){let r=Fn({span:n}),o=r["sentry-trace"],i=r.baggage;if(!o)return;let s=t.headers||(hi(e)?e.headers:void 0);if(s)if(FS(s)){let a=new Headers(s);if(a.get("sentry-trace")||a.set("sentry-trace",o),i){let c=a.get("baggage");c?rs(c)||a.set("baggage",`${c},${i}`):a.set("baggage",i)}return a}else if(Array.isArray(s)){let a=[...s];s.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",o]);let c=s.find(u=>u[0]==="baggage"&&rs(u[1]));return i&&!c&&a.push(["baggage",i]),a}else{let a="sentry-trace"in s?s["sentry-trace"]:void 0,c="baggage"in s?s.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],d=c&&(Array.isArray(c)?c.find(l=>rs(l)):rs(c));return i&&!d&&u.push(i),{...s,"sentry-trace":a??o,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function PS(e,t){if(t.response){Wt(e,t.response.status);let n=t.response?.headers&&t.response.headers.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function rs(e){return e.split(",").some(t=>t.trim().startsWith(Ti))}function FS(e){return typeof Headers<"u"&&ct(e,Headers)}function US(e,t,n){let r=Ao(e);return{name:r?`${t} ${zc(r)}`:t,attributes:BS(e,r,t,n)}}function BS(e,t,n,r){let o={url:e,type:"fetch","http.method":n,[K]:r,[Ee]:"http.client"};return t&&(ns(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function No(e,t={},n=M()){let{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||b();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var HS="ConsoleLogs",Rf={[K]:"auto.console.logging"},$S=(e={})=>{let t=e.levels||Yt;return{name:HS,setup(n){let{_experiments:r,normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=n.getOptions();if(!r?.enableLogs){T&&h.warn("`_experiments.enableLogs` is not enabled, ConsoleLogs integration disabled");return}Un(({args:s,level:a})=>{if(b()!==n||!t.includes(a))return;if(a==="assert"){if(!s[0]){let u=s.slice(1),d=u.length>0?`Assertion failed: ${xf(u,o,i)}`:"Assertion failed";yr({level:"error",message:d,attributes:Rf})}return}let c=a==="log";yr({level:c?"info":a,message:xf(s,o,i),severityNumber:c?10:void 0,attributes:Rf})})}}},qc=$S;function xf(e,t,n){return"util"in w&&typeof w.util.format=="function"?w.util.format(...e):WS(e,t,n)}function WS(e,t,n){return e.map(r=>mt(r)?String(r):JSON.stringify(Re(r,t,n))).join(" ")}function os(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var br=w;function Vc(){return"history"in br&&!!br.history}function GS(){if(!("fetch"in br))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Mo(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Oo(){if(typeof EdgeRuntime=="string")return!0;if(!GS())return!1;if(Mo(br.fetch))return!0;let e=!1,t=br.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Mo(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){T&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Yc(){return"ReportingObserver"in br}function Hn(e,t){let n="fetch";Le(n,e),De(n,()=>Af(void 0,t))}function Kc(e){let t="fetch-body-resolved";Le(t,e),De(t,()=>Af(jS))}function Af(e,t=!1){t&&!Oo()||he(w,"fetch",function(n){return function(...r){let o=new Error,{method:i,url:s}=qS(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:oe()*1e3,virtualError:o,headers:VS(r)};return e||Te("fetch",{...a}),n.apply(w,r).then(async c=>(e?e(c):Te("fetch",{...a,endTimestamp:oe()*1e3,response:c}),c),c=>{if(Te("fetch",{...a,endTimestamp:oe()*1e3,error:c}),et(c)&&c.stack===void 0&&(c.stack=o.stack,de(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function zS(e,t){if(e?.body){let n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:a}=await r.read();clearTimeout(s),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(s)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function jS(e){let t;try{t=e.clone()}catch{return}zS(t,()=>{Te("fetch-body-resolved",{endTimestamp:oe()*1e3,response:e})})}function Jc(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Cf(e){return typeof e=="string"?e:e?Jc(e,"url")?e.url:e.toString?e.toString():"":""}function qS(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Cf(n),method:Jc(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Cf(t),method:Jc(t,"method")?String(t.method).toUpperCase():"GET"}}function VS(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(hi(t))return new Headers(t.headers)}catch{}}function Xc(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Zc(){return"npm"}function kf(){return!Xc()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Tr(){return typeof window<"u"&&(!kf()||YS())}function YS(){return w.process?.type==="renderer"}var Ot=w,se=Ot.document,Lo=Ot.navigator,Vf="Report a Bug",JS="Cancel",KS="Send Bug Report",XS="Confirm",ZS="Report a Bug",QS="your.email@example.org",ey="Email",ty="What's the bug? What did you expect?",ny="Description",ry="Your Name",oy="Name",iy="Thank you for your report!",sy="(required)",ay="Add a screenshot",cy="Remove screenshot",uy="widget",ly="api",dy=5e3,cu=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=b();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&M().setTags(e.tags);let r=No({source:ly,url:Ge(),...e},t);return new Promise((o,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(s),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?o(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?i("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},cs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function fy(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Lo.userAgent)||/Macintosh/i.test(Lo.userAgent)&&Lo.maxTouchPoints&&Lo.maxTouchPoints>1||!isSecureContext)}function is(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:n=>{t.onSubmitSuccess?.(n),e.onSubmitSuccess?.(n)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function py(e){let t=se.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function ft(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var Ir=20,my="http://www.w3.org/2000/svg";function hy(){let e=a=>Ot.document.createElementNS(my,a),t=ft(e("svg"),{width:`${Ir}`,height:`${Ir}`,viewBox:`0 0 ${Ir} ${Ir}`,fill:"var(--actor-color, var(--foreground))"}),n=ft(e("g"),{clipPath:"url(#clip0_57_80)"}),r=ft(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=ft(e("clipPath"),{id:"clip0_57_80"}),s=ft(e("rect"),{width:`${Ir}`,height:`${Ir}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function gy({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let o=se.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||Vf,o.appendChild(hy()),e){let s=se.createElement("span");s.appendChild(se.createTextNode(e)),o.appendChild(s)}let i=py(r);return{el:o,appendToDom(){n.appendChild(i),n.appendChild(o)},removeFromDom(){o.remove(),i.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}var Yf="rgba(88, 74, 192, 1)",_y={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Yf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Nf={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Yf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Mf(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function Sy({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let o=se.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Mf(e==="dark"?{...Nf,...t}:{..._y,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Mf({...Nf,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}var ms=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:m,scriptNonce:g,colorScheme:_="system",themeLight:S={},themeDark:E={},addScreenshotButtonLabel:U=ay,cancelButtonLabel:A=JS,confirmButtonLabel:L=XS,emailLabel:y=ey,emailPlaceholder:C=QS,formTitle:D=ZS,isRequiredLabel:I=sy,messageLabel:x=ny,messagePlaceholder:N=ty,nameLabel:v=oy,namePlaceholder:R=ry,removeScreenshotButtonLabel:B=cy,submitButtonLabel:j=KS,successMessageText:F=iy,triggerLabel:te=Vf,triggerAriaLabel:H="",onFormOpen:Q,onFormClose:ne,onSubmitSuccess:Be,onSubmitError:Zn,onFormSubmitted:it}={})=>{let He={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:m,scriptNonce:g,colorScheme:_,themeDark:E,themeLight:S,triggerLabel:te,triggerAriaLabel:H,cancelButtonLabel:A,submitButtonLabel:j,confirmButtonLabel:L,formTitle:D,emailLabel:y,emailPlaceholder:C,messageLabel:x,messagePlaceholder:N,nameLabel:v,namePlaceholder:R,successMessageText:F,isRequiredLabel:I,addScreenshotButtonLabel:U,removeScreenshotButtonLabel:B,onFormClose:ne,onFormOpen:Q,onSubmitError:Zn,onSubmitSuccess:Be,onFormSubmitted:it},wt=null,Vt=[],Qn=pe=>{if(!wt){let Ae=se.createElement("div");Ae.id=String(pe.id),se.body.appendChild(Ae),wt=Ae.attachShadow({mode:"open"}),wt.appendChild(Sy(pe))}return wt},er=async pe=>{let Ae=pe.enableScreenshot&&fy(),Pt,ye;try{Pt=(t?t():await e("feedbackModalIntegration",g))(),Sr(Pt)}catch{throw cs&&h.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let Ft=Ae?n?n():await e("feedbackScreenshotIntegration",g):void 0;Ft&&(ye=Ft(),Sr(ye))}catch{cs&&h.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let ve=Pt.createDialog({options:{...pe,onFormClose:()=>{ve?.close(),pe.onFormClose?.()},onFormSubmitted:()=>{ve?.close(),pe.onFormSubmitted?.()}},screenshotIntegration:ye,sendFeedback:cu,shadow:Qn(pe)});return ve},Kr=(pe,Ae={})=>{let Pt=is(He,Ae),ye=typeof pe=="string"?se.querySelector(pe):typeof pe.addEventListener=="function"?pe:null;if(!ye)throw cs&&h.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ve=null,Ft=async()=>{ve||(ve=await er({...Pt,onFormSubmitted:()=>{ve?.removeFromDom(),Pt.onFormSubmitted?.()}})),ve.appendToDom(),ve.open()};ye.addEventListener("click",Ft);let An=()=>{Vt=Vt.filter(tr=>tr!==An),ve?.removeFromDom(),ve=null,ye.removeEventListener("click",Ft)};return Vt.push(An),An},ln=(pe={})=>{let Ae=is(He,pe),Pt=Qn(Ae),ye=gy({triggerLabel:Ae.triggerLabel,triggerAriaLabel:Ae.triggerAriaLabel,shadow:Pt,styleNonce:m});return Kr(ye.el,{...Ae,onFormOpen(){ye.hide()},onFormClose(){ye.show()},onFormSubmitted(){ye.show()}}),ye};return{name:"Feedback",setupOnce(){!Tr()||!He.autoInject||(se.readyState==="loading"?se.addEventListener("DOMContentLoaded",()=>ln().appendToDom()):ln().appendToDom())},attachTo:Kr,createWidget(pe={}){let Ae=ln(is(He,pe));return Ae.appendToDom(),Ae},async createForm(pe={}){return er(is(He,pe))},remove(){wt&&(wt.parentElement?.remove(),wt=null),Vt.forEach(pe=>pe()),Vt=[]}}};function Jf(){return b()?.getIntegrationByName("Feedback")}var hs,ce,Kf,$n,Of,Xf,ou,Do={},uu=[],yy=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,lu=Array.isArray;function Tn(e,t){for(var n in t)e[n]=t[n];return e}function Zf(e){var t=e.parentNode;t&&t.removeChild(e)}function q(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?hs.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return us(e,s,r,o,null)}function us(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Kf,__i:-1,__u:0};return o==null&&ce.vnode!=null&&ce.vnode(i),i}function Po(e){return e.children}function ls(e,t){this.props=e,this.context=t}function wr(e,t){if(t==null)return e.__?wr(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?wr(e):null}function Ey(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=Tn({},o)).__v=o.__v+1,ce.vnode&&ce.vnode(r),du(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??wr(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&Qf(r),r}function Qf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Qf(e)}}function Lf(e){(!e.__d&&(e.__d=!0)&&$n.push(e)&&!ps.__r++||Of!==ce.debounceRendering)&&((Of=ce.debounceRendering)||Xf)(ps)}function ps(){var e,t,n,r=[],o=[];for($n.sort(ou);e=$n.shift();)e.__d&&(n=$n.length,t=Ey(e,r,o)||t,n===0||$n.length>n?(iu(r,t,o),o.length=r.length=0,t=void 0,$n.sort(ou)):t&&ce.__c&&ce.__c(t,uu));t&&iu(r,t,o),ps.__r=0}function ep(e,t,n,r,o,i,s,a,c,u,d){var l,f,p,m,g,_=r&&r.__k||uu,S=t.length;for(n.__d=c,by(n,t,_),c=n.__d,l=0;l<S;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?Do:_[p.__i]||Do,p.__i=l,du(e,p,f,o,i,s,a,c,u,d),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&fu(f.ref,null,p),d.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),65536&p.__u||f.__k===p.__k?c=tp(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:m&&(c=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=g}function by(e,t,n){var r,o,i,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?us(null,o,null,null,o):lu(o)?us(Po,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?us(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=Ty(o,n,s=r+l,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=wr(i)),su(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&(131072&i.__u)==0&&(i.__e==e.__d&&(e.__d=wr(i)),su(i,i))}function tp(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=tp(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Ty(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return a;a++}}return-1}function Df(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||yy.test(t)?n:n+"px"}function ss(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Df(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Df(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?Ff:Pf,i)):e.removeEventListener(t,i?Ff:Pf,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Pf(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ce.event?ce.event(e):e)}}function Ff(e){if(this.l)return this.l[e.type+!0](ce.event?ce.event(e):e)}function du(e,t,n,r,o,i,s,a,c,u){var d,l,f,p,m,g,_,S,E,U,A,L,y,C,D,I=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=ce.__b)&&d(t);e:if(typeof I=="function")try{if(S=t.props,E=(d=I.contextType)&&r[d.__c],U=d?E?E.props.value:d.__:r,n.__c?_=(l=t.__c=n.__c).__=l.__E:("prototype"in I&&I.prototype.render?t.__c=l=new I(S,U):(t.__c=l=new ls(S,U),l.constructor=I,l.render=vy),E&&E.sub(l),l.props=S,l.state||(l.state={}),l.context=U,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),I.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Tn({},l.__s)),Tn(l.__s,I.getDerivedStateFromProps(S,l.__s))),p=l.props,m=l.state,l.__v=t,f)I.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(I.getDerivedStateFromProps==null&&S!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(S,U),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(S,l.__s,U)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=S,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(x){x&&(x.__=t)}),A=0;A<l._sb.length;A++)l.__h.push(l._sb[A]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(S,l.__s,U),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,m,g)})}if(l.context=U,l.props=S,l.__P=e,l.__e=!1,L=ce.__r,y=0,"prototype"in I&&I.prototype.render){for(l.state=l.__s,l.__d=!1,L&&L(t),d=l.render(l.props,l.state,l.context),C=0;C<l._sb.length;C++)l.__h.push(l._sb[C]);l._sb=[]}else do l.__d=!1,L&&L(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++y<25);l.state=l.__s,l.getChildContext!=null&&(r=Tn(Tn({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(p,m)),ep(e,lu(D=d!=null&&d.type===Po&&d.key==null?d.props.children:d)?D:[D],t,n,r,o,i,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),_&&(l.__E=l.__=null)}catch(x){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ce.__e(x,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Iy(n.__e,t,n,r,o,i,s,c,u);(d=ce.diffed)&&d(t)}function iu(e,t,n){for(var r=0;r<n.length;r++)fu(n[r],n[++r],n[++r]);ce.__c&&ce.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){ce.__e(i,o.__v)}})}function Iy(e,t,n,r,o,i,s,a,c){var u,d,l,f,p,m,g,_=n.props,S=t.props,E=t.type;if(E==="svg"&&(o=!0),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!E&&(E?p.localName===E:p.nodeType===3)){e=p,i[u]=null;break}}if(e==null){if(E===null)return document.createTextNode(S);e=o?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,S.is&&S),i=null,a=!1}if(E===null)_===S||a&&e.data===S||(e.data=S);else{if(i=i&&hs.call(e.childNodes),_=n.props||Do,!a&&i!=null)for(_={},u=0;u<e.attributes.length;u++)_[(p=e.attributes[u]).name]=p.value;for(u in _)p=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in S||ss(e,u,null,p,o));for(u in S)p=S[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?m=p:u=="checked"?g=p:u==="key"||a&&typeof p!="function"||_[u]===p||ss(e,u,p,_[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),ep(e,lu(f)?f:[f],t,n,r,o&&E!=="foreignObject",i,s,i?i[0]:n.__k&&wr(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&Zf(i[u]);a||(u="value",m!==void 0&&(m!==e[u]||E==="progress"&&!m||E==="option"&&m!==_[u])&&ss(e,u,m,_[u],!1),u="checked",g!==void 0&&g!==e[u]&&ss(e,u,g,_[u],!1))}return e}function fu(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ce.__e(r,n)}}function su(e,t,n){var r,o;if(ce.unmount&&ce.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||fu(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){ce.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&su(r[o],t,n||typeof e.type!="function");n||e.__e==null||Zf(e.__e),e.__=e.__e=e.__d=void 0}function vy(e,t,n){return this.constructor(e,n)}function wy(e,t,n){var r,o,i,s;ce.__&&ce.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],du(t,e=t.__k=q(Po,null,[e]),o||Do,Do,t.ownerSVGElement!==void 0,o?null:t.firstChild?hs.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),e.__d=void 0,iu(i,e,s)}hs=uu.slice,ce={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},Kf=0,ls.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Tn({},this.state),typeof e=="function"&&(e=e(Tn({},n),this.props)),e&&Tn(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Lf(this))},ls.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Lf(this))},ls.prototype.render=Po,$n=[],Xf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ou=function(e,t){return e.__v.__b-t.__v.__b},ps.__r=0;var rn,ae,Qc,Uf,Rr=0,np=[],ds=[],ge=ce,Bf=ge.__b,Hf=ge.__r,$f=ge.diffed,Wf=ge.__c,Gf=ge.unmount,zf=ge.__;function Gn(e,t){ge.__h&&ge.__h(ae,e,Rr||t),Rr=0;var n=ae.__H||(ae.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ds}),n.__[e]}function Wn(e){return Rr=1,rp(ip,e)}function rp(e,t,n){var r=Gn(rn++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):ip(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ae,!ae.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};ae.u=!0;var i=ae.shouldComponentUpdate,s=ae.componentWillUpdate;ae.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},ae.shouldComponentUpdate=o}return r.__N||r.__}function Ry(e,t){var n=Gn(rn++,3);!ge.__s&&pu(n.__H,t)&&(n.__=e,n.i=t,ae.__H.__h.push(n))}function op(e,t){var n=Gn(rn++,4);!ge.__s&&pu(n.__H,t)&&(n.__=e,n.i=t,ae.__h.push(n))}function xy(e){return Rr=5,Fo(function(){return{current:e}},[])}function Cy(e,t,n){Rr=6,op(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Fo(e,t){var n=Gn(rn++,7);return pu(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function vr(e,t){return Rr=8,Fo(function(){return e},t)}function Ay(e){var t=ae.context[e.__c],n=Gn(rn++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ae)),t.props.value):e.__}function ky(e,t){ge.useDebugValue&&ge.useDebugValue(t?t(e):e)}function Ny(e){var t=Gn(rn++,10),n=Wn();return t.__=e,ae.componentDidCatch||(ae.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function My(){var e=Gn(rn++,11);if(!e.__){for(var t=ae.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Oy(){for(var e;e=np.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(fs),e.__H.__h.forEach(au),e.__H.__h=[]}catch(t){e.__H.__h=[],ge.__e(t,e.__v)}}ge.__b=function(e){ae=null,Bf&&Bf(e)},ge.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),zf&&zf(e,t)},ge.__r=function(e){Hf&&Hf(e),rn=0;var t=(ae=e.__c).__H;t&&(Qc===ae?(t.__h=[],ae.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ds,n.__N=n.i=void 0})):(t.__h.forEach(fs),t.__h.forEach(au),t.__h=[],rn=0)),Qc=ae},ge.diffed=function(e){$f&&$f(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(np.push(t)!==1&&Uf===ge.requestAnimationFrame||((Uf=ge.requestAnimationFrame)||Ly)(Oy)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ds&&(n.__=n.__V),n.i=void 0,n.__V=ds})),Qc=ae=null},ge.__c=function(e,t){t.some(function(n){try{n.__h.forEach(fs),n.__h=n.__h.filter(function(r){return!r.__||au(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ge.__e(r,n.__v)}}),Wf&&Wf(e,t)},ge.unmount=function(e){Gf&&Gf(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{fs(r)}catch(o){t=o}}),n.__H=void 0,t&&ge.__e(t,n.__v))};var jf=typeof requestAnimationFrame=="function";function Ly(e){var t,n=function(){clearTimeout(r),jf&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);jf&&(t=requestAnimationFrame(n))}function fs(e){var t=ae,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ae=t}function au(e){var t=ae;e.__c=e.__(),ae=t}function pu(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function ip(e,t){return typeof t=="function"?t(e):t}var Dy=Object.defineProperty({__proto__:null,useCallback:vr,useContext:Ay,useDebugValue:ky,useEffect:Ry,useErrorBoundary:Ny,useId:My,useImperativeHandle:Cy,useLayoutEffect:op,useMemo:Fo,useReducer:rp,useRef:xy,useState:Wn},Symbol.toStringTag,{value:"Module"}),Py="http://www.w3.org/2000/svg";function Fy(){let e=r=>se.createElementNS(Py,r),t=ft(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=ft(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function Uy({options:e}){let t=Fo(()=>({__html:Fy().outerHTML}),[]);return q("h2",{class:"dialog__header"},q("span",{class:"dialog__title"},e.formTitle),e.showBranding?q("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function By(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function eu(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function Hy({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){let{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:m,emailPlaceholder:g,isEmailRequired:_,isNameRequired:S,messageLabel:E,messagePlaceholder:U,nameLabel:A,namePlaceholder:L,submitButtonLabel:y,isRequiredLabel:C}=e,[D,I]=Wn(!1),[x,N]=Wn(null),[v,R]=Wn(!1),B=u?.input,[j,F]=Wn(null),te=vr(ne=>{F(ne),R(!1)},[]),H=vr(ne=>{let Be=By(ne,{emailLabel:m,isEmailRequired:_,isNameRequired:S,messageLabel:E,nameLabel:A});return Be.length>0?N(`Please enter in the following required fields: ${Be.join(", ")}`):N(null),Be.length===0},[m,_,S,E,A]),Q=vr(async ne=>{I(!0);try{if(ne.preventDefault(),!(ne.target instanceof HTMLFormElement))return;let Be=new FormData(ne.target),Zn=await(u&&v?u.value():void 0),it={name:eu(Be,"name"),email:eu(Be,"email"),message:eu(Be,"message"),attachments:Zn?[Zn]:void 0};if(!H(it))return;try{await o({name:it.name,email:it.email,message:it.message,source:uy,tags:d},{attachments:it.attachments}),i(it)}catch(He){cs&&h.error(He),N(He),s(He)}}finally{I(!1)}},[u&&v,i,s]);return q("form",{class:"form",onSubmit:Q},B&&v?q(B,{onError:te}):null,q("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:D},q("div",{class:"form__top"},x?q("div",{class:"form__error-container"},x):null,c?q("label",{for:"name",class:"form__label"},q(tu,{label:A,isRequiredLabel:C,isRequired:S}),q("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:L,required:S,type:"text"})):q("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?q("label",{for:"email",class:"form__label"},q(tu,{label:m,isRequiredLabel:C,isRequired:_}),q("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:_,type:"email"})):q("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),q("label",{for:"message",class:"form__label"},q(tu,{label:E,isRequiredLabel:C,isRequired:!0}),q("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:U,required:!0,rows:5})),B?q("label",{for:"screenshot",class:"form__label"},q("button",{class:"btn btn--default",disabled:D,type:"button",onClick:()=>{F(null),R(ne=>!ne)}},v?f:l),j?q("div",{class:"form__error-container"},j.message):null):null),q("div",{class:"btn-group"},q("button",{class:"btn btn--primary",disabled:D,type:"submit"},y),q("button",{class:"btn btn--default",disabled:D,type:"button",onClick:r},p))))}function tu({label:e,isRequired:t,isRequiredLabel:n}){return q("span",{class:"form__label__text"},e,t&&q("span",{class:"form__label__text--required"},n))}var as=16,qf=17,$y="http://www.w3.org/2000/svg";function Wy(){let e=c=>Ot.document.createElementNS($y,c),t=ft(e("svg"),{width:`${as}`,height:`${qf}`,viewBox:`0 0 ${as} ${qf}`,fill:"inherit"}),n=ft(e("g"),{clipPath:"url(#clip0_57_156)"}),r=ft(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=ft(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=ft(e("clipPath"),{id:"clip0_57_156"}),a=ft(e("rect"),{width:`${as}`,height:`${as}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}function Gy({open:e,onFormSubmitted:t,...n}){let r=n.options,o=Fo(()=>({__html:Wy().outerHTML}),[]),[i,s]=Wn(null),a=vr(()=>{i&&(clearTimeout(i),s(null)),t()},[i]),c=vr(u=>{n.onSubmitSuccess(u),s(setTimeout(()=>{t(),s(null)},dy))},[t]);return q(Po,null,i?q("div",{class:"success__position",onClick:a},q("div",{class:"success__content"},r.successMessageText,q("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):q("dialog",{class:"dialog",onClick:r.onFormClose,open:e},q("div",{class:"dialog__position"},q("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},q(Uy,{options:r}),q(Hy,{...n,onSubmitSuccess:c})))))}var zy=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,jy=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,qy=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,Vy=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,Yy=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function Jy(e){let t=se.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${zy}
${jy}
${qy}
${Vy}
${Yy}
`,e&&t.setAttribute("nonce",e),t}function Ky(){let e=M().getUser(),t=ie().getUser(),n=Xt().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var sp=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,i=e.useSentryUser,s=Ky(),a=se.createElement("div"),c=Jy(e.styleNonce),u="",d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),se.body.style.overflow=u},open(){f(!0),e.onFormOpen?.(),b()?.emit("openFeedbackWidget"),u=se.body.style.overflow,se.body.style.overflow="hidden"},close(){f(!1),se.body.style.overflow=u}},l=t?.createInput({h:q,hooks:Dy,dialog:d,options:e}),f=p=>{wy(q(Gy,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s&&s[i.name]||"",defaultEmail:i&&s&&s[i.email]||"",onFormClose:()=>{f(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:m=>{f(!1),e.onSubmitSuccess?.(m)},onSubmitError:m=>{e.onSubmitError?.(m)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:p}),a)};return d}});function Xy({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function Zy(e){let t=se.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function Qy({h:e}){return function({action:n,setAction:r}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},"Hide")))}}function eE({hooks:e}){function t(){let[n,r]=e.useState(Ot.devicePixelRatio??1);return e.useEffect(()=>{let o=()=>{r(Ot.devicePixelRatio)},i=matchMedia(`(resolution: ${Ot.devicePixelRatio}dppx)`);return i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:i,onError:s}){let a=t();e.useEffect(()=>{(async()=>{r();let u=await Lo.mediaDevices.getDisplayMedia({video:{width:Ot.innerWidth*a,height:Ot.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=se.createElement("video");await new Promise((l,f)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(p=>p.stop()),l()},d.play().catch(f)}),i()})().catch(s)},[])}}function tE(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function bn(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function nu(e,t){bn(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function ru(e,t,n){bn(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(i=>{tE(i,o,t)})})}function nE({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){let i=eE({hooks:t}),s=Qy({h:e}),a=Xy({h:e}),c={__html:Zy(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{let[f,p]=t.useState("highlight"),[m,g]=t.useState([]),_=t.useRef(null),S=t.useRef(null),E=t.useRef(null),U=t.useRef(null),[A,L]=t.useState(1),y=t.useMemo(()=>{let v=se.getElementById(o.id);if(!v)return"white";let R=getComputedStyle(v);return R.getPropertyValue("--button-primary-background")||R.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{let v=()=>{let R=_.current;R&&(bn(l.canvas,{alpha:!1},B=>{let j=Math.min(R.clientWidth/B.width,R.clientHeight/B.height);L(j)}),(R.clientHeight===0||R.clientWidth===0)&&setTimeout(v,0))};return v(),Ot.addEventListener("resize",v),()=>{Ot.removeEventListener("resize",v)}},[l]);let C=t.useCallback((v,R)=>{bn(v,{alpha:!0},(B,j)=>{j.scale(R,R),B.width=l.canvas.width,B.height=l.canvas.height})},[l]);t.useEffect(()=>{C(S.current,l.dpi),nu(S.current,l.canvas)},[l]),t.useEffect(()=>{C(E.current,l.dpi),bn(E.current,{alpha:!0},(v,R)=>{R.clearRect(0,0,v.width,v.height)}),ru(E.current,y,m)},[m,y]),t.useEffect(()=>{C(n,l.dpi),nu(n,l.canvas),bn(se.createElement("canvas"),{alpha:!0},(v,R)=>{R.scale(l.dpi,l.dpi),v.width=l.canvas.width,v.height=l.canvas.height,ru(v,y,m),nu(n,v)})},[m,l,y]);let D=v=>{if(!f||!U.current)return;let R=U.current.getBoundingClientRect(),B={type:f,x:v.offsetX/A,y:v.offsetY/A},j=(H,Q)=>{let ne=(Q.clientX-R.x)/A,Be=(Q.clientY-R.y)/A;return{type:H.type,x:Math.min(H.x,ne),y:Math.min(H.y,Be),w:Math.abs(ne-H.x),h:Math.abs(Be-H.y)}},F=H=>{bn(E.current,{alpha:!0},(Q,ne)=>{ne.clearRect(0,0,Q.width,Q.height)}),ru(E.current,y,[...m,j(B,H)])},te=H=>{let Q=j(B,H);Q.w*A>=1&&Q.h*A>=1&&g(ne=>[...ne,Q]),se.removeEventListener("mousemove",F),se.removeEventListener("mouseup",te)};se.addEventListener("mousemove",F),se.addEventListener("mouseup",te)},I=t.useCallback(v=>R=>{R.preventDefault(),R.stopPropagation(),g(B=>{let j=[...B];return j.splice(v,1),j})},[]),x={width:`${l.canvas.width*A}px`,height:`${l.canvas.height*A}px`},N=v=>{v.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:_},e("canvas",{ref:S,id:"background",style:x}),e("canvas",{ref:E,id:"foreground",style:x}),e("div",{ref:U,onMouseDown:D,style:x},m.map((v,R)=>e("div",{key:R,class:"editor__rect",style:{top:`${v.y*A}px`,left:`${v.x*A}px`,width:`${v.w*A}px`,height:`${v.h*A}px`}},e("button",{"aria-label":"Remove",onClick:I(R),onMouseDown:N,onMouseUp:N,type:"button"},e(a,null))))))),e(s,{action:f,setAction:p}))};return function({onError:f}){let[p,m]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((g,_)=>{bn(se.createElement("canvas"),{alpha:!1},(S,E)=>{E.scale(_,_),S.width=g.videoWidth,S.height=g.videoHeight,E.drawImage(g,0,0,S.width,S.height),m({canvas:S,dpi:_})}),n.width=g.videoWidth,n.height=g.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(g=>{u.display="block",f(g)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var ap=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=se.createElement("canvas");return{input:nE({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{let i=await new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(await i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}});var k=w,mu=0;function hu(){return mu>0}function rE(){mu++,setTimeout(()=>{mu--})}function zn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(On(e))return e}catch{return e}let r=function(...o){try{let i=o.map(s=>zn(s,t));return e.apply(this,i)}catch(i){throw rE(),we(s=>{s.addEventProcessor(a=>(t.mechanism&&(ir(a,void 0,void 0),tt(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),dt(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}gi(r,e),de(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Uo(){let e=Ge(),{referrer:t}=k.document||{},{userAgent:n}=k.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}var oE={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},cp=k;async function gs(e,t){let n=oE[e],r=cp.Sentry=cp.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;let i=iE(n),s=k.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let a=new Promise((l,f)=>{s.addEventListener("load",()=>l()),s.addEventListener("error",f)}),c=k.document.currentScript,u=k.document.body||k.document.head||c?.parentElement;if(u)u.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function iE(e){let n=b()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Xe}/${e}.min.js`,n).toString()}var up=ms({lazyLoadIntegration:gs});var gu=ms({getModalIntegration:()=>sp,getScreenshotIntegration:()=>ap});var _u={};ql(_u,{debug:()=>aE,error:()=>lE,fatal:()=>dE,fmt:()=>Ac,info:()=>cE,trace:()=>sE,warn:()=>uE});function xr(e,t,n,r){yr({level:e,message:t,attributes:n,severityNumber:r})}function sE(e,t){xr("trace",e,t)}function aE(e,t){xr("debug",e,t)}function cE(e,t){xr("info",e,t)}function uE(e,t){xr("warn",e,t)}function lE(e,t){xr("error",e,t)}function dE(e,t){xr("fatal",e,t)}function Cr(e,t){let n=Eu(e,t),r={type:gE(t),value:_E(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function fE(e,t,n,r){let i=b()?.getOptions().normalizeDepth,s=EE(t),a={__serialized__:Mi(t,i)};if(s)return{exception:{values:[Cr(e,s)]},extra:a};let c={exception:{values:[{type:Nn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:SE(t,{isUnhandledRejection:r})}]},extra:a};if(n){let u=Eu(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Su(e,t){return{exception:{values:[Cr(e,t)]}}}function Eu(e,t){let n=t.stacktrace||t.stack||"",r=mE(t),o=hE(t);try{return e(n,r,o)}catch{}return[]}var pE=/Minified React error #\d+;/i;function mE(e){return e&&pE.test(e.message)?1:0}function hE(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function lp(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function gE(e){let t=e?.name;return!t&&lp(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function _E(e){let t=e?.message;return lp(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function _s(e,t,n,r){let o=n?.syntheticException||void 0,i=ys(e,t,o,r);return tt(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),je(i)}function Ss(e,t,n="info",r,o){let i=r?.syntheticException||void 0,s=yu(e,t,i,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),je(s)}function ys(e,t,n,r,o){let i;if(pi(t)&&t.error)return Su(e,t.error);if(mi(t)||ka(t)){let s=t;if("stack"in t)i=Su(e,t);else{let a=s.name||(mi(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=yu(e,c,n,r),ir(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return et(t)?Su(e,t):at(t)||Nn(t)?(i=fE(e,t,n,o),tt(i,{synthetic:!0}),i):(i=yu(e,t,n,r),ir(i,`${t}`,void 0),tt(i,{synthetic:!0}),i)}function yu(e,t,n,r){let o={};if(r&&n){let i=Eu(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),tt(o,{synthetic:!0})}if(fn(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function SE(e,{isUnhandledRejection:t}){let n=Da(e),r=t?"promise rejection":"exception";return pi(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Nn(e)?`Event \`${yE(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function yE(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function EE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var bE=5e3,Ar=class extends bo{constructor(t){let n=TE(t),r=k.SENTRY_SDK_SOURCE||Zc();Mc(n,"browser",["browser"],r),super(n);let{sendDefaultPii:o,sendClientReports:i,_experiments:s}=this._options,a=s?.enableLogs;k.document&&(i||a)&&k.document.addEventListener("visibilitychange",()=>{k.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),a&&Er(this))}),a&&(this.on("flush",()=>{Er(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Er(this)},bE)})),o&&(this.on("postprocessEvent",kc),this.on("beforeSendSession",Nc))}eventFromException(t,n){return _s(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Ss(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}};function TE(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:k.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}var on=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var P=w;var IE=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Tt=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o??0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=IE(t.value,n),e(t)))}};var dp=()=>`v5-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var sn=(e=!0)=>{let t=P.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var It=()=>sn()?.activationStart??0;var vt=(e,t=-1)=>{let n=sn(),r="navigate";return n&&(P.document?.prerendering||It()>0?r="prerender":P.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:dp(),navigationType:r}};var bu=new WeakMap;function kr(e,t){return bu.get(e)||bu.set(e,new t),bu.get(e)}var Es=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;let n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}};var rt=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}};var In=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var Bo=-1,vE=()=>P.document?.visibilityState==="hidden"&&!P.document?.prerendering?0:1/0,bs=e=>{P.document.visibilityState==="hidden"&&Bo>-1&&(Bo=e.type==="visibilitychange"?e.timeStamp:0,RE())},wE=()=>{addEventListener("visibilitychange",bs,!0),addEventListener("prerenderingchange",bs,!0)},RE=()=>{removeEventListener("visibilitychange",bs,!0),removeEventListener("prerenderingchange",bs,!0)},vn=()=>{if(P.document&&Bo<0){let e=It();Bo=(P.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??vE(),wE()}return{get firstHiddenTime(){return Bo}}};var Gt=e=>{P.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var xE=[1800,3e3],fp=(e,t={})=>{Gt(()=>{let n=vn(),r=vt("FCP"),o,s=rt("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-It(),0),r.entries.push(c),o(!0)))});s&&(o=Tt(e,r,xE,t.reportAllChanges))})};var CE=[.1,.25],pp=(e,t={})=>{fp(In(()=>{let n=vt("CLS",0),r,o=kr(t,Es),i=a=>{for(let c of a)o._processEntry(c);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},s=rt("layout-shift",i);s&&(r=Tt(e,n,CE,t.reportAllChanges),P.document?.addEventListener("visibilitychange",()=>{P.document?.visibilityState==="hidden"&&(i(s.takeRecords()),r(!0))}),P?.setTimeout?.(r))}))};var wn=e=>{let t=n=>{(n.type==="pagehide"||P.document?.visibilityState==="hidden")&&e(n)};P.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var AE=[100,300],mp=(e,t={})=>{Gt(()=>{let n=vn(),r=vt("FID"),o,i=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),o(!0))},s=c=>{c.forEach(i)},a=rt("first-input",s);o=Tt(e,r,AE,t.reportAllChanges),a&&wn(In(()=>{s(a.takeRecords()),a.disconnect()}))})};var hp=0,Tu=1/0,Ts=0,kE=e=>{e.forEach(t=>{t.interactionId&&(Tu=Math.min(Tu,t.interactionId),Ts=Math.max(Ts,t.interactionId),hp=Ts?(Ts-Tu)/7+1:0)})},Iu,vu=()=>Iu?hp:performance.interactionCount||0,gp=()=>{"interactionCount"in performance||Iu||(Iu=rt("event",kE,{type:"event",buffered:!0,durationThreshold:0}))};var wu=10,_p=0,NE=()=>vu()-_p,Is=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){_p=vu(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let t=Math.min(this._longestInteractionList.length-1,Math.floor(NE()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;let n=this._longestInteractionList.at(-1),r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<wu||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,i)=>i._latency-o._latency),this._longestInteractionList.length>wu){let o=this._longestInteractionList.splice(wu);for(let i of o)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}};var vs=e=>{let t=P.requestIdleCallback||P.setTimeout;P.document?.visibilityState==="hidden"?e():(e=In(e),t(e),wn(e))};var ME=[200,500],OE=40,Sp=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Gt(()=>{gp();let n=vt("INP"),r,o=kr(t,Is),i=a=>{vs(()=>{for(let u of a)o._processEntry(u);let c=o._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},s=rt("event",i,{durationThreshold:t.durationThreshold??OE});r=Tt(e,n,ME,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),wn(()=>{i(s.takeRecords()),r(!0)}))})};var ws=class{_processEntry(t){this._onBeforeProcessingEntry?.(t)}};var LE=[2500,4e3],yp=(e,t={})=>{Gt(()=>{let n=vn(),r=vt("LCP"),o,i=kr(t,ws),s=c=>{t.reportAllChanges||(c=c.slice(-1));for(let u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-It(),0),r.entries=[u],o())},a=rt("largest-contentful-paint",s);if(a){o=Tt(e,r,LE,t.reportAllChanges);let c=In(()=>{s(a.takeRecords()),a.disconnect(),o(!0)});for(let u of["keydown","click","visibilitychange"])P.document&&addEventListener(u,()=>vs(c),{capture:!0,once:!0})}})};var DE=[800,1800],Ru=e=>{P.document?.prerendering?Gt(()=>Ru(e)):P.document?.readyState!=="complete"?addEventListener("load",()=>Ru(e),!0):setTimeout(e)},Ep=(e,t={})=>{let n=vt("TTFB"),r=Tt(e,n,DE,t.reportAllChanges);Ru(()=>{let o=sn();o&&(n.value=Math.max(o.responseStart-It(),0),n.entries=[o],r(!0))})};var Ho={},Rs={},bp,Tp,Ip,vp,wp;function jn(e,t=!1){return zo("cls",e,PE,bp,t)}function $o(e,t=!1){return zo("lcp",e,UE,Ip,t)}function Wo(e){return zo("fid",e,FE,Tp)}function xu(e){return zo("ttfb",e,BE,vp)}function Go(e){return zo("inp",e,HE,wp)}function Lt(e,t){return Rp(e,t),Rs[e]||($E(e),Rs[e]=!0),xp(e,t)}function Nr(e,t){let n=Ho[e];if(n?.length)for(let r of n)try{r(t)}catch(o){on&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Qe(r)}
Error:`,o)}}function PE(){return pp(e=>{Nr("cls",{metric:e}),bp=e},{reportAllChanges:!0})}function FE(){return mp(e=>{Nr("fid",{metric:e}),Tp=e})}function UE(){return yp(e=>{Nr("lcp",{metric:e}),Ip=e},{reportAllChanges:!0})}function BE(){return Ep(e=>{Nr("ttfb",{metric:e}),vp=e})}function HE(){return Sp(e=>{Nr("inp",{metric:e}),wp=e})}function zo(e,t,n,r,o=!1){Rp(e,t);let i;return Rs[e]||(i=n(),Rs[e]=!0),r&&t({metric:r}),xp(e,t,o?i:void 0)}function $E(e){let t={};e==="event"&&(t.durationThreshold=0),rt(e,n=>{Nr(e,{entries:n})},t)}function Rp(e,t){Ho[e]=Ho[e]||[],Ho[e].push(t)}function xp(e,t,n){return()=>{n&&n();let r=Ho[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Cp(e){return"duration"in e}function xs(e){return typeof e=="number"&&isFinite(e)}function zt(e,t,n,{...r}){let o=O(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),_n(e,()=>{let i=yt({startTime:t,...r});return i&&i.end(n),i})}function Cs(e){let t=b();if(!t)return;let{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=M(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0,m;try{m=l.getScopeData().contexts.profile.profile_id}catch{}let g={release:s,environment:a,user:p||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":P.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return yt({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function jo(){return P.addEventListener&&P.performance}function me(e){return e/1e3}function qo(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function Ap(){let e=0,t,n;if(!GE())return;let r=!1;function o(){r||(r=!0,n&&WE(e,t,n),i())}let i=jn(({metric:s})=>{let a=s.entries[s.entries.length-1];a&&(e=s.value,t=a)},!0);wn(()=>{o()}),setTimeout(()=>{let s=b();if(!s)return;let a=s.on("startNavigationSpan",()=>{o(),a?.()}),c=Y();if(c){let u=X(c);O(u).op==="pageload"&&(n=u.spanContext().spanId)}},0)}function WE(e,t,n){on&&h.log(`Sending CLS span (${e})`);let r=me((_e()||0)+(t?.startTime||0)),o=M().getScopeData().transactionName,i=t?ke(t.sources[0]?.node):"Layout shift",s={[K]:"auto.http.browser.cls",[Ee]:"ui.webvital.cls",[$t]:t?.duration||0,"sentry.pageload.span_id":n};t?.sources&&t.sources.forEach((c,u)=>{s[`cls.source.${u+1}`]=ke(c.node)});let a=Cs({name:i,transaction:o,attributes:s,startTime:r});a&&(a.addEvent("cls",{[mn]:"",[hn]:e}),a.end(r))}function GE(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}var zE=2147483647,kp=0,Oe={},ot,ks;function Au({recordClsStandaloneSpans:e}){let t=jo();if(t&&_e()){t.mark&&P.performance.mark("sentry-tracing-init");let n=VE(),r=qE(),o=YE(),i=e?Ap():jE();return()=>{n(),r(),o(),i?.()}}return()=>{}}function ku(){Lt("longtask",({entries:e})=>{let t=Y();if(!t)return;let{op:n,start_timestamp:r}=O(t);for(let o of e){let i=me(_e()+o.startTime),s=me(o.duration);n==="navigation"&&r&&i<r||zt(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[K]:"auto.ui.browser.metrics"}})}})}function Nu(){new PerformanceObserver(t=>{let n=Y();if(n)for(let r of t.getEntries()){if(!r.scripts[0])continue;let o=me(_e()+r.startTime),{start_timestamp:i,op:s}=O(n);if(s==="navigation"&&i&&o<i)continue;let a=me(r.duration),c={[K]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:m}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),m!==-1&&(c["browser.script.source_char_position"]=m),zt(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Mu(){Lt("event",({entries:e})=>{let t=Y();if(t){for(let n of e)if(n.name==="click"){let r=me(_e()+n.startTime),o=me(n.duration),i={name:ke(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[K]:"auto.ui.browser.metrics"}},s=eo(n.target);s&&(i.attributes["ui.component_name"]=s),zt(t,r,r+o,i)}}})}function jE(){return jn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Oe.cls={value:e.value,unit:""},ks=t)},!0)}function qE(){return $o(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Oe.lcp={value:e.value,unit:"millisecond"},ot=t)},!0)}function VE(){return Wo(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=me(_e()),r=me(t.startTime);Oe.fid={value:e.value,unit:"millisecond"},Oe["mark.fid"]={value:n+r,unit:"second"}})}function YE(){return xu(({metric:e})=>{e.entries[e.entries.length-1]&&(Oe.ttfb={value:e.value,unit:"millisecond"})})}function Ou(e,t){let n=jo(),r=_e();if(!n?.getEntries||!r)return;let o=me(r),i=n.getEntries(),{op:s,start_timestamp:a}=O(e);if(i.slice(kp).forEach(c=>{let u=me(c.startTime),d=me(Math.max(0,c.duration));if(!(s==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{XE(e,c,o);break}case"mark":case"paint":case"measure":{JE(e,c,u,d,o,t.ignorePerformanceApiSpans);let l=vn(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(Oe.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(Oe.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{eb(e,c,c.name,u,d,o,t.ignoreResourceSpans);break}}}),kp=Math.max(i.length-1,0),tb(e),s==="pageload"){rb(Oe);let c=Oe["mark.fid"];c&&Oe.fid&&(zt(e,c.value,c.value+me(Oe.fid.value),{name:"first input delay",op:"ui.action",attributes:{[K]:"auto.ui.browser.metrics"}}),delete Oe["mark.fid"]),(!("fcp"in Oe)||!t.recordClsOnPageloadSpan)&&delete Oe.cls,Object.entries(Oe).forEach(([u,d])=>{fo(u,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",It()),nb(e)}ot=void 0,ks=void 0,Oe={}}function JE(e,t,n,r,o,i){if(["mark","measure"].includes(t.entryType)&&Ne(t.name,i))return;let s=sn(!1),a=me(s?s.requestStart:0),c=o+Math.max(n,a),u=o+n,d=u+r,l={[K]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),KE(l,t),c<=d&&zt(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function KE(e,t){try{let n=t.detail;if(!n)return;if(typeof n=="object"){for(let[r,o]of Object.entries(n))if(o&&mt(o))e[`sentry.browser.measure.detail.${r}`]=o;else if(o!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(o)}catch{}return}if(mt(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function XE(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{As(e,t,r,n)}),As(e,t,"secureConnection",n,"TLS/SSL"),As(e,t,"fetch",n,"cache"),As(e,t,"domainLookup",n,"DNS"),QE(e,t,n)}function As(e,t,n,r,o=n){let i=ZE(n),s=t[i],a=t[`${n}Start`];!a||!s||zt(e,r+me(a),r+me(s),{op:`browser.${o}`,name:t.name,attributes:{[K]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function ZE(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function QE(e,t,n){let r=n+me(t.requestStart),o=n+me(t.responseEnd),i=n+me(t.responseStart);t.responseEnd&&(zt(e,r,o,{op:"browser.request",name:t.name,attributes:{[K]:"auto.ui.browser.metrics"}}),zt(e,i,o,{op:"browser.response",name:t.name,attributes:{[K]:"auto.ui.browser.metrics"}}))}function eb(e,t,n,r,o,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;let c=Mt(n),u={[K]:"auto.resource.browser.metrics"};Cu(u,t,"transferSize","http.response_transfer_size"),Cu(u,t,"encodedBodySize","http.response_content_length"),Cu(u,t,"decodedBodySize","http.decoded_response_content_length");let d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);let l=t.renderBlockingStatus;l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(P.location.origin);let{name:f,version:p}=qo(t.nextHopProtocol);u["network.protocol.name"]=f,u["network.protocol.version"]=p;let m=i+r,g=m+o;zt(e,m,g,{name:n.replace(P.location.origin,""),op:a,attributes:u})}function tb(e){let t=P.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),xs(n.rtt)&&(Oe["connection.rtt"]={value:n.rtt,unit:"millisecond"})),xs(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),xs(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function nb(e){ot&&(ot.element&&e.setAttribute("lcp.element",ke(ot.element)),ot.id&&e.setAttribute("lcp.id",ot.id),ot.url&&e.setAttribute("lcp.url",ot.url.trim().slice(0,200)),ot.loadTime!=null&&e.setAttribute("lcp.loadTime",ot.loadTime),ot.renderTime!=null&&e.setAttribute("lcp.renderTime",ot.renderTime),e.setAttribute("lcp.size",ot.size)),ks?.sources&&ks.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,ke(t.node)))}function Cu(e,t,n,r){let o=t[n];o!=null&&o<zE&&(e[r]=o)}function rb(e){let t=sn(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}var ob=1e3,Np,Lu,Du;function Vo(e){let t="dom";Le(t,e),De(t,ib)}function ib(){if(!P.document)return;let e=Te.bind(null,"dom"),t=Mp(e,!0);P.document.addEventListener("click",t,!1),P.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let o=P[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(he(o,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){let l=Mp(e);d.handler=l,i.call(this,s,l,c)}d.refCount++}catch{}return i.call(this,s,a,c)}}),he(o,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,c)}}))})}function sb(e){if(e.type!==Lu)return!1;try{if(!e.target||e.target._sentryId!==Du)return!1}catch{}return!0}function ab(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Mp(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=cb(n);if(ab(n.type,r))return;de(n,"_sentryCaptured",!0),r&&!r._sentryId&&de(r,"_sentryId",fe());let o=n.type==="keypress"?"input":n.type;sb(n)||(e({event:n,name:o,global:t}),Lu=n.type,Du=r?r._sentryId:void 0),clearTimeout(Np),Np=P.setTimeout(()=>{Du=void 0,Lu=void 0},ob)}}function cb(e){try{return e.target}catch{return null}}var Ns;function an(e){let t="history";Le(t,e),De(t,ub)}function ub(){if(P.addEventListener("popstate",()=>{let t=P.location.href,n=Ns;if(Ns=t,n===t)return;Te("history",{from:n,to:t})}),!Vc())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let o=Ns,i=lb(String(r));if(Ns=i,o===i)return t.apply(this,n);Te("history",{from:o,to:i})}return t.apply(this,n)}}he(P.history,"pushState",e),he(P.history,"replaceState",e)}function lb(e){try{return new URL(e,P.location.origin).toString()}catch{return e}}var Ms={};function Mr(e){let t=Ms[e];if(t)return t;let n=P[e];if(Mo(n))return Ms[e]=n.bind(P);let r=P.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){on&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(Ms[e]=n.bind(P))}function Os(e){Ms[e]=void 0}function qn(...e){return Mr("setTimeout")(...e)}var Ye="__sentry_xhr_v3__";function Vn(e){let t="xhr";Le(t,e),De(t,db)}function db(){if(!P.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let o=new Error,i=oe()*1e3,s=xe(r[0])?r[0].toUpperCase():void 0,a=fb(r[1]);if(!s||!a)return t.apply(n,r);n[Ye]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let c=()=>{let u=n[Ye];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}let d={endTimestamp:oe()*1e3,startTimestamp:i,xhr:n,virtualError:o};Te("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){let[f,p]=l,m=d[Ye];return m&&xe(f)&&xe(p)&&(m.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let o=n[Ye];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);let i={startTimestamp:oe()*1e3,xhr:n};return Te("xhr",i),t.apply(n,r)}})}function fb(e){if(xe(e))return e;try{return e.toString()}catch{}}function Ls(e){return new URLSearchParams(e).toString()}function Yn(e,t=h){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Ls(e)];if(!e)return[void 0]}catch(n){return on&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return on&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Or(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var Pu=[],Ds=new Map,pb=60;function Fu(){if(jo()&&_e()){let t=mb();return()=>{t()}}return()=>{}}var Op={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function mb(){return Go(hb)}var hb=({metric:e})=>{if(e.value==null)return;let t=me(e.value);if(t>pb)return;let n=e.entries.find(m=>m.duration===e.value&&Op[m.name]);if(!n)return;let{interactionId:r}=n,o=Op[n.name],i=me(_e()+n.startTime),s=Y(),a=s?X(s):void 0,u=(r!=null?Ds.get(r):void 0)||a,d=u?O(u).description:M().getScopeData().transactionName,l=ke(n.target),f={[K]:"auto.http.browser.inp",[Ee]:`ui.interaction.${o}`,[$t]:n.duration},p=Cs({name:l,transaction:d,attributes:f,startTime:i});p&&(p.addEvent("inp",{[mn]:"millisecond",[hn]:e.value}),p.end(i+t))};function Uu(){let e=({entries:t})=>{let n=Y(),r=n&&X(n);t.forEach(o=>{if(!Cp(o)||!r)return;let i=o.interactionId;if(i!=null&&!Ds.has(i)){if(Pu.length>10){let s=Pu.shift();Ds.delete(s)}Pu.push(i),Ds.set(i,r)}})};Lt("event",e),Lt("first-input",e)}function Lr(e,t=Mr("fetch")){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Os("fetch"),Sn("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Os("fetch"),n-=s,r--,Sn(c)}}return vo(e,o)}var gb=10,_b=20,Sb=30,yb=40,Eb=50;function Dr(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?st:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var bb=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Tb=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ib=/\((\S*)(?::(\d+))(?::(\d+))\)/,vb=e=>{let t=bb.exec(e);if(t){let[,r,o,i]=t;return Dr(r,st,+o,+i)}let n=Tb.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let s=Ib.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}let[o,i]=Fp(n[1]||st,n[2]);return Dr(i,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Bu=[Sb,vb],wb=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Rb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,xb=e=>{let t=wb.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=Rb.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||st;return[o,r]=Fp(o,r),Dr(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Hu=[Eb,xb],Cb=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ab=e=>{let t=Cb.exec(e);return t?Dr(t[2],t[1]||st,+t[3],t[4]?+t[4]:void 0):void 0},Lp=[yb,Ab],kb=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Nb=e=>{let t=kb.exec(e);return t?Dr(t[2],t[3]||st,+t[1]):void 0},Dp=[gb,Nb],Mb=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Ob=e=>{let t=Mb.exec(e);return t?Dr(t[5],t[3]||t[4]||st,+t[1],+t[2]):void 0},Pp=[_b,Ob],$u=[Bu,Hu],Ps=di(...$u),Fp=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:st,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Up(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:nt(r)}},i=Lb(e);return Me(o,[i])}function Lb(e){return[{type:"user_report"},e]}var $=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Fs=1024,Db="Breadcrumbs",Pb=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Db,setup(n){t.console&&Un(Bb(n)),t.dom&&Vo(Ub(n,t.dom)),t.xhr&&Vn(Hb(n)),t.fetch&&Hn($b(n)),t.history&&an(Wb(n)),t.sentry&&n.on("beforeSendEvent",Fb(n))}}},Us=Pb;function Fb(e){return function(n){b()===e&&qe({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ut(n)},{event:n})}}function Ub(e,t){return function(r){if(b()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Fs&&($&&h.warn(`\`dom.maxStringLength\` cannot exceed ${Fs}, but a value of ${a} was configured. Sentry will use ${Fs} instead.`),a=Fs),typeof s=="string"&&(s=[s]);try{let u=r.event,d=Gb(u)?u.target:u;o=ke(d,{keyAttrs:s,maxStringLength:a}),i=eo(d)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),qe(c,{event:r.event,name:r.name,global:r.global})}}function Bb(e){return function(n){if(b()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:Bn(n.level),message:Mn(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Mn(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;qe(r,{input:n.args,level:n.level})}}function Hb(e){return function(n){if(b()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Ye];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},f={category:"xhr",data:d,type:"http",level:os(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),qe(f,l)}}function $b(e){return function(n){if(b()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),qe(a,s)}else{let i=n.response,s={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;let a={input:n.args,response:i,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:s,type:"http",level:os(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),qe(c,a)}}}function Wb(e){return function(n){if(b()!==e)return;let r=n.from,o=n.to,i=Mt(k.location.href),s=r?Mt(r):void 0,a=Mt(o);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),qe({category:"navigation",data:{from:r,to:o}})}}function Gb(e){return!!e&&!!e.target}var zb=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],jb="BrowserApiErrors",qb=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:jb,setupOnce(){t.setTimeout&&he(k,"setTimeout",Bp),t.setInterval&&he(k,"setInterval",Bp),t.requestAnimationFrame&&he(k,"requestAnimationFrame",Vb),t.XMLHttpRequest&&"XMLHttpRequest"in k&&he(XMLHttpRequest.prototype,"send",Yb);let n=t.eventTarget;n&&(Array.isArray(n)?n:zb).forEach(o=>Jb(o,t))}}},Bs=qb;function Bp(e){return function(...t){let n=t[0];return t[0]=zn(n,{mechanism:{data:{function:Qe(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Vb(e){return function(t){return e.apply(this,[zn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Qe(e)},handled:!1,type:"instrument"}})])}}function Yb(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&he(n,o,function(i){let s={mechanism:{data:{function:o,handler:Qe(i)},handled:!1,type:"instrument"}},a=On(i);return a&&(s.mechanism.data.handler=Qe(a)),zn(i,s)})}),e.apply(this,t)}}function Jb(e,t){let r=k[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(he(r,"addEventListener",function(o){return function(i,s,a){try{Kb(s)&&(s.handleEvent=zn(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Qe(s),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&Xb(this,i,s),o.apply(this,[i,zn(s,{mechanism:{data:{function:"addEventListener",handler:Qe(s),target:e},handled:!1,type:"instrument"}}),a])}}),he(r,"removeEventListener",function(o){return function(i,s,a){try{let c=s.__sentry_wrapped__;c&&o.call(this,i,c,a)}catch{}return o.call(this,i,s,a)}}))}function Kb(e){return typeof e.handleEvent=="function"}function Xb(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var Hs=()=>({name:"BrowserSession",setupOnce(){if(typeof k.document>"u"){$&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}gr({ignoreDuration:!0}),_r(),an(({from:e,to:t})=>{e!==void 0&&e!==t&&(gr({ignoreDuration:!0}),_r())})}});var Zb="GlobalHandlers",Qb=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:Zb,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(eT(n),Hp("onerror")),t.onunhandledrejection&&(tT(n),Hp("onunhandledrejection"))}}},$s=Qb;function eT(e){Xr(t=>{let{stackParser:n,attachStacktrace:r}=$p();if(b()!==e||hu())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=oT(ys(n,c||o,void 0,r,!1),i,s,a);u.level="error",nn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function tT(e){Zr(t=>{let{stackParser:n,attachStacktrace:r}=$p();if(b()!==e||hu())return;let o=nT(t),i=mt(o)?rT(o):ys(n,o,void 0,r,!0);i.level="error",nn(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function nT(e){if(mt(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function rT(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function oT(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=xe(t)&&t.length>0?t:Ge();return c.length===0&&c.push({colno:u,filename:l,function:st,in_app:!0,lineno:d}),e}function Hp(e){$&&h.log(`Global Handler attached: ${e}`)}function $p(){return b()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var Ws=()=>({name:"HttpContext",preprocessEvent(e){if(!k.navigator&&!k.location&&!k.document)return;let t=Uo(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});var iT="cause",sT=5,aT="LinkedErrors",cT=(e={})=>{let t=e.limit||sT,n=e.key||iT;return{name:aT,preprocessEvent(r,o,i){let s=i.getOptions();Dc(Cr,s.stackParser,n,t,r,o)}}},Gs=cT;function Wp(){return uT()?($&&Ze(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function uT(){if(typeof k.window>"u")return!1;let e=k;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;let n=Ge(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(k===k.top&&r.some(i=>n.startsWith(`${i}://`)))}function Wu(e){return[xo(),Ro(),Bs(),Us(),$s(),Gs(),Co(),Ws(),Hs()]}function Gp(e={}){let t=!e.skipBrowserExtensionCheck&&Wp(),n={...e,enabled:t?!1:e.enabled,stackParser:xa(e.stackParser||Ps),integrations:Sc({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Wu():e.defaultIntegrations}),transport:e.transport||Lr};return Ic(Ar,n)}function zp(){}function jp(e){e()}function qp(e={}){let t=k.document,n=t?.head||t?.body;if(!n){$&&h.error("[showReportDialog] Global document not defined");return}let r=M(),i=b()?.getDsn();if(!i){$&&h.error("[showReportDialog] DSN not configured");return}let s={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||go()},a=k.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=_c(i,s);let{onLoad:c,onClose:u}=s;if(c&&(a.onload=c),u){let d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{k.removeEventListener("message",d)}};k.addEventListener("message",d)}n.appendChild(a)}var lT=w,dT="ReportingObserver",Vp=new WeakMap,fT=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(Vp.has(b()))for(let o of r)we(i=>{i.setExtra("url",o.url);let s=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(i.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}yn(`${s}: ${a}`)})}return{name:dT,setupOnce(){if(!Yc())return;new lT.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Vp.set(r,!0)}}},Yp=fT;var pT="HttpClient",mT=(e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:pT,setup(n){TT(n,t),IT(n,t)}}},Kp=mT;function hT(e,t,n,r,o){if(Zp(e,n.status,n.url)){let i=vT(t,r),s,a,c,u;em()&&([s,c]=Jp("Cookie",i),[a,u]=Jp("Set-Cookie",n));let d=Qp({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:a,requestCookies:c,responseCookies:u,error:o});nn(d)}}function Jp(e,t){let n=ST(t.headers),r;try{let o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=Xp(o))}catch{}return[n,r]}function gT(e,t,n,r,o){if(Zp(e,t.status,t.responseURL)){let i,s,a;if(em()){try{let u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(s=Xp(u))}catch{}try{a=yT(t)}catch{}i=r}let c=Qp({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:a,responseCookies:s,error:o});nn(c)}}function _T(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Xp(e){return e.split("; ").reduce((t,n)=>{let[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function ST(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function yT(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function ET(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function bT(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function TT(e,t){Oo()&&Hn(n=>{if(b()!==e)return;let{response:r,args:o,error:i,virtualError:s}=n,[a,c]=o;r&&hT(t,a,r,c,i||s)},!1)}function IT(e,t){"XMLHttpRequest"in w&&Vn(n=>{if(b()!==e)return;let{error:r,virtualError:o}=n,i=n.xhr,s=i[Ye];if(!s)return;let{method:a,request_headers:c}=s;try{gT(t,i,a,c,r||o)}catch(u){$&&h.warn("Error while extracting response event form XHR response",u)}})}function Zp(e,t,n){return bT(e.failedRequestStatusCodes,t)&&ET(e.failedRequestTargets,n)&&!wo(n,b())}function Qp(e){let t=b(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,i={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:_T(e.responseHeaders)}}};return tt(i,{type:"http.client",handled:!1}),i}function vT(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function em(){let e=b();return e?!!e.getOptions().sendDefaultPii:!1}var Gu=w,wT=7,RT="ContextLines",xT=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:wT;return{name:RT,processEvent(n){return CT(n,t)}}},tm=xT;function CT(e,t){let n=Gu.document,r=Gu.location&&ko(Gu.location.href);if(!n||!r)return e;let o=e.exception?.values;if(!o?.length)return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>AT(u,s,r,t)))}),e}function AT(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Pa(t,e,r),e}var kT="GraphQLClient",NT=e=>({name:kT,setup(t){MT(t,e),OT(t,e)}});function MT(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let i=O(n).data||{};if(!(i[Ee]==="http.client"))return;let c=i[$a]||i["http.url"],u=i[Ha]||i["http.method"];if(!xe(c)||!xe(u))return;let{endpoints:d}=t,l=Ne(c,d),f=rm(r);if(l&&f){let p=om(f);if(p){let m=nm(p);n.updateName(`${u} ${c} (${m})`),n.setAttribute("graphql.document",f)}}})}function OT(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:o,type:i,data:s}=n;if(i==="http"&&(o==="fetch"||o==="xhr")){let d=s?.url,{endpoints:l}=t,f=Ne(d,l),p=rm(r);if(f&&s&&p){let m=om(p);if(!s.graphql&&m){let g=nm(m);s["graphql.document"]=m.query,s["graphql.operation"]=g}}}})}function nm(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=LT(t);return r?`${o} ${r}`:`${o}`}function rm(e){let t="xhr"in e,n;if(t){let r=e.xhr[Ye];n=r&&Yn(r.body)[0]}else{let r=Or(e.input);n=Yn(r)[0]}return n}function LT(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function om(e){let t;try{let n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}var im=NT;var le=w,_l="sentryReplaySession",DT="replay_event",Sl="Unable to send Replay",PT=3e5,FT=9e5,UT=5e3,BT=5500,HT=6e4,$T=5e3,WT=3,sm=15e4,zs=5e3,GT=3e3,zT=300,yl=2e7,jT=4999,qT=15e3,am=36e5,VT=Object.defineProperty,YT=(e,t,n)=>t in e?VT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cm=(e,t,n)=>YT(e,typeof t!="symbol"?t+"":t,n),Ce=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ce||{});function JT(e){return e.nodeType===e.ELEMENT_NODE}function Ko(e){return e?.host?.shadowRoot===e}function Xo(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function KT(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function XT(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Ks(e){try{let t=e.rules||e.cssRules;return t?KT(Array.from(t,km).join("")):null}catch{return null}}function ZT(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function km(e){let t;if(eI(e))try{t=Ks(e.styleSheet)||XT(e)}catch{}else if(tI(e)){let n=e.cssText,r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=ZT(e)),r&&(n=QT(n)),r||o)return n}return t||e.cssText}function QT(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function eI(e){return"styleSheet"in e}function tI(e){return"selectorText"in e}var Xs=class{constructor(){cm(this,"idNodeMap",new Map),cm(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function nI(){return new Xs}function ca({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Qo({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Gr(e){return e.toLowerCase()}function Yu(e){return e.toUpperCase()}var um="__rrweb_original__";function rI(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=um in i?i[um]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function El(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Gr(t):null}function Zs(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Nm(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}var lm={};function Mm(e){let t=lm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return lm[e]=r.bind(window)}function Ju(...e){return Mm("setTimeout")(...e)}function Om(...e){return Mm("clearTimeout")(...e)}function Lm(e){try{return e.contentDocument}catch{}}var oI=1,iI=new RegExp("[^a-z0-9-_:]"),ei=-2;function bl(){return oI++}function sI(e){if(e instanceof HTMLFormElement)return"form";let t=Gr(e.tagName);return iI.test(t)?"div":t}function aI(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Pr,dm,cI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,uI=/^(?:[a-z+]+:)?\/\//i,lI=/^www\..*/i,dI=/^(data:)([^,]*),(.*)/i;function Qs(e,t){return(e||"").replace(cI,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if(uI.test(c)||lI.test(c))return`url(${u}${c}${u})`;if(dI.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${aI(t)+c}${u})`;let d=t.split("/"),l=c.split("/");d.pop();for(let f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}var fI=/^[^ \t\n\r\u000c]+/,pI=/^[, \t\n\r\u000c]+/;function mI(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(pI),!(n>=t.length);){let i=r(fI);if(i.slice(-1)===",")i=Br(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=Br(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}var fm=new WeakMap;function Br(e,t){return!t||t.trim()===""?t:ua(e,t)}function hI(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function ua(e,t){let n=fm.get(e);if(n||(n=e.createElement("a"),fm.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Dm(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Br(e,r):n==="srcset"?mI(e,r):n==="style"?Qs(r,ua(e)):t==="object"&&n==="data"?Br(e,r):typeof i=="function"?i(n,r,o):r)}function Pm(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Fm(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function gI(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Jn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Jn(e.parentNode,t,n,r+1)}function Hr(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(gI(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function zr(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=Jn(s,Hr(r,o)),c<0)return!0;a=Jn(s,Hr(t,n),c>=0?c:1/0)}else{if(a=Jn(s,Hr(t,n)),a<0)return!1;c=Jn(s,Hr(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function _I(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=Ju(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{Om(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return Ju(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function SI(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=Ju(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Om(i),r=!0,t()})}function yI(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:g,maskInputFn:_,dataURLOptions:S={},inlineImages:E,recordCanvas:U,keepIframeSrcFn:A,newlyAddedElement:L=!1}=t,y=EI(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ce.Document,childNodes:[],compatMode:e.compatMode}:{type:Ce.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ce.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return TI(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:m,maskInputFn:_,dataURLOptions:S,inlineImages:E,recordCanvas:U,keepIframeSrcFn:A,newlyAddedElement:L,rootId:y,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return bI(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:m,maskInputFn:_,rootId:y});case e.CDATA_SECTION_NODE:return{type:Ce.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:Ce.Comment,textContent:e.textContent||"",rootId:y};default:return!1}}function EI(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function bI(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName,f=e.textContent,p=l==="STYLE"?!0:void 0,m=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=Ks(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}f=Qs(f,ua(t.doc))}m&&(f="SCRIPT_PLACEHOLDER");let _=zr(e,r,i,o,s,n);if(!p&&!m&&!g&&f&&_&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||_)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){let S=ca({type:null,tagName:l,maskInputOptions:c});f=Qo({isMasked:zr(e,r,i,o,s,S),element:e,value:f,maskInputFn:u})}return{type:Ce.Text,textContent:f||"",isStyle:p,rootId:d}}function TI(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:g,maskTextClass:_,unmaskTextClass:S,maskTextSelector:E,unmaskTextSelector:U}=t,A=Fm(e,r,o,i),L=sI(e),y={},C=e.attributes.length;for(let I=0;I<C;I++){let x=e.attributes[I];x.name&&!Pm(L,x.name,x.value)&&(y[x.name]=Dm(n,L,Gr(x.name),x.value,e,c))}if(L==="link"&&s){let I=Array.from(n.styleSheets).find(N=>N.href===e.href),x=null;I&&(x=Ks(I)),x&&(y.rel=null,y.href=null,y.crossorigin=null,y._cssText=Qs(x,I.href))}if(L==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let I=Ks(e.sheet);I&&(y._cssText=Qs(I,ua(n)))}if(L==="input"||L==="textarea"||L==="select"||L==="option"){let I=e,x=El(I),N=Zs(I,Yu(L),x),v=I.checked;if(x!=="submit"&&x!=="button"&&N){let R=zr(I,_,E,S,U,ca({type:x,tagName:Yu(L),maskInputOptions:a}));y.value=Qo({isMasked:R,element:I,value:N,maskInputFn:u})}v&&(y.checked=v)}if(L==="option"&&(e.selected&&!a.select?y.selected=!0:delete y.selected),L==="canvas"&&f){if(e.__context==="2d")rI(e)||(y.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let I=e.toDataURL(d.type,d.quality),x=n.createElement("canvas");x.width=e.width,x.height=e.height;let N=x.toDataURL(d.type,d.quality);I!==N&&(y.rr_dataURL=I)}}if(L==="img"&&l){Pr||(Pr=n.createElement("canvas"),dm=Pr.getContext("2d"));let I=e,x=I.currentSrc||I.getAttribute("src")||"<unknown-src>",N=I.crossOrigin,v=()=>{I.removeEventListener("load",v);try{Pr.width=I.naturalWidth,Pr.height=I.naturalHeight,dm.drawImage(I,0,0),y.rr_dataURL=Pr.toDataURL(d.type,d.quality)}catch(R){if(I.crossOrigin!=="anonymous"){I.crossOrigin="anonymous",I.complete&&I.naturalWidth!==0?v():I.addEventListener("load",v);return}else console.warn(`Cannot inline img src=${x}! Error: ${R}`)}I.crossOrigin==="anonymous"&&(N?y.crossOrigin=N:I.removeAttribute("crossorigin"))};I.complete&&I.naturalWidth!==0?v():I.addEventListener("load",v)}if((L==="audio"||L==="video")&&(y.rr_mediaState=e.paused?"paused":"played",y.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop)),A){let{width:I,height:x}=e.getBoundingClientRect();y={class:y.class,rr_width:`${I}px`,rr_height:`${x}px`}}L==="iframe"&&!p(y.src)&&(!A&&!Lm(e)&&(y.rr_src=y.src),delete y.src);let D;try{customElements.get(L)&&(D=!0)}catch{}return{type:Ce.Element,tagName:L,attributes:y,childNodes:[],isSVG:hI(e)||void 0,needBlock:A,rootId:g,isCustom:D}}function ue(e){return e==null?"":e.toLowerCase()}function II(e,t){if(t.comment&&e.type===Ce.Comment)return!0;if(e.type===Ce.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Nm(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ue(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ue(e.attributes.name)==="application-name"||ue(e.attributes.rel)==="icon"||ue(e.attributes.rel)==="apple-touch-icon"||ue(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ue(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ue(e.attributes.property).match(/^(og|twitter|fb):/)||ue(e.attributes.name).match(/^(og|twitter):/)||ue(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ue(e.attributes.name)==="robots"||ue(e.attributes.name)==="googlebot"||ue(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ue(e.attributes.name)==="author"||ue(e.attributes.name)==="generator"||ue(e.attributes.name)==="framework"||ue(e.attributes.name)==="publisher"||ue(e.attributes.name)==="progid"||ue(e.attributes.property).match(/^article:/)||ue(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ue(e.attributes.name)==="google-site-verification"||ue(e.attributes.name)==="yandex-verification"||ue(e.attributes.name)==="csrf-token"||ue(e.attributes.name)==="p:domain_verify"||ue(e.attributes.name)==="verify-v1"||ue(e.attributes.name)==="verification"||ue(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function $r(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:U={},inlineImages:A=!1,recordCanvas:L=!1,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:D=5e3,onStylesheetLoad:I,stylesheetLoadTimeout:x=5e3,keepIframeSrcFn:N=()=>!1,newlyAddedElement:v=!1}=t,{preserveWhiteSpace:R=!0}=t,B=yI(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,dataURLOptions:U,inlineImages:A,recordCanvas:L,keepIframeSrcFn:N,newlyAddedElement:v});if(!B)return console.warn(e,"not serialized"),null;let j;r.hasNode(e)?j=r.getId(e):II(B,E)||!R&&B.type===Ce.Text&&!B.isStyle&&!B.textContent.replace(/^\s+|\s+$/gm,"").length?j=ei:j=bl();let F=Object.assign(B,{id:j});if(r.add(e,F),j===ei)return null;y&&y(e);let te=!f;if(F.type===Ce.Element){te=te&&!F.needBlock,delete F.needBlock;let H=e.shadowRoot;H&&Xo(H)&&(F.isShadowHost=!0)}if((F.type===Ce.Document||F.type===Ce.Element)&&te){E.headWhitespace&&F.type===Ce.Element&&F.tagName==="head"&&(R=!1);let H={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:U,inlineImages:A,recordCanvas:L,preserveWhiteSpace:R,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:D,onStylesheetLoad:I,stylesheetLoadTimeout:x,keepIframeSrcFn:N};for(let Q of Array.from(e.childNodes)){let ne=$r(Q,H);ne&&F.childNodes.push(ne)}if(JT(e)&&e.shadowRoot)for(let Q of Array.from(e.shadowRoot.childNodes)){let ne=$r(Q,H);ne&&(Xo(e.shadowRoot)&&(ne.isShadow=!0),F.childNodes.push(ne))}}return e.parentNode&&Ko(e.parentNode)&&Xo(e.parentNode)&&(F.isShadow=!0),F.type===Ce.Element&&F.tagName==="iframe"&&!Fm(e,o,i,s)&&_I(e,()=>{let H=Lm(e);if(H&&C){let Q=$r(H,{doc:H,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:U,inlineImages:A,recordCanvas:L,preserveWhiteSpace:R,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:D,onStylesheetLoad:I,stylesheetLoadTimeout:x,keepIframeSrcFn:N});Q&&C(e,Q)}},D),F.type===Ce.Element&&F.tagName==="link"&&typeof F.attributes.rel=="string"&&(F.attributes.rel==="stylesheet"||F.attributes.rel==="preload"&&typeof F.attributes.href=="string"&&Nm(F.attributes.href)==="css")&&SI(e,()=>{if(I){let H=$r(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:U,inlineImages:A,recordCanvas:L,preserveWhiteSpace:R,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:D,onStylesheetLoad:I,stylesheetLoadTimeout:x,keepIframeSrcFn:N});H&&I(e,H)}},x),F}function vI(e,t){let{mirror:n=new Xs,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOM:E=!1,dataURLOptions:U,preserveWhiteSpace:A,onSerialize:L,onIframeLoad:y,iframeLoadTimeout:C,onStylesheetLoad:D,stylesheetLoadTimeout:I,keepIframeSrcFn:x=()=>!1}=t||{};return $r(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:U,inlineImages:f,recordCanvas:p,preserveWhiteSpace:A,onSerialize:L,onIframeLoad:y,iframeLoadTimeout:C,onStylesheetLoad:D,stylesheetLoadTimeout:I,keepIframeSrcFn:x,newlyAddedElement:!1})}function Ke(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Fr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,pm={map:{},getId(){return console.error(Fr),-1},getNode(){return console.error(Fr),null},removeNodeFromMap(){console.error(Fr)},has(){return console.error(Fr),!1},reset(){console.error(Fr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(pm=new Proxy(pm,{get(e,t,n){return t==="map"&&console.error(Fr),Reflect.get(e,t,n)}}));function ti(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(kI(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=la(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Um(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){la(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Um(e,t,i||{},!0)}function Tl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var ea=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ea=()=>new Date().getTime());function Bm(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Hm(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function $m(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Wm(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function pt(e,t,n,r,o){if(!e)return!1;let i=Wm(e);if(!i)return!1;let s=Hr(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Jn(i,s),c=-1;return a<0?!1:(r&&(c=Jn(i,Hr(null,r))),a>-1&&c<0?!0:a<c)}function wI(e,t){return t.getId(e)!==-1}function zu(e,t){return t.getId(e)===ei}function Gm(e,t){if(Ko(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Gm(e.parentNode,t):!0:!0}function Ku(e){return!!e.changedTouches}function RI(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function zm(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function jm(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Xu(e){return!!e?.shadowRoot}var Zu=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function qm(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function xI(e){let t=e,n;for(;n=qm(t);)t=n;return t}function CI(e){let t=e.ownerDocument;if(!t)return!1;let n=xI(e);return t.contains(n)}function Vm(e){let t=e.ownerDocument;return t?t.contains(e)||CI(e):!1}var mm={};function Il(e){let t=mm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return mm[e]=r.bind(window)}function AI(...e){return Il("requestAnimationFrame")(...e)}function la(...e){return Il("setTimeout")(...e)}function kI(...e){return Il("clearTimeout")(...e)}var V=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(V||{}),z=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(z||{}),Je=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Je||{}),cn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(cn||{}),Ur=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Ur||{});function vl(e){try{return e.contentDocument}catch{}}function NI(e){try{return e.contentWindow}catch{}}function hm(e){return"__ln"in e}var Qu=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&hm(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&hm(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},gm=(e,t)=>`${e}@${t}`,el=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new Qu,o=c=>{let u=c,d=ei;for(;d===ei;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!Vm(c))return;let u=Ko(c.parentNode)?this.mirror.getId(qm(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);let l=$r(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{zm(f,this.mirror)&&!pt(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),jm(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Xu(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{pt(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)_m(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!Sm(this.droppedSet,c)&&!_m(this.removes,c,this.mirror)||Sm(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),d=o(s.value);u!==-1&&d!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let d=u;if(u=u.previous,d){let l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{let p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let m=p.parentNode.host;if(this.mirror.getId(m)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!zu(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!pt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:zr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Wm(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let s=El(n),a=n.tagName;o=Zs(n,a,s);let c=ca({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),u=zr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=Qo({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(pt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!vl(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Pm(n.tagName,r)&&(i.attributes[r]=Dm(this.doc,Gr(n.tagName),Gr(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let a of Array.from(n.style)){let c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==s.style.getPropertyValue(a)||u!==s.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(let a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(pt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=Ko(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);pt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||zu(n,this.mirror)||!wI(n,this.mirror)||(this.addedSet.has(n)?(tl(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Gm(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[gm(r,o)]?tl(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:Ko(t.target)&&Xo(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(zu(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[gm(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);pt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Xu(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function tl(e,t){e.delete(t),t.childNodes.forEach(n=>tl(e,n))}function _m(e,t,n){return e.length===0?!1:MI(e,t,n)}function MI(e,t,n){let r=t.parentNode;for(;r;){let o=n.getId(r);if(e.some(i=>i.id===o))return!0;r=r.parentNode}return!1}function Sm(e,t){return e.size===0?!1:Ym(e,t)}function Ym(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:Ym(e,n):!1}var Zo;function OI(e){Zo=e}function LI(){Zo=void 0}var Z=e=>Zo?(...n)=>{try{return e(...n)}catch(r){if(Zo&&Zo(r)===!0)return()=>{};throw r}}:e,Wr=[];function si(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Jm(e,t){let n=new el;Wr.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);let i=new r(Z(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function DI({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=ti(Z(l=>{let f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),l),s=[],a=null}),i),u=Z(ti(Z(l=>{let f=si(l),{clientX:p,clientY:m}=Ku(l)?l.changedTouches[0]:l;a||(a=ea()),s.push({x:p,y:m,id:r.getId(f),timeOffset:ea()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?z.Drag:l instanceof MouseEvent?z.MouseMove:z.TouchMove)}),o,{trailing:!1})),d=[Ke("mousemove",u,n),Ke("touchmove",u,n),Ke("drag",u,n)];return Z(()=>{d.forEach(l=>l())})}function PI({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,d=l=>f=>{let p=si(f);if(pt(p,r,o,i,!0))return;let m=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":m=cn.Mouse;break;case"touch":m=cn.Touch;break;case"pen":m=cn.Pen;break}m===cn.Touch?Je[l]===Je.MouseDown?g="TouchStart":Je[l]===Je.MouseUp&&(g="TouchEnd"):cn.Pen}else Ku(f)&&(m=cn.Touch);m!==null?(u=m,(g.startsWith("Touch")&&m===cn.Touch||g.startsWith("Mouse")&&m===cn.Mouse)&&(m=null)):Je[l]===Je.Click&&(m=u,u=null);let _=Ku(f)?f.changedTouches[0]:f;if(!_)return;let S=n.getId(p),{clientX:E,clientY:U}=_;Z(e)({type:Je[g],id:S,x:E,y:U,...m!==null&&{pointerType:m}})};return Object.keys(Je).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Gr(l),p=d(l);if(window.PointerEvent)switch(Je[l]){case Je.MouseDown:case Je.MouseUp:f=f.replace("mouse","pointer");break;case Je.TouchStart:case Je.TouchEnd:return}c.push(Ke(f,p,t))}),Z(()=>{c.forEach(l=>l())})}function Km({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=Z(ti(Z(c=>{let u=si(c);if(!u||pt(u,r,o,i,!0))return;let d=n.getId(u);if(u===t&&t.defaultView){let l=Bm(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return Ke("scroll",a,t)}function FI({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=Z(ti(Z(()=>{let i=Hm(),s=$m();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return Ke("resize",o,t)}var UI=["INPUT","TEXTAREA","SELECT"],ym=new WeakMap;function BI({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:g}){function _(C){let D=si(C),I=C.isTrusted,x=D&&Yu(D.tagName);if(x==="OPTION"&&(D=D.parentElement),!D||!x||UI.indexOf(x)<0||pt(D,r,o,i,!0))return;let N=D;if(N.classList.contains(s)||a&&N.matches(a))return;let v=El(D),R=Zs(N,x,v),B=!1,j=ca({maskInputOptions:c,tagName:x,type:v}),F=zr(D,f,m,p,g,j);(v==="radio"||v==="checkbox")&&(B=D.checked),R=Qo({isMasked:F,element:D,value:R,maskInputFn:u}),S(D,l?{text:R,isChecked:B,userTriggered:I}:{text:R,isChecked:B});let te=D.name;v==="radio"&&te&&B&&t.querySelectorAll(`input[type="radio"][name="${te}"]`).forEach(H=>{if(H!==D){let Q=Qo({isMasked:F,element:H,value:Zs(H,x,v),maskInputFn:u});S(H,l?{text:Q,isChecked:!B,userTriggered:!1}:{text:Q,isChecked:!B})}})}function S(C,D){let I=ym.get(C);if(!I||I.text!==D.text||I.isChecked!==D.isChecked){ym.set(C,D);let x=n.getId(C);Z(e)({...D,id:x})}}let U=(d.input==="last"?["change"]:["input","change"]).map(C=>Ke(C,Z(_),t)),A=t.defaultView;if(!A)return()=>{U.forEach(C=>C())};let L=A.Object.getOwnPropertyDescriptor(A.HTMLInputElement.prototype,"value"),y=[[A.HTMLInputElement.prototype,"value"],[A.HTMLInputElement.prototype,"checked"],[A.HTMLSelectElement.prototype,"value"],[A.HTMLTextAreaElement.prototype,"value"],[A.HTMLSelectElement.prototype,"selectedIndex"],[A.HTMLOptionElement.prototype,"selected"]];return L&&L.set&&U.push(...y.map(C=>Um(C[0],C[1],{set(){Z(_)({target:this,isTrusted:!1})}},!1,A))),Z(()=>{U.forEach(C=>C())})}function ta(e){let t=[];function n(r,o){if(js("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||js("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||js("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||js("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function Rn(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function HI({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Z((d,l,f)=>{let[p,m]=f,{id:g,styleId:_}=Rn(l,t,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&e({id:g,styleId:_,adds:[{rule:p,index:m}]}),d.apply(l,f)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Z((d,l,f)=>{let[p]=f,{id:m,styleId:g}=Rn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:p}]}),d.apply(l,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Z((d,l,f)=>{let[p]=f,{id:m,styleId:g}=Rn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Z((d,l,f)=>{let[p]=f,{id:m,styleId:g}=Rn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:p}),d.apply(l,f)})}));let c={};qs("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(qs("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),qs("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),qs("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:Z((f,p,m)=>{let[g,_]=m,{id:S,styleId:E}=Rn(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||E&&E!==-1)&&e({id:S,styleId:E,adds:[{rule:g,index:[...ta(p),_||0]}]}),f.apply(p,m)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:Z((f,p,m)=>{let[g]=m,{id:_,styleId:S}=Rn(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,removes:[{index:[...ta(p),g]}]}),f.apply(p,m)})})}),Z(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Xm({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,i=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return i.get?.call(this)},set(s){let a=i.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),Z(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function $I({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Z((a,c,u)=>{let[d,l,f]=u;if(n.has(d))return i.apply(c,[d,l,f]);let{id:p,styleId:m}=Rn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:d,value:l,priority:f},index:ta(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Z((a,c,u)=>{let[d]=u;if(n.has(d))return s.apply(c,[d]);let{id:l,styleId:f}=Rn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:ta(c.parentRule)}),a.apply(c,u)})}),Z(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function WI({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=Z(u=>ti(Z(d=>{let l=si(d);if(!l||pt(l,t,n,r,!0))return;let{currentTime:f,volume:p,muted:m,playbackRate:g}=l;e({type:u,id:o.getId(l),currentTime:f,volume:p,muted:m,playbackRate:g})}),i.media||500)),c=[Ke("play",a(Ur.Play),s),Ke("pause",a(Ur.Pause),s),Ke("seeked",a(Ur.Seeked),s),Ke("volumechange",a(Ur.VolumeChange),s),Ke("ratechange",a(Ur.RateChange),s)];return Z(()=>{c.forEach(u=>u())})}function GI({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){let l=new i(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};let s=Tl(t.fonts,"add",function(a){return function(c){return la(Z(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),Z(()=>{r.forEach(a=>a())})}function zI(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=Z(()=>{let u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;let d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){let p=u.getRangeAt(f),{startContainer:m,startOffset:g,endContainer:_,endOffset:S}=p;pt(m,r,o,i,!0)||pt(_,r,o,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(_),endOffset:S})}s({ranges:d})});return c(),Ke("selectionchange",c)}function jI({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:Tl(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function qI(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Jm(e,e.doc));let o=DI(e),i=PI(e),s=Km(e),a=FI(e,{win:n}),c=BI(e),u=WI(e),d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=HI(e,{win:n}),l=Xm(e,e.doc),f=$I(e,{win:n}),e.collectFonts&&(p=GI(e)));let m=zI(e),g=jI(e),_=[];for(let S of e.plugins)_.push(S.observer(S.callback,n,S.options));return Z(()=>{Wr.forEach(S=>S.reset()),r?.disconnect(),o(),i(),s(),a(),c(),u(),d(),l(),f(),p(),m(),g(),_.forEach(S=>S())})}function js(e){return typeof window[e]<"u"}function qs(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var ni=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}},nl=class{constructor(){this.crossOriginIframeMirror=new ni(bl),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},rl=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ni(bl),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ni(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);let r=vl(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case V.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:V.IncrementalSnapshot,data:{source:z.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case V.Meta:case V.Load:case V.DomContentLoaded:return!1;case V.Plugin:return n;case V.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case V.IncrementalSnapshot:switch(n.data.source){case z.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case z.Drag:case z.TouchMove:case z.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case z.ViewportResize:return!1;case z.MediaInteraction:case z.MouseInteraction:case z.Scroll:case z.CanvasMutation:case z.Input:return this.replaceIds(n.data,t,["id"]),n;case z.StyleSheetRule:case z.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case z.Font:return n;case z.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case z.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Ce.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},ol=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},il=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Xo(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=Jm({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Km({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),la(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Xm({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let n=vl(t),r=NI(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(Tl(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&Vm(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},Em="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",VI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Yo=0;Yo<Em.length;Yo++)VI[Em.charCodeAt(Yo)]=Yo;var Yo,na=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},sl=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Zu,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:km(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},al=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.active||(this.active=!0,AI(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}},Se,ra;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Dt=nI();function un(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:_,slimDOMOptions:S,maskAttributeFn:E,maskInputFn:U,maskTextFn:A,maxCanvasSize:L=null,packFn:y,sampling:C={},dataURLOptions:D={},mousemoveWait:I,recordDOM:x=!0,recordCanvas:N=!1,recordCrossOriginIframes:v=!1,recordAfter:R=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:B=!1,collectFonts:j=!1,inlineImages:F=!1,plugins:te,keepIframeSrcFn:H=()=>!1,ignoreCSSAttributes:Q=new Set([]),errorHandler:ne,onMutation:Be,getCanvasManager:Zn}=e;OI(ne);let it=v?window.parent===window:!0,He=!1;if(!it)try{window.parent.document&&(He=!1)}catch{He=!0}if(it&&!t)throw new Error("emit function is required");if(!it&&!He)return()=>{};I!==void 0&&C.mousemove===void 0&&(C.mousemove=I),Dt.reset();let wt=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},Vt=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};RI();let Qn,er=0,Kr=ee=>{for(let Rt of te||[])Rt.eventProcessor&&(ee=Rt.eventProcessor(ee));return y&&!He&&(ee=y(ee)),ee};Se=(ee,Rt)=>{let J=ee;if(J.timestamp=ea(),Wr[0]?.isFrozen()&&J.type!==V.FullSnapshot&&!(J.type===V.IncrementalSnapshot&&J.data.source===z.Mutation)&&Wr.forEach($e=>$e.unfreeze()),it)t?.(Kr(J),Rt);else if(He){let $e={type:"rrweb",event:Kr(J),origin:window.location.origin,isCheckout:Rt};window.parent.postMessage($e,"*")}if(J.type===V.FullSnapshot)Qn=J,er=0;else if(J.type===V.IncrementalSnapshot){if(J.data.source===z.Mutation&&J.data.isAttachIframe)return;er++;let $e=r&&er>=r,re=n&&Qn&&J.timestamp-Qn.timestamp>n;($e||re)&&va(!0)}};let ln=ee=>{Se({type:V.IncrementalSnapshot,data:{source:z.Mutation,...ee}})},pe=ee=>Se({type:V.IncrementalSnapshot,data:{source:z.Scroll,...ee}}),Ae=ee=>Se({type:V.IncrementalSnapshot,data:{source:z.CanvasMutation,...ee}}),Pt=ee=>Se({type:V.IncrementalSnapshot,data:{source:z.AdoptedStyleSheet,...ee}}),ye=new sl({mutationCb:ln,adoptedStyleSheetCb:Pt}),ve=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new nl:new rl({mirror:Dt,mutationCb:ln,stylesheetManager:ye,recordCrossOriginIframes:v,wrappedEmit:Se});for(let ee of te||[])ee.getMirror&&ee.getMirror({nodeMirror:Dt,crossOriginIframeMirror:ve.crossOriginIframeMirror,crossOriginIframeStyleMirror:ve.crossOriginIframeStyleMirror});let Ft=new al,An=JI(Zn,{mirror:Dt,win:window,mutationCb:ee=>Se({type:V.IncrementalSnapshot,data:{source:z.CanvasMutation,...ee}}),recordCanvas:N,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:L,sampling:C.canvas,dataURLOptions:D,errorHandler:ne}),tr=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ol:new il({mutationCb:ln,scrollCb:pe,bypassOptions:{onMutation:Be,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:wt,dataURLOptions:D,maskAttributeFn:E,maskTextFn:A,maskInputFn:U,recordCanvas:N,inlineImages:F,sampling:C,slimDOMOptions:Vt,iframeManager:ve,stylesheetManager:ye,canvasManager:An,keepIframeSrcFn:H,processedNodeManager:Ft},mirror:Dt}),va=(ee=!1)=>{if(!x)return;Se({type:V.Meta,data:{href:window.location.href,width:$m(),height:Hm()}},ee),ye.reset(),tr.init(),Wr.forEach(J=>J.lock());let Rt=vI(document,{mirror:Dt,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:wt,maskAttributeFn:E,maskInputFn:U,maskTextFn:A,slimDOM:Vt,dataURLOptions:D,recordCanvas:N,inlineImages:F,onSerialize:J=>{zm(J,Dt)&&ve.addIframe(J),jm(J,Dt)&&ye.trackLinkElement(J),Xu(J)&&tr.addShadowRoot(J.shadowRoot,document)},onIframeLoad:(J,$e)=>{ve.attachIframe(J,$e),J.contentWindow&&An.addWindow(J.contentWindow),tr.observeAttachShadow(J)},onStylesheetLoad:(J,$e)=>{ye.attachLinkElement(J,$e)},keepIframeSrcFn:H});if(!Rt)return console.warn("Failed to snapshot the document");Se({type:V.FullSnapshot,data:{node:Rt,initialOffset:Bm(window)}}),Wr.forEach(J=>J.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ye.adoptStyleSheets(document.adoptedStyleSheets,Dt.getId(document))};ra=va;try{let ee=[],Rt=$e=>Z(qI)({onMutation:Be,mutationCb:ln,mousemoveCb:(re,wa)=>Se({type:V.IncrementalSnapshot,data:{source:wa,positions:re}}),mouseInteractionCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.MouseInteraction,...re}}),scrollCb:pe,viewportResizeCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.ViewportResize,...re}}),inputCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.Input,...re}}),mediaInteractionCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.MediaInteraction,...re}}),styleSheetRuleCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.StyleSheetRule,...re}}),styleDeclarationCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.StyleDeclaration,...re}}),canvasMutationCb:Ae,fontCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.Font,...re}}),selectionCb:re=>{Se({type:V.IncrementalSnapshot,data:{source:z.Selection,...re}})},customElementCb:re=>{Se({type:V.IncrementalSnapshot,data:{source:z.CustomElement,...re}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:wt,inlineStylesheet:m,sampling:C,recordDOM:x,recordCanvas:N,inlineImages:F,userTriggeredOnInput:B,collectFonts:j,doc:$e,maskAttributeFn:E,maskInputFn:U,maskTextFn:A,keepIframeSrcFn:H,blockSelector:i,unblockSelector:s,slimDOMOptions:Vt,dataURLOptions:D,mirror:Dt,iframeManager:ve,stylesheetManager:ye,shadowDomManager:tr,processedNodeManager:Ft,canvasManager:An,ignoreCSSAttributes:Q,plugins:te?.filter(re=>re.observer)?.map(re=>({observer:re.observer,options:re.options,callback:wa=>Se({type:V.Plugin,data:{plugin:re.name,payload:wa}})}))||[]},{});ve.addLoadListener($e=>{try{ee.push(Rt($e.contentDocument))}catch(re){console.warn(re)}});let J=()=>{va(),ee.push(Rt(document))};return document.readyState==="interactive"||document.readyState==="complete"?J():(ee.push(Ke("DOMContentLoaded",()=>{Se({type:V.DomContentLoaded,data:{}}),R==="DOMContentLoaded"&&J()})),ee.push(Ke("load",()=>{Se({type:V.Load,data:{}}),R==="load"&&J()},window))),()=>{ee.forEach($e=>$e()),Ft.destroy(),ra=void 0,LI()}}catch(ee){console.warn(ee)}}function YI(e){if(!ra)throw new Error("please take full snapshot after start recording");ra(e)}un.mirror=Dt;un.takeFullSnapshot=YI;function JI(e,t){try{return e?e(t):new na}catch{return console.warn("Unable to initialize CanvasManager"),new na}}var bm;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(bm||(bm={}));var KI=3,XI=5;function wl(e){return e>9999999999?e:e*1e3}function ju(e){return e>9999999999?e/1e3:e}function ai(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:V.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Re(t,10,1e3)}}),t.category==="console")))}var ZI="button,a";function Zm(e){return e.closest(ZI)||e}function Qm(e){let t=eh(e);return!t||!(t instanceof Element)?t:Zm(t)}function eh(e){return QI(e)?e.target:e}function QI(e){return typeof e=="object"&&!!e&&"target"in e}var xn;function ev(e){return xn||(xn=[],tv()),xn.push(e),()=>{let t=xn?xn.indexOf(e):-1;t>-1&&xn.splice(t,1)}}function tv(){he(le,"open",function(e){return function(...t){if(xn)try{xn.forEach(n=>n())}catch{}return e.apply(le,t)}})}var nv=new Set([z.Mutation,z.StyleSheetRule,z.StyleDeclaration,z.AdoptedStyleSheet,z.CanvasMutation,z.Selection,z.MediaInteraction]);function rv(e,t,n){e.handleClick(t,n)}var cl=class{constructor(t,n,r=ai){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=ev(()=>{this._lastMutation=Tm()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(iv(n,this._ignoreSelector)||!sv(t))return;let r={timestamp:ju(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=ju(t)}registerScroll(t=Date.now()){this._lastScroll=ju(t)}registerClick(t){let n=Zm(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=Tm();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,d);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=qn(()=>this._checkClicks(),1e3)}},ov=["A","BUTTON","INPUT"];function iv(e,t){return!!(!ov.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function sv(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Tm(){return Date.now()/1e3}function av(e,t){try{if(!cv(t))return;let{source:n}=t.data;if(nv.has(n)&&e.registerMutation(t.timestamp),n===z.Scroll&&e.registerScroll(t.timestamp),uv(t)){let{type:r,id:o}=t.data,i=un.mirror.getNode(o);i instanceof HTMLElement&&r===Je.Click&&e.registerClick(i)}}catch{}}function cv(e){return e.type===KI}function uv(e){return e.data.source===z.MouseInteraction}function jt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Rl=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Rl||{}),lv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function dv(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(lv.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var fv=e=>t=>{if(!e.isEnabled())return;let n=pv(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&rv(e.clickDetector,n,Qm(t.event)),ai(e,n)};function th(e,t){let n=un.mirror.getId(e),r=n&&un.mirror.getNode(n),o=r&&un.mirror.getMeta(r),i=o&&hv(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===Rl.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:dv(i.attributes)}}:{}}}function pv(e){let{target:t,message:n}=mv(e);return jt({category:`ui.${e.name}`,...th(t,n)})}function mv(e){let t=e.name==="click",n,r=null;try{r=t?Qm(e.event):eh(e.event),n=ke(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function hv(e){return e.type===Rl.Element}function gv(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=_v(t);n&&ai(e,n)}function _v(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||Sv(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=ke(s,{maxStringLength:200})||"<unknown>",d=th(s,u);return jt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function Sv(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var yv={resource:vv,paint:Tv,navigation:Iv};function Vs(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Ev(e){return e.map(bv).filter(Boolean)}function bv(e){let t=yv[e.entryType];return t?t(e):null}function jr(e){return((_e()||le.performance.timeOrigin)+e)/1e3}function Tv(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=jr(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function Iv(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:m,type:g}=e;return o===0?null:{type:`${t}.${g}`,start:jr(p),end:jr(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:f}}}function vv(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:jr(i),end:jr(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function wv(e){let t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return da(e,"largest-contentful-paint",n)}function Rv(e){return e.sources!==void 0}function xv(e){let t=[],n=[];for(let r of e.entries)if(Rv(r)){let o=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=un.mirror.getId(i.node);s&&o.push(s)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return da(e,"cumulative-layout-shift",n,t)}function Cv(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return da(e,"first-input-delay",n)}function Av(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return da(e,"interaction-to-next-paint",n)}function da(e,t,n,r){let o=e.value,i=e.rating,s=jr(o);return{type:"web-vital",name:t,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(a=>un.mirror.getId(a)):void 0,attributions:r}}}function kv(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(Lt(o,n))}),r.push($o(Vs(wv,e)),jn(Vs(xv,e)),Wo(Vs(Cv,e)),Go(Vs(Av,e))),()=>{r.forEach(o=>o())}}var W=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Nv='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Mv(){let e=new Blob([Nv]);return URL.createObjectURL(e)}var Im=["info","warn","error","log"],Js="[Replay] ";function qu(e,t="info"){qe({category:"console",data:{logger:"replay"},level:t,message:`${Js}${e}`},{level:t})}function Ov(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return W?(Im.forEach(r=>{n[r]=(...o)=>{h[r](Js,...o),t&&qu(o.join(""),Bn(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),h.error(Js,r),e?dt(r):t&&qu(r,"error")},n.infoTick=(...r)=>{h.info(Js,...r),t&&setTimeout(()=>qu(r[0]),0)}):Im.forEach(r=>{n[r]=()=>{}}),n}var G=Ov(),ri=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${yl}.`)}},oa=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>yl)throw new ri;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?wl(t):null}},ul=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){W&&G.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){W&&G.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},ll=class{constructor(t){this._worker=new ul(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=wl(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>yl?Promise.reject(new ri):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{W&&G.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},dl=class{constructor(t){this._fallback=new oa,this._compression=new ll(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){W&&G.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,o=[];for(let i of t)o.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(i){W&&G.exception(i,"Failed to add events when switching buffers.")}}};function Lv({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=Dv(t);if(n)return n}return W&&G.info("Using simple buffer"),new oa}function Dv(e){try{let t=e||Pv();if(!t)return;W&&G.info(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new dl(n)}catch(t){W&&G.exception(t,"Failed to create compression worker")}}function Pv(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Mv():""}function xl(){try{return"sessionStorage"in le&&!!le.sessionStorage}catch{return!1}}function Fv(e){Uv(),e.session=void 0}function Uv(){if(xl())try{le.sessionStorage.removeItem(_l)}catch{}}function nh(e){return e===void 0?!1:Math.random()<e}function Cl(e){if(xl())try{le.sessionStorage.setItem(_l,JSON.stringify(e))}catch{}}function rh(e){let t=Date.now(),n=e.id||fe(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function Bv(e,t){return nh(e)?"session":t?"buffer":!1}function vm({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=Bv(e,t),i=rh({sampled:o,previousSessionId:r});return n&&Cl(i),i}function Hv(){if(!xl())return null;try{let e=le.sessionStorage.getItem(_l);if(!e)return null;let t=JSON.parse(e);return W&&G.infoTick("Loading existing session"),rh(t)}catch{return null}}function fl(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function oh(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return fl(e.started,t,r)||fl(e.lastActivity,n,r)}function ih(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!oh(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Vu({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let o=r.stickySession&&Hv();return o?ih(o,{sessionIdleExpire:e,maxReplayDuration:t})?(W&&G.infoTick("Session in sessionStorage is expired, creating new one..."),vm(r,{previousSessionId:o.id})):o:(W&&G.infoTick("Creating new session"),vm(r,{previousSessionId:n}))}function $v(e){return e.type===V.Custom}function Al(e,t,n){return ah(e,t)?(sh(e,t,n),!0):!1}function Wv(e,t,n){return ah(e,t)?sh(e,t,n):Promise.resolve(null)}async function sh(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=Gv(t,i.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(i){let s=i&&i instanceof ri,a=s?"addEventSizeExceeded":"addEvent";if(s&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a});let c=b();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function ah(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=wl(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(W&&G.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Gv(e,t){try{if(typeof t=="function"&&$v(e))return t(e)}catch(n){return W&&G.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function kl(e){return!e.type}function pl(e){return e.type==="transaction"}function zv(e){return e.type==="replay_event"}function wm(e){return e.type==="feedback"}function jv(e){return(t,n)=>{if(!e.isEnabled()||!kl(t)&&!pl(t))return;let r=n?.statusCode;if(!(!r||r<200||r>=300)){if(pl(t)){qv(e,t);return}Vv(e,t)}}}function qv(e,t){let n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Vv(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||qn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function Yv(e){return t=>{!e.isEnabled()||!kl(t)||Jv(e,t)}}function Jv(e,t){let n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=jt({category:"replay.hydrate-error",data:{url:Ge()}});ai(e,r)}}function Kv(e){let t=b();t&&t.on("beforeAddBreadcrumb",n=>Xv(e,n))}function Xv(e,t){if(!e.isEnabled()||!ch(t))return;let n=Zv(t);n&&ai(e,n)}function Zv(e){return!ch(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?Qv(e):jt(e)}function Qv(e){let t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return jt(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>zs?(n=!0,`${o.slice(0,zs)}\u2026`):o;if(typeof o=="object")try{let i=Re(o,7);return JSON.stringify(i).length>zs?(n=!0,`${JSON.stringify(i,null,2).slice(0,zs)}\u2026`):i}catch{}return o});return jt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function ch(e){return!!e.category}function e0(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!t.originalException?.__rrweb__}function uh(){let e=M().getPropagationContext().dsc;e&&delete e.replay_id;let t=Y();if(t){let n=be(t);delete n.replay_id}}function t0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:V.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function n0(e,t){return e.recordingMode!=="buffer"||t.message===Sl||!t.exception||t.type?!1:nh(e.getOptions().errorSampleRate)}function r0(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:zv(t)?(delete t.breadcrumbs,t):!kl(t)&&!pl(t)&&!wm(t)?t:e.checkAndHandleExpiredSession()?wm(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),t0(e,t),t):e0(t,n)&&!e.getOptions()._experiments.captureExceptions?(W&&G.log("Ignoring error from rrweb internals",t),null):((n0(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(uh(),t),{id:"Replay"})}function fa(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:V.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function o0(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function i0(e){return t=>{if(!e.isEnabled())return;let n=o0(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(fa(e,[n]),!1)))}}function s0(e,t){return W&&e.getOptions()._experiments.traceInternals?!1:wo(t,b())}function lh(e,t){e.isEnabled()&&t!==null&&(s0(e,t.name)||e.addUpdate(()=>(fa(e,[t]),!0)))}function pa(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=Ls(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function dh(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function ia(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function fh(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function oi(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Cn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=a0(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function ml(e,t){return Object.entries(e).reduce((n,[r,o])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function a0(e){if(!e||typeof e!="string")return{body:e};let t=e.length>sm,n=c0(e);if(t){let r=e.slice(0,sm);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function c0(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function sa(e,t){let n=u0(e);return Ne(n,t)}function u0(e,t=le.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(le.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function l0(e,t,n){try{let r=await f0(e,t,n),o=fh("resource.fetch",r);lh(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture fetch breadcrumb")}}function d0(e,t){let{input:n,response:r}=t,o=n?Or(n):void 0,i=pa(o),s=r?dh(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}async function f0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=sa(s,n.networkDetailAllowUrls)&&!sa(s,n.networkDetailDenyUrls),f=l?p0(n,t.input,u):oi(u),p=await m0(l,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:p}}function p0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?_0(n,t):{};if(!e)return Cn(o,r,void 0);let i=Or(n),[s,a]=Yn(i,G),c=Cn(o,r,s);return a?ia(c,a):c}async function m0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return oi(o);let i=r?ph(r.headers,n):{};if(!r||!t&&o!==void 0)return Cn(i,o,void 0);let[s,a]=await g0(r),c=h0(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?ia(c,a):c}function h0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let i=e?.length&&n===void 0?pa(e):n;return r?t?Cn(o,i,e):Cn(o,i,void 0):oi(i)}catch(i){return W&&G.exception(i,"Failed to serialize response body"),Cn(o,n,void 0)}}async function g0(e){let t=S0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await y0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(W&&G.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(W&&G.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function ph(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function _0(e,t){return e.length===1&&typeof e[0]!="string"?Rm(e[0],t):e.length===2?Rm(e[1],t):{}}function Rm(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?ph(n,t):Array.isArray(n)?{}:ml(n,t):{}}function S0(e){try{return e.clone()}catch(t){W&&G.exception(t,"Failed to clone response body")}}function y0(e){return new Promise((t,n)=>{let r=qn(()=>n(new Error("Timeout while trying to read response body")),500);E0(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function E0(e){return await e.text()}async function b0(e,t,n){try{let r=I0(e,t,n),o=fh("resource.xhr",r);lh(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture xhr breadcrumb")}}function T0(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=pa(r),i=n.getResponseHeader("content-length")?dh(n.getResponseHeader("content-length")):x0(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function I0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!sa(c,n.networkDetailAllowUrls)||sa(c,n.networkDetailDenyUrls)){let y=oi(l),C=oi(f);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:y,response:C}}let p=a[Ye],m=p?ml(p.request_headers,n.networkRequestHeaders):{},g=ml(v0(a),n.networkResponseHeaders),[_,S]=n.networkCaptureBodies?Yn(s,G):[void 0],[E,U]=n.networkCaptureBodies?w0(a):[void 0],A=Cn(m,l,_),L=Cn(g,f,E);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:S?ia(A,S):A,response:U?ia(L,U):L}}function v0(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function w0(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return R0(e.response,e.responseType)}catch(n){t.push(n)}return W&&G.warn("Failed to get xhr response body",...t),[void 0]}function R0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return W&&G.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return W&&G.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function x0(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return pa(n)}catch{return}}function C0(e){let t=b();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>A0(a,c,u))}catch{}}function A0(e,t,n){if(t.data)try{k0(t)&&M0(n)&&(T0(t,n),b0(t,n,e)),N0(t)&&O0(n)&&(d0(t,n),l0(t,n,e))}catch(r){W&&G.exception(r,"Error when enriching network breadcrumb")}}function k0(e){return e.category==="xhr"}function N0(e){return e.category==="fetch"}function M0(e){return e?.xhr}function O0(e){return e?.response}function L0(e,{autoFlushOnFeedback:t}){let n=b();Vo(fv(e)),an(i0(e)),Kv(e),C0(e);let r=r0(e);So(r),n&&(n.on("beforeSendEvent",Yv(e)),n.on("afterSendEvent",jv(e)),n.on("createDsc",o=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(o.replay_id=i)}),n.on("spanStart",o=>{e.lastActiveSpan=o}),n.on("spanEnd",o=>{e.lastActiveSpan=o}),n.on("beforeSendFeedback",async(o,i)=>{let s=e.getSessionId();i?.includeReplay&&e.isEnabled()&&s&&o.contexts?.feedback&&(o.contexts.feedback.source==="api"&&t&&await e.flush(),o.contexts.feedback.replay_id=s)}),t&&n.on("openFeedbackWidget",async()=>{await e.flush()}))}async function D0(e){try{return Promise.all(fa(e,[P0(le.performance.memory)]))}catch{return[]}}function P0(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function F0(e,t,n){return Oc(e,t,{...n,setTimeoutImpl:qn})}var Ys=w.navigator;function U0(){return/iPhone|iPad|iPod/i.test(Ys?.userAgent??"")||/Macintosh/i.test(Ys?.userAgent??"")&&Ys?.maxTouchPoints&&Ys?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function B0(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){W&&G.warn("Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&av(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Al(e,n,o))return!0;if(!o)return!1;let i=e.session;if($0(e,o),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(W&&G.info(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&Cl(i))}return i?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function H0(e){let t=e.getOptions();return{type:V.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function $0(e,t){!t||!e.session||e.session.segmentId!==0||Al(e,H0(e),!1)}function W0(e,t,n,r){return Me(lo(e,dr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function G0({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function z0({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit("preprocessEvent",r,i);let s=await mo(e.getOptions(),r,i,t,e,ie());if(!s)return null;e.emit("postprocessEvent",s,i),s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:c,version:u}=a?.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},s}async function j0({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=G0({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=b(),f=M(),p=l?.getTransport(),m=l?.getDsn();if(!l||!p||!m||!i.sampled)return je({});let g={type:DT,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},_=await z0({scope:f,client:l,replayId:t,event:g});if(!_)return l.recordDroppedEvent("event_processor","replay"),W&&G.info("An event processor returned `null`, will not send event."),je({});delete _.sdkProcessingMetadata;let S=W0(_,s,m,l.getOptions().tunnel),E;try{E=await p.send(S)}catch(A){let L=new Error(Sl);try{L.cause=A}catch{}throw L}if(typeof E.statusCode=="number"&&(E.statusCode<200||E.statusCode>=300))throw new aa(E.statusCode);let U=Io({},E);if(To(U,"replay"))throw new ii(U);return E}var aa=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},ii=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function mh(e,t={count:0,interval:$T}){let{recordingData:n,onError:r}=e;if(n.length)try{return await j0(e),!0}catch(o){if(o instanceof aa||o instanceof ii)throw o;if(ho("Replays",{_retryCount:t.count}),r&&r(o),t.count>=WT){let i=new Error(`${Sl} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{qn(async()=>{try{await mh(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var hh="__THROTTLED",q0="__SKIPPED";function V0(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let d=s;return s=!0,d?q0:hh}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var hl=class{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:PT,sessionIdleExpire:FT},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=F0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=V0((s,a)=>Wv(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(GT,r),timeout:r,scrollTimeout:zT,ignoreSelector:o?o.join(","):""}:void 0;if(i&&(this.clickDetector=new cl(this,i)),W){let s=t._experiments;G.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}this._handleVisibilityChange=()=>{le.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let s=jt({category:"ui.blur"});this._doChangeToBackgroundTasks(s)},this._handleWindowFocus=()=>{let s=jt({category:"ui.focus"});this._doChangeToForegroundTasks(s)},this._handleKeyboardEvent=s=>{gv(this,s)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){W&&G.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){W&&G.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",W&&G.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){W&&G.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){W&&G.info("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=Vu({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){W&&G.info("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in buffer mode");let t=Vu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=un({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:HT}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:B0(this),...U0(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{W&&G.info(`Stopping Replay${n?` triggered by ${n}`:""}`),uh(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,Fv(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),W&&G.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),W&&G.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();W&&G.info("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&fl(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${le.location.pathname}${le.location.hash}${le.location.search}`,n=`${le.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===hh){let o=jt({category:"replay.throttled"});this.addUpdate(()=>!Al(this,{type:XI,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||Y(),n=t&&X(t),o=(n&&O(n).data||{})[Ie];if(!(!n||!o||!["route","custom"].includes(o)))return O(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Lv({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Vu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return ih(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{le.document.addEventListener("visibilitychange",this._handleVisibilityChange),le.addEventListener("blur",this._handleWindowBlur),le.addEventListener("focus",this._handleWindowFocus),le.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(L0(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=kv(this)}_removeListeners(){try{le.document.removeEventListener("visibilitychange",this._handleVisibilityChange),le.removeEventListener("blur",this._handleWindowBlur),le.removeEventListener("focus",this._handleWindowFocus),le.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||oh(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){W&&G.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:V.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Ev(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(fa(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){W&&G.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await D0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await mh({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=b();if(r){let o=n instanceof ii?"ratelimit_backoff":"send_error";r.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){W&&G.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){W&&G.info(`Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}let a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&W&&G.info("Flushing initial segment without checkout.");let c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Cl(this.session)}_onMutationHandler(t){let n=t.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>o||i){let s=jt({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function Jo(e,t){return[...e,...t].join(",")}function Y0({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let i=["base","iframe[srcdoc]:not([src])"],s=Jo(e,[".sentry-mask","[data-sentry-mask]"]),a=Jo(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:Jo(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Jo(r,[]),ignoreSelector:Jo(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function J0({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var xm='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',K0=["content-length","content-type","accept"],Cm=!1,gh=e=>new gl(e),gl=class{constructor({flushMinDelay:t=UT,flushMaxDelay:n=BT,minReplayDuration:r=jT,maxReplayDuration:o=am,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:S=[],networkCaptureBodies:E=!0,networkRequestHeaders:U=[],networkResponseHeaders:A=[],mask:L=[],maskAttributes:y=["title","placeholder","aria-label"],unmask:C=[],block:D=[],unblock:I=[],ignore:x=[],maskFn:N,beforeAddRecordingEvent:v,beforeErrorSampling:R,onError:B}={}){this.name="Replay";let j=Y0({mask:L,unmask:C,block:D,unblock:I,ignore:x});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:N,maskInputFn:N,maskAttributeFn:(F,te,H)=>J0({maskAttributes:y,maskAllText:u,privacyOptions:j,key:F,value:te,el:H}),...j,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:F=>{try{F.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,qT),maxReplayDuration:Math.min(o,am),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:_,networkDetailDenyUrls:S,networkCaptureBodies:E,networkRequestHeaders:Am(U),networkResponseHeaders:Am(A),beforeAddRecordingEvent:v,beforeErrorSampling:R,onError:B,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${xm}`:xm),this._isInitialized&&Tr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Cm}set _isInitialized(t){Cm=t}afterAllSetup(t){!Tr()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=X0(this._initialOptions,t);this._replay=new hl({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};function X0(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=ut(n.replaysSessionSampleRate),i=ut(n.replaysOnErrorSampleRate);return o==null&&i==null&&Ze(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function Am(e){return[...K0,...e.map(t=>t.toLowerCase())]}function _h(){return b()?.getIntegrationByName("Replay")}var Z0=Object.defineProperty,Q0=(e,t,n)=>t in e?Z0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sh=(e,t,n)=>Q0(e,typeof t!="symbol"?t+"":t,n),Ml=class{constructor(){Sh(this,"idNodeMap",new Map),Sh(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function ew(){return new Ml}function tw(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Ol(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ol(e.parentNode,t,n,r+1)}function yh(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(tw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var qr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Eh={map:{},getId(){return console.error(qr),-1},getNode(){return console.error(qr),null},removeNodeFromMap(){console.error(qr)},has(){return console.error(qr),!1},reset(){console.error(qr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Eh=new Proxy(Eh,{get(e,t,n){return t==="map"&&console.error(qr),Reflect.get(e,t,n)}}));function Dl(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){Ch(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Dl(e,t,i||{},!0)}function Pl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function nw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function _a(e,t,n,r,o){if(!e)return!1;let i=nw(e);if(!i)return!1;let s=yh(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Ol(i,s),c=-1;return a<0?!1:(r&&(c=Ol(i,yh(null,r))),a>-1&&c<0?!0:a<c)}var bh={};function xh(e){let t=bh[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return bh[e]=r.bind(window)}function Kn(...e){return xh("requestAnimationFrame")(...e)}function Ch(...e){return xh("setTimeout")(...e)}var Yr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Yr||{}),ha;function rw(e){ha=e}var Nl=e=>ha?(...n)=>{try{return e(...n)}catch(r){if(ha&&ha(r)===!0)return()=>{};throw r}}:e,Vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ow=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(ci=0;ci<Vr.length;ci++)ow[Vr.charCodeAt(ci)]=ci;var ci,iw=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=Vr[t[n]>>2],o+=Vr[(t[n]&3)<<4|t[n+1]>>4],o+=Vr[(t[n+1]&15)<<2|t[n+2]>>6],o+=Vr[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Th=new Map;function sw(e,t){let n=Th.get(e);return n||(n=new Map,Th.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Ah=(e,t,n)=>{if(!e||!(Nh(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=sw(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function ga(e,t,n){if(e instanceof Array)return e.map(r=>ga(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=iw(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[ga(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[ga(e.data,t,n),e.width,e.height]};if(Nh(e,t)||typeof e=="object"){let r=e.constructor.name,o=Ah(e,t,n);return{rr_type:r,index:o}}}}return e}var kh=(e,t,n)=>e.map(r=>ga(r,t,n)),Nh=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function aw(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=Pl(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return _a(this.canvas,n,r,o,!0)||Ch(()=>{let l=kh(d,t,this);e(this.canvas,{type:Yr["2D"],property:a,args:l})},0),u.apply(this,d)}});i.push(c)}catch{let c=Dl(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Yr["2D"],property:a,args:[u],setter:!0})}});i.push(c)}return()=>{i.forEach(a=>a())}}function cw(e){return e==="experimental-webgl"?"webgl":e}function Ih(e,t,n,r,o){let i=[];try{let s=Pl(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!_a(this,t,n,r,!0)){let d=cw(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){let l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function vh(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let l=Pl(e,d,function(f){return function(...p){let m=f.apply(this,p);if(Ah(m,a,this),"tagName"in this.canvas&&!_a(this.canvas,r,o,i,!0)){let g=kh(p,a,this),_={type:t,property:d,args:g};n(this.canvas,_)}return m}});c.push(l)}catch{let l=Dl(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});c.push(l)}return c}function uw(e,t,n,r,o,i){let s=[];return s.push(...vh(t.WebGLRenderingContext.prototype,Yr.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...vh(t.WebGL2RenderingContext.prototype,Yr.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var lw='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function dw(){let e=new Blob([lw]);return URL.createObjectURL(e)}var Ll=class{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};let{sampling:n="all",win:r,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&rw(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&Nl(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,o,i,s,a,{dataURLOptions:u})})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){let{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:i,recordCanvas:s,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}Nl(()=>{if(s&&n==="all"&&this.initCanvasMutationObserver(t,r,o,i),s&&typeof n=="number"){let c=Ih(t,r,o,i,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){let t=new Worker(dw());return t.onmessage=n=>{let r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;let{base64:i,type:s,width:a,height:c}=r;this.mutationCb({id:o,type:Yr["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:s}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,o,i,s){let a=this.takeSnapshot(!1,t,n,r,o,i,s.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,o){let i=Ih(t,n,r,o,!1),s=aw(this.processMutation.bind(this),t,n,r,o),a=uw(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{i(),s(),a()})}snapshot(t){let{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,o,i,s,a,c){let u=1e3/n,d,l=p=>{if(p)return[p];let m=[],g=_=>{_.querySelectorAll("canvas").forEach(S=>{_a(S,r,o,i,!0)||m.push(S)})};for(let _ of this.windows){let S=_.deref(),E;try{E=S&&S.document}catch{}E&&g(E)}for(let _ of this.shadowDoms){let S=_.deref();S&&g(S)}return m},f=p=>{if(this.windows.length){if(this.lastSnapshotTime&&p-this.lastSnapshotTime<u){d=Kn(f);return}this.lastSnapshotTime=p,l(c).forEach(m=>{if(!this.mirror.hasNode(m))return;let g=this.mirror.getId(m);if(!this.snapshotInProgressMap.get(g)&&!(!m.width||!m.height)){if(this.snapshotInProgressMap.set(g,!0),!t&&["webgl","webgl2"].includes(m.__context)){let _=m.getContext(m.__context);_?.getContextAttributes()?.preserveDrawingBuffer===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(m).then(_=>{this.worker?.postMessage({id:g,bitmap:_,width:m.width,height:m.height,dataURLOptions:a,maxCanvasSize:s},[_])}).catch(_=>{Nl(()=>{throw _})()})}}),t||(d=Kn(f))}};return d=Kn(f),d}startPendingCanvasMutationFlusher(){Kn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,Kn(t)};Kn(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Kn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}};try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}ew();var wh;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(wh||(wh={}));var Rh={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},fw="ReplayCanvas",ma=1280,pw=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,ma):ma,n?Math.min(n,ma):ma]},o,i=new Promise(s=>o=s);return{name:fw,getOptions(){let{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{let d=new Ll({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},...Rh[s]||Rh.medium}},async snapshot(s){(await i).snapshot(s)}}},Mh=pw;var Oh=new WeakMap,Fl=new Map,ui={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Sa(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...ui,...t},u=typeof i=="function"?i:f=>!0,d=f=>gw(f,a),l={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(p=>{if(p.op==="http.client"){let m=Fl.get(p.span_id);m&&(p.timestamp=m/1e3,Fl.delete(p.span_id))}}),f)),o&&Kc(f=>{if(f.response){let p=Oh.get(f.response);p&&f.endTimestamp&&Fl.set(p,f.endTimestamp)}}),Hn(f=>{let p=jc(f,u,d,l);if(f.response&&f.fetchData.__span&&Oh.set(f.response,f.fetchData.__span),p){let m=Dh(f.fetchData.url),g=m?Mt(m).host:void 0;p.setAttributes({"http.url":m,"server.address":g}),s&&Lh(p),c?.(p,{headers:f.headers})}})),r&&Vn(f=>{let p=_w(f,u,d,l);if(p){s&&Lh(p);let m;try{m=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(p,{headers:m})}})}function mw(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Lh(e){let{url:t}=O(e).data;if(!t||typeof t!="string")return;let n=Lt("resource",({entries:r})=>{r.forEach(o=>{mw(o)&&o.name.endsWith(t)&&(hw(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function qt(e=0){return((_e()||performance.timeOrigin)+e)/1e3}function hw(e){let{name:t,version:n}=qo(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),_e()?[...r,["http.request.redirect_start",qt(e.redirectStart)],["http.request.fetch_start",qt(e.fetchStart)],["http.request.domain_lookup_start",qt(e.domainLookupStart)],["http.request.domain_lookup_end",qt(e.domainLookupEnd)],["http.request.connect_start",qt(e.connectStart)],["http.request.secure_connection_start",qt(e.secureConnectionStart)],["http.request.connection_end",qt(e.connectEnd)],["http.request.request_start",qt(e.requestStart)],["http.request.response_start",qt(e.responseStart)],["http.request.response_end",qt(e.responseEnd)]]:r}function gw(e,t){let n=Ge();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?Ne(r.toString(),t)||i&&Ne(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?Ne(e,t):r}}function _w(e,t,n,r){let o=e.xhr,i=o?.[Ye];if(!o||o.__sentry_own_request__||!i)return;let{url:s,method:a}=i,c=ze()&&t(s);if(e.endTimestamp&&c){let g=o.__sentry_xhr_span_id__;if(!g)return;let _=r[g];_&&i.status_code!==void 0&&(Wt(_,i.status_code),_.end(),delete r[g]);return}let u=Dh(s),d=u?Mt(u):Mt(s),l=ko(s),f=!!Y(),p=c&&f?yt({name:`${a} ${l}`,attributes:{url:s,type:"xhr","http.method":a,"http.url":u,"server.address":d?.host,[K]:"auto.http.browser",[Ee]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new Ue;o.__sentry_xhr_span_id__=p.spanContext().spanId,r[o.__sentry_xhr_span_id__]=p,n(s)&&Sw(o,ze()&&f?p:void 0);let m=b();return m&&m.emit("beforeOutgoingRequestSpan",p,e),p}function Sw(e,t){let{"sentry-trace":n,baggage:r}=Fn({span:t});n&&yw(e,n,r)}function yw(e,t,n){let r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){let o=r?.baggage;(!o||!Ew(o))&&e.setRequestHeader("baggage",n)}}catch{}}function Ew(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Dh(e){try{return new URL(e,k.location.origin).href}catch{return}}function Ph(){k.document?k.document.addEventListener("visibilitychange",()=>{let e=Y();if(!e)return;let t=X(e);if(k.document.hidden&&t){let n="cancelled",{op:r,status:o}=O(t);$&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):$&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var bw=3600,Fh="sentry_previous_trace",Tw="sentry.previous_trace";function Uh(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",o=r?ww():void 0;e.on("spanStart",s=>{if(X(s)!==s)return;let a=M().getPropagationContext();o=Iw(o,s,a),r&&vw(o)});let i=!0;n&&e.on("beforeSampling",s=>{if(!o)return;let a=M(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(Ul(o.spanContext))},sampleRand:o.sampleRand}),s.parentSampled=Ul(o.spanContext),s.parentSampleRate=o.sampleRate,s.spanAttributes={...s.spanAttributes,[no]:o.sampleRate}})}function Iw(e,t,n){let r=O(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[Zt])}catch{return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=bw&&($&&h.info(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[Wa]:"previous_trace"}}),t.setAttribute(Tw,`${s.traceId}-${s.spanId}-${Ul(s)?1:0}`)),i)}function vw(e){try{k.sessionStorage.setItem(Fh,JSON.stringify(e))}catch(t){$&&h.warn("Could not store previous trace in sessionStorage",t)}}function ww(){try{let e=k.sessionStorage?.getItem(Fh);return JSON.parse(e)}catch{return}}function Ul(e){return e.traceFlags===1}var Rw="BrowserTracing",xw={...mr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...ui},$h=(e={})=>{let t={name:void 0,source:void 0},n=k.document,{enableInp:r,enableLongTask:o,enableLongAnimationFrame:i,_experiments:{enableInteractions:s,enableStandaloneClsSpans:a},beforeStartSpan:c,idleTimeout:u,finalTimeout:d,childSpanTimeout:l,markBackgroundSpan:f,traceFetch:p,traceXHR:m,trackFetchStreamPerformance:g,shouldCreateSpanForRequest:_,enableHTTPTimings:S,ignoreResourceSpans:E,ignorePerformanceApiSpans:U,instrumentPageLoad:A,instrumentNavigation:L,linkPreviousTrace:y,consistentTraceSampling:C,onRequestSpanStart:D}={...xw,...e},I;function x(N,v){let R=v.op==="pageload",B=c?c(v):v,j=B.attributes||{};v.name!==B.name&&(j[Ie]="custom",B.attributes=j),t.name=B.name,t.source=j[Ie];let F=Ui(B,{idleTimeout:u,finalTimeout:d,childSpanTimeout:l,disableAutoFinish:R,beforeSpanEnd:H=>{I?.(),Ou(H,{recordClsOnPageloadSpan:!a,ignoreResourceSpans:E,ignorePerformanceApiSpans:U}),Hh(N,void 0);let Q=M(),ne=Q.getPropagationContext();Q.setPropagationContext({...ne,traceId:F.spanContext().traceId,sampled:_t(F),dsc:be(H)})}});Hh(N,F);function te(){n&&["interactive","complete"].includes(n.readyState)&&N.emit("idleSpanEnableAutoFinish",F)}R&&n&&(n.addEventListener("readystatechange",()=>{te()}),te())}return{name:Rw,setup(N){co(),I=Au({recordClsStandaloneSpans:a||!1}),r&&Fu(),i&&w.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Nu():o&&ku(),s&&Mu();function v(){let R=ya(N);R&&!O(R).timestamp&&($&&h.log(`[Tracing] Finishing current active span with op: ${O(R).op}`),R.setAttribute(Ln,"cancelled"),R.end())}N.on("startNavigationSpan",R=>{if(b()!==N)return;v(),ie().setPropagationContext({traceId:Pe(),sampleRand:Math.random()});let B=M();B.setPropagationContext({traceId:Pe(),sampleRand:Math.random()}),B.setSDKProcessingMetadata({normalizedRequest:void 0}),x(N,{op:"navigation",...R})}),N.on("startPageLoadSpan",(R,B={})=>{if(b()!==N)return;v();let j=B.sentryTrace||Bh("sentry-trace"),F=B.baggage||Bh("baggage"),te=ro(j,F),H=M();H.setPropagationContext(te),H.setSDKProcessingMetadata({normalizedRequest:Uo()}),x(N,{op:"pageload",...R})})},afterAllSetup(N){let v=Ge();if(y!=="off"&&Uh(N,{linkPreviousTrace:y,consistentTraceSampling:C}),k.location){if(A){let R=_e();Bl(N,{name:k.location.pathname,startTime:R?R/1e3:void 0,attributes:{[Ie]:"url",[K]:"auto.pageload.browser"}})}L&&an(({to:R,from:B})=>{if(B===void 0&&v?.indexOf(R)!==-1){v=void 0;return}v=void 0;let j=Ao(R);Hl(N,{name:j?.pathname||k.location.pathname,attributes:{[Ie]:"url",[K]:"auto.navigation.browser"}}),M().setSDKProcessingMetadata({normalizedRequest:{...Uo(),url:R}})})}f&&Ph(),s&&Cw(N,u,d,l,t),r&&Uu(),Sa(N,{traceFetch:p,traceXHR:m,trackFetchStreamPerformance:g,tracePropagationTargets:N.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:_,enableHTTPTimings:S,onRequestSpanStart:D})}}};function Bl(e,t,n){return e.emit("startPageLoadSpan",t,n),M().setTransactionName(t.name),ya(e)}function Hl(e,t){return e.emit("startNavigationSpan",t),M().setTransactionName(t.name),ya(e)}function Bh(e){return k.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function Cw(e,t,n,r,o){let i=k.document,s,a=()=>{let c="ui.action.click",u=ya(e);if(u){let d=O(u).op;if(["navigation","pageload"].includes(d)){$&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Ln,"interactionInterrupted"),s.end(),s=void 0),!o.name){$&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=Ui({name:o.name,op:c,attributes:{[Ie]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{once:!1,capture:!0})}var Wh="_sentry_idleSpan";function ya(e){return e[Wh]}function Hh(e,t){de(e,Wh,t)}function Jr(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Aw(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=Jr(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function $l(e){return Jr(e.getAllKeys())}function kw(e,t,n){return e(r=>$l(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),Jr(r.transaction)}))}function Nw(e,t,n){return e(r=>$l(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),Jr(r.transaction)}))}function Mw(e){return e(t=>$l(t).then(n=>{let r=n[0];if(r!=null)return Jr(t.get(r)).then(o=>(t.delete(r),Jr(t.transaction).then(()=>o)))}))}function Ow(e){let t;function n(){return t==null&&(t=Aw(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{let o=await gn(r);await kw(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{let o=await gn(r);await Nw(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{let r=await Mw(n());if(r)return Za(r)}catch{}}}}function Lw(e){return t=>{let n=e({...t,createStore:Ow});return k.addEventListener("online",async r=>{await n.flush()}),n}}function Gh(e=Lr){return Lw(xc(e))}var zh=1e6,Ea=String(0),Dw="main",ba=k.navigator,qh="",Vh="",Yh="",Wl=ba?.userAgent||"",Jh="",Pw=ba?.language||ba?.languages?.[0]||"";function Fw(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var jh=ba?.userAgentData;Fw(jh)&&jh.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(qh=e.platform||"",Yh=e.architecture||"",Jh=e.model||"",Vh=e.platformVersion||"",e.fullVersionList?.length){let t=e.fullVersionList[e.fullVersionList.length-1];Wl=`${t.brand} ${t.version}`}}).catch(e=>{});function Uw(e){return!("thread_metadata"in e)}function Bw(e){return Uw(e)?Ww(e):e}function Hw(e){let t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&$&&h.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function $w(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=Hw(r),i=Bw(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:oe()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:oe()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||en,runtime:{name:"javascript",version:k.navigator.userAgent},os:{name:qh,version:Vh,build_number:Wl},device:{locale:Pw,model:Jh,manufacturer:Wl,architecture:Yh,is_emulator:!1},debug_meta:{images:Gw(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||fe(),trace_id:o,active_thread_id:Ea,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function Ta(e){return O(e).op==="pageload"}function Ww(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[Ea]:{name:Dw}}},o=e.samples[0];if(!o)return r;let i=o.timestamp,s=_e(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,c=a-(s||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-i)*zh).toFixed(0),stack_id:t,thread_id:Ea};return}let l=e.stacks[u.stackId],f=[];for(;l;){f.push(l.frameId);let m=e.frames[l.frameId];m&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}let p={elapsed_since_start_ns:((u.timestamp+c-i)*zh).toFixed(0),stack_id:n,thread_id:Ea};r.stacks[n]=f,r.samples[d]=p,n++}),r}function Kh(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function Xh(e){let t=[];return lt(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++){let i=n[o];i?.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[o])}}),t}function Gw(e){let r=b()?.getOptions()?.stackParser;return r?cc(r,e):[]}function zw(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?($&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?($&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function jw(e){return e.samples.length<2?($&&h.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:($&&h.log("[Profiling] Discarding profile because it contains no frames"),!1)}var Zh=!1,Gl=3e4;function qw(e){return typeof e=="function"}function Qh(){let e=k.Profiler;if(!qw(e)){$&&h.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Gl/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{$&&(h.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.log("[Profiling] Disabling profiling for current user session.")),Zh=!0}}function zl(e){if(Zh)return $&&h.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return $&&h.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let n=b()?.getOptions();if(!n)return $&&h.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return zw(r)?r?(r===!0?!0:Math.random()<r)?!0:($&&h.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):($&&h.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):($&&h.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function eg(e,t,n,r){return jw(n)?$w(e,t,n,r):null}var Xn=new Map;function tg(){return Xn.size}function ng(e){let t=Xn.get(e);return t&&Xn.delete(e),t}function rg(e,t){if(Xn.set(e,t),Xn.size>30){let n=Xn.keys().next().value;Xn.delete(n)}}function jl(e){let t;Ta(e)&&(t=oe()*1e3);let n=Qh();if(!n)return;$&&h.log(`[Profiling] started profiling span: ${O(e).description}`);let r=fe();M().setContext("profile",{profile_id:r,start_timestamp:t});async function o(){if(e&&n)return n.stop().then(c=>{if(i&&(k.clearTimeout(i),i=void 0),$&&h.log(`[Profiling] stopped profiling of span: ${O(e).description}`),!c){$&&h.log(`[Profiling] profiler returned null profile for: ${O(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}rg(r,c)}).catch(c=>{$&&h.log("[Profiling] error while stopping profiler:",c)})}let i=k.setTimeout(()=>{$&&h.log("[Profiling] max profile duration elapsed, stopping profiling for:",O(e).description),o()},Gl),s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var Vw="BrowserProfiling",Yw=()=>({name:Vw,setup(e){let t=Y(),n=t&&X(t);n&&Ta(n)&&zl(n)&&jl(n),e.on("spanStart",r=>{r===X(r)&&zl(r)&&jl(r)}),e.on("beforeEnvelope",r=>{if(!tg())return;let o=Xh(r);if(!o.length)return;let i=[];for(let s of o){let a=s?.contexts,c=a?.profile?.profile_id,u=a?.profile?.start_timestamp;if(typeof c!="string"){$&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){$&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}a?.profile&&delete a.profile;let d=ng(c);if(!d){$&&h.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let l=eg(c,u,d,s);l&&i.push(l)}Kh(r,i)})}}),og=Yw;var Jw="SpotlightBrowser",Kw=(e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:Jw,setup:()=>{$&&h.log("Using Sidecar URL",t)},processEvent:n=>Zw(n)?null:n,afterAllSetup:n=>{Xw(n,t)}}};function Xw(e,t){let n=Mr("fetch"),r=0;e.on("beforeEnvelope",o=>{if(r>3){h.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:gn(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,h.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var ig=Kw;function Zw(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}var sg=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Nt(e)}});function ag(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{Et(e,t.value),bt(e,t.value)}}}var cg=()=>({name:"OpenFeature",processEvent(e,t,n){return Nt(e)}}),Ia=class{after(t,n){Et(n.flagKey,n.value),bt(n.flagKey,n.value)}error(t,n,r){Et(t.flagKey,t.defaultValue),bt(t.flagKey,t.defaultValue)}};var ug=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){let t=e.prototype;he(t,"isEnabled",Qw)},processEvent(t,n,r){return Nt(t)}});function Qw(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(Et(n,r),bt(n,r)):$&&h.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var lg=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{Et(n.gate.name,n.gate.value),bt(n.gate.name,n.gate.value)})},processEvent(t,n,r){return Nt(t)}});async function dg(){let e=b();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await fetch("https://o447951.ingest.sentry.io/api/1337/envelope/?sentry_version=7&sentry_key=1337&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"})}catch{return"sentry-unreachable"}}export{fg as Sentry};
