var cg=Object.defineProperty;var Bl=(e,t)=>{for(var n in t)cg(e,n,{get:t[n],enumerable:!0})};var ag={};Bl(ag,{BrowserClient:()=>kr,OpenFeatureIntegrationHook:()=>Sa,SDK_VERSION:()=>Ke,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Ee,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>J,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>Zt,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Te,Scope:()=>De,WINDOW:()=>A,addBreadcrumb:()=>qe,addEventProcessor:()=>_o,addIntegration:()=>Sr,breadcrumbsIntegration:()=>Os,browserApiErrorsIntegration:()=>Ls,browserProfilingIntegration:()=>Zh,browserSessionIntegration:()=>Ds,browserTracingIntegration:()=>Dh,buildLaunchDarklyFlagUsedHandler:()=>ng,captureConsoleIntegration:()=>Mc,captureEvent:()=>nn,captureException:()=>lt,captureFeedback:()=>Ao,captureMessage:()=>En,captureSession:()=>_r,chromeStackLineParser:()=>Mu,close:()=>dc,consoleLoggingIntegration:()=>Hc,contextLinesIntegration:()=>Jp,continueTrace:()=>Za,createTransport:()=>Io,createUserFeedbackEnvelope:()=>Mp,dedupeIntegration:()=>xo,defaultRequestInstrumentationOptions:()=>ci,defaultStackLineParsers:()=>Lu,defaultStackParser:()=>Ns,diagnoseSdkConnectivity:()=>sg,endSession:()=>So,eventFiltersIntegration:()=>Yi,eventFromException:()=>hs,eventFromMessage:()=>gs,exceptionFromError:()=>Cr,extraErrorDataIntegration:()=>Oc,featureFlagsIntegration:()=>eg,feedbackAsyncIntegration:()=>Qf,feedbackIntegration:()=>lu,feedbackSyncIntegration:()=>lu,flush:()=>lc,forceLoad:()=>Up,functionToStringIntegration:()=>wo,geckoStackLineParser:()=>Ou,getActiveSpan:()=>Z,getClient:()=>b,getCurrentScope:()=>O,getDefaultIntegrations:()=>Du,getFeedback:()=>Bf,getGlobalScope:()=>Xt,getIsolationScope:()=>ie,getReplay:()=>dh,getRootSpan:()=>K,getSpanDescendants:()=>Qt,getSpanStatusFromHttpCode:()=>_i,getTraceData:()=>Un,globalHandlersIntegration:()=>Ps,graphqlClientIntegration:()=>Qp,httpClientIntegration:()=>zp,httpContextIntegration:()=>Fs,inboundFiltersIntegration:()=>Ro,init:()=>Fp,instrumentOutgoingRequests:()=>pa,instrumentSupabaseClient:()=>Qi,isEnabled:()=>go,isInitialized:()=>fc,lastEventId:()=>ho,launchDarklyIntegration:()=>tg,lazyLoadIntegration:()=>ms,linkedErrorsIntegration:()=>Us,logger:()=>du,makeBrowserOfflineTransport:()=>Fh,makeFetchTransport:()=>Or,makeMultiplexedTransport:()=>vc,moduleMetadataIntegration:()=>Nc,onLoad:()=>Bp,openFeatureIntegration:()=>rg,opera10StackLineParser:()=>kp,opera11StackLineParser:()=>Ap,parameterize:()=>qi,registerSpanErrorInstrumentation:()=>ao,replayCanvasIntegration:()=>Rh,replayIntegration:()=>lh,reportingObserverIntegration:()=>Wp,rewriteFramesIntegration:()=>Lc,sendFeedback:()=>nu,setContext:()=>mo,setCurrentClient:()=>zi,setExtra:()=>sc,setExtras:()=>ic,setHttpStatus:()=>Bt,setMeasurement:()=>lo,setTag:()=>cc,setTags:()=>ac,setUser:()=>uc,showReportDialog:()=>Hp,spanToBaggageHeader:()=>Ga,spanToJSON:()=>L,spanToTraceHeader:()=>ro,spotlightBrowserIntegration:()=>Qh,startBrowserTracingNavigationSpan:()=>Ol,startBrowserTracingPageLoadSpan:()=>Ml,startInactiveSpan:()=>_t,startNewTrace:()=>ec,startSession:()=>gr,startSpan:()=>pr,startSpanManual:()=>Xa,statsigIntegration:()=>ig,supabaseIntegration:()=>Dc,suppressTracing:()=>Qa,thirdPartyErrorFilterIntegration:()=>Fc,unleashIntegration:()=>og,updateSpanName:()=>Pa,winjsStackLineParser:()=>Cp,withActiveSpan:()=>Sn,withIsolationScope:()=>hi,withScope:()=>we,zodErrorsIntegration:()=>Pc});var I=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Ke="9.25.1";var w=globalThis;function We(){return fn(w),w}function fn(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ke,t[Ke]=t[Ke]||{}}function Nn(e,t,n=w){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[Ke]=r[Ke]||{};return o[e]||(o[e]=t())}var Hl=Object.prototype.toString;function Xe(e){switch(Hl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return st(e,Error)}}function nr(e,t){return Hl.call(e)===`[object ${t}]`}function ui(e){return nr(e,"ErrorEvent")}function li(e){return nr(e,"DOMError")}function ba(e){return nr(e,"DOMException")}function Re(e){return nr(e,"String")}function pn(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Mn(e){return e===null||pn(e)||typeof e!="object"&&typeof e!="function"}function it(e){return nr(e,"Object")}function On(e){return typeof Event<"u"&&st(e,Event)}function Ta(e){return typeof Element<"u"&&st(e,Element)}function Ia(e){return nr(e,"RegExp")}function vt(e){return!!(e?.then&&typeof e.then=="function")}function va(e){return it(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function st(e,t){try{return e instanceof t}catch{return!1}}function Kr(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function di(e){return typeof Request<"u"&&st(e,Request)}var wa=w,ug=80;function Oe(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||ug;for(;n&&i++<r&&(u=lg(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function lg(e,t){let n=e,r=[];if(!n?.tagName)return"";if(wa.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o?.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&Re(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function Ge(){try{return wa.document.location.href}catch{return""}}function Xr(e){if(!wa.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}var dg="Sentry Logger ",Vt=["debug","info","warn","error","log","assert","trace"],rr={};function Ze(e){if(!("console"in w))return e();let t=w.console,n={},r=Object.keys(rr);r.forEach(o=>{let i=rr[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function fg(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return I?Vt.forEach(n=>{t[n]=(...r)=>{e&&Ze(()=>{w.console[n](`${dg}[${n}]:`,...r)})}}):Vt.forEach(n=>{t[n]=()=>{}}),t}var h=Nn("logger",fg);function pt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Zr(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Yt(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{Kr(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function $l(e,t,n=!1){return Re(e)?Ia(t)?t.test(e):Re(t)?n?e===t:e.includes(t):!1:!1}function ke(e,t=[],n=!1){return t.some(r=>$l(e,r,n))}function he(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let o=n(r);typeof o=="function"&&fi(o,r);try{e[t]=o}catch{I&&h.log(`Failed to replace method "${t}" in object`,e)}}function de(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{I&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function fi(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,de(e,"__sentry_original__",t)}catch{}}function Ln(e){return e.__sentry_original__}function pi(e){if(Xe(e))return{message:e.message,name:e.name,stack:e.stack,...Gl(e)};if(On(e)){let t={type:e.type,target:Wl(e.target),currentTarget:Wl(e.currentTarget),...Gl(e)};return typeof CustomEvent<"u"&&st(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Wl(e){try{return Ta(e)?Oe(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Gl(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Ra(e,t=40){let n=Object.keys(pi(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return pt(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:pt(i,t)}return""}function pg(){let e=w;return e.crypto||e.msCrypto}function fe(e=pg()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function zl(e){return e.exception?.values?.[0]}function Dt(e){let{message:t,event_id:n}=e;if(t)return t;let r=zl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function or(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function Qe(e,t){let n=zl(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o?.data,...t.data};n.mechanism.data=i}}function xa(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>Zr(s,0));let i=Math.min(r-1,o);t.context_line=Zr(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>Zr(s,0))}function mi(e){if(mg(e))return!0;try{de(e,"__sentry_captured__",!0)}catch{}return!1}function mg(e){try{return e.__sentry_captured__}catch{}}var jl=1e3;function Pt(){return Date.now()/jl}function hg(){let{performance:e}=w;if(!e?.now)return Pt;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/jl}var oe=hg(),Ca;function gg(){let{performance:e}=w;if(!e?.now)return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function _e(){return Ca||(Ca=gg()),Ca[0]}function ql(e){let t=oe(),n={sid:fe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>_g(n)};return e&&Jt(n,e),n}function Jt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||oe(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:fe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Vl(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Jt(e,n)}function _g(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function mn(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=mn(r[o],t[o],n-1));return r}var ka="_sentrySpan";function Ft(e,t){t?de(e,ka,t):delete e[ka]}function Kt(e){return e[ka]}function Le(){return fe()}function wt(){return fe().substring(16)}var Sg=100,De=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Le(),sampleRand:Math.random()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ft(t,Kt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Jt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof e?n.getScopeData():it(n)?t:void 0,{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ft(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Le(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:Sg;if(r<=0)return this;let o={timestamp:Pt(),...t,message:t.message?pt(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Kt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=mn(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||fe();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r?.event_id||fe();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n?.event_id||fe();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Yl(){return Nn("defaultCurrentScope",()=>new De)}function Jl(){return Nn("defaultIsolationScope",()=>new De)}var Aa=class{constructor(t,n){let r;t?r=t:r=new De;let o;n?o=n:o=new De,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return vt(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function ir(){let e=We(),t=fn(e);return t.stack=t.stack||new Aa(Yl(),Jl())}function yg(e){return ir().withScope(e)}function Eg(e,t){let n=ir();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Kl(e){return ir().withScope(()=>e(ir().getIsolationScope()))}function Xl(){return{withIsolationScope:Kl,withScope:yg,withSetScope:Eg,withSetIsolationScope:(e,t)=>Kl(t),getCurrentScope:()=>ir().getScope(),getIsolationScope:()=>ir().getIsolationScope()}}function mt(e){let t=fn(e);return t.acs?t.acs:Xl()}function O(){let e=We();return mt(e).getCurrentScope()}function ie(){let e=We();return mt(e).getIsolationScope()}function Xt(){return Nn("globalScope",()=>new De)}function we(...e){let t=We(),n=mt(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function hi(...e){let t=We(),n=mt(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function b(){return O().getClient()}function gi(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||wt()};return r&&(i.parent_span_id=r),i}var Te="sentry.source",Zt="sentry.sample_rate",Qr="sentry.previous_trace_sample_rate",Ee="sentry.op",J="sentry.origin",Dn="sentry.idle_span_finish_reason",hn="sentry.measurement_unit",gn="sentry.measurement_value",sr="sentry.custom_span_name",ar="sentry.profile_id",Ut="sentry.exclusive_time";var Na="http.request.method",Ma="url.full",Oa="sentry.link.type";function _i(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function Bt(e,t){e.setAttribute("http.response.status_code",t);let n=_i(t);n.message!=="unknown_error"&&e.setStatus(n)}var Zl="_sentryScope",Ql="_sentryIsolationScope";function ed(e,t,n){e&&(de(e,Ql,n),de(e,Zl,t))}function Pn(e){return{scope:e[Zl],isolationScope:e[Ql]}}function at(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var Si="sentry-",bg=/^sentry-/,Tg=8192;function yi(e){let t=Ig(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(bg)){let s=o.slice(Si.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Ei(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Si}${r}`]=o),n),{});return vg(t)}function Ig(e){if(!(!e||!Re(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=td(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):td(e)}function td(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function vg(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>Tg?(I&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var bi=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function nd(e){if(!e)return;let t=e.match(bi);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function eo(e,t){let n=nd(e),r=yi(t);if(!n?.traceId)return{traceId:Le(),sampleRand:Math.random()};let o=wg(n,r);r&&(r.sample_rand=o.toString());let{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function to(e=Le(),t=wt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function wg(e,t){let n=at(t?.sample_rand);if(n!==void 0)return n;let r=at(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}var Ti=0,Ii=1,rd=!1;function id(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=L(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function no(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:L(e).parent_span_id,i=Pn(e).scope,s=r?i?.getPropagationContext().propagationSpanId||wt():t;return{parent_span_id:o,span_id:s,trace_id:n}}function ro(e){let{traceId:t,spanId:n}=e.spanContext(),r=ht(e);return to(t,n,r)}function vi(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Ii,attributes:i,...o}))}function Rt(e){return typeof e=="number"?od(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?od(e.getTime()):oe()}function od(e){return e>9999999999?e/1e3:e}function L(e){if(Cg(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(xg(e)){let{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:Rt(o),timestamp:Rt(s)||void 0,status:wi(a),op:r[Ee],origin:r[J],links:vi(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function xg(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Cg(e){return typeof e.getSpanJSON=="function"}function ht(e){let{traceFlags:t}=e.spanContext();return t===Ii}function wi(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Fn="_sentryChildSpans",La="_sentryRootSpan";function Ri(e,t){let n=e[La]||e;de(t,La,n),e[Fn]?e[Fn].add(t):de(e,Fn,new Set([t]))}function sd(e,t){e[Fn]&&e[Fn].delete(t)}function Qt(e){let t=new Set;function n(r){if(!t.has(r)&&ht(r)){t.add(r);let o=r[Fn]?Array.from(r[Fn]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function K(e){return e[La]||e}function Z(){let e=We(),t=mt(e);return t.getActiveSpan?t.getActiveSpan():Kt(O())}function oo(){rd||(Ze(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),rd=!0)}function Pa(e,t){e.updateName(t),e.setAttributes({[Te]:"custom",[sr]:t})}var ct="?",ad=/\(error: (.*)\)/,cd=/captureMessage|captureException/;function Ci(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];if(c.length>1024)continue;let u=ad.test(c)?c.replace(ad,"$1"):c;if(!u.match(/\S*Error: /)){for(let d of t){let l=d(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return ud(i.slice(o))}}function Ua(e){return Array.isArray(e)?Ci(...e):e}function ud(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(xi(t).function||"")&&t.pop(),t.reverse(),cd.test(xi(t).function||"")&&(t.pop(),cd.test(xi(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||xi(t).filename,function:n.function||ct}))}function xi(e){return e[e.length-1]||{}}var Fa="<anonymous>";function et(e){try{return!e||typeof e!="function"?Fa:e.name||Fa}catch{return Fa}}function cr(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var ki={},ld={};function Pe(e,t){ki[e]=ki[e]||[],ki[e].push(t)}function Fe(e,t){if(!ld[e]){ld[e]=!0;try{t()}catch(n){I&&h.error(`Error while instrumenting ${e}`,n)}}}function Ie(e,t){let n=e&&ki[e];if(n)for(let r of n)try{r(t)}catch(o){I&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${et(r)}
Error:`,o)}}var Ba=null;function io(e){let t="error";Pe(t,e),Fe(t,kg)}function kg(){Ba=w.onerror,w.onerror=function(e,t,n,r,o){return Ie("error",{column:r,error:o,line:n,msg:e,url:t}),Ba?Ba.apply(this,arguments):!1},w.onerror.__SENTRY_INSTRUMENTED__=!0}var Ha=null;function so(e){let t="unhandledrejection";Pe(t,e),Fe(t,Ag)}function Ag(){Ha=w.onunhandledrejection,w.onunhandledrejection=function(e){return Ie("unhandledrejection",e),Ha?Ha.apply(this,arguments):!0},w.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var dd=!1;function ao(){dd||(dd=!0,io($a),so($a))}function $a(){let e=Z(),t=e&&K(e);if(t){let n="internal_error";I&&h.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:2,message:n})}}$a.tag="sentry_tracingErrorCallback";function ze(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||b()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var en="production";var Ng=/^o(\d+)\./,Mg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Og(e){return e==="http"||e==="https"}function tt(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Ai(e){let t=Mg.exec(e);if(!t){Ze(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return fd({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function fd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Lg(e){if(!I)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(h.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?Og(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function pd(e){return e.match(Ng)?.[1]}function co(e){let t=typeof e=="string"?Ai(e):fd(e);if(!(!t||!Lg(t)))return t}var md="_frozenDsc";function ur(e,t){de(e,md,t)}function Wa(e,t){let n=t.getOptions(),{publicKey:r,host:o}=t.getDsn()||{},i;n.orgId?i=String(n.orgId):o&&(i=pd(o));let s={environment:n.environment||en,release:n.release,public_key:r,trace_id:e,org_id:i};return t.emit("createDsc",s),s}function lr(e,t){let n=t.getPropagationContext();return n.dsc||Wa(n.traceId,e)}function be(e){let t=b();if(!t)return{};let n=K(e),r=L(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[Zt]??o[Qr];function a(m){return(typeof s=="number"||typeof s=="string")&&(m.sample_rate=`${s}`),m}let c=n[md];if(c)return a(c);let u=i?.get("sentry.dsc"),d=u&&yi(u);if(d)return a(d);let l=Wa(e.spanContext().traceId,t),f=o[Te],p=r.description;return f!=="url"&&p&&(l.transaction=p),ze()&&(l.sampled=String(ht(n)),l.sample_rand=i?.get("sentry.sample_rand")??Pn(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function Ga(e){let t=be(e);return Ei(t)}var Ue=class{constructor(t={}){this._traceId=t.traceId||Le(),this._spanId=t.spanId||wt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Ti}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function za(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return Dg(r,t,n)}function Dg(e,t,n){return vt(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function hd(e){if(!I)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=L(e),{spanId:o}=e.spanContext(),i=ht(e),s=K(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:d,description:l}=L(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function gd(e){if(!I)return;let{description:t="< unknown name >",op:n="< unknown op >"}=L(e),{spanId:r}=e.spanContext(),i=K(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;h.log(s)}function _d(e,t,n){if(!ze(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);let i=at(o);if(i===void 0)return I&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return I&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||I&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}function Ae(e,t=100,n=1/0){try{return ja("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Ni(e,t=3,n=100*1024){let r=Ae(e,t);return Bg(r)>n?Ni(e,t-1,n):r}function ja(e,t,n=1/0,r=1/0,o=Hg()){let[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let a=Pg(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let p=u.toJSON();return ja("",p,c-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},l=0,f=pi(t);for(let p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}let m=f[p];d[p]=ja(p,m,c-1,r,o),l++}return s(t),d}function Pg(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Kr(t))return"[VueViewModel]";if(va(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${et(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=Fg(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Fg(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Ug(e){return~-encodeURI(e).split(/%..|./).length}function Bg(e){return Ug(JSON.stringify(e))}function Hg(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Ne(e,t=[]){return[e,t]}function qa(e,t){let[n,r]=e;return[n,[...r,t]]}function ut(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function Oi(e,t){return ut(e,(n,r)=>t.includes(r))}function Mi(e){let t=fn(w);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function $g(e){let t=fn(w);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function _n(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[Mi(r),i]:r.push(typeof i=="string"?Mi(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Ae(a))}o(c)}}return typeof r=="string"?r:Wg(r)}function Wg(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function Va(e){let t=typeof e=="string"?Mi(e):e;function n(s){let a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse($g(n(s)))}let o=r(),i=[];for(;t.length;){let s=r(),a=typeof s.length=="number"?s.length:void 0;i.push([s,a?n(a):r()])}return[o,i]}function Ya(e){return[{type:"span"},e]}function Ja(e){let t=typeof e.data=="string"?Mi(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var Gg={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Li(e){return Gg[e]}function dr(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function uo(e,t,n,r){let o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:tt(r)},...o&&{trace:o}}}function zg(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Sd(e,t,n,r){let o=dr(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:tt(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ne(i,[s])}function yd(e,t,n,r){let o=dr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";zg(e,n?.sdk);let s=uo(e,o,r,t);return delete e.sdkProcessingMetadata,Ne(s,[[{type:i},e]])}function Ed(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=be(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:tt(o)}},a=t?.getOptions().beforeSendSpan,c=a?d=>{let l=L(d),f=a(l);return f||(oo(),l)}:L,u=[];for(let d of e){let l=c(d);l&&u.push(Ya(l))}return Ne(s,u)}function lo(e,t,n,r=Z()){let o=r&&K(r);o&&(I&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[gn]:t,[hn]:n}))}function Di(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[hn],i=r[gn];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var bd=1e3,fr=class{constructor(t={}){this._traceId=t.traceId||Le(),this._spanId=t.spanId||wt(),this._startTime=t.startTimestamp||oe(),this._links=t.links,this._attributes={},this.setAttributes({[J]:"manual",[Ee]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Ii:Ti}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Rt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Te,"custom"),this}end(t){this._endTime||(this._endTime=Rt(t),gd(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ee],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:wi(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[J],profile_id:this._attributes[ar],exclusive_time:this._attributes[Ut],measurements:Di(this._events),is_segment:this._isStandaloneSpan&&K(this)===this||void 0,segment_id:this._isStandaloneSpan?K(this).spanContext().spanId:void 0,links:vi(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){I&&h.log("[Tracing] Adding an event to span:",t);let o=Td(n)?n:r||oe(),i=Td(n)?{}:n||{},s={name:t,time:Rt(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=b();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===K(this)))return;if(this._isStandaloneSpan){this._sampled?qg(Ed([this],t)):(I&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Pn(this).scope||O()).captureEvent(r)}_convertSpanToTransaction(){if(!Id(L(this)))return;this._name||(I&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Pn(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=Qt(this).filter(d=>d!==this&&!jg(d)).map(d=>L(d)).filter(Id),s=this._attributes[Te];delete this._attributes[sr],i.forEach(d=>{delete d.data[sr]});let a={contexts:{trace:id(this)},spans:i.length>bd?i.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,bd):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:be(this)},request:r,...s&&{transaction_info:{source:s}}},c=Di(this._events);return c&&Object.keys(c).length&&(I&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function Td(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Id(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function jg(e){return e instanceof fr&&e.isStandaloneSpan()}function qg(e){let t=b();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var Ka="__SENTRY_SUPPRESS_TRACING__";function pr(e,t){let n=fo();if(n.startSpan)return n.startSpan(e,t);let r=nc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return we(a,()=>wd(i)(()=>{let u=O(),d=rc(u),f=e.onlyIfParent&&!d?new Ue:tc({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Ft(u,f),za(()=>t(f),()=>{let{status:p}=L(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})},()=>{f.end()})}))}function Xa(e,t){let n=fo();if(n.startSpanManual)return n.startSpanManual(e,t);let r=nc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return we(a,()=>wd(i)(()=>{let u=O(),d=rc(u),f=e.onlyIfParent&&!d?new Ue:tc({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Ft(u,f),za(()=>t(f,()=>f.end()),()=>{let{status:p}=L(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})})}))}function _t(e){let t=fo();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=nc(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>we(e.scope,s):o!==void 0?s=>Sn(o,s):s=>s())(()=>{let s=O(),a=rc(s);return e.onlyIfParent&&!a?new Ue:tc({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}var Za=(e,t)=>{let n=We(),r=mt(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:o,baggage:i}=e;return we(s=>{let a=eo(o,i);return s.setPropagationContext(a),t()})};function Sn(e,t){let n=fo();return n.withActiveSpan?n.withActiveSpan(e,t):we(r=>(Ft(r,e||void 0),t(r)))}function Qa(e){let t=fo();return t.suppressTracing?t.suppressTracing(e):we(n=>(n.setSDKProcessingMetadata({[Ka]:!0}),e()))}function ec(e){return we(t=>(t.setPropagationContext({traceId:Le(),sampleRand:Math.random()}),I&&h.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),Sn(null,e)))}function tc({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ze()){let s=new Ue;if(n||!e){let a={sampled:"false",sample_rate:"0",transaction:t.name,...be(s)};ur(s,a)}return s}let o=ie(),i;if(e&&!n)i=Vg(e,r,t),Ri(e,i);else if(e){let s=be(e),{traceId:a,spanId:c}=e.spanContext(),u=ht(e);i=vd({traceId:a,parentSpanId:c,...t},r,u),ur(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=vd({traceId:s,parentSpanId:c,...t},r,u),a&&ur(i,a)}return hd(i),ed(i,r,o),i}function nc(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=Rt(e.startTime),delete r.startTime,r}return n}function fo(){let e=We();return mt(e)}function vd(e,t,n){let r=b(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[Ka]?[!1]:_d(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:at(u.dsc?.sample_rate)},u.sampleRand),p=new fr({...e,attributes:{[Te]:"custom",[Zt]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(I&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function Vg(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Ka]?!1:ht(e),s=i?new fr({...n,parentSpanId:r,traceId:o,sampled:i}):new Ue({traceId:o});Ri(e,s);let a=b();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function rc(e){let t=Kt(e);if(!t)return;let n=b();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?K(t):t}function wd(e){return e!==void 0?t=>Sn(e,t):t=>t()}var mr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Yg="heartbeatFailed",Jg="idleTimeout",Kg="finalTimeout",Xg="externalFinish";function Pi(e,t={}){let n=new Map,r=!1,o,i=Xg,s=!t.disableAutoFinish,a=[],{idleTimeout:c=mr.idleTimeout,finalTimeout:u=mr.finalTimeout,childSpanTimeout:d=mr.childSpanTimeout,beforeSpanEnd:l}=t,f=b();if(!f||!ze()){let y=new Ue,R={sample_rate:"0",sampled:"false",...be(y)};return ur(y,R),y}let p=O(),m=Z(),g=Zg(e);g.end=new Proxy(g.end,{apply(y,R,N){if(l&&l(g),R instanceof Ue)return;let[T,...C]=N,M=T||oe(),v=Rt(M),x=Qt(g).filter(H=>H!==g);if(!x.length)return D(v),Reflect.apply(y,R,[v,...C]);let U=x.map(H=>L(H).timestamp).filter(H=>!!H),j=U.length?Math.max(...U):void 0,P=L(g).start_timestamp,te=Math.min(P?P+u/1e3:1/0,Math.max(P||-1/0,Math.min(v,j||1/0)));return D(te),Reflect.apply(y,R,[te,...C])}});function _(){o&&(clearTimeout(o),o=void 0)}function S(y){_(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=Jg,g.end(y))},c)}function E(y){o=setTimeout(()=>{!r&&s&&(i=Yg,g.end(y))},d)}function $(y){_(),n.set(y,!0);let R=oe();E(R+d/1e3)}function k(y){if(n.has(y)&&n.delete(y),n.size===0){let R=oe();S(R+c/1e3)}}function D(y){r=!0,n.clear(),a.forEach(v=>v()),Ft(p,m);let R=L(g),{start_timestamp:N}=R;if(!N)return;R.data[Dn]||g.setAttribute(Dn,i),h.log(`[Tracing] Idle span "${R.op}" finished`);let C=Qt(g).filter(v=>v!==g),M=0;C.forEach(v=>{v.isRecording()&&(v.setStatus({code:2,message:"cancelled"}),v.end(y),I&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(v,void 0,2)));let x=L(v),{timestamp:U=0,start_timestamp:j=0}=x,P=j<=y,te=(u+c)/1e3,H=U-j<=te;if(I){let Q=JSON.stringify(v,void 0,2);P?H||h.log("[Tracing] Discarding span since it finished after idle span final timeout",Q):h.log("[Tracing] Discarding span since it happened after idle span was finished",Q)}(!H||!P)&&(sd(g,v),M++)}),M>0&&g.setAttribute("sentry.idle_span_discarded_spans",M)}return a.push(f.on("spanStart",y=>{if(r||y===g||L(y).timestamp)return;Qt(g).includes(y)&&$(y.spanContext().spanId)})),a.push(f.on("spanEnd",y=>{r||k(y.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",y=>{y===g&&(s=!0,S(),n.size&&E())})),t.disableAutoFinish||S(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=Kg,g.end())},u),g}function Zg(e){let t=_t(e);return Ft(O(),t),I&&h.log("[Tracing] Started span is an idle span"),t}var tn;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(tn||(tn={}));function je(e){return new xt(t=>{t(e)})}function yn(e){return new xt((t,n)=>{n(e)})}var xt=class e{constructor(t){this._state=tn.PENDING,this._handlers=[],this._runExecutor(t)}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===tn.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===tn.RESOLVED&&n[1](this._value),this._state===tn.REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===tn.PENDING){if(vt(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(tn.RESOLVED,i)},o=i=>{n(tn.REJECTED,i)};try{t(r,o)}catch(i){o(i)}}};function Fi(e,t,n,r=0){return new xt((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);I&&s.id&&a===null&&h.log(`Event processor "${s.id}" dropped event`),vt(a)?a.then(c=>Fi(e,c,n,r+1).then(o)).then(null,i):Fi(e,a,n,r+1).then(o).then(null,i)}})}var Ui,Rd,Bi;function Hi(e){let t=w._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Bi&&n.length===Rd||(Rd=n.length,Bi=n.reduce((r,o)=>{Ui||(Ui={});let i=Ui[o];if(i)r[i[0]]=i[1];else{let s=e(o);for(let a=s.length-1;a>=0;a--){let u=s[a]?.filename,d=t[o];if(u&&d){r[u]=d,Ui[o]=[u,d];break}}}return r},{})),Bi}function oc(e,t){let n=Hi(e);if(!n)return[];let r=[];for(let o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function xd(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;Qg(e,t),r&&n_(e,r),r_(e,n),e_(e,o),t_(e,i)}function hr(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:m}=t;$i(e,"extra",n),$i(e,"tags",r),$i(e,"user",o),$i(e,"contexts",i),e.sdkProcessingMetadata=mn(e.sdkProcessingMetadata,a,2),s&&(e.level=s),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function $i(e,t,n){e[t]=mn(e[t],n,1)}function Qg(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function e_(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function t_(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function n_(e,t){e.contexts={trace:no(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:be(t),...e.sdkProcessingMetadata};let n=K(t),r=L(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function r_(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function po(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||fe(),timestamp:t.timestamp||Pt()},u=n.integrations||e.integrations.map(_=>_.name);o_(c,e),a_(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&i_(c,e.stackParser);let d=u_(r,n.captureContext);n.mechanism&&Qe(c,n.mechanism);let l=o?o.getEventProcessors():[],f=Xt().getScopeData();if(i){let _=i.getScopeData();hr(f,_)}if(d){let _=d.getScopeData();hr(f,_)}let p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),xd(c,f);let m=[...l,...f.eventProcessors];return Fi(m,c,n).then(_=>(_&&s_(_),typeof s=="number"&&s>0?c_(_,s,a):_))}function o_(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||en,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);let s=e.request;s?.url&&(s.url=pt(s.url,i))}function i_(e,t){let n=Hi(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function s_(e){let t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function a_(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function c_(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Ae(o.data,t,n)}}))},...e.user&&{user:Ae(e.user,t,n)},...e.contexts&&{contexts:Ae(e.contexts,t,n)},...e.extra&&{extra:Ae(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ae(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:Ae(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Ae(e.contexts.flags,3,n)),r}function u_(e,t){if(!t)return e;let n=e?e.clone():new De;return n.update(t),n}function Cd(e){if(e)return l_(e)?{captureContext:e}:f_(e)?{captureContext:e}:e}function l_(e){return e instanceof De||typeof e=="function"}var d_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function f_(e){return Object.keys(e).some(t=>d_.includes(t))}function lt(e,t){return O().captureException(e,Cd(t))}function En(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return O().captureMessage(e,n,r)}function nn(e,t){return O().captureEvent(e,t)}function mo(e,t){ie().setContext(e,t)}function ic(e){ie().setExtras(e)}function sc(e,t){ie().setExtra(e,t)}function ac(e){ie().setTags(e)}function cc(e,t){ie().setTag(e,t)}function uc(e){ie().setUser(e)}function ho(){return ie().lastEventId()}async function lc(e){let t=b();return t?t.flush(e):(I&&h.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function dc(e){let t=b();return t?t.close(e):(I&&h.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function fc(){return!!b()}function go(){let e=b();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function _o(e){ie().addEventProcessor(e)}function gr(e){let t=ie(),n=O(),{userAgent:r}=w.navigator||{},o=ql({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&Jt(i,{status:"exited"}),So(),t.setSession(o),o}function So(){let e=ie(),n=O().getSession()||e.getSession();n&&Vl(n),kd(),e.setSession()}function kd(){let e=ie(),t=b(),n=e.getSession();n&&t&&t.captureSession(n)}function _r(e=!1){if(e){So();return}kd()}var p_="7";function Ad(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function m_(e){return`${Ad(e)}${e.projectId}/envelope/`}function h_(e,t){let n={sentry_version:p_};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function yo(e,t,n){return t||`${m_(e)}?${h_(e,n)}`}function pc(e,t){let n=co(e);if(!n)return"";let r=`${Ad(n)}embed/error-page/`,o=`dsn=${tt(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var Nd=[];function g_(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function mc(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return g_(r)}function Md(e,t){let n={};return t.forEach(r=>{r&&gc(e,r,n)}),n}function hc(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function gc(e,t,n){if(n[t.name]){I&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Nd.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Nd.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}I&&h.log(`Integration installed: ${t.name}`)}function Sr(e){let t=b();if(!t){I&&h.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Wi(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Od(e){let{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[ar],exclusive_time:s?.[Ut],measurements:e.measurements,is_segment:!0}}function Ld(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ar]:e.profile_id},...e.exclusive_time&&{[Ut]:e.exclusive_time}}}},measurements:e.measurements}}function Dd(e,t,n){let r=[{type:"client_report"},{timestamp:n||Pt(),discarded_events:e}];return Ne(t?{dsn:t}:{},[r])}var Pd="Not capturing exception because it's already been captured.",Fd="Discarded session because of missing or non-string release",Hd=Symbol.for("SentryInternalError"),$d=Symbol.for("SentryDoNotSendEventError");function Gi(e){return{message:e,[Hd]:!0}}function _c(e){return{message:e,[$d]:!0}}function Ud(e){return!!e&&typeof e=="object"&&Hd in e}function Bd(e){return!!e&&typeof e=="object"&&$d in e}var Eo=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=co(t.dsn):I&&h.warn("No DSN provided, client will not send events."),this._dsn){let n=yo(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=fe();if(mi(t))return I&&h.log(Pd),o;let i={event_id:o,...n};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i={event_id:fe(),...r},s=pn(t)?t:String(t),a=Mn(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=fe();if(n?.originalException&&mi(n.originalException))return I&&h.log(Pd),o;let i={event_id:o,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),Jt(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):je(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];gc(this,t,this._integrations),n||hc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=yd(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=qa(r,Ja(i));let o=this.sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let{release:n,environment:r=en}=this._options;if("aggregates"in t){let i=t.attrs||{};if(!i.release&&!n){I&&h.warn(Fd);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){I&&h.warn(Fd);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);let o=Sd(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){let o=`${t}:${n}`;I&&h.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(I&&h.error("Error while sending envelope:",n),n)):(I&&h.error("Transport disabled"),je({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Md(this,t),hc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1,i=n.exception?.values;if(i){o=!0;for(let c of i)if(c.mechanism?.handled===!1){r=!0;break}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(Jt(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new xt(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),po(i,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:gi(r),...a.contexts};let c=lr(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=O(),o=ie()){return I&&Sc(t)&&h.log(`Captured error event \`${Wi(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(i=>i.event_id,i=>{I&&(Bd(i)?h.log(i.message):Ud(i)?h.warn(i.message):h.warn(i))})}_processEvent(t,n,r,o){let i=this.getOptions(),{sampleRate:s}=i,a=Wd(t),c=Sc(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof s>"u"?void 0:at(s);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),yn(_c(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),_c("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;let g=S_(this,i,p,n);return __(g,d)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),a){let S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw _c(`${d} returned \`null\`, will not send event.`)}let m=r.getSession()||o.getSession();if(c&&m&&this._updateSessionFromEvent(m,p),a){let _=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,S=p.spans?p.spans.length:0,E=_-S;E>0&&this.recordDroppedEvent("before_send","span",E)}let g=p.transaction_info;if(a&&g&&p.transaction!==t.transaction){let _="custom";p.transaction_info={...g,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw Bd(p)||Ud(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),Gi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}_flushOutcomes(){I&&h.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){I&&h.log("No outcomes to send");return}if(!this._dsn){I&&h.log("No dsn provided, will not send outcomes");return}I&&h.log("Sending outcomes:",t);let n=Dd(t,this._options.tunnel&&tt(this._dsn));this.sendEnvelope(n)}};function __(e,t){let n=`${t} must return \`null\` or a valid event.`;if(vt(e))return e.then(r=>{if(!it(r)&&r!==null)throw Gi(n);return r},r=>{throw Gi(`${t} rejected with ${r}`)});if(!it(e)&&e!==null)throw Gi(n);return e}function S_(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t,a=n;if(Sc(a)&&o)return o(a,r);if(Wd(a)){if(s){let c=s(Od(a));if(c?a=mn(n,Ld(c)):oo(),a.spans){let u=[];for(let d of a.spans){let l=s(d);l?u.push(l):(oo(),u.push(d))}a.spans=u}}if(i){if(a.spans){let c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(a,r)}}return a}function Sc(e){return e.type===void 0}function Wd(e){return e.type==="transaction"}function Gd(e,t){return t?we(t,()=>{let n=Z(),r=n?no(n):gi(t);return[n?be(n):lr(e,t),r]}):[void 0,void 0]}var zd={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function y_(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function jd(e,t,n,r){let o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=tt(r)),Ne(o,[y_(e)])}var E_=100;w._sentryClientToLogBufferMap=new WeakMap;function b_(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function bn(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function qd(e,t){let n=Vd(e);n===void 0?w._sentryClientToLogBufferMap?.set(e,[t]):(w._sentryClientToLogBufferMap?.set(e,[...n,t]),n.length>=E_&&Er(e,n))}function yr(e,t=b(),n=O(),r=qd){if(!t){I&&h.warn("No client available to capture log.");return}let{_experiments:o,release:i,environment:s}=t.getOptions(),{enableLogs:a=!1,beforeSendLog:c}=o??{};if(!a){I&&h.warn("logging option not enabled, log will not be captured.");return}let[,u]=Gd(t,n),d={...e.attributes},{user:l}=T_(n);if(t.getOptions().sendDefaultPii){let{id:R,email:N,username:T}=l;bn(d,"user.id",R,!1),bn(d,"user.email",N,!1),bn(d,"user.name",T,!1)}bn(d,"sentry.release",i),bn(d,"sentry.environment",s);let{name:f,version:p}=t.getSdkMetadata()?.sdk??{};bn(d,"sentry.sdk.name",f),bn(d,"sentry.sdk.version",p);let m=e.message;if(pn(m)){let{__sentry_template_string__:R,__sentry_template_values__:N=[]}=m;d["sentry.message.template"]=R,N.forEach((T,C)=>{d[`sentry.message.parameter.${C}`]=T})}let g=Kt(n);bn(d,"sentry.trace.parent_span_id",g?.spanContext().spanId);let _={...e,attributes:d};t.emit("beforeCaptureLog",_);let S=c?c(_):_;if(!S){t.recordDroppedEvent("before_send","log_item",1),I&&h.warn("beforeSendLog returned null, log will not be captured.");return}let{level:E,message:$,attributes:k={},severityNumber:D}=S,y={timestamp:oe(),level:E,body:$,trace_id:u?.trace_id,severity_number:D??zd[E],attributes:Object.keys(k).reduce((R,N)=>(R[N]=b_(k[N]),R),{})};r(t,y),t.emit("afterCaptureLog",S)}function Er(e,t){let n=t??Vd(e)??[];if(n.length===0)return;let r=e.getOptions(),o=jd(n,r._metadata,r.tunnel,e.getDsn());w._sentryClientToLogBufferMap?.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function Vd(e){return w._sentryClientToLogBufferMap?.get(e)}function T_(e){let t=Xt().getScopeData();return hr(t,ie().getScopeData()),hr(t,e.getScopeData()),t}function yc(e,t){t.debug===!0&&(I?h.enable():Ze(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),O().update(t.initialScope);let r=new e(t);return zi(r),r.init(),r}function zi(e){O().setClient(e)}var Ec=Symbol.for("SentryBufferFullError");function Yd(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return yn(Ec);let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new xt((a,c)=>{let u=t.length;if(!u)return a(!0);let d=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{je(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:o,drain:i}}function ji(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Jd(e,t){return e[t]||e.all||0}function bo(e,t,n=Date.now()){return Jd(e,t)>n}function To(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(let p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[p]=r+f):o[p]=r+f}else s?o.all=r+ji(s,r):t===429&&(o.all=r+60*1e3);return o}var I_=64;function Io(e,t,n=Yd(e.bufferSize||I_)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(ut(s,(l,f)=>{let p=Li(f);bo(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return je({});let c=Ne(s[0],a),u=l=>{ut(c,(f,p)=>{e.recordDroppedEvent(l,Li(p))})},d=()=>t({body:_n(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&I&&h.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=To(r,l),l),l=>{throw u("network_error"),I&&h.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Ec)return I&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),je({});throw l})}return{send:i,flush:o}}var bc=100,Tc=5e3,v_=36e5;function Ic(e){function t(...n){I&&h.info("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let o=n.createStore(n),i=Tc,s;function a(l,f,p){return Oi(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let f=await o.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(i),i=Math.min(i*2,v_))}async function d(l,f=!1){if(!f&&Oi(l,["replay_event","replay_recording"]))return await o.push(l),c(bc),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let p=await r.send(l),m=bc;if(p){if(p.headers?.["retry-after"])m=ji(p.headers["retry-after"]);else if(p.headers?.["x-sentry-rate-limits"])m=6e4;else if((p.statusCode||0)>=400)return p}return c(m),i=Tc,p}catch(p){if(await a(l,p,i))return f?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(i=Tc,c(bc)),r.flush(l))}}}function Kd(e,t){let n;return ut(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function w_(e,t){return n=>{let r=e(n);return{...r,send:async o=>{let i=Kd(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)}}}}function R_(e,t){return Ne(t?{...e[0],dsn:t}:e[0],e[1])}function vc(e,t){return n=>{let r=e(n),o=new Map;function i(c,u){let d=u?`${c}:${u}`:c,l=o.get(d);if(!l){let f=Ai(c);if(!f)return;let p=yo(f,n.tunnel);l=u?w_(e,u)({...n,url:p}):e({...n,url:p}),o.set(d,l)}return[c,l]}async function s(c){function u(p){let m=p?.length?p:["event"];return Kd(c,m)}let d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?i(p,void 0):i(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,m])=>m.send(R_(c,p)))))[0]}async function a(c){let u=[...o.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:s,flush:a}}}function vo(e,t){let n=t?.getDsn(),r=t?.getOptions().tunnel;return C_(e,n)||x_(e,r)}function x_(e,t){return t?Xd(e)===Xd(t):!1}function C_(e,t){return t?e.includes(t.host):!1}function Xd(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function qi(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var wc=qi;function Rc(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function xc(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Cc(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Ke})),version:Ke}),e._metadata=o}function Un(e={}){let t=b();if(!go()||!t)return{};let n=We(),r=mt(n);if(r.getTraceData)return r.getTraceData(e);let o=O(),i=e.span||Z(),s=i?ro(i):k_(o),a=i?be(i):lr(t,o),c=Ei(a);return bi.test(s)?{"sentry-trace":s,baggage:c}:(h.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function k_(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return to(t,r,n)}var A_=100;function qe(e,t){let n=b(),r=ie();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=A_}=n.getOptions();if(i<=0)return;let a={timestamp:Pt(),...e},c=o?Ze(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var Zd,N_="FunctionToString",Qd=new WeakMap,M_=()=>({name:N_,setupOnce(){Zd=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=Ln(this),n=Qd.has(b())&&t!==void 0?t:this;return Zd.apply(n,e)}}catch{}},setup(e){Qd.set(e,!0)}}),wo=M_;var O_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],L_="EventFilters",Yi=(e={})=>{let t;return{name:L_,setup(n){let r=n.getOptions();t=ef(e,r)},processEvent(n,r,o){if(!t){let i=o.getOptions();t=ef(e,i)}return D_(n,t)?null:n}}},Ro=(e={})=>({...Yi(e),name:"InboundFilters"});function ef(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:O_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function D_(e,t){if(e.type){if(e.type==="transaction"&&F_(e,t.ignoreTransactions))return I&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Dt(e)}`),!0}else{if(P_(e,t.ignoreErrors))return I&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Dt(e)}`),!0;if($_(e))return I&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Dt(e)}`),!0;if(U_(e,t.denyUrls))return I&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Dt(e)}.
Url: ${Vi(e)}`),!0;if(!B_(e,t.allowUrls))return I&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Dt(e)}.
Url: ${Vi(e)}`),!0}return!1}function P_(e,t){return t?.length?Wi(e).some(n=>ke(n,t)):!1}function F_(e,t){if(!t?.length)return!1;let n=e.transaction;return n?ke(n,t):!1}function U_(e,t){if(!t?.length)return!1;let n=Vi(e);return n?ke(n,t):!1}function B_(e,t){if(!t?.length)return!0;let n=Vi(e);return n?ke(n,t):!0}function H_(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Vi(e){try{let n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?H_(n):null}catch{return I&&h.error(`Cannot extract url for event ${Dt(e)}`),null}}function $_(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Ac(e,t,n,r,o,i){if(!o.exception?.values||!i||!st(i.originalException,Error))return;let s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=kc(e,t,r,i.originalException,n,o.exception.values,s,0))}function kc(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(st(r[o],Error)){tf(s,a);let u=e(t,r[o]),d=c.length;nf(u,o,d,a),c=kc(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(st(u,Error)){tf(s,a);let l=e(t,u),f=c.length;nf(l,`errors[${d}]`,f,a),c=kc(e,t,n,u,o,[l,...c],l,f)}}),c}function tf(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function nf(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var of=new Map,rf=new Set;function W_(e){if(w._sentryModuleMetadata)for(let t of Object.keys(w._sentryModuleMetadata)){let n=w._sentryModuleMetadata[t];if(rf.has(t))continue;rf.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){of.set(o.filename,n);break}}}function G_(e,t){return W_(e),of.get(t)}function Ji(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let o=G_(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function Ki(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var Nc=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{ut(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(Ki(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;Ji(n,t)})}});function Bn(e){let t="console";Pe(t,e),Fe(t,z_)}function z_(){"console"in w&&Vt.forEach(function(e){e in w.console&&he(w.console,e,function(t){return rr[e]=t,function(...n){Ie("console",{args:n,level:e}),rr[e]?.apply(w.console,n)}})})}function Hn(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var j_="CaptureConsole",q_=(e={})=>{let t=e.levels||Vt,n=e.handled??!0;return{name:j_,setup(r){"console"in w&&Bn(({args:o,level:i})=>{b()!==r||!t.includes(i)||V_(o,i,n)})}}},Mc=q_;function V_(e,t,n){let r={level:Hn(t),extra:{arguments:e}};we(o=>{if(o.addEventProcessor(a=>(a.logger="console",Qe(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){let a=`Assertion failed: ${Yt(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),En(a,r)}return}let i=e.find(a=>a instanceof Error);if(i){lt(i,r);return}let s=Yt(e," ");En(s,r)})}var Y_="Dedupe",J_=()=>{let e;return{name:Y_,processEvent(t){if(t.type)return t;try{if(K_(t,e))return I&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},xo=J_;function K_(e,t){return t?!!(X_(e,t)||Z_(e,t)):!1}function X_(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!cf(e,t)||!af(e,t))}function Z_(e,t){let n=sf(t),r=sf(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!cf(e,t)||!af(e,t))}function af(e,t){let n=cr(e),r=cr(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function cf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function sf(e){return e.exception?.values&&e.exception.values[0]}var Q_="ExtraErrorData",eS=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:Q_,processEvent(r,o,i){let{maxValueLength:s=250}=i.getOptions();return tS(r,o,t,n,s)}}},Oc=eS;function tS(e,t={},n,r,o){if(!t.originalException||!Xe(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=nS(t.originalException,r,o);if(s){let a={...e.contexts},c=Ae(s,n);return it(c)&&(de(c,"__sentry_skip_normalization__",!0),a[i]=c),{...e,contexts:a}}return e}function nS(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];o[i]=Xe(s)||typeof s=="string"?pt(`${s}`,n):s}if(t&&e.cause!==void 0&&(o.cause=Xe(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let a=i[s];o[s]=Xe(a)?a.toString():a}}return o}catch(r){I&&h.error("Unable to extract extra data from the Error object:",r)}return null}function rS(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var oS=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function iS(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=oS.exec(t);return n?n.slice(1):[]}function uf(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=rS(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function lf(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function df(e,t){e=uf(e).slice(1),t=uf(t).slice(1);let n=lf(e.split("/")),r=lf(t.split("/")),o=Math.min(n.length,r.length),i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function ff(e,t){let n=iS(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var sS="RewriteFrames",Lc=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in w&&!!w.window,o=e.iteratee||aS({isBrowser:r,root:t,prefix:n});function i(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames&&a.frames.map(c=>o(c))}}return{name:sS,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function aS({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){let s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?df(t,s):ff(s);r.filename=`${n}${a}`}return r}}var cS=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],uS=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],lS={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},mf=["select","insert","upsert","update","delete"];function Xi(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function Zi(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function dS(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function fS(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&lS[n]||"filter",`${o}(${e}, ${r.join(".")})`}function pf(e,t=!1){return new Proxy(e,{apply(n,r,o){return pr({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[J]:"auto.db.supabase",[Ee]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,o).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),lt(s.error,{mechanism:{handled:!1}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),lt(s,{mechanism:{handled:!1}}),s}).then(...o))}})}function pS(e){let t=e.auth;if(!(!t||Zi(e.auth))){for(let n of cS){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=pf(r))}for(let n of uS){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=pf(r,!0))}Xi(e.auth)}}function mS(e){Zi(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let o=Reflect.apply(t,n,r),i=o.constructor;return gS(i),o}}),Xi(e.prototype.from))}function hS(e){Zi(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){let o=mf,i=n,s=dS(i.method,i.headers);if(!o.includes(s)||!i?.url?.pathname||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(let[p,m]of i.url.searchParams.entries())u.push(fS(p,m));let d=Object.create(null);if(it(i.body))for(let[p,m]of Object.entries(i.body))d[p]=m;let l=`${s==="select"?"":`${s}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,f={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[J]:"auto.db.supabase",[Ee]:"db"};return u.length&&(f["db.query"]=u),Object.keys(d).length&&(f["db.body"]=d),pr({name:l,attributes:f},p=>Reflect.apply(t,n,[]).then(m=>{if(p&&(m&&typeof m=="object"&&"status"in m&&Bt(p,m.status||500),p.end()),m.error){let S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);let E={};u.length&&(E.query=u),Object.keys(d).length&&(E.body=d),lt(S,{contexts:{supabase:E}})}let g={type:"supabase",category:`db.${s}`,message:l},_={};return u.length&&(_.query=u),Object.keys(d).length&&(_.body=d),Object.keys(_).length&&(g.data=_),qe(g),m},m=>{throw p&&(Bt(p,500),p.end()),m}).then(...r))}}),Xi(e.prototype.then))}function gS(e){for(let t of mf)Zi(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){let i=Reflect.apply(n,r,o),s=i.constructor;return I&&h.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),hS(s),i}}),Xi(e.prototype[t]))}var Qi=e=>{if(!e){I&&h.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;mS(t),pS(e)},_S="Supabase",SS=e=>({setupOnce(){Qi(e)},name:_S}),Dc=e=>SS(e.supabaseClient);var yS=10,ES="ZodErrors";function bS(e){return Xe(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function TS(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function IS(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function vS(e){let t=new Set;for(let r of e.issues){let o=IS(r.path);o.length>0&&t.add(o)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${pt(n.join(", "),100)}`}function wS(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!bS(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(TS);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:vS(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}var RS=(e={})=>{let t=e.limit??yS;return{name:ES,processEvent(n,r){return wS(t,e.saveZodIssuesAsAttachment,n,r)}}},Pc=RS;var Fc=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{ut(n,(r,o)=>{if(o==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(Ki(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;Ji(r,n)})},processEvent(t){let n=xS(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](i=>!i.some(s=>e.filterKeys.includes(s)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function xS(e){let t=cr(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(hf)).map(r=>r.slice(hf.length)):[])}var hf="_sentryBundlerPluginAppKey:";var CS="thismessage:/";function es(e){return"isRelative"in e}function Co(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?CS:void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function Uc(e){if(es(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ct(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function ko(e){return e.split(/[?#]/,1)[0]}function Bc(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,a=ze()&&t(s);if(e.endTimestamp&&a){let l=e.fetchData.__span;if(!l)return;let f=r[l];f&&(AS(f,e),delete r[l]);return}let c=!!Z(),u=a&&c?_t(MS(s,i,o)):new Ue;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){let l=e.args[0],f=e.args[1]||{},p=kS(l,f,ze()&&c?u:void 0);p&&(e.args[1]=f,f.headers=p)}let d=b();if(d){let l={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,l)}return u}function kS(e,t,n){let r=Un({span:n}),o=r["sentry-trace"],i=r.baggage;if(!o)return;let s=t.headers||(di(e)?e.headers:void 0);if(s)if(NS(s)){let a=new Headers(s);if(a.get("sentry-trace")||a.set("sentry-trace",o),i){let c=a.get("baggage");c?ts(c)||a.set("baggage",`${c},${i}`):a.set("baggage",i)}return a}else if(Array.isArray(s)){let a=[...s];s.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",o]);let c=s.find(u=>u[0]==="baggage"&&ts(u[1]));return i&&!c&&a.push(["baggage",i]),a}else{let a="sentry-trace"in s?s["sentry-trace"]:void 0,c="baggage"in s?s.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],d=c&&(Array.isArray(c)?c.find(l=>ts(l)):ts(c));return i&&!d&&u.push(i),{...s,"sentry-trace":a??o,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function AS(e,t){if(t.response){Bt(e,t.response.status);let n=t.response?.headers&&t.response.headers.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function ts(e){return e.split(",").some(t=>t.trim().startsWith(Si))}function NS(e){return typeof Headers<"u"&&st(e,Headers)}function MS(e,t,n){let r=Co(e);return{name:r?`${t} ${Uc(r)}`:t,attributes:OS(e,r,t,n)}}function OS(e,t,n,r){let o={url:e,type:"fetch","http.method":n,[J]:r,[Ee]:"http.client"};return t&&(es(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function Ao(e,t={},n=O()){let{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||b();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var LS="ConsoleLogs",gf={[J]:"auto.console.logging"},DS=(e={})=>{let t=e.levels||Vt;return{name:LS,setup(n){if(!n.getOptions()._experiments?.enableLogs){I&&h.warn("`_experiments.enableLogs` is not enabled, ConsoleLogs integration disabled");return}Bn(({args:r,level:o})=>{if(b()!==n||!t.includes(o))return;if(o==="assert"){if(!r[0]){let s=r.slice(1),a=s.length>0?`Assertion failed: ${_f(s)}`:"Assertion failed";yr({level:"error",message:a,attributes:gf})}return}let i=o==="log";yr({level:i?"info":o,message:_f(r),severityNumber:i?10:void 0,attributes:gf})})}}},Hc=DS;function _f(e){return"util"in w&&typeof w.util.format=="function"?w.util.format(...e):Yt(e," ")}function ns(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var br=w;function $c(){return"history"in br&&!!br.history}function PS(){if(!("fetch"in br))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function No(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Mo(){if(typeof EdgeRuntime=="string")return!0;if(!PS())return!1;if(No(br.fetch))return!0;let e=!1,t=br.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=No(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){I&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Wc(){return"ReportingObserver"in br}function $n(e,t){let n="fetch";Pe(n,e),Fe(n,()=>yf(void 0,t))}function zc(e){let t="fetch-body-resolved";Pe(t,e),Fe(t,()=>yf(US))}function yf(e,t=!1){t&&!Mo()||he(w,"fetch",function(n){return function(...r){let o=new Error,{method:i,url:s}=BS(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:oe()*1e3,virtualError:o,headers:HS(r)};return e||Ie("fetch",{...a}),n.apply(w,r).then(async c=>(e?e(c):Ie("fetch",{...a,endTimestamp:oe()*1e3,response:c}),c),c=>{if(Ie("fetch",{...a,endTimestamp:oe()*1e3,error:c}),Xe(c)&&c.stack===void 0&&(c.stack=o.stack,de(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function FS(e,t){if(e?.body){let n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:a}=await r.read();clearTimeout(s),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(s)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function US(e){let t;try{t=e.clone()}catch{return}FS(t,()=>{Ie("fetch-body-resolved",{endTimestamp:oe()*1e3,response:e})})}function Gc(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Sf(e){return typeof e=="string"?e:e?Gc(e,"url")?e.url:e.toString?e.toString():"":""}function BS(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Sf(n),method:Gc(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Sf(t),method:Gc(t,"method")?String(t.method).toUpperCase():"GET"}}function HS(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(di(t))return new Headers(t.headers)}catch{}}function jc(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function qc(){return"npm"}function Ef(){return!jc()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Tr(){return typeof window<"u"&&(!Ef()||$S())}function $S(){return w.process?.type==="renderer"}var kt=w,se=kt.document,Oo=kt.navigator,Ff="Report a Bug",WS="Cancel",GS="Send Bug Report",zS="Confirm",jS="Report a Bug",qS="your.email@example.org",VS="Email",YS="What's the bug? What did you expect?",JS="Description",KS="Your Name",XS="Name",ZS="Thank you for your report!",QS="(required)",ey="Add a screenshot",ty="Remove screenshot",ny="widget",ry="api",oy=5e3,nu=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=b();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&O().setTags(e.tags);let r=Ao({source:ry,url:Ge(),...e},t);return new Promise((o,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(s),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?o(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?i("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},ss=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function iy(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Oo.userAgent)||/Macintosh/i.test(Oo.userAgent)&&Oo.maxTouchPoints&&Oo.maxTouchPoints>1||!isSecureContext)}function rs(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:n=>{t.onSubmitSuccess?.(n),e.onSubmitSuccess?.(n)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function sy(e){let t=se.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function dt(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var Ir=20,ay="http://www.w3.org/2000/svg";function cy(){let e=a=>kt.document.createElementNS(ay,a),t=dt(e("svg"),{width:`${Ir}`,height:`${Ir}`,viewBox:`0 0 ${Ir} ${Ir}`,fill:"var(--actor-color, var(--foreground))"}),n=dt(e("g"),{clipPath:"url(#clip0_57_80)"}),r=dt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=dt(e("clipPath"),{id:"clip0_57_80"}),s=dt(e("rect"),{width:`${Ir}`,height:`${Ir}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function uy({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let o=se.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||Ff,o.appendChild(cy()),e){let s=se.createElement("span");s.appendChild(se.createTextNode(e)),o.appendChild(s)}let i=sy(r);return{el:o,appendToDom(){n.appendChild(i),n.appendChild(o)},removeFromDom(){o.remove(),i.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}var Uf="rgba(88, 74, 192, 1)",ly={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Uf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},bf={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Uf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Tf(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function dy({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let o=se.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Tf(e==="dark"?{...bf,...t}:{...ly,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Tf({...bf,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}var fs=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:m,scriptNonce:g,colorScheme:_="system",themeLight:S={},themeDark:E={},addScreenshotButtonLabel:$=ey,cancelButtonLabel:k=WS,confirmButtonLabel:D=zS,emailLabel:y=VS,emailPlaceholder:R=qS,formTitle:N=jS,isRequiredLabel:T=QS,messageLabel:C=JS,messagePlaceholder:M=YS,nameLabel:v=XS,namePlaceholder:x=KS,removeScreenshotButtonLabel:U=ty,submitButtonLabel:j=GS,successMessageText:P=ZS,triggerLabel:te=Ff,triggerAriaLabel:H="",onFormOpen:Q,onFormClose:ne,onSubmitSuccess:Be,onSubmitError:Zn,onFormSubmitted:ot}={})=>{let He={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:m,scriptNonce:g,colorScheme:_,themeDark:E,themeLight:S,triggerLabel:te,triggerAriaLabel:H,cancelButtonLabel:k,submitButtonLabel:j,confirmButtonLabel:D,formTitle:N,emailLabel:y,emailPlaceholder:R,messageLabel:C,messagePlaceholder:M,nameLabel:v,namePlaceholder:x,successMessageText:P,isRequiredLabel:T,addScreenshotButtonLabel:$,removeScreenshotButtonLabel:U,onFormClose:ne,onFormOpen:Q,onSubmitError:Zn,onSubmitSuccess:Be,onFormSubmitted:ot},Tt=null,qt=[],Qn=pe=>{if(!Tt){let Ce=se.createElement("div");Ce.id=String(pe.id),se.body.appendChild(Ce),Tt=Ce.attachShadow({mode:"open"}),Tt.appendChild(dy(pe))}return Tt},er=async pe=>{let Ce=pe.enableScreenshot&&iy(),Ot,ye;try{Ot=(t?t():await e("feedbackModalIntegration",g))(),Sr(Ot)}catch{throw ss&&h.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let Lt=Ce?n?n():await e("feedbackScreenshotIntegration",g):void 0;Lt&&(ye=Lt(),Sr(ye))}catch{ss&&h.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let ve=Ot.createDialog({options:{...pe,onFormClose:()=>{ve?.close(),pe.onFormClose?.()},onFormSubmitted:()=>{ve?.close(),pe.onFormSubmitted?.()}},screenshotIntegration:ye,sendFeedback:nu,shadow:Qn(pe)});return ve},Jr=(pe,Ce={})=>{let Ot=rs(He,Ce),ye=typeof pe=="string"?se.querySelector(pe):typeof pe.addEventListener=="function"?pe:null;if(!ye)throw ss&&h.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ve=null,Lt=async()=>{ve||(ve=await er({...Ot,onFormSubmitted:()=>{ve?.removeFromDom(),Ot.onFormSubmitted?.()}})),ve.appendToDom(),ve.open()};ye.addEventListener("click",Lt);let An=()=>{qt=qt.filter(tr=>tr!==An),ve?.removeFromDom(),ve=null,ye.removeEventListener("click",Lt)};return qt.push(An),An},dn=(pe={})=>{let Ce=rs(He,pe),Ot=Qn(Ce),ye=uy({triggerLabel:Ce.triggerLabel,triggerAriaLabel:Ce.triggerAriaLabel,shadow:Ot,styleNonce:m});return Jr(ye.el,{...Ce,onFormOpen(){ye.hide()},onFormClose(){ye.show()},onFormSubmitted(){ye.show()}}),ye};return{name:"Feedback",setupOnce(){!Tr()||!He.autoInject||(se.readyState==="loading"?se.addEventListener("DOMContentLoaded",()=>dn().appendToDom()):dn().appendToDom())},attachTo:Jr,createWidget(pe={}){let Ce=dn(rs(He,pe));return Ce.appendToDom(),Ce},async createForm(pe={}){return er(rs(He,pe))},remove(){Tt&&(Tt.parentElement?.remove(),Tt=null),qt.forEach(pe=>pe()),qt=[]}}};function Bf(){return b()?.getIntegrationByName("Feedback")}var ps,ce,Hf,Wn,If,$f,Zc,Lo={},ru=[],fy=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ou=Array.isArray;function In(e,t){for(var n in t)e[n]=t[n];return e}function Wf(e){var t=e.parentNode;t&&t.removeChild(e)}function q(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?ps.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return as(e,s,r,o,null)}function as(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Hf,__i:-1,__u:0};return o==null&&ce.vnode!=null&&ce.vnode(i),i}function Do(e){return e.children}function cs(e,t){this.props=e,this.context=t}function wr(e,t){if(t==null)return e.__?wr(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?wr(e):null}function py(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=In({},o)).__v=o.__v+1,ce.vnode&&ce.vnode(r),iu(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??wr(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&Gf(r),r}function Gf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Gf(e)}}function vf(e){(!e.__d&&(e.__d=!0)&&Wn.push(e)&&!ds.__r++||If!==ce.debounceRendering)&&((If=ce.debounceRendering)||$f)(ds)}function ds(){var e,t,n,r=[],o=[];for(Wn.sort(Zc);e=Wn.shift();)e.__d&&(n=Wn.length,t=py(e,r,o)||t,n===0||Wn.length>n?(Qc(r,t,o),o.length=r.length=0,t=void 0,Wn.sort(Zc)):t&&ce.__c&&ce.__c(t,ru));t&&Qc(r,t,o),ds.__r=0}function zf(e,t,n,r,o,i,s,a,c,u,d){var l,f,p,m,g,_=r&&r.__k||ru,S=t.length;for(n.__d=c,my(n,t,_),c=n.__d,l=0;l<S;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?Lo:_[p.__i]||Lo,p.__i=l,iu(e,p,f,o,i,s,a,c,u,d),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&su(f.ref,null,p),d.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),65536&p.__u||f.__k===p.__k?c=jf(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:m&&(c=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=g}function my(e,t,n){var r,o,i,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?as(null,o,null,null,o):ou(o)?as(Do,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?as(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=hy(o,n,s=r+l,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=wr(i)),eu(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&(131072&i.__u)==0&&(i.__e==e.__d&&(e.__d=wr(i)),eu(i,i))}function jf(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=jf(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function hy(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return a;a++}}return-1}function wf(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||fy.test(t)?n:n+"px"}function os(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||wf(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||wf(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?xf:Rf,i)):e.removeEventListener(t,i?xf:Rf,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Rf(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ce.event?ce.event(e):e)}}function xf(e){if(this.l)return this.l[e.type+!0](ce.event?ce.event(e):e)}function iu(e,t,n,r,o,i,s,a,c,u){var d,l,f,p,m,g,_,S,E,$,k,D,y,R,N,T=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=ce.__b)&&d(t);e:if(typeof T=="function")try{if(S=t.props,E=(d=T.contextType)&&r[d.__c],$=d?E?E.props.value:d.__:r,n.__c?_=(l=t.__c=n.__c).__=l.__E:("prototype"in T&&T.prototype.render?t.__c=l=new T(S,$):(t.__c=l=new cs(S,$),l.constructor=T,l.render=_y),E&&E.sub(l),l.props=S,l.state||(l.state={}),l.context=$,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),T.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=In({},l.__s)),In(l.__s,T.getDerivedStateFromProps(S,l.__s))),p=l.props,m=l.state,l.__v=t,f)T.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(T.getDerivedStateFromProps==null&&S!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(S,$),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(S,l.__s,$)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=S,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(C){C&&(C.__=t)}),k=0;k<l._sb.length;k++)l.__h.push(l._sb[k]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(S,l.__s,$),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,m,g)})}if(l.context=$,l.props=S,l.__P=e,l.__e=!1,D=ce.__r,y=0,"prototype"in T&&T.prototype.render){for(l.state=l.__s,l.__d=!1,D&&D(t),d=l.render(l.props,l.state,l.context),R=0;R<l._sb.length;R++)l.__h.push(l._sb[R]);l._sb=[]}else do l.__d=!1,D&&D(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++y<25);l.state=l.__s,l.getChildContext!=null&&(r=In(In({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(p,m)),zf(e,ou(N=d!=null&&d.type===Do&&d.key==null?d.props.children:d)?N:[N],t,n,r,o,i,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),_&&(l.__E=l.__=null)}catch(C){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ce.__e(C,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=gy(n.__e,t,n,r,o,i,s,c,u);(d=ce.diffed)&&d(t)}function Qc(e,t,n){for(var r=0;r<n.length;r++)su(n[r],n[++r],n[++r]);ce.__c&&ce.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){ce.__e(i,o.__v)}})}function gy(e,t,n,r,o,i,s,a,c){var u,d,l,f,p,m,g,_=n.props,S=t.props,E=t.type;if(E==="svg"&&(o=!0),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!E&&(E?p.localName===E:p.nodeType===3)){e=p,i[u]=null;break}}if(e==null){if(E===null)return document.createTextNode(S);e=o?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,S.is&&S),i=null,a=!1}if(E===null)_===S||a&&e.data===S||(e.data=S);else{if(i=i&&ps.call(e.childNodes),_=n.props||Lo,!a&&i!=null)for(_={},u=0;u<e.attributes.length;u++)_[(p=e.attributes[u]).name]=p.value;for(u in _)p=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in S||os(e,u,null,p,o));for(u in S)p=S[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?m=p:u=="checked"?g=p:u==="key"||a&&typeof p!="function"||_[u]===p||os(e,u,p,_[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),zf(e,ou(f)?f:[f],t,n,r,o&&E!=="foreignObject",i,s,i?i[0]:n.__k&&wr(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&Wf(i[u]);a||(u="value",m!==void 0&&(m!==e[u]||E==="progress"&&!m||E==="option"&&m!==_[u])&&os(e,u,m,_[u],!1),u="checked",g!==void 0&&g!==e[u]&&os(e,u,g,_[u],!1))}return e}function su(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ce.__e(r,n)}}function eu(e,t,n){var r,o;if(ce.unmount&&ce.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||su(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){ce.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&eu(r[o],t,n||typeof e.type!="function");n||e.__e==null||Wf(e.__e),e.__=e.__e=e.__d=void 0}function _y(e,t,n){return this.constructor(e,n)}function Sy(e,t,n){var r,o,i,s;ce.__&&ce.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],iu(t,e=t.__k=q(Do,null,[e]),o||Lo,Lo,t.ownerSVGElement!==void 0,o?null:t.firstChild?ps.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),e.__d=void 0,Qc(i,e,s)}ps=ru.slice,ce={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},Hf=0,cs.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=In({},this.state),typeof e=="function"&&(e=e(In({},n),this.props)),e&&In(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),vf(this))},cs.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),vf(this))},cs.prototype.render=Do,Wn=[],$f=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Zc=function(e,t){return e.__v.__b-t.__v.__b},ds.__r=0;var rn,ae,Vc,Cf,Rr=0,qf=[],us=[],ge=ce,kf=ge.__b,Af=ge.__r,Nf=ge.diffed,Mf=ge.__c,Of=ge.unmount,Lf=ge.__;function zn(e,t){ge.__h&&ge.__h(ae,e,Rr||t),Rr=0;var n=ae.__H||(ae.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:us}),n.__[e]}function Gn(e){return Rr=1,Vf(Jf,e)}function Vf(e,t,n){var r=zn(rn++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Jf(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ae,!ae.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};ae.u=!0;var i=ae.shouldComponentUpdate,s=ae.componentWillUpdate;ae.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},ae.shouldComponentUpdate=o}return r.__N||r.__}function yy(e,t){var n=zn(rn++,3);!ge.__s&&au(n.__H,t)&&(n.__=e,n.i=t,ae.__H.__h.push(n))}function Yf(e,t){var n=zn(rn++,4);!ge.__s&&au(n.__H,t)&&(n.__=e,n.i=t,ae.__h.push(n))}function Ey(e){return Rr=5,Po(function(){return{current:e}},[])}function by(e,t,n){Rr=6,Yf(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Po(e,t){var n=zn(rn++,7);return au(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function vr(e,t){return Rr=8,Po(function(){return e},t)}function Ty(e){var t=ae.context[e.__c],n=zn(rn++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ae)),t.props.value):e.__}function Iy(e,t){ge.useDebugValue&&ge.useDebugValue(t?t(e):e)}function vy(e){var t=zn(rn++,10),n=Gn();return t.__=e,ae.componentDidCatch||(ae.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function wy(){var e=zn(rn++,11);if(!e.__){for(var t=ae.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Ry(){for(var e;e=qf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ls),e.__H.__h.forEach(tu),e.__H.__h=[]}catch(t){e.__H.__h=[],ge.__e(t,e.__v)}}ge.__b=function(e){ae=null,kf&&kf(e)},ge.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Lf&&Lf(e,t)},ge.__r=function(e){Af&&Af(e),rn=0;var t=(ae=e.__c).__H;t&&(Vc===ae?(t.__h=[],ae.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=us,n.__N=n.i=void 0})):(t.__h.forEach(ls),t.__h.forEach(tu),t.__h=[],rn=0)),Vc=ae},ge.diffed=function(e){Nf&&Nf(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(qf.push(t)!==1&&Cf===ge.requestAnimationFrame||((Cf=ge.requestAnimationFrame)||xy)(Ry)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==us&&(n.__=n.__V),n.i=void 0,n.__V=us})),Vc=ae=null},ge.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ls),n.__h=n.__h.filter(function(r){return!r.__||tu(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ge.__e(r,n.__v)}}),Mf&&Mf(e,t)},ge.unmount=function(e){Of&&Of(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ls(r)}catch(o){t=o}}),n.__H=void 0,t&&ge.__e(t,n.__v))};var Df=typeof requestAnimationFrame=="function";function xy(e){var t,n=function(){clearTimeout(r),Df&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Df&&(t=requestAnimationFrame(n))}function ls(e){var t=ae,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ae=t}function tu(e){var t=ae;e.__c=e.__(),ae=t}function au(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Jf(e,t){return typeof t=="function"?t(e):t}var Cy=Object.defineProperty({__proto__:null,useCallback:vr,useContext:Ty,useDebugValue:Iy,useEffect:yy,useErrorBoundary:vy,useId:wy,useImperativeHandle:by,useLayoutEffect:Yf,useMemo:Po,useReducer:Vf,useRef:Ey,useState:Gn},Symbol.toStringTag,{value:"Module"}),ky="http://www.w3.org/2000/svg";function Ay(){let e=r=>se.createElementNS(ky,r),t=dt(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=dt(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function Ny({options:e}){let t=Po(()=>({__html:Ay().outerHTML}),[]);return q("h2",{class:"dialog__header"},q("span",{class:"dialog__title"},e.formTitle),e.showBranding?q("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function My(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Yc(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function Oy({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){let{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:m,emailPlaceholder:g,isEmailRequired:_,isNameRequired:S,messageLabel:E,messagePlaceholder:$,nameLabel:k,namePlaceholder:D,submitButtonLabel:y,isRequiredLabel:R}=e,[N,T]=Gn(!1),[C,M]=Gn(null),[v,x]=Gn(!1),U=u?.input,[j,P]=Gn(null),te=vr(ne=>{P(ne),x(!1)},[]),H=vr(ne=>{let Be=My(ne,{emailLabel:m,isEmailRequired:_,isNameRequired:S,messageLabel:E,nameLabel:k});return Be.length>0?M(`Please enter in the following required fields: ${Be.join(", ")}`):M(null),Be.length===0},[m,_,S,E,k]),Q=vr(async ne=>{T(!0);try{if(ne.preventDefault(),!(ne.target instanceof HTMLFormElement))return;let Be=new FormData(ne.target),Zn=await(u&&v?u.value():void 0),ot={name:Yc(Be,"name"),email:Yc(Be,"email"),message:Yc(Be,"message"),attachments:Zn?[Zn]:void 0};if(!H(ot))return;try{await o({name:ot.name,email:ot.email,message:ot.message,source:ny,tags:d},{attachments:ot.attachments}),i(ot)}catch(He){ss&&h.error(He),M(He),s(He)}}finally{T(!1)}},[u&&v,i,s]);return q("form",{class:"form",onSubmit:Q},U&&v?q(U,{onError:te}):null,q("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:N},q("div",{class:"form__top"},C?q("div",{class:"form__error-container"},C):null,c?q("label",{for:"name",class:"form__label"},q(Jc,{label:k,isRequiredLabel:R,isRequired:S}),q("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:D,required:S,type:"text"})):q("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?q("label",{for:"email",class:"form__label"},q(Jc,{label:m,isRequiredLabel:R,isRequired:_}),q("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:_,type:"email"})):q("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),q("label",{for:"message",class:"form__label"},q(Jc,{label:E,isRequiredLabel:R,isRequired:!0}),q("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:$,required:!0,rows:5})),U?q("label",{for:"screenshot",class:"form__label"},q("button",{class:"btn btn--default",disabled:N,type:"button",onClick:()=>{P(null),x(ne=>!ne)}},v?f:l),j?q("div",{class:"form__error-container"},j.message):null):null),q("div",{class:"btn-group"},q("button",{class:"btn btn--primary",disabled:N,type:"submit"},y),q("button",{class:"btn btn--default",disabled:N,type:"button",onClick:r},p))))}function Jc({label:e,isRequired:t,isRequiredLabel:n}){return q("span",{class:"form__label__text"},e,t&&q("span",{class:"form__label__text--required"},n))}var is=16,Pf=17,Ly="http://www.w3.org/2000/svg";function Dy(){let e=c=>kt.document.createElementNS(Ly,c),t=dt(e("svg"),{width:`${is}`,height:`${Pf}`,viewBox:`0 0 ${is} ${Pf}`,fill:"inherit"}),n=dt(e("g"),{clipPath:"url(#clip0_57_156)"}),r=dt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=dt(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=dt(e("clipPath"),{id:"clip0_57_156"}),a=dt(e("rect"),{width:`${is}`,height:`${is}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}function Py({open:e,onFormSubmitted:t,...n}){let r=n.options,o=Po(()=>({__html:Dy().outerHTML}),[]),[i,s]=Gn(null),a=vr(()=>{i&&(clearTimeout(i),s(null)),t()},[i]),c=vr(u=>{n.onSubmitSuccess(u),s(setTimeout(()=>{t(),s(null)},oy))},[t]);return q(Do,null,i?q("div",{class:"success__position",onClick:a},q("div",{class:"success__content"},r.successMessageText,q("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):q("dialog",{class:"dialog",onClick:r.onFormClose,open:e},q("div",{class:"dialog__position"},q("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},q(Ny,{options:r}),q(Oy,{...n,onSubmitSuccess:c})))))}var Fy=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,Uy=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,By=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,Hy=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,$y=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function Wy(e){let t=se.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${Fy}
${Uy}
${By}
${Hy}
${$y}
`,e&&t.setAttribute("nonce",e),t}function Gy(){let e=O().getUser(),t=ie().getUser(),n=Xt().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var Kf=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,i=e.useSentryUser,s=Gy(),a=se.createElement("div"),c=Wy(e.styleNonce),u="",d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),se.body.style.overflow=u},open(){f(!0),e.onFormOpen?.(),b()?.emit("openFeedbackWidget"),u=se.body.style.overflow,se.body.style.overflow="hidden"},close(){f(!1),se.body.style.overflow=u}},l=t?.createInput({h:q,hooks:Cy,dialog:d,options:e}),f=p=>{Sy(q(Py,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s&&s[i.name]||"",defaultEmail:i&&s&&s[i.email]||"",onFormClose:()=>{f(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:m=>{f(!1),e.onSubmitSuccess?.(m)},onSubmitError:m=>{e.onSubmitError?.(m)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:p}),a)};return d}});function zy({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function jy(e){let t=se.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function qy({h:e}){return function({action:n,setAction:r}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},"Hide")))}}function Vy({hooks:e}){function t(){let[n,r]=e.useState(kt.devicePixelRatio??1);return e.useEffect(()=>{let o=()=>{r(kt.devicePixelRatio)},i=matchMedia(`(resolution: ${kt.devicePixelRatio}dppx)`);return i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:i,onError:s}){let a=t();e.useEffect(()=>{(async()=>{r();let u=await Oo.mediaDevices.getDisplayMedia({video:{width:kt.innerWidth*a,height:kt.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=se.createElement("video");await new Promise((l,f)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(p=>p.stop()),l()},d.play().catch(f)}),i()})().catch(s)},[])}}function Yy(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function Tn(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function Kc(e,t){Tn(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function Xc(e,t,n){Tn(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(i=>{Yy(i,o,t)})})}function Jy({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){let i=Vy({hooks:t}),s=qy({h:e}),a=zy({h:e}),c={__html:jy(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{let[f,p]=t.useState("highlight"),[m,g]=t.useState([]),_=t.useRef(null),S=t.useRef(null),E=t.useRef(null),$=t.useRef(null),[k,D]=t.useState(1),y=t.useMemo(()=>{let v=se.getElementById(o.id);if(!v)return"white";let x=getComputedStyle(v);return x.getPropertyValue("--button-primary-background")||x.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{let v=()=>{let x=_.current;x&&Tn(l.canvas,{alpha:!1},U=>{let j=Math.min(x.clientWidth/U.width,x.clientHeight/U.height);D(j)})};return v(),kt.addEventListener("resize",v),()=>{kt.removeEventListener("resize",v)}},[l]);let R=t.useCallback((v,x)=>{Tn(v,{alpha:!0},(U,j)=>{j.scale(x,x),U.width=l.canvas.width,U.height=l.canvas.height})},[l]);t.useEffect(()=>{R(S.current,l.dpi),Kc(S.current,l.canvas)},[l]),t.useEffect(()=>{R(E.current,l.dpi),Tn(E.current,{alpha:!0},(v,x)=>{x.clearRect(0,0,v.width,v.height)}),Xc(E.current,y,m)},[m,y]),t.useEffect(()=>{R(n,l.dpi),Kc(n,l.canvas),Tn(se.createElement("canvas"),{alpha:!0},(v,x)=>{x.scale(l.dpi,l.dpi),v.width=l.canvas.width,v.height=l.canvas.height,Xc(v,y,m),Kc(n,v)})},[m,l,y]);let N=v=>{if(!f||!$.current)return;let x=$.current.getBoundingClientRect(),U={type:f,x:v.offsetX/k,y:v.offsetY/k},j=(H,Q)=>{let ne=(Q.clientX-x.x)/k,Be=(Q.clientY-x.y)/k;return{type:H.type,x:Math.min(H.x,ne),y:Math.min(H.y,Be),w:Math.abs(ne-H.x),h:Math.abs(Be-H.y)}},P=H=>{Tn(E.current,{alpha:!0},(Q,ne)=>{ne.clearRect(0,0,Q.width,Q.height)}),Xc(E.current,y,[...m,j(U,H)])},te=H=>{let Q=j(U,H);Q.w*k>=1&&Q.h*k>=1&&g(ne=>[...ne,Q]),se.removeEventListener("mousemove",P),se.removeEventListener("mouseup",te)};se.addEventListener("mousemove",P),se.addEventListener("mouseup",te)},T=t.useCallback(v=>x=>{x.preventDefault(),x.stopPropagation(),g(U=>{let j=[...U];return j.splice(v,1),j})},[]),C={width:`${l.canvas.width*k}px`,height:`${l.canvas.height*k}px`},M=v=>{v.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:_},e("canvas",{ref:S,id:"background",style:C}),e("canvas",{ref:E,id:"foreground",style:C}),e("div",{ref:$,onMouseDown:N,style:C},m.map((v,x)=>e("div",{key:x,class:"editor__rect",style:{top:`${v.y*k}px`,left:`${v.x*k}px`,width:`${v.w*k}px`,height:`${v.h*k}px`}},e("button",{"aria-label":"Remove",onClick:T(x),onMouseDown:M,onMouseUp:M,type:"button"},e(a,null))))))),e(s,{action:f,setAction:p}))};return function({onError:f}){let[p,m]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((g,_)=>{Tn(se.createElement("canvas"),{alpha:!1},(S,E)=>{E.scale(_,_),S.width=g.videoWidth,S.height=g.videoHeight,E.drawImage(g,0,0,S.width,S.height),m({canvas:S,dpi:_})}),n.width=g.videoWidth,n.height=g.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(g=>{u.display="block",f(g)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var Xf=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=se.createElement("canvas");return{input:Jy({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{let i=await new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(await i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}});var A=w,cu=0;function uu(){return cu>0}function Ky(){cu++,setTimeout(()=>{cu--})}function jn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(Ln(e))return e}catch{return e}let r=function(...o){try{let i=o.map(s=>jn(s,t));return e.apply(this,i)}catch(i){throw Ky(),we(s=>{s.addEventProcessor(a=>(t.mechanism&&(or(a,void 0,void 0),Qe(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),lt(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}fi(r,e),de(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Fo(){let e=Ge(),{referrer:t}=A.document||{},{userAgent:n}=A.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}var Xy={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},Zf=A;async function ms(e,t){let n=Xy[e],r=Zf.Sentry=Zf.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;let i=Zy(n),s=A.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let a=new Promise((l,f)=>{s.addEventListener("load",()=>l()),s.addEventListener("error",f)}),c=A.document.currentScript,u=A.document.body||A.document.head||c?.parentElement;if(u)u.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function Zy(e){let n=b()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Ke}/${e}.min.js`,n).toString()}var Qf=fs({lazyLoadIntegration:ms});var lu=fs({getModalIntegration:()=>Kf,getScreenshotIntegration:()=>Xf});var du={};Bl(du,{debug:()=>eE,error:()=>rE,fatal:()=>oE,fmt:()=>wc,info:()=>tE,trace:()=>Qy,warn:()=>nE});function xr(e,t,n,r){yr({level:e,message:t,attributes:n,severityNumber:r})}function Qy(e,t){xr("trace",e,t)}function eE(e,t){xr("debug",e,t)}function tE(e,t){xr("info",e,t)}function nE(e,t){xr("warn",e,t)}function rE(e,t){xr("error",e,t)}function oE(e,t){xr("fatal",e,t)}function Cr(e,t){let n=mu(e,t),r={type:uE(t),value:lE(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function iE(e,t,n,r){let i=b()?.getOptions().normalizeDepth,s=pE(t),a={__serialized__:Ni(t,i)};if(s)return{exception:{values:[Cr(e,s)]},extra:a};let c={exception:{values:[{type:On(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:dE(t,{isUnhandledRejection:r})}]},extra:a};if(n){let u=mu(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function fu(e,t){return{exception:{values:[Cr(e,t)]}}}function mu(e,t){let n=t.stacktrace||t.stack||"",r=aE(t),o=cE(t);try{return e(n,r,o)}catch{}return[]}var sE=/Minified React error #\d+;/i;function aE(e){return e&&sE.test(e.message)?1:0}function cE(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function ep(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function uE(e){let t=e?.name;return!t&&ep(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function lE(e){let t=e?.message;return ep(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function hs(e,t,n,r){let o=n?.syntheticException||void 0,i=_s(e,t,o,r);return Qe(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),je(i)}function gs(e,t,n="info",r,o){let i=r?.syntheticException||void 0,s=pu(e,t,i,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),je(s)}function _s(e,t,n,r,o){let i;if(ui(t)&&t.error)return fu(e,t.error);if(li(t)||ba(t)){let s=t;if("stack"in t)i=fu(e,t);else{let a=s.name||(li(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=pu(e,c,n,r),or(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return Xe(t)?fu(e,t):it(t)||On(t)?(i=iE(e,t,n,o),Qe(i,{synthetic:!0}),i):(i=pu(e,t,n,r),or(i,`${t}`,void 0),Qe(i,{synthetic:!0}),i)}function pu(e,t,n,r){let o={};if(r&&n){let i=mu(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),Qe(o,{synthetic:!0})}if(pn(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function dE(e,{isUnhandledRejection:t}){let n=Ra(e),r=t?"promise rejection":"exception";return ui(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:On(e)?`Event \`${fE(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function fE(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function pE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var mE=5e3,kr=class extends Eo{constructor(t){let n=hE(t),r=A.SENTRY_SDK_SOURCE||qc();Cc(n,"browser",["browser"],r),super(n);let{sendDefaultPii:o,sendClientReports:i,_experiments:s}=this._options,a=s?.enableLogs;A.document&&(i||a)&&A.document.addEventListener("visibilitychange",()=>{A.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),a&&Er(this))}),a&&(this.on("flush",()=>{Er(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Er(this)},mE)})),o&&(this.on("postprocessEvent",Rc),this.on("beforeSendSession",xc))}eventFromException(t,n){return hs(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return gs(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}};function hE(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:A.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}var on=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var gE=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",yt=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o||0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=gE(t.value,n),e(t)))}};var F=w;var tp=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var sn=(e=!0)=>{let t=F.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var Ht=()=>sn()?.activationStart||0;var Et=(e,t)=>{let n=sn(),r="navigate";return n&&(F.document?.prerendering||Ht()>0?r="prerender":F.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:tp(),navigationType:r}};var nt=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}};var bt=e=>{let t=n=>{(n.type==="pagehide"||F.document?.visibilityState==="hidden")&&e(n)};F.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var vn=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var Uo=-1,_E=()=>F.document.visibilityState==="hidden"&&!F.document.prerendering?0:1/0,Ss=e=>{F.document.visibilityState==="hidden"&&Uo>-1&&(Uo=e.type==="visibilitychange"?e.timeStamp:0,yE())},SE=()=>{addEventListener("visibilitychange",Ss,!0),addEventListener("prerenderingchange",Ss,!0)},yE=()=>{removeEventListener("visibilitychange",Ss,!0),removeEventListener("prerenderingchange",Ss,!0)},wn=()=>(F.document&&Uo<0&&(Uo=_E(),SE()),{get firstHiddenTime(){return Uo}});var $t=e=>{F.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var EE=[1800,3e3],np=(e,t={})=>{$t(()=>{let n=wn(),r=Et("FCP"),o,s=nt("paint",a=>{a.forEach(c=>{c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Ht(),0),r.entries.push(c),o(!0)))})});s&&(o=yt(e,r,EE,t.reportAllChanges))})};var bE=[.1,.25],rp=(e,t={})=>{np(vn(()=>{let n=Et("CLS",0),r,o=0,i=[],s=c=>{c.forEach(u=>{if(!u.hadRecentInput){let d=i[0],l=i[i.length-1];o&&d&&l&&u.startTime-l.startTime<1e3&&u.startTime-d.startTime<5e3?(o+=u.value,i.push(u)):(o=u.value,i=[u])}}),o>n.value&&(n.value=o,n.entries=i,r())},a=nt("layout-shift",s);a&&(r=yt(e,n,bE,t.reportAllChanges),bt(()=>{s(a.takeRecords()),r(!0)}),setTimeout(r,0))}))};var TE=[100,300],op=(e,t={})=>{$t(()=>{let n=wn(),r=Et("FID"),o,i=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),o(!0))},s=c=>{c.forEach(i)},a=nt("first-input",s);o=yt(e,r,TE,t.reportAllChanges),a&&bt(vn(()=>{s(a.takeRecords()),a.disconnect()}))})};var ip=0,hu=1/0,ys=0,IE=e=>{e.forEach(t=>{t.interactionId&&(hu=Math.min(hu,t.interactionId),ys=Math.max(ys,t.interactionId),ip=ys?(ys-hu)/7+1:0)})},gu,sp=()=>gu?ip:performance.interactionCount||0,ap=()=>{"interactionCount"in performance||gu||(gu=nt("event",IE,{type:"event",buffered:!0,durationThreshold:0}))};var an=[],_u=new Map,cp=40,vE=0,wE=()=>sp()-vE,up=()=>{let e=Math.min(an.length-1,Math.floor(wE()/50));return an[e]},Su=10,RE=[],lp=e=>{if(RE.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;let t=an[an.length-1],n=_u.get(e.interactionId);if(n||an.length<Su||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0]?.startTime&&n.entries.push(e);else{let r={id:e.interactionId,latency:e.duration,entries:[e]};_u.set(r.id,r),an.push(r)}an.sort((r,o)=>o.latency-r.latency),an.length>Su&&an.splice(Su).forEach(r=>_u.delete(r.id))}};var Es=e=>{let t=F.requestIdleCallback||F.setTimeout,n=-1;return e=vn(e),F.document?.visibilityState==="hidden"?e():(n=t(e),bt(e)),n};var xE=[200,500],dp=(e,t={})=>{"PerformanceEventTiming"in F&&"interactionId"in PerformanceEventTiming.prototype&&$t(()=>{ap();let n=Et("INP"),r,o=s=>{Es(()=>{s.forEach(lp);let a=up();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},i=nt("event",o,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:cp});r=yt(e,n,xE,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),bt(()=>{o(i.takeRecords()),r(!0)}))})};var CE=[2500,4e3],fp={},pp=(e,t={})=>{$t(()=>{let n=wn(),r=Et("LCP"),o,i=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(c=>{c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Ht(),0),r.entries=[c],o())})},s=nt("largest-contentful-paint",i);if(s){o=yt(e,r,CE,t.reportAllChanges);let a=vn(()=>{fp[r.id]||(i(s.takeRecords()),s.disconnect(),fp[r.id]=!0,o(!0))});["keydown","click"].forEach(c=>{F.document&&addEventListener(c,()=>Es(a),{once:!0,capture:!0})}),bt(a)}})};var kE=[800,1800],yu=e=>{F.document?.prerendering?$t(()=>yu(e)):F.document?.readyState!=="complete"?addEventListener("load",()=>yu(e),!0):setTimeout(e,0)},mp=(e,t={})=>{let n=Et("TTFB"),r=yt(e,n,kE,t.reportAllChanges);yu(()=>{let o=sn();o&&(n.value=Math.max(o.responseStart-Ht(),0),n.entries=[o],r(!0))})};var Bo={},bs={},hp,gp,_p,Sp,yp;function qn(e,t=!1){return Go("cls",e,AE,hp,t)}function Ho(e,t=!1){return Go("lcp",e,ME,_p,t)}function $o(e){return Go("fid",e,NE,gp)}function Eu(e){return Go("ttfb",e,OE,Sp)}function Wo(e){return Go("inp",e,LE,yp)}function At(e,t){return Ep(e,t),bs[e]||(DE(e),bs[e]=!0),bp(e,t)}function Ar(e,t){let n=Bo[e];if(n?.length)for(let r of n)try{r(t)}catch(o){on&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${et(r)}
Error:`,o)}}function AE(){return rp(e=>{Ar("cls",{metric:e}),hp=e},{reportAllChanges:!0})}function NE(){return op(e=>{Ar("fid",{metric:e}),gp=e})}function ME(){return pp(e=>{Ar("lcp",{metric:e}),_p=e},{reportAllChanges:!0})}function OE(){return mp(e=>{Ar("ttfb",{metric:e}),Sp=e})}function LE(){return dp(e=>{Ar("inp",{metric:e}),yp=e})}function Go(e,t,n,r,o=!1){Ep(e,t);let i;return bs[e]||(i=n(),bs[e]=!0),r&&t({metric:r}),bp(e,t,o?i:void 0)}function DE(e){let t={};e==="event"&&(t.durationThreshold=0),nt(e,n=>{Ar(e,{entries:n})},t)}function Ep(e,t){Bo[e]=Bo[e]||[],Bo[e].push(t)}function bp(e,t,n){return()=>{n&&n();let r=Bo[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Tp(e){return"duration"in e}function Ts(e){return typeof e=="number"&&isFinite(e)}function Wt(e,t,n,{...r}){let o=L(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Sn(e,()=>{let i=_t({startTime:t,...r});return i&&i.end(n),i})}function Is(e){let t=b();if(!t)return;let{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=O(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0,m;try{m=l.getScopeData().contexts.profile.profile_id}catch{}let g={release:s,environment:a,user:p||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":F.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return _t({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function zo(){return F.addEventListener&&F.performance}function me(e){return e/1e3}function jo(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function Ip(){let e=0,t,n;if(!FE())return;let r=!1;function o(){r||(r=!0,n&&PE(e,t,n),i())}let i=qn(({metric:s})=>{let a=s.entries[s.entries.length-1];a&&(e=s.value,t=a)},!0);bt(()=>{o()}),setTimeout(()=>{let s=b();if(!s)return;let a=s.on("startNavigationSpan",()=>{o(),a?.()}),c=Z();if(c){let u=K(c);L(u).op==="pageload"&&(n=u.spanContext().spanId)}},0)}function PE(e,t,n){on&&h.log(`Sending CLS span (${e})`);let r=me((_e()||0)+(t?.startTime||0)),o=O().getScopeData().transactionName,i=t?Oe(t.sources[0]?.node):"Layout shift",s={[J]:"auto.http.browser.cls",[Ee]:"ui.webvital.cls",[Ut]:t?.duration||0,"sentry.pageload.span_id":n},a=Is({name:i,transaction:o,attributes:s,startTime:r});a&&(a.addEvent("cls",{[hn]:"",[gn]:e}),a.end(r))}function FE(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}var UE=2147483647,vp=0,Me={},rt,ws;function Tu({recordClsStandaloneSpans:e}){let t=zo();if(t&&_e()){t.mark&&F.performance.mark("sentry-tracing-init");let n=$E(),r=HE(),o=WE(),i=e?Ip():BE();return()=>{n(),r(),o(),i?.()}}return()=>{}}function Iu(){At("longtask",({entries:e})=>{let t=Z();if(!t)return;let{op:n,start_timestamp:r}=L(t);for(let o of e){let i=me(_e()+o.startTime),s=me(o.duration);n==="navigation"&&r&&i<r||Wt(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[J]:"auto.ui.browser.metrics"}})}})}function vu(){new PerformanceObserver(t=>{let n=Z();if(n)for(let r of t.getEntries()){if(!r.scripts[0])continue;let o=me(_e()+r.startTime),{start_timestamp:i,op:s}=L(n);if(s==="navigation"&&i&&o<i)continue;let a=me(r.duration),c={[J]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:m}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),m!==-1&&(c["browser.script.source_char_position"]=m),Wt(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function wu(){At("event",({entries:e})=>{let t=Z();if(t){for(let n of e)if(n.name==="click"){let r=me(_e()+n.startTime),o=me(n.duration),i={name:Oe(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[J]:"auto.ui.browser.metrics"}},s=Xr(n.target);s&&(i.attributes["ui.component_name"]=s),Wt(t,r,r+o,i)}}})}function BE(){return qn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Me.cls={value:e.value,unit:""},ws=t)},!0)}function HE(){return Ho(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Me.lcp={value:e.value,unit:"millisecond"},rt=t)},!0)}function $E(){return $o(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=me(_e()),r=me(t.startTime);Me.fid={value:e.value,unit:"millisecond"},Me["mark.fid"]={value:n+r,unit:"second"}})}function WE(){return Eu(({metric:e})=>{e.entries[e.entries.length-1]&&(Me.ttfb={value:e.value,unit:"millisecond"})})}function Ru(e,t){let n=zo(),r=_e();if(!n?.getEntries||!r)return;let o=me(r),i=n.getEntries(),{op:s,start_timestamp:a}=L(e);if(i.slice(vp).forEach(c=>{let u=me(c.startTime),d=me(Math.max(0,c.duration));if(!(s==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{zE(e,c,o);break}case"mark":case"paint":case"measure":{GE(e,c,u,d,o,t.ignorePerformanceApiSpans);let l=wn(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(Me.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(Me.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{VE(e,c,c.name,u,d,o,t.ignoreResourceSpans);break}}}),vp=Math.max(i.length-1,0),YE(e),s==="pageload"){KE(Me);let c=Me["mark.fid"];c&&Me.fid&&(Wt(e,c.value,c.value+me(Me.fid.value),{name:"first input delay",op:"ui.action",attributes:{[J]:"auto.ui.browser.metrics"}}),delete Me["mark.fid"]),(!("fcp"in Me)||!t.recordClsOnPageloadSpan)&&delete Me.cls,Object.entries(Me).forEach(([u,d])=>{lo(u,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",Ht()),JE(e)}rt=void 0,ws=void 0,Me={}}function GE(e,t,n,r,o,i){if(["mark","measure"].includes(t.entryType)&&ke(t.name,i))return;let s=sn(!1),a=me(s?s.requestStart:0),c=o+Math.max(n,a),u=o+n,d=u+r,l={[J]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),c<=d&&Wt(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function zE(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{vs(e,t,r,n)}),vs(e,t,"secureConnection",n,"TLS/SSL"),vs(e,t,"fetch",n,"cache"),vs(e,t,"domainLookup",n,"DNS"),qE(e,t,n)}function vs(e,t,n,r,o=n){let i=jE(n),s=t[i],a=t[`${n}Start`];!a||!s||Wt(e,r+me(a),r+me(s),{op:`browser.${o}`,name:t.name,attributes:{[J]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function jE(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function qE(e,t,n){let r=n+me(t.requestStart),o=n+me(t.responseEnd),i=n+me(t.responseStart);t.responseEnd&&(Wt(e,r,o,{op:"browser.request",name:t.name,attributes:{[J]:"auto.ui.browser.metrics"}}),Wt(e,i,o,{op:"browser.response",name:t.name,attributes:{[J]:"auto.ui.browser.metrics"}}))}function VE(e,t,n,r,o,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;let c=Ct(n),u={[J]:"auto.resource.browser.metrics"};bu(u,t,"transferSize","http.response_transfer_size"),bu(u,t,"encodedBodySize","http.response_content_length"),bu(u,t,"decodedBodySize","http.decoded_response_content_length");let d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);let l=t.renderBlockingStatus;l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(F.location.origin);let{name:f,version:p}=jo(t.nextHopProtocol);u["network.protocol.name"]=f,u["network.protocol.version"]=p;let m=i+r,g=m+o;Wt(e,m,g,{name:n.replace(F.location.origin,""),op:a,attributes:u})}function YE(e){let t=F.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Ts(n.rtt)&&(Me["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ts(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Ts(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function JE(e){rt&&(rt.element&&e.setAttribute("lcp.element",Oe(rt.element)),rt.id&&e.setAttribute("lcp.id",rt.id),rt.url&&e.setAttribute("lcp.url",rt.url.trim().slice(0,200)),rt.loadTime!=null&&e.setAttribute("lcp.loadTime",rt.loadTime),rt.renderTime!=null&&e.setAttribute("lcp.renderTime",rt.renderTime),e.setAttribute("lcp.size",rt.size)),ws?.sources&&ws.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Oe(t.node)))}function bu(e,t,n,r){let o=t[n];o!=null&&o<UE&&(e[r]=o)}function KE(e){let t=sn(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}var XE=1e3,wp,xu,Cu;function qo(e){let t="dom";Pe(t,e),Fe(t,ZE)}function ZE(){if(!F.document)return;let e=Ie.bind(null,"dom"),t=Rp(e,!0);F.document.addEventListener("click",t,!1),F.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let o=F[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(he(o,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){let l=Rp(e);d.handler=l,i.call(this,s,l,c)}d.refCount++}catch{}return i.call(this,s,a,c)}}),he(o,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,c)}}))})}function QE(e){if(e.type!==xu)return!1;try{if(!e.target||e.target._sentryId!==Cu)return!1}catch{}return!0}function eb(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Rp(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=tb(n);if(eb(n.type,r))return;de(n,"_sentryCaptured",!0),r&&!r._sentryId&&de(r,"_sentryId",fe());let o=n.type==="keypress"?"input":n.type;QE(n)||(e({event:n,name:o,global:t}),xu=n.type,Cu=r?r._sentryId:void 0),clearTimeout(wp),wp=F.setTimeout(()=>{Cu=void 0,xu=void 0},XE)}}function tb(e){try{return e.target}catch{return null}}var Rs;function cn(e){let t="history";Pe(t,e),Fe(t,nb)}function nb(){if(F.addEventListener("popstate",()=>{let t=F.location.href,n=Rs;if(Rs=t,n===t)return;Ie("history",{from:n,to:t})}),!$c())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let o=Rs,i=rb(String(r));if(Rs=i,o===i)return t.apply(this,n);Ie("history",{from:o,to:i})}return t.apply(this,n)}}he(F.history,"pushState",e),he(F.history,"replaceState",e)}function rb(e){try{return new URL(e,F.location.origin).toString()}catch{return e}}var xs={};function Nr(e){let t=xs[e];if(t)return t;let n=F[e];if(No(n))return xs[e]=n.bind(F);let r=F.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){on&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(xs[e]=n.bind(F))}function Cs(e){xs[e]=void 0}function Rn(...e){return Nr("setTimeout")(...e)}var Ve="__sentry_xhr_v3__";function Vn(e){let t="xhr";Pe(t,e),Fe(t,ob)}function ob(){if(!F.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let o=new Error,i=oe()*1e3,s=Re(r[0])?r[0].toUpperCase():void 0,a=ib(r[1]);if(!s||!a)return t.apply(n,r);n[Ve]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let c=()=>{let u=n[Ve];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}let d={endTimestamp:oe()*1e3,startTimestamp:i,xhr:n,virtualError:o};Ie("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){let[f,p]=l,m=d[Ve];return m&&Re(f)&&Re(p)&&(m.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let o=n[Ve];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);let i={startTimestamp:oe()*1e3,xhr:n};return Ie("xhr",i),t.apply(n,r)}})}function ib(e){if(Re(e))return e;try{return e.toString()}catch{}}function ks(e){return new URLSearchParams(e).toString()}function Yn(e,t=h){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[ks(e)];if(!e)return[void 0]}catch(n){return on&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return on&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Mr(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var ku=[],As=new Map;function Au(){if(zo()&&_e()){let t=sb();return()=>{t()}}return()=>{}}var xp={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function sb(){return Wo(({metric:e})=>{if(e.value==null)return;let t=e.entries.find(m=>m.duration===e.value&&xp[m.name]);if(!t)return;let{interactionId:n}=t,r=xp[t.name],o=me(_e()+t.startTime),i=me(e.value),s=Z(),a=s?K(s):void 0,u=(n!=null?As.get(n):void 0)||a,d=u?L(u).description:O().getScopeData().transactionName,l=Oe(t.target),f={[J]:"auto.http.browser.inp",[Ee]:`ui.interaction.${r}`,[Ut]:t.duration},p=Is({name:l,transaction:d,attributes:f,startTime:o});p&&(p.addEvent("inp",{[hn]:"millisecond",[gn]:e.value}),p.end(o+i))})}function Nu(){let e=({entries:t})=>{let n=Z(),r=n&&K(n);t.forEach(o=>{if(!Tp(o)||!r)return;let i=o.interactionId;if(i!=null&&!As.has(i)){if(ku.length>10){let s=ku.shift();As.delete(s)}ku.push(i),As.set(i,r)}})};At("event",e),At("first-input",e)}function Or(e,t=Nr("fetch")){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Cs("fetch"),yn("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Cs("fetch"),n-=s,r--,yn(c)}}return Io(e,o)}var ab=10,cb=20,ub=30,lb=40,db=50;function Lr(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?ct:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var fb=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,pb=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,mb=/\((\S*)(?::(\d+))(?::(\d+))\)/,hb=e=>{let t=fb.exec(e);if(t){let[,r,o,i]=t;return Lr(r,ct,+o,+i)}let n=pb.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let s=mb.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}let[o,i]=Np(n[1]||ct,n[2]);return Lr(i,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Mu=[ub,hb],gb=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,_b=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Sb=e=>{let t=gb.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=_b.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||ct;return[o,r]=Np(o,r),Lr(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Ou=[db,Sb],yb=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Eb=e=>{let t=yb.exec(e);return t?Lr(t[2],t[1]||ct,+t[3],t[4]?+t[4]:void 0):void 0},Cp=[lb,Eb],bb=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Tb=e=>{let t=bb.exec(e);return t?Lr(t[2],t[3]||ct,+t[1]):void 0},kp=[ab,Tb],Ib=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,vb=e=>{let t=Ib.exec(e);return t?Lr(t[5],t[3]||t[4]||ct,+t[1],+t[2]):void 0},Ap=[cb,vb],Lu=[Mu,Ou],Ns=Ci(...Lu),Np=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ct,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Mp(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:tt(r)}},i=wb(e);return Ne(o,[i])}function wb(e){return[{type:"user_report"},e]}var B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Ms=1024,Rb="Breadcrumbs",xb=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Rb,setup(n){t.console&&Bn(Ab(n)),t.dom&&qo(kb(n,t.dom)),t.xhr&&Vn(Nb(n)),t.fetch&&$n(Mb(n)),t.history&&cn(Ob(n)),t.sentry&&n.on("beforeSendEvent",Cb(n))}}},Os=xb;function Cb(e){return function(n){b()===e&&qe({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Dt(n)},{event:n})}}function kb(e,t){return function(r){if(b()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Ms&&(B&&h.warn(`\`dom.maxStringLength\` cannot exceed ${Ms}, but a value of ${a} was configured. Sentry will use ${Ms} instead.`),a=Ms),typeof s=="string"&&(s=[s]);try{let u=r.event,d=Lb(u)?u.target:u;o=Oe(d,{keyAttrs:s,maxStringLength:a}),i=Xr(d)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),qe(c,{event:r.event,name:r.name,global:r.global})}}function Ab(e){return function(n){if(b()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:Hn(n.level),message:Yt(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Yt(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;qe(r,{input:n.args,level:n.level})}}function Nb(e){return function(n){if(b()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Ve];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},f={category:"xhr",data:d,type:"http",level:ns(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),qe(f,l)}}function Mb(e){return function(n){if(b()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),qe(a,s)}else{let i=n.response,s={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;let a={input:n.args,response:i,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:s,type:"http",level:ns(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),qe(c,a)}}}function Ob(e){return function(n){if(b()!==e)return;let r=n.from,o=n.to,i=Ct(A.location.href),s=r?Ct(r):void 0,a=Ct(o);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),qe({category:"navigation",data:{from:r,to:o}})}}function Lb(e){return!!e&&!!e.target}var Db=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Pb="BrowserApiErrors",Fb=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Pb,setupOnce(){t.setTimeout&&he(A,"setTimeout",Op),t.setInterval&&he(A,"setInterval",Op),t.requestAnimationFrame&&he(A,"requestAnimationFrame",Ub),t.XMLHttpRequest&&"XMLHttpRequest"in A&&he(XMLHttpRequest.prototype,"send",Bb);let n=t.eventTarget;n&&(Array.isArray(n)?n:Db).forEach(o=>Hb(o,t))}}},Ls=Fb;function Op(e){return function(...t){let n=t[0];return t[0]=jn(n,{mechanism:{data:{function:et(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Ub(e){return function(t){return e.apply(this,[jn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:et(e)},handled:!1,type:"instrument"}})])}}function Bb(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&he(n,o,function(i){let s={mechanism:{data:{function:o,handler:et(i)},handled:!1,type:"instrument"}},a=Ln(i);return a&&(s.mechanism.data.handler=et(a)),jn(i,s)})}),e.apply(this,t)}}function Hb(e,t){let r=A[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(he(r,"addEventListener",function(o){return function(i,s,a){try{$b(s)&&(s.handleEvent=jn(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:et(s),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&Wb(this,i,s),o.apply(this,[i,jn(s,{mechanism:{data:{function:"addEventListener",handler:et(s),target:e},handled:!1,type:"instrument"}}),a])}}),he(r,"removeEventListener",function(o){return function(i,s,a){try{let c=s.__sentry_wrapped__;c&&o.call(this,i,c,a)}catch{}return o.call(this,i,s,a)}}))}function $b(e){return typeof e.handleEvent=="function"}function Wb(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var Ds=()=>({name:"BrowserSession",setupOnce(){if(typeof A.document>"u"){B&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}gr({ignoreDuration:!0}),_r(),cn(({from:e,to:t})=>{e!==void 0&&e!==t&&(gr({ignoreDuration:!0}),_r())})}});var Gb="GlobalHandlers",zb=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:Gb,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(jb(n),Lp("onerror")),t.onunhandledrejection&&(qb(n),Lp("onunhandledrejection"))}}},Ps=zb;function jb(e){io(t=>{let{stackParser:n,attachStacktrace:r}=Dp();if(b()!==e||uu())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=Jb(_s(n,c||o,void 0,r,!1),i,s,a);u.level="error",nn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function qb(e){so(t=>{let{stackParser:n,attachStacktrace:r}=Dp();if(b()!==e||uu())return;let o=Vb(t),i=Mn(o)?Yb(o):_s(n,o,void 0,r,!0);i.level="error",nn(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Vb(e){if(Mn(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Yb(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Jb(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=Re(t)&&t.length>0?t:Ge();return c.length===0&&c.push({colno:u,filename:l,function:ct,in_app:!0,lineno:d}),e}function Lp(e){B&&h.log(`Global Handler attached: ${e}`)}function Dp(){return b()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var Fs=()=>({name:"HttpContext",preprocessEvent(e){if(!A.navigator&&!A.location&&!A.document)return;let t=Fo(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});var Kb="cause",Xb=5,Zb="LinkedErrors",Qb=(e={})=>{let t=e.limit||Xb,n=e.key||Kb;return{name:Zb,preprocessEvent(r,o,i){let s=i.getOptions();Ac(Cr,s.stackParser,n,t,r,o)}}},Us=Qb;function Pp(){return eT()?(B&&Ze(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function eT(){if(typeof A.window>"u")return!1;let e=A;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;let n=Ge(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(A===A.top&&r.some(i=>n.startsWith(`${i}://`)))}function Du(e){return[Ro(),wo(),Ls(),Os(),Ps(),Us(),xo(),Fs(),Ds()]}function Fp(e={}){let t=!e.skipBrowserExtensionCheck&&Pp(),n={...e,enabled:t?!1:e.enabled,stackParser:Ua(e.stackParser||Ns),integrations:mc({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Du():e.defaultIntegrations}),transport:e.transport||Or};return yc(kr,n)}function Up(){}function Bp(e){e()}function Hp(e={}){let t=A.document,n=t?.head||t?.body;if(!n){B&&h.error("[showReportDialog] Global document not defined");return}let r=O(),i=b()?.getDsn();if(!i){B&&h.error("[showReportDialog] DSN not configured");return}let s={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||ho()},a=A.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=pc(i,s);let{onLoad:c,onClose:u}=s;if(c&&(a.onload=c),u){let d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{A.removeEventListener("message",d)}};A.addEventListener("message",d)}n.appendChild(a)}var tT=w,nT="ReportingObserver",$p=new WeakMap,rT=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if($p.has(b()))for(let o of r)we(i=>{i.setExtra("url",o.url);let s=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(i.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}En(`${s}: ${a}`)})}return{name:nT,setupOnce(){if(!Wc())return;new tT.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){$p.set(r,!0)}}},Wp=rT;var oT="HttpClient",iT=(e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:oT,setup(n){pT(n,t),mT(n,t)}}},zp=iT;function sT(e,t,n,r,o){if(qp(e,n.status,n.url)){let i=hT(t,r),s,a,c,u;Yp()&&([s,c]=Gp("Cookie",i),[a,u]=Gp("Set-Cookie",n));let d=Vp({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:a,requestCookies:c,responseCookies:u,error:o});nn(d)}}function Gp(e,t){let n=uT(t.headers),r;try{let o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=jp(o))}catch{}return[n,r]}function aT(e,t,n,r,o){if(qp(e,t.status,t.responseURL)){let i,s,a;if(Yp()){try{let u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(s=jp(u))}catch{}try{a=lT(t)}catch{}i=r}let c=Vp({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:a,responseCookies:s,error:o});nn(c)}}function cT(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function jp(e){return e.split("; ").reduce((t,n)=>{let[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function uT(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function lT(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function dT(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function fT(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function pT(e,t){Mo()&&$n(n=>{if(b()!==e)return;let{response:r,args:o,error:i,virtualError:s}=n,[a,c]=o;r&&sT(t,a,r,c,i||s)},!1)}function mT(e,t){"XMLHttpRequest"in w&&Vn(n=>{if(b()!==e)return;let{error:r,virtualError:o}=n,i=n.xhr,s=i[Ve];if(!s)return;let{method:a,request_headers:c}=s;try{aT(t,i,a,c,r||o)}catch(u){B&&h.warn("Error while extracting response event form XHR response",u)}})}function qp(e,t,n){return fT(e.failedRequestStatusCodes,t)&&dT(e.failedRequestTargets,n)&&!vo(n,b())}function Vp(e){let t=b(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,i={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:cT(e.responseHeaders)}}};return Qe(i,{type:"http.client",handled:!1}),i}function hT(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Yp(){let e=b();return e?!!e.getOptions().sendDefaultPii:!1}var Pu=w,gT=7,_T="ContextLines",ST=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:gT;return{name:_T,processEvent(n){return yT(n,t)}}},Jp=ST;function yT(e,t){let n=Pu.document,r=Pu.location&&ko(Pu.location.href);if(!n||!r)return e;let o=e.exception?.values;if(!o?.length)return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>ET(u,s,r,t)))}),e}function ET(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||xa(t,e,r),e}var bT="GraphQLClient",TT=e=>({name:bT,setup(t){IT(t,e),vT(t,e)}});function IT(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let i=L(n).data||{};if(!(i[Ee]==="http.client"))return;let c=i[Ma]||i["http.url"],u=i[Na]||i["http.method"];if(!Re(c)||!Re(u))return;let{endpoints:d}=t,l=ke(c,d),f=Xp(r);if(l&&f){let p=Zp(f);if(p){let m=Kp(p);n.updateName(`${u} ${c} (${m})`),n.setAttribute("graphql.document",f)}}})}function vT(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:o,type:i,data:s}=n;if(i==="http"&&(o==="fetch"||o==="xhr")){let d=s?.url,{endpoints:l}=t,f=ke(d,l),p=Xp(r);if(f&&s&&p){let m=Zp(p);if(!s.graphql&&m){let g=Kp(m);s["graphql.document"]=m.query,s["graphql.operation"]=g}}}})}function Kp(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=wT(t);return r?`${o} ${r}`:`${o}`}function Xp(e){let t="xhr"in e,n;if(t){let r=e.xhr[Ve];n=r&&Yn(r.body)[0]}else{let r=Mr(e.input);n=Yn(r)[0]}return n}function wT(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function Zp(e){let t;try{let n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}var Qp=TT;var le=w,ll="sentryReplaySession",RT="replay_event",dl="Unable to send Replay",xT=3e5,CT=9e5,kT=5e3,AT=5500,NT=6e4,MT=5e3,OT=3,em=15e4,Bs=5e3,LT=3e3,DT=300,fl=2e7,PT=4999,FT=15e3,tm=36e5,UT=Object.defineProperty,BT=(e,t,n)=>t in e?UT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nm=(e,t,n)=>BT(e,typeof t!="symbol"?t+"":t,n),xe=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(xe||{});function HT(e){return e.nodeType===e.ELEMENT_NODE}function Jo(e){return e?.host?.shadowRoot===e}function Ko(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function $T(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function WT(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function js(e){try{let t=e.rules||e.cssRules;return t?$T(Array.from(t,vm).join("")):null}catch{return null}}function GT(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function vm(e){let t;if(jT(e))try{t=js(e.styleSheet)||WT(e)}catch{}else if(qT(e)){let n=e.cssText,r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=GT(e)),r&&(n=zT(n)),r||o)return n}return t||e.cssText}function zT(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function jT(e){return"styleSheet"in e}function qT(e){return"selectorText"in e}var qs=class{constructor(){nm(this,"idNodeMap",new Map),nm(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function VT(){return new qs}function ra({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Zo({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Wr(e){return e.toLowerCase()}function $u(e){return e.toUpperCase()}var rm="__rrweb_original__";function YT(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=rm in i?i[rm]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function pl(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Wr(t):null}function Vs(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function wm(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}var om={};function Rm(e){let t=om[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return om[e]=r.bind(window)}function Wu(...e){return Rm("setTimeout")(...e)}function xm(...e){return Rm("clearTimeout")(...e)}function Cm(e){try{return e.contentDocument}catch{}}var JT=1,KT=new RegExp("[^a-z0-9-_:]"),Qo=-2;function ml(){return JT++}function XT(e){if(e instanceof HTMLFormElement)return"form";let t=Wr(e.tagName);return KT.test(t)?"div":t}function ZT(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Dr,im,QT=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,eI=/^(?:[a-z+]+:)?\/\//i,tI=/^www\..*/i,nI=/^(data:)([^,]*),(.*)/i;function Ys(e,t){return(e||"").replace(QT,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if(eI.test(c)||tI.test(c))return`url(${u}${c}${u})`;if(nI.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${ZT(t)+c}${u})`;let d=t.split("/"),l=c.split("/");d.pop();for(let f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}var rI=/^[^ \t\n\r\u000c]+/,oI=/^[, \t\n\r\u000c]+/;function iI(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(oI),!(n>=t.length);){let i=r(rI);if(i.slice(-1)===",")i=Ur(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=Ur(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}var sm=new WeakMap;function Ur(e,t){return!t||t.trim()===""?t:oa(e,t)}function sI(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function oa(e,t){let n=sm.get(e);if(n||(n=e.createElement("a"),sm.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function km(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Ur(e,r):n==="srcset"?iI(e,r):n==="style"?Ys(r,oa(e)):t==="object"&&n==="data"?Ur(e,r):typeof i=="function"?i(n,r,o):r)}function Am(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Nm(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function aI(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Jn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Jn(e.parentNode,t,n,r+1)}function Br(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(aI(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Gr(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=Jn(s,Br(r,o)),c<0)return!0;a=Jn(s,Br(t,n),c>=0?c:1/0)}else{if(a=Jn(s,Br(t,n)),a<0)return!1;c=Jn(s,Br(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function cI(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=Wu(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{xm(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return Wu(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function uI(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=Wu(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{xm(i),r=!0,t()})}function lI(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:g,maskInputFn:_,dataURLOptions:S={},inlineImages:E,recordCanvas:$,keepIframeSrcFn:k,newlyAddedElement:D=!1}=t,y=dI(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:xe.Document,childNodes:[],compatMode:e.compatMode}:{type:xe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:xe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return pI(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:m,maskInputFn:_,dataURLOptions:S,inlineImages:E,recordCanvas:$,keepIframeSrcFn:k,newlyAddedElement:D,rootId:y,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return fI(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:m,maskInputFn:_,rootId:y});case e.CDATA_SECTION_NODE:return{type:xe.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:xe.Comment,textContent:e.textContent||"",rootId:y};default:return!1}}function dI(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function fI(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName,f=e.textContent,p=l==="STYLE"?!0:void 0,m=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=js(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}f=Ys(f,oa(t.doc))}m&&(f="SCRIPT_PLACEHOLDER");let _=Gr(e,r,i,o,s,n);if(!p&&!m&&!g&&f&&_&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||_)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){let S=ra({type:null,tagName:l,maskInputOptions:c});f=Zo({isMasked:Gr(e,r,i,o,s,S),element:e,value:f,maskInputFn:u})}return{type:xe.Text,textContent:f||"",isStyle:p,rootId:d}}function pI(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:g,maskTextClass:_,unmaskTextClass:S,maskTextSelector:E,unmaskTextSelector:$}=t,k=Nm(e,r,o,i),D=XT(e),y={},R=e.attributes.length;for(let T=0;T<R;T++){let C=e.attributes[T];C.name&&!Am(D,C.name,C.value)&&(y[C.name]=km(n,D,Wr(C.name),C.value,e,c))}if(D==="link"&&s){let T=Array.from(n.styleSheets).find(M=>M.href===e.href),C=null;T&&(C=js(T)),C&&(y.rel=null,y.href=null,y.crossorigin=null,y._cssText=Ys(C,T.href))}if(D==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let T=js(e.sheet);T&&(y._cssText=Ys(T,oa(n)))}if(D==="input"||D==="textarea"||D==="select"||D==="option"){let T=e,C=pl(T),M=Vs(T,$u(D),C),v=T.checked;if(C!=="submit"&&C!=="button"&&M){let x=Gr(T,_,E,S,$,ra({type:C,tagName:$u(D),maskInputOptions:a}));y.value=Zo({isMasked:x,element:T,value:M,maskInputFn:u})}v&&(y.checked=v)}if(D==="option"&&(e.selected&&!a.select?y.selected=!0:delete y.selected),D==="canvas"&&f){if(e.__context==="2d")YT(e)||(y.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let T=e.toDataURL(d.type,d.quality),C=n.createElement("canvas");C.width=e.width,C.height=e.height;let M=C.toDataURL(d.type,d.quality);T!==M&&(y.rr_dataURL=T)}}if(D==="img"&&l){Dr||(Dr=n.createElement("canvas"),im=Dr.getContext("2d"));let T=e,C=T.currentSrc||T.getAttribute("src")||"<unknown-src>",M=T.crossOrigin,v=()=>{T.removeEventListener("load",v);try{Dr.width=T.naturalWidth,Dr.height=T.naturalHeight,im.drawImage(T,0,0),y.rr_dataURL=Dr.toDataURL(d.type,d.quality)}catch(x){if(T.crossOrigin!=="anonymous"){T.crossOrigin="anonymous",T.complete&&T.naturalWidth!==0?v():T.addEventListener("load",v);return}else console.warn(`Cannot inline img src=${C}! Error: ${x}`)}T.crossOrigin==="anonymous"&&(M?y.crossOrigin=M:T.removeAttribute("crossorigin"))};T.complete&&T.naturalWidth!==0?v():T.addEventListener("load",v)}if((D==="audio"||D==="video")&&(y.rr_mediaState=e.paused?"paused":"played",y.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop)),k){let{width:T,height:C}=e.getBoundingClientRect();y={class:y.class,rr_width:`${T}px`,rr_height:`${C}px`}}D==="iframe"&&!p(y.src)&&(!k&&!Cm(e)&&(y.rr_src=y.src),delete y.src);let N;try{customElements.get(D)&&(N=!0)}catch{}return{type:xe.Element,tagName:D,attributes:y,childNodes:[],isSVG:sI(e)||void 0,needBlock:k,rootId:g,isCustom:N}}function ue(e){return e==null?"":e.toLowerCase()}function mI(e,t){if(t.comment&&e.type===xe.Comment)return!0;if(e.type===xe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&wm(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ue(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ue(e.attributes.name)==="application-name"||ue(e.attributes.rel)==="icon"||ue(e.attributes.rel)==="apple-touch-icon"||ue(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ue(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ue(e.attributes.property).match(/^(og|twitter|fb):/)||ue(e.attributes.name).match(/^(og|twitter):/)||ue(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ue(e.attributes.name)==="robots"||ue(e.attributes.name)==="googlebot"||ue(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ue(e.attributes.name)==="author"||ue(e.attributes.name)==="generator"||ue(e.attributes.name)==="framework"||ue(e.attributes.name)==="publisher"||ue(e.attributes.name)==="progid"||ue(e.attributes.property).match(/^article:/)||ue(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ue(e.attributes.name)==="google-site-verification"||ue(e.attributes.name)==="yandex-verification"||ue(e.attributes.name)==="csrf-token"||ue(e.attributes.name)==="p:domain_verify"||ue(e.attributes.name)==="verify-v1"||ue(e.attributes.name)==="verification"||ue(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Hr(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:$={},inlineImages:k=!1,recordCanvas:D=!1,onSerialize:y,onIframeLoad:R,iframeLoadTimeout:N=5e3,onStylesheetLoad:T,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:M=()=>!1,newlyAddedElement:v=!1}=t,{preserveWhiteSpace:x=!0}=t,U=lI(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,dataURLOptions:$,inlineImages:k,recordCanvas:D,keepIframeSrcFn:M,newlyAddedElement:v});if(!U)return console.warn(e,"not serialized"),null;let j;r.hasNode(e)?j=r.getId(e):mI(U,E)||!x&&U.type===xe.Text&&!U.isStyle&&!U.textContent.replace(/^\s+|\s+$/gm,"").length?j=Qo:j=ml();let P=Object.assign(U,{id:j});if(r.add(e,P),j===Qo)return null;y&&y(e);let te=!f;if(P.type===xe.Element){te=te&&!P.needBlock,delete P.needBlock;let H=e.shadowRoot;H&&Ko(H)&&(P.isShadowHost=!0)}if((P.type===xe.Document||P.type===xe.Element)&&te){E.headWhitespace&&P.type===xe.Element&&P.tagName==="head"&&(x=!1);let H={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:$,inlineImages:k,recordCanvas:D,preserveWhiteSpace:x,onSerialize:y,onIframeLoad:R,iframeLoadTimeout:N,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:M};for(let Q of Array.from(e.childNodes)){let ne=Hr(Q,H);ne&&P.childNodes.push(ne)}if(HT(e)&&e.shadowRoot)for(let Q of Array.from(e.shadowRoot.childNodes)){let ne=Hr(Q,H);ne&&(Ko(e.shadowRoot)&&(ne.isShadow=!0),P.childNodes.push(ne))}}return e.parentNode&&Jo(e.parentNode)&&Ko(e.parentNode)&&(P.isShadow=!0),P.type===xe.Element&&P.tagName==="iframe"&&!Nm(e,o,i,s)&&cI(e,()=>{let H=Cm(e);if(H&&R){let Q=Hr(H,{doc:H,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:$,inlineImages:k,recordCanvas:D,preserveWhiteSpace:x,onSerialize:y,onIframeLoad:R,iframeLoadTimeout:N,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:M});Q&&R(e,Q)}},N),P.type===xe.Element&&P.tagName==="link"&&typeof P.attributes.rel=="string"&&(P.attributes.rel==="stylesheet"||P.attributes.rel==="preload"&&typeof P.attributes.href=="string"&&wm(P.attributes.href)==="css")&&uI(e,()=>{if(T){let H=Hr(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:$,inlineImages:k,recordCanvas:D,preserveWhiteSpace:x,onSerialize:y,onIframeLoad:R,iframeLoadTimeout:N,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:M});H&&T(e,H)}},C),P}function hI(e,t){let{mirror:n=new qs,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOM:E=!1,dataURLOptions:$,preserveWhiteSpace:k,onSerialize:D,onIframeLoad:y,iframeLoadTimeout:R,onStylesheetLoad:N,stylesheetLoadTimeout:T,keepIframeSrcFn:C=()=>!1}=t||{};return Hr(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:$,inlineImages:f,recordCanvas:p,preserveWhiteSpace:k,onSerialize:D,onIframeLoad:y,iframeLoadTimeout:R,onStylesheetLoad:N,stylesheetLoadTimeout:T,keepIframeSrcFn:C,newlyAddedElement:!1})}function Je(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Pr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,am={map:{},getId(){return console.error(Pr),-1},getNode(){return console.error(Pr),null},removeNodeFromMap(){console.error(Pr)},has(){return console.error(Pr),!1},reset(){console.error(Pr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(am=new Proxy(am,{get(e,t,n){return t==="map"&&console.error(Pr),Reflect.get(e,t,n)}}));function ei(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(bI(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=ia(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Mm(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){ia(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Mm(e,t,i||{},!0)}function hl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var Js=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Js=()=>new Date().getTime());function Om(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Lm(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Dm(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Pm(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ft(e,t,n,r,o){if(!e)return!1;let i=Pm(e);if(!i)return!1;let s=Br(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Jn(i,s),c=-1;return a<0?!1:(r&&(c=Jn(i,Br(null,r))),a>-1&&c<0?!0:a<c)}function gI(e,t){return t.getId(e)!==-1}function Fu(e,t){return t.getId(e)===Qo}function Fm(e,t){if(Jo(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Fm(e.parentNode,t):!0:!0}function Gu(e){return!!e.changedTouches}function _I(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Um(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Bm(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function zu(e){return!!e?.shadowRoot}var ju=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function Hm(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function SI(e){let t=e,n;for(;n=Hm(t);)t=n;return t}function yI(e){let t=e.ownerDocument;if(!t)return!1;let n=SI(e);return t.contains(n)}function $m(e){let t=e.ownerDocument;return t?t.contains(e)||yI(e):!1}var cm={};function gl(e){let t=cm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return cm[e]=r.bind(window)}function EI(...e){return gl("requestAnimationFrame")(...e)}function ia(...e){return gl("setTimeout")(...e)}function bI(...e){return gl("clearTimeout")(...e)}var V=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(V||{}),z=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(z||{}),Ye=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ye||{}),un=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(un||{}),Fr=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Fr||{});function _l(e){try{return e.contentDocument}catch{}}function TI(e){try{return e.contentWindow}catch{}}function um(e){return"__ln"in e}var qu=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&um(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&um(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},lm=(e,t)=>`${e}@${t}`,Vu=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new qu,o=c=>{let u=c,d=Qo;for(;d===Qo;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!$m(c))return;let u=Jo(c.parentNode)?this.mirror.getId(Hm(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);let l=Hr(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Um(f,this.mirror)&&!ft(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Bm(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),zu(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{ft(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)dm(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!fm(this.droppedSet,c)&&!dm(this.removes,c,this.mirror)||fm(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),d=o(s.value);u!==-1&&d!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let d=u;if(u=u.previous,d){let l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{let p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let m=p.parentNode.host;if(this.mirror.getId(m)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Fu(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Gr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Pm(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let s=pl(n),a=n.tagName;o=Vs(n,a,s);let c=ra({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),u=Gr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=Zo({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!_l(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Am(n.tagName,r)&&(i.attributes[r]=km(this.doc,Wr(n.tagName),Wr(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let a of Array.from(n.style)){let c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==s.style.getPropertyValue(a)||u!==s.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(let a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=Jo(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Fu(n,this.mirror)||!gI(n,this.mirror)||(this.addedSet.has(n)?(Yu(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Fm(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[lm(r,o)]?Yu(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:Jo(t.target)&&Ko(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Fu(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[lm(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ft(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),zu(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Yu(e,t){e.delete(t),t.childNodes.forEach(n=>Yu(e,n))}function dm(e,t,n){return e.length===0?!1:II(e,t,n)}function II(e,t,n){let r=t.parentNode;for(;r;){let o=n.getId(r);if(e.some(i=>i.id===o))return!0;r=r.parentNode}return!1}function fm(e,t){return e.size===0?!1:Wm(e,t)}function Wm(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:Wm(e,n):!1}var Xo;function vI(e){Xo=e}function wI(){Xo=void 0}var X=e=>Xo?(...n)=>{try{return e(...n)}catch(r){if(Xo&&Xo(r)===!0)return()=>{};throw r}}:e,$r=[];function ii(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Gm(e,t){let n=new Vu;$r.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);let i=new r(X(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function RI({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=ei(X(l=>{let f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),l),s=[],a=null}),i),u=X(ei(X(l=>{let f=ii(l),{clientX:p,clientY:m}=Gu(l)?l.changedTouches[0]:l;a||(a=Js()),s.push({x:p,y:m,id:r.getId(f),timeOffset:Js()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?z.Drag:l instanceof MouseEvent?z.MouseMove:z.TouchMove)}),o,{trailing:!1})),d=[Je("mousemove",u,n),Je("touchmove",u,n),Je("drag",u,n)];return X(()=>{d.forEach(l=>l())})}function xI({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,d=l=>f=>{let p=ii(f);if(ft(p,r,o,i,!0))return;let m=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":m=un.Mouse;break;case"touch":m=un.Touch;break;case"pen":m=un.Pen;break}m===un.Touch?Ye[l]===Ye.MouseDown?g="TouchStart":Ye[l]===Ye.MouseUp&&(g="TouchEnd"):un.Pen}else Gu(f)&&(m=un.Touch);m!==null?(u=m,(g.startsWith("Touch")&&m===un.Touch||g.startsWith("Mouse")&&m===un.Mouse)&&(m=null)):Ye[l]===Ye.Click&&(m=u,u=null);let _=Gu(f)?f.changedTouches[0]:f;if(!_)return;let S=n.getId(p),{clientX:E,clientY:$}=_;X(e)({type:Ye[g],id:S,x:E,y:$,...m!==null&&{pointerType:m}})};return Object.keys(Ye).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Wr(l),p=d(l);if(window.PointerEvent)switch(Ye[l]){case Ye.MouseDown:case Ye.MouseUp:f=f.replace("mouse","pointer");break;case Ye.TouchStart:case Ye.TouchEnd:return}c.push(Je(f,p,t))}),X(()=>{c.forEach(l=>l())})}function zm({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=X(ei(X(c=>{let u=ii(c);if(!u||ft(u,r,o,i,!0))return;let d=n.getId(u);if(u===t&&t.defaultView){let l=Om(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return Je("scroll",a,t)}function CI({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=X(ei(X(()=>{let i=Lm(),s=Dm();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return Je("resize",o,t)}var kI=["INPUT","TEXTAREA","SELECT"],pm=new WeakMap;function AI({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:g}){function _(R){let N=ii(R),T=R.isTrusted,C=N&&$u(N.tagName);if(C==="OPTION"&&(N=N.parentElement),!N||!C||kI.indexOf(C)<0||ft(N,r,o,i,!0))return;let M=N;if(M.classList.contains(s)||a&&M.matches(a))return;let v=pl(N),x=Vs(M,C,v),U=!1,j=ra({maskInputOptions:c,tagName:C,type:v}),P=Gr(N,f,m,p,g,j);(v==="radio"||v==="checkbox")&&(U=N.checked),x=Zo({isMasked:P,element:N,value:x,maskInputFn:u}),S(N,l?{text:x,isChecked:U,userTriggered:T}:{text:x,isChecked:U});let te=N.name;v==="radio"&&te&&U&&t.querySelectorAll(`input[type="radio"][name="${te}"]`).forEach(H=>{if(H!==N){let Q=Zo({isMasked:P,element:H,value:Vs(H,C,v),maskInputFn:u});S(H,l?{text:Q,isChecked:!U,userTriggered:!1}:{text:Q,isChecked:!U})}})}function S(R,N){let T=pm.get(R);if(!T||T.text!==N.text||T.isChecked!==N.isChecked){pm.set(R,N);let C=n.getId(R);X(e)({...N,id:C})}}let $=(d.input==="last"?["change"]:["input","change"]).map(R=>Je(R,X(_),t)),k=t.defaultView;if(!k)return()=>{$.forEach(R=>R())};let D=k.Object.getOwnPropertyDescriptor(k.HTMLInputElement.prototype,"value"),y=[[k.HTMLInputElement.prototype,"value"],[k.HTMLInputElement.prototype,"checked"],[k.HTMLSelectElement.prototype,"value"],[k.HTMLTextAreaElement.prototype,"value"],[k.HTMLSelectElement.prototype,"selectedIndex"],[k.HTMLOptionElement.prototype,"selected"]];return D&&D.set&&$.push(...y.map(R=>Mm(R[0],R[1],{set(){X(_)({target:this,isTrusted:!1})}},!1,k))),X(()=>{$.forEach(R=>R())})}function Ks(e){let t=[];function n(r,o){if(Hs("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Hs("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Hs("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Hs("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function xn(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function NI({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:X((d,l,f)=>{let[p,m]=f,{id:g,styleId:_}=xn(l,t,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&e({id:g,styleId:_,adds:[{rule:p,index:m}]}),d.apply(l,f)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:X((d,l,f)=>{let[p]=f,{id:m,styleId:g}=xn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:p}]}),d.apply(l,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:X((d,l,f)=>{let[p]=f,{id:m,styleId:g}=xn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:X((d,l,f)=>{let[p]=f,{id:m,styleId:g}=xn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:p}),d.apply(l,f)})}));let c={};$s("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:($s("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),$s("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),$s("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:X((f,p,m)=>{let[g,_]=m,{id:S,styleId:E}=xn(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||E&&E!==-1)&&e({id:S,styleId:E,adds:[{rule:g,index:[...Ks(p),_||0]}]}),f.apply(p,m)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:X((f,p,m)=>{let[g]=m,{id:_,styleId:S}=xn(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,removes:[{index:[...Ks(p),g]}]}),f.apply(p,m)})})}),X(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function jm({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,i=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return i.get?.call(this)},set(s){let a=i.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),X(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function MI({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:X((a,c,u)=>{let[d,l,f]=u;if(n.has(d))return i.apply(c,[d,l,f]);let{id:p,styleId:m}=xn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:d,value:l,priority:f},index:Ks(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:X((a,c,u)=>{let[d]=u;if(n.has(d))return s.apply(c,[d]);let{id:l,styleId:f}=xn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:Ks(c.parentRule)}),a.apply(c,u)})}),X(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function OI({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=X(u=>ei(X(d=>{let l=ii(d);if(!l||ft(l,t,n,r,!0))return;let{currentTime:f,volume:p,muted:m,playbackRate:g}=l;e({type:u,id:o.getId(l),currentTime:f,volume:p,muted:m,playbackRate:g})}),i.media||500)),c=[Je("play",a(Fr.Play),s),Je("pause",a(Fr.Pause),s),Je("seeked",a(Fr.Seeked),s),Je("volumechange",a(Fr.VolumeChange),s),Je("ratechange",a(Fr.RateChange),s)];return X(()=>{c.forEach(u=>u())})}function LI({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){let l=new i(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};let s=hl(t.fonts,"add",function(a){return function(c){return ia(X(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),X(()=>{r.forEach(a=>a())})}function DI(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=X(()=>{let u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;let d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){let p=u.getRangeAt(f),{startContainer:m,startOffset:g,endContainer:_,endOffset:S}=p;ft(m,r,o,i,!0)||ft(_,r,o,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(_),endOffset:S})}s({ranges:d})});return c(),Je("selectionchange",c)}function PI({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:hl(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function FI(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Gm(e,e.doc));let o=RI(e),i=xI(e),s=zm(e),a=CI(e,{win:n}),c=AI(e),u=OI(e),d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=NI(e,{win:n}),l=jm(e,e.doc),f=MI(e,{win:n}),e.collectFonts&&(p=LI(e)));let m=DI(e),g=PI(e),_=[];for(let S of e.plugins)_.push(S.observer(S.callback,n,S.options));return X(()=>{$r.forEach(S=>S.reset()),r?.disconnect(),o(),i(),s(),a(),c(),u(),d(),l(),f(),p(),m(),g(),_.forEach(S=>S())})}function Hs(e){return typeof window[e]<"u"}function $s(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var ti=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}},Ju=class{constructor(){this.crossOriginIframeMirror=new ti(ml),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},Ku=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ti(ml),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ti(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);let r=_l(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case V.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:V.IncrementalSnapshot,data:{source:z.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case V.Meta:case V.Load:case V.DomContentLoaded:return!1;case V.Plugin:return n;case V.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case V.IncrementalSnapshot:switch(n.data.source){case z.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case z.Drag:case z.TouchMove:case z.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case z.ViewportResize:return!1;case z.MediaInteraction:case z.MouseInteraction:case z.Scroll:case z.CanvasMutation:case z.Input:return this.replaceIds(n.data,t,["id"]),n;case z.StyleSheetRule:case z.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case z.Font:return n;case z.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case z.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==xe.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},Xu=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},Zu=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Ko(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=Gm({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(zm({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),ia(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(jm({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let n=_l(t),r=TI(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(hl(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&$m(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",UI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Vo=0;Vo<mm.length;Vo++)UI[mm.charCodeAt(Vo)]=Vo;var Vo,Xs=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},Qu=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new ju,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:vm(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},el=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.active||(this.active=!0,EI(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}},Se,Zs;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Nt=VT();function ln(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:_,slimDOMOptions:S,maskAttributeFn:E,maskInputFn:$,maskTextFn:k,maxCanvasSize:D=null,packFn:y,sampling:R={},dataURLOptions:N={},mousemoveWait:T,recordDOM:C=!0,recordCanvas:M=!1,recordCrossOriginIframes:v=!1,recordAfter:x=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:U=!1,collectFonts:j=!1,inlineImages:P=!1,plugins:te,keepIframeSrcFn:H=()=>!1,ignoreCSSAttributes:Q=new Set([]),errorHandler:ne,onMutation:Be,getCanvasManager:Zn}=e;vI(ne);let ot=v?window.parent===window:!0,He=!1;if(!ot)try{window.parent.document&&(He=!1)}catch{He=!0}if(ot&&!t)throw new Error("emit function is required");if(!ot&&!He)return()=>{};T!==void 0&&R.mousemove===void 0&&(R.mousemove=T),Nt.reset();let Tt=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},qt=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};_I();let Qn,er=0,Jr=ee=>{for(let It of te||[])It.eventProcessor&&(ee=It.eventProcessor(ee));return y&&!He&&(ee=y(ee)),ee};Se=(ee,It)=>{let Y=ee;if(Y.timestamp=Js(),$r[0]?.isFrozen()&&Y.type!==V.FullSnapshot&&!(Y.type===V.IncrementalSnapshot&&Y.data.source===z.Mutation)&&$r.forEach($e=>$e.unfreeze()),ot)t?.(Jr(Y),It);else if(He){let $e={type:"rrweb",event:Jr(Y),origin:window.location.origin,isCheckout:It};window.parent.postMessage($e,"*")}if(Y.type===V.FullSnapshot)Qn=Y,er=0;else if(Y.type===V.IncrementalSnapshot){if(Y.data.source===z.Mutation&&Y.data.isAttachIframe)return;er++;let $e=r&&er>=r,re=n&&Qn&&Y.timestamp-Qn.timestamp>n;($e||re)&&ya(!0)}};let dn=ee=>{Se({type:V.IncrementalSnapshot,data:{source:z.Mutation,...ee}})},pe=ee=>Se({type:V.IncrementalSnapshot,data:{source:z.Scroll,...ee}}),Ce=ee=>Se({type:V.IncrementalSnapshot,data:{source:z.CanvasMutation,...ee}}),Ot=ee=>Se({type:V.IncrementalSnapshot,data:{source:z.AdoptedStyleSheet,...ee}}),ye=new Qu({mutationCb:dn,adoptedStyleSheetCb:Ot}),ve=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Ju:new Ku({mirror:Nt,mutationCb:dn,stylesheetManager:ye,recordCrossOriginIframes:v,wrappedEmit:Se});for(let ee of te||[])ee.getMirror&&ee.getMirror({nodeMirror:Nt,crossOriginIframeMirror:ve.crossOriginIframeMirror,crossOriginIframeStyleMirror:ve.crossOriginIframeStyleMirror});let Lt=new el,An=HI(Zn,{mirror:Nt,win:window,mutationCb:ee=>Se({type:V.IncrementalSnapshot,data:{source:z.CanvasMutation,...ee}}),recordCanvas:M,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:D,sampling:R.canvas,dataURLOptions:N,errorHandler:ne}),tr=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Xu:new Zu({mutationCb:dn,scrollCb:pe,bypassOptions:{onMutation:Be,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:Tt,dataURLOptions:N,maskAttributeFn:E,maskTextFn:k,maskInputFn:$,recordCanvas:M,inlineImages:P,sampling:R,slimDOMOptions:qt,iframeManager:ve,stylesheetManager:ye,canvasManager:An,keepIframeSrcFn:H,processedNodeManager:Lt},mirror:Nt}),ya=(ee=!1)=>{if(!C)return;Se({type:V.Meta,data:{href:window.location.href,width:Dm(),height:Lm()}},ee),ye.reset(),tr.init(),$r.forEach(Y=>Y.lock());let It=hI(document,{mirror:Nt,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:Tt,maskAttributeFn:E,maskInputFn:$,maskTextFn:k,slimDOM:qt,dataURLOptions:N,recordCanvas:M,inlineImages:P,onSerialize:Y=>{Um(Y,Nt)&&ve.addIframe(Y),Bm(Y,Nt)&&ye.trackLinkElement(Y),zu(Y)&&tr.addShadowRoot(Y.shadowRoot,document)},onIframeLoad:(Y,$e)=>{ve.attachIframe(Y,$e),Y.contentWindow&&An.addWindow(Y.contentWindow),tr.observeAttachShadow(Y)},onStylesheetLoad:(Y,$e)=>{ye.attachLinkElement(Y,$e)},keepIframeSrcFn:H});if(!It)return console.warn("Failed to snapshot the document");Se({type:V.FullSnapshot,data:{node:It,initialOffset:Om(window)}}),$r.forEach(Y=>Y.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ye.adoptStyleSheets(document.adoptedStyleSheets,Nt.getId(document))};Zs=ya;try{let ee=[],It=$e=>X(FI)({onMutation:Be,mutationCb:dn,mousemoveCb:(re,Ea)=>Se({type:V.IncrementalSnapshot,data:{source:Ea,positions:re}}),mouseInteractionCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.MouseInteraction,...re}}),scrollCb:pe,viewportResizeCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.ViewportResize,...re}}),inputCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.Input,...re}}),mediaInteractionCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.MediaInteraction,...re}}),styleSheetRuleCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.StyleSheetRule,...re}}),styleDeclarationCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.StyleDeclaration,...re}}),canvasMutationCb:Ce,fontCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.Font,...re}}),selectionCb:re=>{Se({type:V.IncrementalSnapshot,data:{source:z.Selection,...re}})},customElementCb:re=>{Se({type:V.IncrementalSnapshot,data:{source:z.CustomElement,...re}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Tt,inlineStylesheet:m,sampling:R,recordDOM:C,recordCanvas:M,inlineImages:P,userTriggeredOnInput:U,collectFonts:j,doc:$e,maskAttributeFn:E,maskInputFn:$,maskTextFn:k,keepIframeSrcFn:H,blockSelector:i,unblockSelector:s,slimDOMOptions:qt,dataURLOptions:N,mirror:Nt,iframeManager:ve,stylesheetManager:ye,shadowDomManager:tr,processedNodeManager:Lt,canvasManager:An,ignoreCSSAttributes:Q,plugins:te?.filter(re=>re.observer)?.map(re=>({observer:re.observer,options:re.options,callback:Ea=>Se({type:V.Plugin,data:{plugin:re.name,payload:Ea}})}))||[]},{});ve.addLoadListener($e=>{try{ee.push(It($e.contentDocument))}catch(re){console.warn(re)}});let Y=()=>{ya(),ee.push(It(document))};return document.readyState==="interactive"||document.readyState==="complete"?Y():(ee.push(Je("DOMContentLoaded",()=>{Se({type:V.DomContentLoaded,data:{}}),x==="DOMContentLoaded"&&Y()})),ee.push(Je("load",()=>{Se({type:V.Load,data:{}}),x==="load"&&Y()},window))),()=>{ee.forEach($e=>$e()),Lt.destroy(),Zs=void 0,wI()}}catch(ee){console.warn(ee)}}function BI(e){if(!Zs)throw new Error("please take full snapshot after start recording");Zs(e)}ln.mirror=Nt;ln.takeFullSnapshot=BI;function HI(e,t){try{return e?e(t):new Xs}catch{return console.warn("Unable to initialize CanvasManager"),new Xs}}var hm;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(hm||(hm={}));var $I=3,WI=5;function Sl(e){return e>9999999999?e:e*1e3}function Uu(e){return e>9999999999?e/1e3:e}function si(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:V.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ae(t,10,1e3)}}),t.category==="console")))}var GI="button,a";function qm(e){return e.closest(GI)||e}function Vm(e){let t=Ym(e);return!t||!(t instanceof Element)?t:qm(t)}function Ym(e){return zI(e)?e.target:e}function zI(e){return typeof e=="object"&&!!e&&"target"in e}var Cn;function jI(e){return Cn||(Cn=[],qI()),Cn.push(e),()=>{let t=Cn?Cn.indexOf(e):-1;t>-1&&Cn.splice(t,1)}}function qI(){he(le,"open",function(e){return function(...t){if(Cn)try{Cn.forEach(n=>n())}catch{}return e.apply(le,t)}})}var VI=new Set([z.Mutation,z.StyleSheetRule,z.StyleDeclaration,z.AdoptedStyleSheet,z.CanvasMutation,z.Selection,z.MediaInteraction]);function YI(e,t,n){e.handleClick(t,n)}var tl=class{constructor(t,n,r=si){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=jI(()=>{this._lastMutation=gm()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(KI(n,this._ignoreSelector)||!XI(t))return;let r={timestamp:Uu(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Uu(t)}registerScroll(t=Date.now()){this._lastScroll=Uu(t)}registerClick(t){let n=qm(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=gm();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,d);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Rn(()=>this._checkClicks(),1e3)}},JI=["A","BUTTON","INPUT"];function KI(e,t){return!!(!JI.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function XI(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function gm(){return Date.now()/1e3}function ZI(e,t){try{if(!QI(t))return;let{source:n}=t.data;if(VI.has(n)&&e.registerMutation(t.timestamp),n===z.Scroll&&e.registerScroll(t.timestamp),ev(t)){let{type:r,id:o}=t.data,i=ln.mirror.getNode(o);i instanceof HTMLElement&&r===Ye.Click&&e.registerClick(i)}}catch{}}function QI(e){return e.type===$I}function ev(e){return e.data.source===z.MouseInteraction}function Gt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var yl=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(yl||{}),tv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function nv(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(tv.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var rv=e=>t=>{if(!e.isEnabled())return;let n=ov(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&YI(e.clickDetector,n,Vm(t.event)),si(e,n)};function Jm(e,t){let n=ln.mirror.getId(e),r=n&&ln.mirror.getNode(n),o=r&&ln.mirror.getMeta(r),i=o&&sv(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===yl.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:nv(i.attributes)}}:{}}}function ov(e){let{target:t,message:n}=iv(e);return Gt({category:`ui.${e.name}`,...Jm(t,n)})}function iv(e){let t=e.name==="click",n,r=null;try{r=t?Vm(e.event):Ym(e.event),n=Oe(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function sv(e){return e.type===yl.Element}function av(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=cv(t);n&&si(e,n)}function cv(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||uv(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=Oe(s,{maxStringLength:200})||"<unknown>",d=Jm(s,u);return Gt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function uv(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var lv={resource:hv,paint:pv,navigation:mv};function Ws(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function dv(e){return e.map(fv).filter(Boolean)}function fv(e){let t=lv[e.entryType];return t?t(e):null}function zr(e){return((_e()||le.performance.timeOrigin)+e)/1e3}function pv(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=zr(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function mv(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:m,type:g}=e;return o===0?null:{type:`${t}.${g}`,start:zr(p),end:zr(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:f}}}function hv(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:zr(i),end:zr(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function gv(e){let t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return sa(e,"largest-contentful-paint",n)}function _v(e){return e.sources!==void 0}function Sv(e){let t=[],n=[];for(let r of e.entries)if(_v(r)){let o=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=ln.mirror.getId(i.node);s&&o.push(s)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return sa(e,"cumulative-layout-shift",n,t)}function yv(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return sa(e,"first-input-delay",n)}function Ev(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return sa(e,"interaction-to-next-paint",n)}function sa(e,t,n,r){let o=e.value,i=e.rating,s=zr(o);return{type:"web-vital",name:t,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(a=>ln.mirror.getId(a)):void 0,attributions:r}}}function bv(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(At(o,n))}),r.push(Ho(Ws(gv,e)),qn(Ws(Sv,e)),$o(Ws(yv,e)),Wo(Ws(Ev,e))),()=>{r.forEach(o=>o())}}var W=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Tv='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Iv(){let e=new Blob([Tv]);return URL.createObjectURL(e)}var _m=["info","warn","error","log"],zs="[Replay] ";function Bu(e,t="info"){qe({category:"console",data:{logger:"replay"},level:t,message:`${zs}${e}`},{level:t})}function vv(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return W?(_m.forEach(r=>{n[r]=(...o)=>{h[r](zs,...o),t&&Bu(o.join(""),Hn(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),h.error(zs,r),e?lt(r):t&&Bu(r,"error")},n.infoTick=(...r)=>{h.info(zs,...r),t&&setTimeout(()=>Bu(r[0]),0)}):_m.forEach(r=>{n[r]=()=>{}}),n}var G=vv(),ni=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${fl}.`)}},Qs=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>fl)throw new ni;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?Sl(t):null}},nl=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){W&&G.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){W&&G.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},rl=class{constructor(t){this._worker=new nl(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=Sl(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>fl?Promise.reject(new ni):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{W&&G.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},ol=class{constructor(t){this._fallback=new Qs,this._compression=new rl(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){W&&G.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,o=[];for(let i of t)o.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(i){W&&G.exception(i,"Failed to add events when switching buffers.")}}};function wv({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=Rv(t);if(n)return n}return W&&G.info("Using simple buffer"),new Qs}function Rv(e){try{let t=e||xv();if(!t)return;W&&G.info(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new ol(n)}catch(t){W&&G.exception(t,"Failed to create compression worker")}}function xv(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Iv():""}function El(){try{return"sessionStorage"in le&&!!le.sessionStorage}catch{return!1}}function Cv(e){kv(),e.session=void 0}function kv(){if(El())try{le.sessionStorage.removeItem(ll)}catch{}}function Km(e){return e===void 0?!1:Math.random()<e}function bl(e){if(El())try{le.sessionStorage.setItem(ll,JSON.stringify(e))}catch{}}function Xm(e){let t=Date.now(),n=e.id||fe(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function Av(e,t){return Km(e)?"session":t?"buffer":!1}function Sm({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=Av(e,t),i=Xm({sampled:o,previousSessionId:r});return n&&bl(i),i}function Nv(){if(!El())return null;try{let e=le.sessionStorage.getItem(ll);if(!e)return null;let t=JSON.parse(e);return W&&G.infoTick("Loading existing session"),Xm(t)}catch{return null}}function il(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Zm(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return il(e.started,t,r)||il(e.lastActivity,n,r)}function Qm(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Zm(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Hu({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let o=r.stickySession&&Nv();return o?Qm(o,{sessionIdleExpire:e,maxReplayDuration:t})?(W&&G.infoTick("Session in sessionStorage is expired, creating new one..."),Sm(r,{previousSessionId:o.id})):o:(W&&G.infoTick("Creating new session"),Sm(r,{previousSessionId:n}))}function Mv(e){return e.type===V.Custom}function Tl(e,t,n){return th(e,t)?(eh(e,t,n),!0):!1}function Ov(e,t,n){return th(e,t)?eh(e,t,n):Promise.resolve(null)}async function eh(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=Lv(t,i.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(i){let s=i&&i instanceof ni,a=s?"addEventSizeExceeded":"addEvent";if(s&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a});let c=b();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function th(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=Sl(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(W&&G.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Lv(e,t){try{if(typeof t=="function"&&Mv(e))return t(e)}catch(n){return W&&G.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Il(e){return!e.type}function sl(e){return e.type==="transaction"}function Dv(e){return e.type==="replay_event"}function ym(e){return e.type==="feedback"}function Pv(e){return(t,n)=>{if(!e.isEnabled()||!Il(t)&&!sl(t))return;let r=n?.statusCode;if(!(!r||r<200||r>=300)){if(sl(t)){Fv(e,t);return}Uv(e,t)}}}function Fv(e,t){let n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Uv(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Rn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function Bv(e){return t=>{!e.isEnabled()||!Il(t)||Hv(e,t)}}function Hv(e,t){let n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=Gt({category:"replay.hydrate-error",data:{url:Ge()}});si(e,r)}}function $v(e){let t=b();t&&t.on("beforeAddBreadcrumb",n=>Wv(e,n))}function Wv(e,t){if(!e.isEnabled()||!nh(t))return;let n=Gv(t);n&&si(e,n)}function Gv(e){return!nh(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?zv(e):Gt(e)}function zv(e){let t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return Gt(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Bs?(n=!0,`${o.slice(0,Bs)}\u2026`):o;if(typeof o=="object")try{let i=Ae(o,7);return JSON.stringify(i).length>Bs?(n=!0,`${JSON.stringify(i,null,2).slice(0,Bs)}\u2026`):i}catch{}return o});return Gt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function nh(e){return!!e.category}function jv(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!t.originalException?.__rrweb__}function rh(){let e=O().getPropagationContext().dsc;e&&delete e.replay_id;let t=Z();if(t){let n=be(t);delete n.replay_id}}function qv(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:V.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Vv(e,t){return e.recordingMode!=="buffer"||t.message===dl||!t.exception||t.type?!1:Km(e.getOptions().errorSampleRate)}function Yv(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:Dv(t)?(delete t.breadcrumbs,t):!Il(t)&&!sl(t)&&!ym(t)?t:e.checkAndHandleExpiredSession()?ym(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),qv(e,t),t):jv(t,n)&&!e.getOptions()._experiments.captureExceptions?(W&&G.log("Ignoring error from rrweb internals",t),null):((Vv(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(rh(),t),{id:"Replay"})}function aa(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:V.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function Jv(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Kv(e){return t=>{if(!e.isEnabled())return;let n=Jv(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(aa(e,[n]),!1)))}}function Xv(e,t){return W&&e.getOptions()._experiments.traceInternals?!1:vo(t,b())}function oh(e,t){e.isEnabled()&&t!==null&&(Xv(e,t.name)||e.addUpdate(()=>(aa(e,[t]),!0)))}function ca(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=ks(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function ih(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function ea(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function sh(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function ri(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function kn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=Zv(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function al(e,t){return Object.entries(e).reduce((n,[r,o])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function Zv(e){if(!e||typeof e!="string")return{body:e};let t=e.length>em,n=Qv(e);if(t){let r=e.slice(0,em);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function Qv(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function ta(e,t){let n=e0(e);return ke(n,t)}function e0(e,t=le.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(le.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function t0(e,t,n){try{let r=await r0(e,t,n),o=sh("resource.fetch",r);oh(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture fetch breadcrumb")}}function n0(e,t){let{input:n,response:r}=t,o=n?Mr(n):void 0,i=ca(o),s=r?ih(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}async function r0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=ta(s,n.networkDetailAllowUrls)&&!ta(s,n.networkDetailDenyUrls),f=l?o0(n,t.input,u):ri(u),p=await i0(l,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:p}}function o0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?c0(n,t):{};if(!e)return kn(o,r,void 0);let i=Mr(n),[s,a]=Yn(i,G),c=kn(o,r,s);return a?ea(c,a):c}async function i0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return ri(o);let i=r?ah(r.headers,n):{};if(!r||!t&&o!==void 0)return kn(i,o,void 0);let[s,a]=await a0(r),c=s0(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?ea(c,a):c}function s0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let i=e?.length&&n===void 0?ca(e):n;return r?t?kn(o,i,e):kn(o,i,void 0):ri(i)}catch(i){return W&&G.exception(i,"Failed to serialize response body"),kn(o,n,void 0)}}async function a0(e){let t=u0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await l0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(W&&G.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(W&&G.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function ah(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function c0(e,t){return e.length===1&&typeof e[0]!="string"?Em(e[0],t):e.length===2?Em(e[1],t):{}}function Em(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?ah(n,t):Array.isArray(n)?{}:al(n,t):{}}function u0(e){try{return e.clone()}catch(t){W&&G.exception(t,"Failed to clone response body")}}function l0(e){return new Promise((t,n)=>{let r=Rn(()=>n(new Error("Timeout while trying to read response body")),500);d0(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function d0(e){return await e.text()}async function f0(e,t,n){try{let r=m0(e,t,n),o=sh("resource.xhr",r);oh(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture xhr breadcrumb")}}function p0(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=ca(r),i=n.getResponseHeader("content-length")?ih(n.getResponseHeader("content-length")):S0(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function m0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!ta(c,n.networkDetailAllowUrls)||ta(c,n.networkDetailDenyUrls)){let y=ri(l),R=ri(f);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:y,response:R}}let p=a[Ve],m=p?al(p.request_headers,n.networkRequestHeaders):{},g=al(h0(a),n.networkResponseHeaders),[_,S]=n.networkCaptureBodies?Yn(s,G):[void 0],[E,$]=n.networkCaptureBodies?g0(a):[void 0],k=kn(m,l,_),D=kn(g,f,E);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:S?ea(k,S):k,response:$?ea(D,$):D}}function h0(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function g0(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return _0(e.response,e.responseType)}catch(n){t.push(n)}return W&&G.warn("Failed to get xhr response body",...t),[void 0]}function _0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return W&&G.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return W&&G.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function S0(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ca(n)}catch{return}}function y0(e){let t=b();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>E0(a,c,u))}catch{}}function E0(e,t,n){if(t.data)try{b0(t)&&I0(n)&&(p0(t,n),f0(t,n,e)),T0(t)&&v0(n)&&(n0(t,n),t0(t,n,e))}catch(r){W&&G.exception(r,"Error when enriching network breadcrumb")}}function b0(e){return e.category==="xhr"}function T0(e){return e.category==="fetch"}function I0(e){return e?.xhr}function v0(e){return e?.response}function w0(e,{autoFlushOnFeedback:t}){let n=b();qo(rv(e)),cn(Kv(e)),$v(e),y0(e);let r=Yv(e);_o(r),n&&(n.on("beforeSendEvent",Bv(e)),n.on("afterSendEvent",Pv(e)),n.on("createDsc",o=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(o.replay_id=i)}),n.on("spanStart",o=>{e.lastActiveSpan=o}),n.on("spanEnd",o=>{e.lastActiveSpan=o}),n.on("beforeSendFeedback",async(o,i)=>{let s=e.getSessionId();i?.includeReplay&&e.isEnabled()&&s&&o.contexts?.feedback&&(o.contexts.feedback.source==="api"&&t&&await e.flush(),o.contexts.feedback.replay_id=s)}),t&&n.on("openFeedbackWidget",async()=>{await e.flush()}))}async function R0(e){try{return Promise.all(aa(e,[x0(le.performance.memory)]))}catch{return[]}}function x0(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function C0(e,t,n){let r,o,i,s=n?.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function u(){return o!==void 0||i!==void 0?a():r}function d(){return o&&clearTimeout(o),o=Rn(a,t),s&&i===void 0&&(i=Rn(a,s)),r}return d.cancel=c,d.flush=u,d}var Gs=w.navigator;function k0(){return/iPhone|iPad|iPod/i.test(Gs?.userAgent??"")||/Macintosh/i.test(Gs?.userAgent??"")&&Gs?.maxTouchPoints&&Gs?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function A0(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){W&&G.warn("Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&ZI(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Tl(e,n,o))return!0;if(!o)return!1;let i=e.session;if(M0(e,o),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(W&&G.info(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&bl(i))}return i?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function N0(e){let t=e.getOptions();return{type:V.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function M0(e,t){!t||!e.session||e.session.segmentId!==0||Tl(e,N0(e),!1)}function O0(e,t,n,r){return Ne(uo(e,dr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function L0({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function D0({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit("preprocessEvent",r,i);let s=await po(e.getOptions(),r,i,t,e,ie());if(!s)return null;e.emit("postprocessEvent",s,i),s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:c,version:u}=a?.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},s}async function P0({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=L0({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=b(),f=O(),p=l?.getTransport(),m=l?.getDsn();if(!l||!p||!m||!i.sampled)return je({});let g={type:RT,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},_=await D0({scope:f,client:l,replayId:t,event:g});if(!_)return l.recordDroppedEvent("event_processor","replay"),W&&G.info("An event processor returned `null`, will not send event."),je({});delete _.sdkProcessingMetadata;let S=O0(_,s,m,l.getOptions().tunnel),E;try{E=await p.send(S)}catch(k){let D=new Error(dl);try{D.cause=k}catch{}throw D}if(typeof E.statusCode=="number"&&(E.statusCode<200||E.statusCode>=300))throw new na(E.statusCode);let $=To({},E);if(bo($,"replay"))throw new oi($);return E}var na=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},oi=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function ch(e,t={count:0,interval:MT}){let{recordingData:n,onError:r}=e;if(n.length)try{return await P0(e),!0}catch(o){if(o instanceof na||o instanceof oi)throw o;if(mo("Replays",{_retryCount:t.count}),r&&r(o),t.count>=OT){let i=new Error(`${dl} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{Rn(async()=>{try{await ch(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var uh="__THROTTLED",F0="__SKIPPED";function U0(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let d=s;return s=!0,d?F0:uh}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var cl=class{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:xT,sessionIdleExpire:CT},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=C0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=U0((s,a)=>Ov(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(LT,r),timeout:r,scrollTimeout:DT,ignoreSelector:o?o.join(","):""}:void 0;if(i&&(this.clickDetector=new tl(this,i)),W){let s=t._experiments;G.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}this._handleVisibilityChange=()=>{le.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let s=Gt({category:"ui.blur"});this._doChangeToBackgroundTasks(s)},this._handleWindowFocus=()=>{let s=Gt({category:"ui.focus"});this._doChangeToForegroundTasks(s)},this._handleKeyboardEvent=s=>{av(this,s)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){W&&G.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){W&&G.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",W&&G.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){W&&G.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){W&&G.info("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=Hu({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){W&&G.info("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in buffer mode");let t=Hu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=ln({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:NT}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:A0(this),...k0(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{W&&G.info(`Stopping Replay${n?` triggered by ${n}`:""}`),rh(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,Cv(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),W&&G.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),W&&G.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();W&&G.info("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&il(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${le.location.pathname}${le.location.hash}${le.location.search}`,n=`${le.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===uh){let o=Gt({category:"replay.throttled"});this.addUpdate(()=>!Tl(this,{type:WI,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||Z(),n=t&&K(t),o=(n&&L(n).data||{})[Te];if(!(!n||!o||!["route","custom"].includes(o)))return L(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=wv({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Hu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return Qm(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{le.document.addEventListener("visibilitychange",this._handleVisibilityChange),le.addEventListener("blur",this._handleWindowBlur),le.addEventListener("focus",this._handleWindowFocus),le.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(w0(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=bv(this)}_removeListeners(){try{le.document.removeEventListener("visibilitychange",this._handleVisibilityChange),le.removeEventListener("blur",this._handleWindowBlur),le.removeEventListener("focus",this._handleWindowFocus),le.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||Zm(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){W&&G.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:V.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=dv(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(aa(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){W&&G.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await R0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await ch({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=b();if(r){let o=n instanceof oi?"ratelimit_backoff":"send_error";r.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){W&&G.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){W&&G.info(`Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}let a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&W&&G.info("Flushing initial segment without checkout.");let c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&bl(this.session)}_onMutationHandler(t){let n=t.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>o||i){let s=Gt({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function Yo(e,t){return[...e,...t].join(",")}function B0({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let i=["base","iframe[srcdoc]:not([src])"],s=Yo(e,[".sentry-mask","[data-sentry-mask]"]),a=Yo(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:Yo(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Yo(r,[]),ignoreSelector:Yo(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function H0({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var bm='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',$0=["content-length","content-type","accept"],Tm=!1,lh=e=>new ul(e),ul=class{constructor({flushMinDelay:t=kT,flushMaxDelay:n=AT,minReplayDuration:r=PT,maxReplayDuration:o=tm,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:S=[],networkCaptureBodies:E=!0,networkRequestHeaders:$=[],networkResponseHeaders:k=[],mask:D=[],maskAttributes:y=["title","placeholder","aria-label"],unmask:R=[],block:N=[],unblock:T=[],ignore:C=[],maskFn:M,beforeAddRecordingEvent:v,beforeErrorSampling:x,onError:U}={}){this.name="Replay";let j=B0({mask:D,unmask:R,block:N,unblock:T,ignore:C});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:M,maskInputFn:M,maskAttributeFn:(P,te,H)=>H0({maskAttributes:y,maskAllText:u,privacyOptions:j,key:P,value:te,el:H}),...j,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:P=>{try{P.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,FT),maxReplayDuration:Math.min(o,tm),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:_,networkDetailDenyUrls:S,networkCaptureBodies:E,networkRequestHeaders:Im($),networkResponseHeaders:Im(k),beforeAddRecordingEvent:v,beforeErrorSampling:x,onError:U,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${bm}`:bm),this._isInitialized&&Tr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Tm}set _isInitialized(t){Tm=t}afterAllSetup(t){!Tr()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=W0(this._initialOptions,t);this._replay=new cl({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};function W0(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=at(n.replaysSessionSampleRate),i=at(n.replaysOnErrorSampleRate);return o==null&&i==null&&Ze(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function Im(e){return[...$0,...e.map(t=>t.toLowerCase())]}function dh(){return b()?.getIntegrationByName("Replay")}var G0=Object.defineProperty,z0=(e,t,n)=>t in e?G0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fh=(e,t,n)=>z0(e,typeof t!="symbol"?t+"":t,n),wl=class{constructor(){fh(this,"idNodeMap",new Map),fh(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function j0(){return new wl}function q0(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Rl(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Rl(e.parentNode,t,n,r+1)}function ph(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(q0(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var jr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,mh={map:{},getId(){return console.error(jr),-1},getNode(){return console.error(jr),null},removeNodeFromMap(){console.error(jr)},has(){return console.error(jr),!1},reset(){console.error(jr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(mh=new Proxy(mh,{get(e,t,n){return t==="map"&&console.error(jr),Reflect.get(e,t,n)}}));function Cl(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){Th(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Cl(e,t,i||{},!0)}function kl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function V0(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function fa(e,t,n,r,o){if(!e)return!1;let i=V0(e);if(!i)return!1;let s=ph(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Rl(i,s),c=-1;return a<0?!1:(r&&(c=Rl(i,ph(null,r))),a>-1&&c<0?!0:a<c)}var hh={};function bh(e){let t=hh[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return hh[e]=r.bind(window)}function Kn(...e){return bh("requestAnimationFrame")(...e)}function Th(...e){return bh("setTimeout")(...e)}var Vr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Vr||{}),la;function Y0(e){la=e}var vl=e=>la?(...n)=>{try{return e(...n)}catch(r){if(la&&la(r)===!0)return()=>{};throw r}}:e,qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(ai=0;ai<qr.length;ai++)J0[qr.charCodeAt(ai)]=ai;var ai,K0=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=qr[t[n]>>2],o+=qr[(t[n]&3)<<4|t[n+1]>>4],o+=qr[(t[n+1]&15)<<2|t[n+2]>>6],o+=qr[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},gh=new Map;function X0(e,t){let n=gh.get(e);return n||(n=new Map,gh.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Ih=(e,t,n)=>{if(!e||!(wh(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=X0(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function da(e,t,n){if(e instanceof Array)return e.map(r=>da(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=K0(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[da(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[da(e.data,t,n),e.width,e.height]};if(wh(e,t)||typeof e=="object"){let r=e.constructor.name,o=Ih(e,t,n);return{rr_type:r,index:o}}}}return e}var vh=(e,t,n)=>e.map(r=>da(r,t,n)),wh=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function Z0(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=kl(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return fa(this.canvas,n,r,o,!0)||Th(()=>{let l=vh(d,t,this);e(this.canvas,{type:Vr["2D"],property:a,args:l})},0),u.apply(this,d)}});i.push(c)}catch{let c=Cl(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Vr["2D"],property:a,args:[u],setter:!0})}});i.push(c)}return()=>{i.forEach(a=>a())}}function Q0(e){return e==="experimental-webgl"?"webgl":e}function _h(e,t,n,r,o){let i=[];try{let s=kl(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!fa(this,t,n,r,!0)){let d=Q0(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){let l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Sh(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let l=kl(e,d,function(f){return function(...p){let m=f.apply(this,p);if(Ih(m,a,this),"tagName"in this.canvas&&!fa(this.canvas,r,o,i,!0)){let g=vh(p,a,this),_={type:t,property:d,args:g};n(this.canvas,_)}return m}});c.push(l)}catch{let l=Cl(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});c.push(l)}return c}function ew(e,t,n,r,o,i){let s=[];return s.push(...Sh(t.WebGLRenderingContext.prototype,Vr.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Sh(t.WebGL2RenderingContext.prototype,Vr.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var tw='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function nw(){let e=new Blob([tw]);return URL.createObjectURL(e)}var xl=class{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};let{sampling:n="all",win:r,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&Y0(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&vl(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,o,i,s,a,{dataURLOptions:u})})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){let{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:i,recordCanvas:s,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}vl(()=>{if(s&&n==="all"&&this.initCanvasMutationObserver(t,r,o,i),s&&typeof n=="number"){let c=_h(t,r,o,i,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){let t=new Worker(nw());return t.onmessage=n=>{let r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;let{base64:i,type:s,width:a,height:c}=r;this.mutationCb({id:o,type:Vr["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:s}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,o,i,s){let a=this.takeSnapshot(!1,t,n,r,o,i,s.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,o){let i=_h(t,n,r,o,!1),s=Z0(this.processMutation.bind(this),t,n,r,o),a=ew(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{i(),s(),a()})}snapshot(t){let{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,o,i,s,a,c){let u=1e3/n,d,l=p=>{if(p)return[p];let m=[],g=_=>{_.querySelectorAll("canvas").forEach(S=>{fa(S,r,o,i,!0)||m.push(S)})};for(let _ of this.windows){let S=_.deref(),E;try{E=S&&S.document}catch{}E&&g(E)}for(let _ of this.shadowDoms){let S=_.deref();S&&g(S)}return m},f=p=>{if(this.windows.length){if(this.lastSnapshotTime&&p-this.lastSnapshotTime<u){d=Kn(f);return}this.lastSnapshotTime=p,l(c).forEach(m=>{if(!this.mirror.hasNode(m))return;let g=this.mirror.getId(m);if(!this.snapshotInProgressMap.get(g)&&!(!m.width||!m.height)){if(this.snapshotInProgressMap.set(g,!0),!t&&["webgl","webgl2"].includes(m.__context)){let _=m.getContext(m.__context);_?.getContextAttributes()?.preserveDrawingBuffer===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(m).then(_=>{this.worker?.postMessage({id:g,bitmap:_,width:m.width,height:m.height,dataURLOptions:a,maxCanvasSize:s},[_])}).catch(_=>{vl(()=>{throw _})()})}}),t||(d=Kn(f))}};return d=Kn(f),d}startPendingCanvasMutationFlusher(){Kn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,Kn(t)};Kn(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Kn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}};try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}j0();var yh;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(yh||(yh={}));var Eh={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},rw="ReplayCanvas",ua=1280,ow=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,ua):ua,n?Math.min(n,ua):ua]},o,i=new Promise(s=>o=s);return{name:rw,getOptions(){let{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{let d=new xl({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},...Eh[s]||Eh.medium}},async snapshot(s){(await i).snapshot(s)}}},Rh=ow;var xh=new WeakMap,Al=new Map,ci={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function pa(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...ci,...t},u=typeof i=="function"?i:f=>!0,d=f=>aw(f,a),l={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(p=>{if(p.op==="http.client"){let m=Al.get(p.span_id);m&&(p.timestamp=m/1e3,Al.delete(p.span_id))}}),f)),o&&zc(f=>{if(f.response){let p=xh.get(f.response);p&&f.endTimestamp&&Al.set(p,f.endTimestamp)}}),$n(f=>{let p=Bc(f,u,d,l);if(f.response&&f.fetchData.__span&&xh.set(f.response,f.fetchData.__span),p){let m=kh(f.fetchData.url),g=m?Ct(m).host:void 0;p.setAttributes({"http.url":m,"server.address":g}),s&&Ch(p),c?.(p,{headers:f.headers})}})),r&&Vn(f=>{let p=cw(f,u,d,l);if(p){s&&Ch(p);let m;try{m=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(p,{headers:m})}})}function iw(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Ch(e){let{url:t}=L(e).data;if(!t||typeof t!="string")return;let n=At("resource",({entries:r})=>{r.forEach(o=>{iw(o)&&o.name.endsWith(t)&&(sw(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function zt(e=0){return((_e()||performance.timeOrigin)+e)/1e3}function sw(e){let{name:t,version:n}=jo(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),_e()?[...r,["http.request.redirect_start",zt(e.redirectStart)],["http.request.fetch_start",zt(e.fetchStart)],["http.request.domain_lookup_start",zt(e.domainLookupStart)],["http.request.domain_lookup_end",zt(e.domainLookupEnd)],["http.request.connect_start",zt(e.connectStart)],["http.request.secure_connection_start",zt(e.secureConnectionStart)],["http.request.connection_end",zt(e.connectEnd)],["http.request.request_start",zt(e.requestStart)],["http.request.response_start",zt(e.responseStart)],["http.request.response_end",zt(e.responseEnd)]]:r}function aw(e,t){let n=Ge();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?ke(r.toString(),t)||i&&ke(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?ke(e,t):r}}function cw(e,t,n,r){let o=e.xhr,i=o?.[Ve];if(!o||o.__sentry_own_request__||!i)return;let{url:s,method:a}=i,c=ze()&&t(s);if(e.endTimestamp&&c){let g=o.__sentry_xhr_span_id__;if(!g)return;let _=r[g];_&&i.status_code!==void 0&&(Bt(_,i.status_code),_.end(),delete r[g]);return}let u=kh(s),d=u?Ct(u):Ct(s),l=ko(s),f=!!Z(),p=c&&f?_t({name:`${a} ${l}`,attributes:{url:s,type:"xhr","http.method":a,"http.url":u,"server.address":d?.host,[J]:"auto.http.browser",[Ee]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new Ue;o.__sentry_xhr_span_id__=p.spanContext().spanId,r[o.__sentry_xhr_span_id__]=p,n(s)&&uw(o,ze()&&f?p:void 0);let m=b();return m&&m.emit("beforeOutgoingRequestSpan",p,e),p}function uw(e,t){let{"sentry-trace":n,baggage:r}=Un({span:t});n&&lw(e,n,r)}function lw(e,t,n){let r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){let o=r?.baggage;(!o||!dw(o))&&e.setRequestHeader("baggage",n)}}catch{}}function dw(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function kh(e){try{return new URL(e,A.location.origin).href}catch{return}}function Ah(){A.document?A.document.addEventListener("visibilitychange",()=>{let e=Z();if(!e)return;let t=K(e);if(A.document.hidden&&t){let n="cancelled",{op:r,status:o}=L(t);B&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):B&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var fw=3600,Nh="sentry_previous_trace",pw="sentry.previous_trace";function Mh(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",o=r?gw():void 0;e.on("spanStart",s=>{if(K(s)!==s)return;let a=O().getPropagationContext();o=mw(o,s,a),r&&hw(o)});let i=!0;n&&e.on("beforeSampling",s=>{if(!o)return;let a=O(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(Nl(o.spanContext))},sampleRand:o.sampleRand}),s.parentSampled=Nl(o.spanContext),s.parentSampleRate=o.sampleRate,s.spanAttributes={...s.spanAttributes,[Qr]:o.sampleRate}})}function mw(e,t,n){let r=L(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[Zt])}catch{return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=fw&&(B&&h.info(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[Oa]:"previous_trace"}}),t.setAttribute(pw,`${s.traceId}-${s.spanId}-${Nl(s)?1:0}`)),i)}function hw(e){try{A.sessionStorage.setItem(Nh,JSON.stringify(e))}catch(t){B&&h.warn("Could not store previous trace in sessionStorage",t)}}function gw(){try{let e=A.sessionStorage?.getItem(Nh);return JSON.parse(e)}catch{return}}function Nl(e){return e.traceFlags===1}var _w="BrowserTracing",Sw={...mr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...ci},Dh=(e={})=>{let t={name:void 0,source:void 0},n=A.document,{enableInp:r,enableLongTask:o,enableLongAnimationFrame:i,_experiments:{enableInteractions:s,enableStandaloneClsSpans:a},beforeStartSpan:c,idleTimeout:u,finalTimeout:d,childSpanTimeout:l,markBackgroundSpan:f,traceFetch:p,traceXHR:m,trackFetchStreamPerformance:g,shouldCreateSpanForRequest:_,enableHTTPTimings:S,ignoreResourceSpans:E,ignorePerformanceApiSpans:$,instrumentPageLoad:k,instrumentNavigation:D,linkPreviousTrace:y,consistentTraceSampling:R,onRequestSpanStart:N}={...Sw,...e},T;function C(M,v){let x=v.op==="pageload",U=c?c(v):v,j=U.attributes||{};v.name!==U.name&&(j[Te]="custom",U.attributes=j),t.name=U.name,t.source=j[Te];let P=Pi(U,{idleTimeout:u,finalTimeout:d,childSpanTimeout:l,disableAutoFinish:x,beforeSpanEnd:H=>{T?.(),Ru(H,{recordClsOnPageloadSpan:!a,ignoreResourceSpans:E,ignorePerformanceApiSpans:$}),Lh(M,void 0);let Q=O(),ne=Q.getPropagationContext();Q.setPropagationContext({...ne,traceId:P.spanContext().traceId,sampled:ht(P),dsc:be(H)})}});Lh(M,P);function te(){n&&["interactive","complete"].includes(n.readyState)&&M.emit("idleSpanEnableAutoFinish",P)}x&&n&&(n.addEventListener("readystatechange",()=>{te()}),te())}return{name:_w,setup(M){ao(),T=Tu({recordClsStandaloneSpans:a||!1}),r&&Au(),i&&w.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?vu():o&&Iu(),s&&wu();function v(){let x=ma(M);x&&!L(x).timestamp&&(B&&h.log(`[Tracing] Finishing current active span with op: ${L(x).op}`),x.setAttribute(Dn,"cancelled"),x.end())}M.on("startNavigationSpan",x=>{if(b()!==M)return;v(),ie().setPropagationContext({traceId:Le(),sampleRand:Math.random()});let U=O();U.setPropagationContext({traceId:Le(),sampleRand:Math.random()}),U.setSDKProcessingMetadata({normalizedRequest:void 0}),C(M,{op:"navigation",...x})}),M.on("startPageLoadSpan",(x,U={})=>{if(b()!==M)return;v();let j=U.sentryTrace||Oh("sentry-trace"),P=U.baggage||Oh("baggage"),te=eo(j,P),H=O();H.setPropagationContext(te),H.setSDKProcessingMetadata({normalizedRequest:Fo()}),C(M,{op:"pageload",...x})})},afterAllSetup(M){let v=Ge();if(y!=="off"&&Mh(M,{linkPreviousTrace:y,consistentTraceSampling:R}),A.location){if(k){let x=_e();Ml(M,{name:A.location.pathname,startTime:x?x/1e3:void 0,attributes:{[Te]:"url",[J]:"auto.pageload.browser"}})}D&&cn(({to:x,from:U})=>{if(U===void 0&&v?.indexOf(x)!==-1){v=void 0;return}v=void 0;let j=Co(x);Ol(M,{name:j?.pathname||A.location.pathname,attributes:{[Te]:"url",[J]:"auto.navigation.browser"}}),O().setSDKProcessingMetadata({normalizedRequest:{...Fo(),url:x}})})}f&&Ah(),s&&yw(M,u,d,l,t),r&&Nu(),pa(M,{traceFetch:p,traceXHR:m,trackFetchStreamPerformance:g,tracePropagationTargets:M.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:_,enableHTTPTimings:S,onRequestSpanStart:N})}}};function Ml(e,t,n){return e.emit("startPageLoadSpan",t,n),O().setTransactionName(t.name),ma(e)}function Ol(e,t){return e.emit("startNavigationSpan",t),O().setTransactionName(t.name),ma(e)}function Oh(e){return A.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function yw(e,t,n,r,o){let i=A.document,s,a=()=>{let c="ui.action.click",u=ma(e);if(u){let d=L(u).op;if(["navigation","pageload"].includes(d)){B&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Dn,"interactionInterrupted"),s.end(),s=void 0),!o.name){B&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=Pi({name:o.name,op:c,attributes:{[Te]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{once:!1,capture:!0})}var Ph="_sentry_idleSpan";function ma(e){return e[Ph]}function Lh(e,t){de(e,Ph,t)}function Yr(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Ew(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=Yr(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Ll(e){return Yr(e.getAllKeys())}function bw(e,t,n){return e(r=>Ll(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),Yr(r.transaction)}))}function Tw(e,t,n){return e(r=>Ll(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),Yr(r.transaction)}))}function Iw(e){return e(t=>Ll(t).then(n=>{let r=n[0];if(r!=null)return Yr(t.get(r)).then(o=>(t.delete(r),Yr(t.transaction).then(()=>o)))}))}function vw(e){let t;function n(){return t==null&&(t=Ew(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{let o=await _n(r);await bw(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{let o=await _n(r);await Tw(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{let r=await Iw(n());if(r)return Va(r)}catch{}}}}function ww(e){return t=>{let n=e({...t,createStore:vw});return A.addEventListener("online",async r=>{await n.flush()}),n}}function Fh(e=Or){return ww(Ic(e))}var Uh=1e6,ha=String(0),Rw="main",ga=A.navigator,Hh="",$h="",Wh="",Dl=ga?.userAgent||"",Gh="",xw=ga?.language||ga?.languages?.[0]||"";function Cw(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var Bh=ga?.userAgentData;Cw(Bh)&&Bh.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Hh=e.platform||"",Wh=e.architecture||"",Gh=e.model||"",$h=e.platformVersion||"",e.fullVersionList?.length){let t=e.fullVersionList[e.fullVersionList.length-1];Dl=`${t.brand} ${t.version}`}}).catch(e=>{});function kw(e){return!("thread_metadata"in e)}function Aw(e){return kw(e)?Ow(e):e}function Nw(e){let t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&B&&h.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function Mw(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=Nw(r),i=Aw(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:oe()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:oe()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||en,runtime:{name:"javascript",version:A.navigator.userAgent},os:{name:Hh,version:$h,build_number:Dl},device:{locale:xw,model:Gh,manufacturer:Dl,architecture:Wh,is_emulator:!1},debug_meta:{images:Lw(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||fe(),trace_id:o,active_thread_id:ha,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function _a(e){return L(e).op==="pageload"}function Ow(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[ha]:{name:Rw}}},o=e.samples[0];if(!o)return r;let i=o.timestamp,s=_e(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,c=a-(s||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-i)*Uh).toFixed(0),stack_id:t,thread_id:ha};return}let l=e.stacks[u.stackId],f=[];for(;l;){f.push(l.frameId);let m=e.frames[l.frameId];m&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}let p={elapsed_since_start_ns:((u.timestamp+c-i)*Uh).toFixed(0),stack_id:n,thread_id:ha};r.stacks[n]=f,r.samples[d]=p,n++}),r}function zh(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function jh(e){let t=[];return ut(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++){let i=n[o];i?.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[o])}}),t}function Lw(e){let r=b()?.getOptions()?.stackParser;return r?oc(r,e):[]}function Dw(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(B&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(B&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Pw(e){return e.samples.length<2?(B&&h.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(B&&h.log("[Profiling] Discarding profile because it contains no frames"),!1)}var qh=!1,Pl=3e4;function Fw(e){return typeof e=="function"}function Vh(){let e=A.Profiler;if(!Fw(e)){B&&h.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Pl/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{B&&(h.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.log("[Profiling] Disabling profiling for current user session.")),qh=!0}}function Fl(e){if(qh)return B&&h.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return B&&h.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let n=b()?.getOptions();if(!n)return B&&h.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return Dw(r)?r?(r===!0?!0:Math.random()<r)?!0:(B&&h.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(B&&h.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(B&&h.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Yh(e,t,n,r){return Pw(n)?Mw(e,t,n,r):null}var Xn=new Map;function Jh(){return Xn.size}function Kh(e){let t=Xn.get(e);return t&&Xn.delete(e),t}function Xh(e,t){if(Xn.set(e,t),Xn.size>30){let n=Xn.keys().next().value;Xn.delete(n)}}function Ul(e){let t;_a(e)&&(t=oe()*1e3);let n=Vh();if(!n)return;B&&h.log(`[Profiling] started profiling span: ${L(e).description}`);let r=fe();O().setContext("profile",{profile_id:r,start_timestamp:t});async function o(){if(e&&n)return n.stop().then(c=>{if(i&&(A.clearTimeout(i),i=void 0),B&&h.log(`[Profiling] stopped profiling of span: ${L(e).description}`),!c){B&&h.log(`[Profiling] profiler returned null profile for: ${L(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}Xh(r,c)}).catch(c=>{B&&h.log("[Profiling] error while stopping profiler:",c)})}let i=A.setTimeout(()=>{B&&h.log("[Profiling] max profile duration elapsed, stopping profiling for:",L(e).description),o()},Pl),s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var Uw="BrowserProfiling",Bw=()=>({name:Uw,setup(e){let t=Z(),n=t&&K(t);n&&_a(n)&&Fl(n)&&Ul(n),e.on("spanStart",r=>{r===K(r)&&Fl(r)&&Ul(r)}),e.on("beforeEnvelope",r=>{if(!Jh())return;let o=jh(r);if(!o.length)return;let i=[];for(let s of o){let a=s?.contexts,c=a?.profile?.profile_id,u=a?.profile?.start_timestamp;if(typeof c!="string"){B&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){B&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}a?.profile&&delete a.profile;let d=Kh(c);if(!d){B&&h.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let l=Yh(c,u,d,s);l&&i.push(l)}zh(r,i)})}}),Zh=Bw;var Hw="SpotlightBrowser",$w=(e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:Hw,setup:()=>{B&&h.log("Using Sidecar URL",t)},processEvent:n=>Gw(n)?null:n,afterAllSetup:n=>{Ww(n,t)}}};function Ww(e,t){let n=Nr("fetch"),r=0;e.on("beforeEnvelope",o=>{if(r>3){h.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:_n(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,h.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var Qh=$w;function Gw(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}var zw=100;function jt(e){let n=O().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function Mt(e,t,n=zw){let r=O().getScopeData().contexts;r.flags||(r.flags={values:[]});let o=r.flags.values;jw(o,e,t,n)}function jw(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){B&&h.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let o=e.findIndex(i=>i.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}var eg=()=>({name:"FeatureFlags",processEvent(e,t,n){return jt(e)},addFeatureFlag(e,t){Mt(e,t)}});var tg=()=>({name:"LaunchDarkly",processEvent(e,t,n){return jt(e)}});function ng(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{Mt(e,t.value)}}}var rg=()=>({name:"OpenFeature",processEvent(e,t,n){return jt(e)}}),Sa=class{after(t,n){Mt(n.flagKey,n.value)}error(t,n,r){Mt(t.flagKey,t.defaultValue)}};var og=({featureFlagClientClass:e})=>({name:"Unleash",processEvent(t,n,r){return jt(t)},setupOnce(){let t=e.prototype;he(t,"isEnabled",qw)}});function qw(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?Mt(n,r):B&&h.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var ig=({featureFlagClient:e})=>({name:"Statsig",processEvent(t,n,r){return jt(t)},setup(){e.on("gate_evaluation",t=>{Mt(t.gate.name,t.gate.value)})}});async function sg(){let e=b();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await fetch("https://o447951.ingest.sentry.io/api/1337/envelope/?sentry_version=7&sentry_key=1337&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"})}catch{return"sentry-unreachable"}}export{ag as Sentry};
