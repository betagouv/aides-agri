var cg=Object.defineProperty;var Gl=(e,t)=>{for(var n in t)cg(e,n,{get:t[n],enumerable:!0})};var ag={};Gl(ag,{BrowserClient:()=>Cr,OpenFeatureIntegrationHook:()=>Ta,SDK_VERSION:()=>Ke,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Ee,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>J,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>Xt,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Te,Scope:()=>De,WINDOW:()=>A,addBreadcrumb:()=>je,addEventProcessor:()=>_o,addIntegration:()=>_r,breadcrumbsIntegration:()=>Fs,browserApiErrorsIntegration:()=>Us,browserProfilingIntegration:()=>Zh,browserSessionIntegration:()=>Bs,browserTracingIntegration:()=>Dh,buildLaunchDarklyFlagUsedHandler:()=>ng,captureConsoleIntegration:()=>Dc,captureEvent:()=>tn,captureException:()=>lt,captureFeedback:()=>Ao,captureMessage:()=>Sn,captureSession:()=>gr,chromeStackLineParser:()=>Pu,close:()=>mc,consoleLoggingIntegration:()=>Gc,contextLinesIntegration:()=>Jp,continueTrace:()=>tc,createTransport:()=>Io,createUserFeedbackEnvelope:()=>Mp,dedupeIntegration:()=>Ro,defaultRequestInstrumentationOptions:()=>ci,defaultStackLineParsers:()=>Uu,defaultStackParser:()=>Ds,diagnoseSdkConnectivity:()=>sg,endSession:()=>So,eventFiltersIntegration:()=>Ji,eventFromException:()=>gs,eventFromMessage:()=>_s,exceptionFromError:()=>Rr,extraErrorDataIntegration:()=>Pc,featureFlagsIntegration:()=>eg,feedbackAsyncIntegration:()=>rp,feedbackIntegration:()=>pu,feedbackSyncIntegration:()=>pu,flush:()=>pc,forceLoad:()=>Up,functionToStringIntegration:()=>wo,geckoStackLineParser:()=>Fu,getActiveSpan:()=>Z,getClient:()=>b,getCurrentScope:()=>O,getDefaultIntegrations:()=>Bu,getFeedback:()=>Gf,getGlobalScope:()=>Kt,getIsolationScope:()=>ie,getReplay:()=>dh,getRootSpan:()=>K,getSpanDescendants:()=>Zt,getSpanStatusFromHttpCode:()=>_i,getTraceData:()=>Fn,globalHandlersIntegration:()=>Hs,graphqlClientIntegration:()=>Qp,httpClientIntegration:()=>zp,httpContextIntegration:()=>$s,inboundFiltersIntegration:()=>xo,init:()=>Fp,instrumentOutgoingRequests:()=>_a,instrumentSupabaseClient:()=>es,isEnabled:()=>go,isInitialized:()=>hc,lastEventId:()=>ho,launchDarklyIntegration:()=>tg,lazyLoadIntegration:()=>hs,linkedErrorsIntegration:()=>Ws,logger:()=>mu,makeBrowserOfflineTransport:()=>Fh,makeFetchTransport:()=>Or,makeMultiplexedTransport:()=>Rc,moduleMetadataIntegration:()=>Lc,onLoad:()=>Bp,openFeatureIntegration:()=>rg,opera10StackLineParser:()=>kp,opera11StackLineParser:()=>Ap,parameterize:()=>Vi,registerSpanErrorInstrumentation:()=>ao,replayCanvasIntegration:()=>xh,replayIntegration:()=>lh,reportingObserverIntegration:()=>Wp,rewriteFramesIntegration:()=>Fc,sendFeedback:()=>iu,setContext:()=>mo,setCurrentClient:()=>qi,setExtra:()=>uc,setExtras:()=>cc,setHttpStatus:()=>Bt,setMeasurement:()=>lo,setTag:()=>dc,setTags:()=>lc,setUser:()=>fc,showReportDialog:()=>Hp,spanToBaggageHeader:()=>Va,spanToJSON:()=>L,spanToTraceHeader:()=>ro,spotlightBrowserIntegration:()=>Qh,startBrowserTracingNavigationSpan:()=>Fl,startBrowserTracingPageLoadSpan:()=>Pl,startInactiveSpan:()=>_t,startNewTrace:()=>rc,startSession:()=>hr,startSpan:()=>fr,startSpanManual:()=>ec,statsigIntegration:()=>ig,supabaseIntegration:()=>Uc,suppressTracing:()=>nc,thirdPartyErrorFilterIntegration:()=>Hc,unleashIntegration:()=>og,updateSpanName:()=>Ha,winjsStackLineParser:()=>Cp,withActiveSpan:()=>gn,withIsolationScope:()=>hi,withScope:()=>we,zodErrorsIntegration:()=>Bc});var I=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Ke="9.29.0";var w=globalThis;function We(){return ln(w),w}function ln(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ke,t[Ke]=t[Ke]||{}}function An(e,t,n=w){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[Ke]=r[Ke]||{};return o[e]||(o[e]=t())}var zl=Object.prototype.toString;function Xe(e){switch(zl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return st(e,Error)}}function tr(e,t){return zl.call(e)===`[object ${t}]`}function ui(e){return tr(e,"ErrorEvent")}function li(e){return tr(e,"DOMError")}function wa(e){return tr(e,"DOMException")}function xe(e){return tr(e,"String")}function dn(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Nn(e){return e===null||dn(e)||typeof e!="object"&&typeof e!="function"}function it(e){return tr(e,"Object")}function Mn(e){return typeof Event<"u"&&st(e,Event)}function xa(e){return typeof Element<"u"&&st(e,Element)}function Ra(e){return tr(e,"RegExp")}function vt(e){return!!(e?.then&&typeof e.then=="function")}function Ca(e){return it(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function st(e,t){try{return e instanceof t}catch{return!1}}function Kr(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function di(e){return typeof Request<"u"&&st(e,Request)}var ka=w,ug=80;function Oe(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||ug;for(;n&&i++<r&&(u=lg(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function lg(e,t){let n=e,r=[];if(!n?.tagName)return"";if(ka.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o?.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&xe(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function Ge(){try{return ka.document.location.href}catch{return""}}function Xr(e){if(!ka.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}var dg="Sentry Logger ",jt=["debug","info","warn","error","log","assert","trace"],nr={};function Ze(e){if(!("console"in w))return e();let t=w.console,n={},r=Object.keys(nr);r.forEach(o=>{let i=nr[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function fg(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return I?jt.forEach(n=>{t[n]=(...r)=>{e&&Ze(()=>{w.console[n](`${dg}[${n}]:`,...r)})}}):jt.forEach(n=>{t[n]=()=>{}}),t}var h=An("logger",fg);function pt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Zr(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Vt(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{Kr(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function ql(e,t,n=!1){return xe(e)?Ra(t)?t.test(e):xe(t)?n?e===t:e.includes(t):!1:!1}function ke(e,t=[],n=!1){return t.some(r=>ql(e,r,n))}function he(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let o=n(r);typeof o=="function"&&fi(o,r);try{e[t]=o}catch{I&&h.log(`Failed to replace method "${t}" in object`,e)}}function de(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{I&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function fi(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,de(e,"__sentry_original__",t)}catch{}}function On(e){return e.__sentry_original__}function pi(e){if(Xe(e))return{message:e.message,name:e.name,stack:e.stack,...Vl(e)};if(Mn(e)){let t={type:e.type,target:jl(e.target),currentTarget:jl(e.currentTarget),...Vl(e)};return typeof CustomEvent<"u"&&st(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function jl(e){try{return xa(e)?Oe(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Vl(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Aa(e,t=40){let n=Object.keys(pi(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return pt(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:pt(i,t)}return""}function pg(){let e=w;return e.crypto||e.msCrypto}function fe(e=pg()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Yl(e){return e.exception?.values?.[0]}function Dt(e){let{message:t,event_id:n}=e;if(t)return t;let r=Yl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function rr(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function Qe(e,t){let n=Yl(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o?.data,...t.data};n.mechanism.data=i}}function Na(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>Zr(s,0));let i=Math.min(r-1,o);t.context_line=Zr(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>Zr(s,0))}function mi(e){if(mg(e))return!0;try{de(e,"__sentry_captured__",!0)}catch{}return!1}function mg(e){try{return e.__sentry_captured__}catch{}}var Jl=1e3;function Pt(){return Date.now()/Jl}function hg(){let{performance:e}=w;if(!e?.now)return Pt;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Jl}var oe=hg(),Ma;function gg(){let{performance:e}=w;if(!e?.now)return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function _e(){return Ma||(Ma=gg()),Ma[0]}function Kl(e){let t=oe(),n={sid:fe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>_g(n)};return e&&Yt(n,e),n}function Yt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||oe(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:fe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Xl(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Yt(e,n)}function _g(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function fn(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=fn(r[o],t[o],n-1));return r}var Oa="_sentrySpan";function Ft(e,t){t?de(e,Oa,t):delete e[Oa]}function Jt(e){return e[Oa]}function Le(){return fe()}function wt(){return fe().substring(16)}var Sg=100,De=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Le(),sampleRand:Math.random()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ft(t,Jt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Yt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof e?n.getScopeData():it(n)?t:void 0,{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ft(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Le(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:Sg;if(r<=0)return this;let o={timestamp:Pt(),...t,message:t.message?pt(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Jt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=fn(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||fe();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r?.event_id||fe();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n?.event_id||fe();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Zl(){return An("defaultCurrentScope",()=>new De)}function Ql(){return An("defaultIsolationScope",()=>new De)}var La=class{constructor(t,n){let r;t?r=t:r=new De;let o;n?o=n:o=new De,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return vt(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function or(){let e=We(),t=ln(e);return t.stack=t.stack||new La(Zl(),Ql())}function yg(e){return or().withScope(e)}function Eg(e,t){let n=or();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function ed(e){return or().withScope(()=>e(or().getIsolationScope()))}function td(){return{withIsolationScope:ed,withScope:yg,withSetScope:Eg,withSetIsolationScope:(e,t)=>ed(t),getCurrentScope:()=>or().getScope(),getIsolationScope:()=>or().getIsolationScope()}}function mt(e){let t=ln(e);return t.acs?t.acs:td()}function O(){let e=We();return mt(e).getCurrentScope()}function ie(){let e=We();return mt(e).getIsolationScope()}function Kt(){return An("globalScope",()=>new De)}function we(...e){let t=We(),n=mt(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function hi(...e){let t=We(),n=mt(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function b(){return O().getClient()}function gi(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||wt()};return r&&(i.parent_span_id=r),i}var Te="sentry.source",Xt="sentry.sample_rate",Qr="sentry.previous_trace_sample_rate",Ee="sentry.op",J="sentry.origin",Ln="sentry.idle_span_finish_reason",pn="sentry.measurement_unit",mn="sentry.measurement_value",ir="sentry.custom_span_name",sr="sentry.profile_id",Ut="sentry.exclusive_time";var Da="http.request.method",Pa="url.full",Fa="sentry.link.type";function _i(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function Bt(e,t){e.setAttribute("http.response.status_code",t);let n=_i(t);n.message!=="unknown_error"&&e.setStatus(n)}var nd="_sentryScope",rd="_sentryIsolationScope";function od(e,t,n){e&&(de(e,rd,n),de(e,nd,t))}function Dn(e){return{scope:e[nd],isolationScope:e[rd]}}function at(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var Si="sentry-",bg=/^sentry-/,Tg=8192;function yi(e){let t=Ig(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(bg)){let s=o.slice(Si.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Ei(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Si}${r}`]=o),n),{});return vg(t)}function Ig(e){if(!(!e||!xe(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=id(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):id(e)}function id(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function vg(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>Tg?(I&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var bi=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function sd(e){if(!e)return;let t=e.match(bi);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function eo(e,t){let n=sd(e),r=yi(t);if(!n?.traceId)return{traceId:Le(),sampleRand:Math.random()};let o=wg(n,r);r&&(r.sample_rand=o.toString());let{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function to(e=Le(),t=wt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function wg(e,t){let n=at(t?.sample_rand);if(n!==void 0)return n;let r=at(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}var Ti=0,Ii=1,ad=!1;function ud(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=L(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function no(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:L(e).parent_span_id,i=Dn(e).scope,s=r?i?.getPropagationContext().propagationSpanId||wt():t;return{parent_span_id:o,span_id:s,trace_id:n}}function ro(e){let{traceId:t,spanId:n}=e.spanContext(),r=ht(e);return to(t,n,r)}function vi(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Ii,attributes:i,...o}))}function xt(e){return typeof e=="number"?cd(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?cd(e.getTime()):oe()}function cd(e){return e>9999999999?e/1e3:e}function L(e){if(Cg(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(Rg(e)){let{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:xt(o),timestamp:xt(s)||void 0,status:wi(a),op:r[Ee],origin:r[J],links:vi(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Rg(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Cg(e){return typeof e.getSpanJSON=="function"}function ht(e){let{traceFlags:t}=e.spanContext();return t===Ii}function wi(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Pn="_sentryChildSpans",Ua="_sentryRootSpan";function xi(e,t){let n=e[Ua]||e;de(t,Ua,n),e[Pn]?e[Pn].add(t):de(e,Pn,new Set([t]))}function ld(e,t){e[Pn]&&e[Pn].delete(t)}function Zt(e){let t=new Set;function n(r){if(!t.has(r)&&ht(r)){t.add(r);let o=r[Pn]?Array.from(r[Pn]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function K(e){return e[Ua]||e}function Z(){let e=We(),t=mt(e);return t.getActiveSpan?t.getActiveSpan():Jt(O())}function oo(){ad||(Ze(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),ad=!0)}function Ha(e,t){e.updateName(t),e.setAttributes({[Te]:"custom",[ir]:t})}var ct="?",dd=/\(error: (.*)\)/,fd=/captureMessage|captureException/;function Ci(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];if(c.length>1024)continue;let u=dd.test(c)?c.replace(dd,"$1"):c;if(!u.match(/\S*Error: /)){for(let d of t){let l=d(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return pd(i.slice(o))}}function Wa(e){return Array.isArray(e)?Ci(...e):e}function pd(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(Ri(t).function||"")&&t.pop(),t.reverse(),fd.test(Ri(t).function||"")&&(t.pop(),fd.test(Ri(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||Ri(t).filename,function:n.function||ct}))}function Ri(e){return e[e.length-1]||{}}var $a="<anonymous>";function et(e){try{return!e||typeof e!="function"?$a:e.name||$a}catch{return $a}}function ar(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var ki={},md={};function Pe(e,t){ki[e]=ki[e]||[],ki[e].push(t)}function Fe(e,t){if(!md[e]){md[e]=!0;try{t()}catch(n){I&&h.error(`Error while instrumenting ${e}`,n)}}}function Ie(e,t){let n=e&&ki[e];if(n)for(let r of n)try{r(t)}catch(o){I&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${et(r)}
Error:`,o)}}var Ga=null;function io(e){let t="error";Pe(t,e),Fe(t,kg)}function kg(){Ga=w.onerror,w.onerror=function(e,t,n,r,o){return Ie("error",{column:r,error:o,line:n,msg:e,url:t}),Ga?Ga.apply(this,arguments):!1},w.onerror.__SENTRY_INSTRUMENTED__=!0}var za=null;function so(e){let t="unhandledrejection";Pe(t,e),Fe(t,Ag)}function Ag(){za=w.onunhandledrejection,w.onunhandledrejection=function(e){return Ie("unhandledrejection",e),za?za.apply(this,arguments):!0},w.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var hd=!1;function ao(){hd||(hd=!0,io(qa),so(qa))}function qa(){let e=Z(),t=e&&K(e);if(t){let n="internal_error";I&&h.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:2,message:n})}}qa.tag="sentry_tracingErrorCallback";function ze(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||b()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var Qt="production";var Ng=/^o(\d+)\./,Mg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Og(e){return e==="http"||e==="https"}function tt(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Ai(e){let t=Mg.exec(e);if(!t){Ze(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return gd({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function gd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Lg(e){if(!I)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(h.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?Og(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function _d(e){return e.match(Ng)?.[1]}function co(e){let t=typeof e=="string"?Ai(e):gd(e);if(!(!t||!Lg(t)))return t}var Sd="_frozenDsc";function cr(e,t){de(e,Sd,t)}function ja(e,t){let n=t.getOptions(),{publicKey:r,host:o}=t.getDsn()||{},i;n.orgId?i=String(n.orgId):o&&(i=_d(o));let s={environment:n.environment||Qt,release:n.release,public_key:r,trace_id:e,org_id:i};return t.emit("createDsc",s),s}function ur(e,t){let n=t.getPropagationContext();return n.dsc||ja(n.traceId,e)}function be(e){let t=b();if(!t)return{};let n=K(e),r=L(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[Xt]??o[Qr];function a(m){return(typeof s=="number"||typeof s=="string")&&(m.sample_rate=`${s}`),m}let c=n[Sd];if(c)return a(c);let u=i?.get("sentry.dsc"),d=u&&yi(u);if(d)return a(d);let l=ja(e.spanContext().traceId,t),f=o[Te],p=r.description;return f!=="url"&&p&&(l.transaction=p),ze()&&(l.sampled=String(ht(n)),l.sample_rand=i?.get("sentry.sample_rand")??Dn(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function Va(e){let t=be(e);return Ei(t)}var Ue=class{constructor(t={}){this._traceId=t.traceId||Le(),this._spanId=t.spanId||wt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Ti}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function Ya(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return Dg(r,t,n)}function Dg(e,t,n){return vt(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function yd(e){if(!I)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=L(e),{spanId:o}=e.spanContext(),i=ht(e),s=K(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:d,description:l}=L(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function Ed(e){if(!I)return;let{description:t="< unknown name >",op:n="< unknown op >"}=L(e),{spanId:r}=e.spanContext(),i=K(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;h.log(s)}function bd(e,t,n){if(!ze(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);let i=at(o);if(i===void 0)return I&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return I&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||I&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}function Ae(e,t=100,n=1/0){try{return Ja("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Ni(e,t=3,n=100*1024){let r=Ae(e,t);return Bg(r)>n?Ni(e,t-1,n):r}function Ja(e,t,n=1/0,r=1/0,o=Hg()){let[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let a=Pg(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let p=u.toJSON();return Ja("",p,c-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},l=0,f=pi(t);for(let p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}let m=f[p];d[p]=Ja(p,m,c-1,r,o),l++}return s(t),d}function Pg(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Kr(t))return"[VueViewModel]";if(Ca(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${et(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=Fg(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Fg(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Ug(e){return~-encodeURI(e).split(/%..|./).length}function Bg(e){return Ug(JSON.stringify(e))}function Hg(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Ne(e,t=[]){return[e,t]}function Ka(e,t){let[n,r]=e;return[n,[...r,t]]}function ut(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function Oi(e,t){return ut(e,(n,r)=>t.includes(r))}function Mi(e){let t=ln(w);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function $g(e){let t=ln(w);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function hn(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[Mi(r),i]:r.push(typeof i=="string"?Mi(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Ae(a))}o(c)}}return typeof r=="string"?r:Wg(r)}function Wg(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function Xa(e){let t=typeof e=="string"?Mi(e):e;function n(s){let a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse($g(n(s)))}let o=r(),i=[];for(;t.length;){let s=r(),a=typeof s.length=="number"?s.length:void 0;i.push([s,a?n(a):r()])}return[o,i]}function Za(e){return[{type:"span"},e]}function Qa(e){let t=typeof e.data=="string"?Mi(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var Gg={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Li(e){return Gg[e]}function lr(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function uo(e,t,n,r){let o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:tt(r)},...o&&{trace:o}}}function zg(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Td(e,t,n,r){let o=lr(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:tt(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ne(i,[s])}function Id(e,t,n,r){let o=lr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";zg(e,n?.sdk);let s=uo(e,o,r,t);return delete e.sdkProcessingMetadata,Ne(s,[[{type:i},e]])}function vd(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=be(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:tt(o)}},a=t?.getOptions().beforeSendSpan,c=a?d=>{let l=L(d),f=a(l);return f||(oo(),l)}:L,u=[];for(let d of e){let l=c(d);l&&u.push(Za(l))}return Ne(s,u)}function lo(e,t,n,r=Z()){let o=r&&K(r);o&&(I&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[mn]:t,[pn]:n}))}function Di(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[pn],i=r[mn];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var wd=1e3,dr=class{constructor(t={}){this._traceId=t.traceId||Le(),this._spanId=t.spanId||wt(),this._startTime=t.startTimestamp||oe(),this._links=t.links,this._attributes={},this.setAttributes({[J]:"manual",[Ee]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Ii:Ti}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=xt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Te,"custom"),this}end(t){this._endTime||(this._endTime=xt(t),Ed(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ee],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:wi(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[J],profile_id:this._attributes[sr],exclusive_time:this._attributes[Ut],measurements:Di(this._events),is_segment:this._isStandaloneSpan&&K(this)===this||void 0,segment_id:this._isStandaloneSpan?K(this).spanContext().spanId:void 0,links:vi(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){I&&h.log("[Tracing] Adding an event to span:",t);let o=xd(n)?n:r||oe(),i=xd(n)?{}:n||{},s={name:t,time:xt(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=b();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===K(this)))return;if(this._isStandaloneSpan){this._sampled?jg(vd([this],t)):(I&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Dn(this).scope||O()).captureEvent(r)}_convertSpanToTransaction(){if(!Rd(L(this)))return;this._name||(I&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Dn(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=Zt(this).filter(d=>d!==this&&!qg(d)).map(d=>L(d)).filter(Rd),s=this._attributes[Te];delete this._attributes[ir],i.forEach(d=>{delete d.data[ir]});let a={contexts:{trace:ud(this)},spans:i.length>wd?i.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,wd):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:be(this)},request:r,...s&&{transaction_info:{source:s}}},c=Di(this._events);return c&&Object.keys(c).length&&(I&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function xd(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Rd(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function qg(e){return e instanceof dr&&e.isStandaloneSpan()}function jg(e){let t=b();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var Pi="__SENTRY_SUPPRESS_TRACING__";function fr(e,t){let n=fo();if(n.startSpan)return n.startSpan(e,t);let r=ic(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return we(a,()=>kd(i)(()=>{let u=O(),d=sc(u),f=e.onlyIfParent&&!d?new Ue:oc({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Ft(u,f),Ya(()=>t(f),()=>{let{status:p}=L(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})},()=>{f.end()})}))}function ec(e,t){let n=fo();if(n.startSpanManual)return n.startSpanManual(e,t);let r=ic(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return we(a,()=>kd(i)(()=>{let u=O(),d=sc(u),f=e.onlyIfParent&&!d?new Ue:oc({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Ft(u,f),Ya(()=>t(f,()=>f.end()),()=>{let{status:p}=L(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})})}))}function _t(e){let t=fo();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=ic(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>we(e.scope,s):o!==void 0?s=>gn(o,s):s=>s())(()=>{let s=O(),a=sc(s);return e.onlyIfParent&&!a?new Ue:oc({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}var tc=(e,t)=>{let n=We(),r=mt(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:o,baggage:i}=e;return we(s=>{let a=eo(o,i);return s.setPropagationContext(a),t()})};function gn(e,t){let n=fo();return n.withActiveSpan?n.withActiveSpan(e,t):we(r=>(Ft(r,e||void 0),t(r)))}function nc(e){let t=fo();return t.suppressTracing?t.suppressTracing(e):we(n=>{n.setSDKProcessingMetadata({[Pi]:!0});let r=e();return n.setSDKProcessingMetadata({[Pi]:void 0}),r})}function rc(e){return we(t=>(t.setPropagationContext({traceId:Le(),sampleRand:Math.random()}),I&&h.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),gn(null,e)))}function oc({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ze()){let s=new Ue;if(n||!e){let a={sampled:"false",sample_rate:"0",transaction:t.name,...be(s)};cr(s,a)}return s}let o=ie(),i;if(e&&!n)i=Vg(e,r,t),xi(e,i);else if(e){let s=be(e),{traceId:a,spanId:c}=e.spanContext(),u=ht(e);i=Cd({traceId:a,parentSpanId:c,...t},r,u),cr(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=Cd({traceId:s,parentSpanId:c,...t},r,u),a&&cr(i,a)}return yd(i),od(i,r,o),i}function ic(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=xt(e.startTime),delete r.startTime,r}return n}function fo(){let e=We();return mt(e)}function Cd(e,t,n){let r=b(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[Pi]?[!1]:bd(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:at(u.dsc?.sample_rate)},u.sampleRand),p=new dr({...e,attributes:{[Te]:"custom",[Xt]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(I&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function Vg(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Pi]?!1:ht(e),s=i?new dr({...n,parentSpanId:r,traceId:o,sampled:i}):new Ue({traceId:o});xi(e,s);let a=b();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function sc(e){let t=Jt(e);if(!t)return;let n=b();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?K(t):t}function kd(e){return e!==void 0?t=>gn(e,t):t=>t()}var pr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Yg="heartbeatFailed",Jg="idleTimeout",Kg="finalTimeout",Xg="externalFinish";function Fi(e,t={}){let n=new Map,r=!1,o,i=Xg,s=!t.disableAutoFinish,a=[],{idleTimeout:c=pr.idleTimeout,finalTimeout:u=pr.finalTimeout,childSpanTimeout:d=pr.childSpanTimeout,beforeSpanEnd:l}=t,f=b();if(!f||!ze()){let y=new Ue,x={sample_rate:"0",sampled:"false",...be(y)};return cr(y,x),y}let p=O(),m=Z(),g=Zg(e);g.end=new Proxy(g.end,{apply(y,x,N){if(l&&l(g),x instanceof Ue)return;let[T,...C]=N,M=T||oe(),v=xt(M),R=Zt(g).filter(H=>H!==g);if(!R.length)return D(v),Reflect.apply(y,x,[v,...C]);let U=R.map(H=>L(H).timestamp).filter(H=>!!H),q=U.length?Math.max(...U):void 0,F=L(g).start_timestamp,te=Math.min(F?F+u/1e3:1/0,Math.max(F||-1/0,Math.min(v,q||1/0)));return D(te),Reflect.apply(y,x,[te,...C])}});function _(){o&&(clearTimeout(o),o=void 0)}function S(y){_(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=Jg,g.end(y))},c)}function E(y){o=setTimeout(()=>{!r&&s&&(i=Yg,g.end(y))},d)}function $(y){_(),n.set(y,!0);let x=oe();E(x+d/1e3)}function k(y){if(n.has(y)&&n.delete(y),n.size===0){let x=oe();S(x+c/1e3)}}function D(y){r=!0,n.clear(),a.forEach(v=>v()),Ft(p,m);let x=L(g),{start_timestamp:N}=x;if(!N)return;x.data[Ln]||g.setAttribute(Ln,i),h.log(`[Tracing] Idle span "${x.op}" finished`);let C=Zt(g).filter(v=>v!==g),M=0;C.forEach(v=>{v.isRecording()&&(v.setStatus({code:2,message:"cancelled"}),v.end(y),I&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(v,void 0,2)));let R=L(v),{timestamp:U=0,start_timestamp:q=0}=R,F=q<=y,te=(u+c)/1e3,H=U-q<=te;if(I){let Q=JSON.stringify(v,void 0,2);F?H||h.log("[Tracing] Discarding span since it finished after idle span final timeout",Q):h.log("[Tracing] Discarding span since it happened after idle span was finished",Q)}(!H||!F)&&(ld(g,v),M++)}),M>0&&g.setAttribute("sentry.idle_span_discarded_spans",M)}return a.push(f.on("spanStart",y=>{if(r||y===g||L(y).timestamp)return;Zt(g).includes(y)&&$(y.spanContext().spanId)})),a.push(f.on("spanEnd",y=>{r||k(y.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",y=>{y===g&&(s=!0,S(),n.size&&E())})),t.disableAutoFinish||S(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=Kg,g.end())},u),g}function Zg(e){let t=_t(e);return Ft(O(),t),I&&h.log("[Tracing] Started span is an idle span"),t}var en;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(en||(en={}));function qe(e){return new Rt(t=>{t(e)})}function _n(e){return new Rt((t,n)=>{n(e)})}var Rt=class e{constructor(t){this._state=en.PENDING,this._handlers=[],this._runExecutor(t)}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===en.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===en.RESOLVED&&n[1](this._value),this._state===en.REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===en.PENDING){if(vt(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(en.RESOLVED,i)},o=i=>{n(en.REJECTED,i)};try{t(r,o)}catch(i){o(i)}}};function Ui(e,t,n,r=0){return new Rt((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);I&&s.id&&a===null&&h.log(`Event processor "${s.id}" dropped event`),vt(a)?a.then(c=>Ui(e,c,n,r+1).then(o)).then(null,i):Ui(e,a,n,r+1).then(o).then(null,i)}})}var Bi,Ad,Hi;function $i(e){let t=w._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Hi&&n.length===Ad||(Ad=n.length,Hi=n.reduce((r,o)=>{Bi||(Bi={});let i=Bi[o];if(i)r[i[0]]=i[1];else{let s=e(o);for(let a=s.length-1;a>=0;a--){let u=s[a]?.filename,d=t[o];if(u&&d){r[u]=d,Bi[o]=[u,d];break}}}return r},{})),Hi}function ac(e,t){let n=$i(e);if(!n)return[];let r=[];for(let o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function Nd(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;Qg(e,t),r&&n_(e,r),r_(e,n),e_(e,o),t_(e,i)}function mr(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:m}=t;Wi(e,"extra",n),Wi(e,"tags",r),Wi(e,"user",o),Wi(e,"contexts",i),e.sdkProcessingMetadata=fn(e.sdkProcessingMetadata,a,2),s&&(e.level=s),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function Wi(e,t,n){e[t]=fn(e[t],n,1)}function Qg(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function e_(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function t_(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function n_(e,t){e.contexts={trace:no(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:be(t),...e.sdkProcessingMetadata};let n=K(t),r=L(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function r_(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function po(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||fe(),timestamp:t.timestamp||Pt()},u=n.integrations||e.integrations.map(_=>_.name);o_(c,e),a_(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&i_(c,e.stackParser);let d=u_(r,n.captureContext);n.mechanism&&Qe(c,n.mechanism);let l=o?o.getEventProcessors():[],f=Kt().getScopeData();if(i){let _=i.getScopeData();mr(f,_)}if(d){let _=d.getScopeData();mr(f,_)}let p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),Nd(c,f);let m=[...l,...f.eventProcessors];return Ui(m,c,n).then(_=>(_&&s_(_),typeof s=="number"&&s>0?c_(_,s,a):_))}function o_(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||Qt,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);let s=e.request;s?.url&&(s.url=pt(s.url,i))}function i_(e,t){let n=$i(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function s_(e){let t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function a_(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function c_(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Ae(o.data,t,n)}}))},...e.user&&{user:Ae(e.user,t,n)},...e.contexts&&{contexts:Ae(e.contexts,t,n)},...e.extra&&{extra:Ae(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ae(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:Ae(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Ae(e.contexts.flags,3,n)),r}function u_(e,t){if(!t)return e;let n=e?e.clone():new De;return n.update(t),n}function Md(e){if(e)return l_(e)?{captureContext:e}:f_(e)?{captureContext:e}:e}function l_(e){return e instanceof De||typeof e=="function"}var d_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function f_(e){return Object.keys(e).some(t=>d_.includes(t))}function lt(e,t){return O().captureException(e,Md(t))}function Sn(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return O().captureMessage(e,n,r)}function tn(e,t){return O().captureEvent(e,t)}function mo(e,t){ie().setContext(e,t)}function cc(e){ie().setExtras(e)}function uc(e,t){ie().setExtra(e,t)}function lc(e){ie().setTags(e)}function dc(e,t){ie().setTag(e,t)}function fc(e){ie().setUser(e)}function ho(){return ie().lastEventId()}async function pc(e){let t=b();return t?t.flush(e):(I&&h.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function mc(e){let t=b();return t?t.close(e):(I&&h.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function hc(){return!!b()}function go(){let e=b();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function _o(e){ie().addEventProcessor(e)}function hr(e){let t=ie(),n=O(),{userAgent:r}=w.navigator||{},o=Kl({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&Yt(i,{status:"exited"}),So(),t.setSession(o),o}function So(){let e=ie(),n=O().getSession()||e.getSession();n&&Xl(n),Od(),e.setSession()}function Od(){let e=ie(),t=b(),n=e.getSession();n&&t&&t.captureSession(n)}function gr(e=!1){if(e){So();return}Od()}var p_="7";function Ld(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function m_(e){return`${Ld(e)}${e.projectId}/envelope/`}function h_(e,t){let n={sentry_version:p_};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function yo(e,t,n){return t||`${m_(e)}?${h_(e,n)}`}function gc(e,t){let n=co(e);if(!n)return"";let r=`${Ld(n)}embed/error-page/`,o=`dsn=${tt(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var Dd=[];function g_(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function _c(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return g_(r)}function Pd(e,t){let n={};return t.forEach(r=>{r&&yc(e,r,n)}),n}function Sc(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function yc(e,t,n){if(n[t.name]){I&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Dd.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Dd.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}I&&h.log(`Integration installed: ${t.name}`)}function _r(e){let t=b();if(!t){I&&h.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Gi(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Fd(e){let{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[sr],exclusive_time:s?.[Ut],measurements:e.measurements,is_segment:!0}}function Ud(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[sr]:e.profile_id},...e.exclusive_time&&{[Ut]:e.exclusive_time}}}},measurements:e.measurements}}function Bd(e,t,n){let r=[{type:"client_report"},{timestamp:n||Pt(),discarded_events:e}];return Ne(t?{dsn:t}:{},[r])}var Hd="Not capturing exception because it's already been captured.",$d="Discarded session because of missing or non-string release",zd=Symbol.for("SentryInternalError"),qd=Symbol.for("SentryDoNotSendEventError");function zi(e){return{message:e,[zd]:!0}}function Ec(e){return{message:e,[qd]:!0}}function Wd(e){return!!e&&typeof e=="object"&&zd in e}function Gd(e){return!!e&&typeof e=="object"&&qd in e}var Eo=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=co(t.dsn):I&&h.warn("No DSN provided, client will not send events."),this._dsn){let n=yo(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=fe();if(mi(t))return I&&h.log(Hd),o;let i={event_id:o,...n};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i={event_id:fe(),...r},s=dn(t)?t:String(t),a=Nn(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=fe();if(n?.originalException&&mi(n.originalException))return I&&h.log(Hd),o;let i={event_id:o,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),Yt(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):qe(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];yc(this,t,this._integrations),n||Sc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Id(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=Ka(r,Qa(i));let o=this.sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let{release:n,environment:r=Qt}=this._options;if("aggregates"in t){let i=t.attrs||{};if(!i.release&&!n){I&&h.warn($d);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){I&&h.warn($d);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);let o=Td(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){let o=`${t}:${n}`;I&&h.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(I&&h.error("Error while sending envelope:",n),n)):(I&&h.error("Transport disabled"),qe({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Pd(this,t),Sc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1,i=n.exception?.values;if(i){o=!0;for(let c of i)if(c.mechanism?.handled===!1){r=!0;break}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(Yt(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Rt(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),po(i,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:gi(r),...a.contexts};let c=ur(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=O(),o=ie()){return I&&bc(t)&&h.log(`Captured error event \`${Gi(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(i=>i.event_id,i=>{I&&(Gd(i)?h.log(i.message):Wd(i)?h.warn(i.message):h.warn(i))})}_processEvent(t,n,r,o){let i=this.getOptions(),{sampleRate:s}=i,a=jd(t),c=bc(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof s>"u"?void 0:at(s);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),_n(Ec(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),Ec("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;let g=S_(this,i,p,n);return __(g,d)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),a){let S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw Ec(`${d} returned \`null\`, will not send event.`)}let m=r.getSession()||o.getSession();if(c&&m&&this._updateSessionFromEvent(m,p),a){let _=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,S=p.spans?p.spans.length:0,E=_-S;E>0&&this.recordDroppedEvent("before_send","span",E)}let g=p.transaction_info;if(a&&g&&p.transaction!==t.transaction){let _="custom";p.transaction_info={...g,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw Gd(p)||Wd(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),zi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}_flushOutcomes(){I&&h.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){I&&h.log("No outcomes to send");return}if(!this._dsn){I&&h.log("No dsn provided, will not send outcomes");return}I&&h.log("Sending outcomes:",t);let n=Bd(t,this._options.tunnel&&tt(this._dsn));this.sendEnvelope(n)}};function __(e,t){let n=`${t} must return \`null\` or a valid event.`;if(vt(e))return e.then(r=>{if(!it(r)&&r!==null)throw zi(n);return r},r=>{throw zi(`${t} rejected with ${r}`)});if(!it(e)&&e!==null)throw zi(n);return e}function S_(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t,a=n;if(bc(a)&&o)return o(a,r);if(jd(a)){if(s){let c=s(Fd(a));if(c?a=fn(n,Ud(c)):oo(),a.spans){let u=[];for(let d of a.spans){let l=s(d);l?u.push(l):(oo(),u.push(d))}a.spans=u}}if(i){if(a.spans){let c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(a,r)}}return a}function bc(e){return e.type===void 0}function jd(e){return e.type==="transaction"}function Vd(e,t){return t?we(t,()=>{let n=Z(),r=n?no(n):gi(t);return[n?be(n):ur(e,t),r]}):[void 0,void 0]}var Yd={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function y_(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Jd(e,t,n,r){let o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=tt(r)),Ne(o,[y_(e)])}var E_=100;w._sentryClientToLogBufferMap=new WeakMap;function b_(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function yn(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function Kd(e,t){let n=Xd(e);n===void 0?w._sentryClientToLogBufferMap?.set(e,[t]):(w._sentryClientToLogBufferMap?.set(e,[...n,t]),n.length>=E_&&yr(e,n))}function Sr(e,t=b(),n=O(),r=Kd){if(!t){I&&h.warn("No client available to capture log.");return}let{_experiments:o,release:i,environment:s}=t.getOptions(),{enableLogs:a=!1,beforeSendLog:c}=o??{};if(!a){I&&h.warn("logging option not enabled, log will not be captured.");return}let[,u]=Vd(t,n),d={...e.attributes},{user:l}=T_(n);if(t.getOptions().sendDefaultPii){let{id:x,email:N,username:T}=l;yn(d,"user.id",x,!1),yn(d,"user.email",N,!1),yn(d,"user.name",T,!1)}yn(d,"sentry.release",i),yn(d,"sentry.environment",s);let{name:f,version:p}=t.getSdkMetadata()?.sdk??{};yn(d,"sentry.sdk.name",f),yn(d,"sentry.sdk.version",p);let m=e.message;if(dn(m)){let{__sentry_template_string__:x,__sentry_template_values__:N=[]}=m;d["sentry.message.template"]=x,N.forEach((T,C)=>{d[`sentry.message.parameter.${C}`]=T})}let g=Jt(n);yn(d,"sentry.trace.parent_span_id",g?.spanContext().spanId);let _={...e,attributes:d};t.emit("beforeCaptureLog",_);let S=c?c(_):_;if(!S){t.recordDroppedEvent("before_send","log_item",1),I&&h.warn("beforeSendLog returned null, log will not be captured.");return}let{level:E,message:$,attributes:k={},severityNumber:D}=S,y={timestamp:oe(),level:E,body:$,trace_id:u?.trace_id,severity_number:D??Yd[E],attributes:Object.keys(k).reduce((x,N)=>(x[N]=b_(k[N]),x),{})};r(t,y),t.emit("afterCaptureLog",S)}function yr(e,t){let n=t??Xd(e)??[];if(n.length===0)return;let r=e.getOptions(),o=Jd(n,r._metadata,r.tunnel,e.getDsn());w._sentryClientToLogBufferMap?.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function Xd(e){return w._sentryClientToLogBufferMap?.get(e)}function T_(e){let t=Kt().getScopeData();return mr(t,ie().getScopeData()),mr(t,e.getScopeData()),t}function Tc(e,t){t.debug===!0&&(I?h.enable():Ze(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),O().update(t.initialScope);let r=new e(t);return qi(r),r.init(),r}function qi(e){O().setClient(e)}var Ic=Symbol.for("SentryBufferFullError");function Zd(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return _n(Ic);let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new Rt((a,c)=>{let u=t.length;if(!u)return a(!0);let d=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{qe(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:o,drain:i}}function ji(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Qd(e,t){return e[t]||e.all||0}function bo(e,t,n=Date.now()){return Qd(e,t)>n}function To(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(let p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[p]=r+f):o[p]=r+f}else s?o.all=r+ji(s,r):t===429&&(o.all=r+60*1e3);return o}var I_=64;function Io(e,t,n=Zd(e.bufferSize||I_)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(ut(s,(l,f)=>{let p=Li(f);bo(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return qe({});let c=Ne(s[0],a),u=l=>{ut(c,(f,p)=>{e.recordDroppedEvent(l,Li(p))})},d=()=>t({body:hn(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&I&&h.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=To(r,l),l),l=>{throw u("network_error"),I&&h.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Ic)return I&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),qe({});throw l})}return{send:i,flush:o}}var vc=100,wc=5e3,v_=36e5;function xc(e){function t(...n){I&&h.info("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let o=n.createStore(n),i=wc,s;function a(l,f,p){return Oi(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let f=await o.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(i),i=Math.min(i*2,v_))}async function d(l,f=!1){if(!f&&Oi(l,["replay_event","replay_recording"]))return await o.push(l),c(vc),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let p=await r.send(l),m=vc;if(p){if(p.headers?.["retry-after"])m=ji(p.headers["retry-after"]);else if(p.headers?.["x-sentry-rate-limits"])m=6e4;else if((p.statusCode||0)>=400)return p}return c(m),i=wc,p}catch(p){if(await a(l,p,i))return f?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(i=wc,c(vc)),r.flush(l))}}}function ef(e,t){let n;return ut(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function w_(e,t){return n=>{let r=e(n);return{...r,send:async o=>{let i=ef(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)}}}}function x_(e,t){return Ne(t?{...e[0],dsn:t}:e[0],e[1])}function Rc(e,t){return n=>{let r=e(n),o=new Map;function i(c,u){let d=u?`${c}:${u}`:c,l=o.get(d);if(!l){let f=Ai(c);if(!f)return;let p=yo(f,n.tunnel);l=u?w_(e,u)({...n,url:p}):e({...n,url:p}),o.set(d,l)}return[c,l]}async function s(c){function u(p){let m=p?.length?p:["event"];return ef(c,m)}let d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?i(p,void 0):i(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,m])=>m.send(x_(c,p)))))[0]}async function a(c){let u=[...o.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:s,flush:a}}}function vo(e,t){let n=t?.getDsn(),r=t?.getOptions().tunnel;return C_(e,n)||R_(e,r)}function R_(e,t){return t?tf(e)===tf(t):!1}function C_(e,t){return t?e.includes(t.host):!1}function tf(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Vi(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Cc=Vi;function kc(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function Ac(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Nc(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Ke})),version:Ke}),e._metadata=o}function Fn(e={}){let t=b();if(!go()||!t)return{};let n=We(),r=mt(n);if(r.getTraceData)return r.getTraceData(e);let o=O(),i=e.span||Z(),s=i?ro(i):k_(o),a=i?be(i):ur(t,o),c=Ei(a);return bi.test(s)?{"sentry-trace":s,baggage:c}:(h.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function k_(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return to(t,r,n)}var A_=100;function je(e,t){let n=b(),r=ie();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=A_}=n.getOptions();if(i<=0)return;let a={timestamp:Pt(),...e},c=o?Ze(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var nf,N_="FunctionToString",rf=new WeakMap,M_=()=>({name:N_,setupOnce(){nf=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=On(this),n=rf.has(b())&&t!==void 0?t:this;return nf.apply(n,e)}}catch{}},setup(e){rf.set(e,!0)}}),wo=M_;var O_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],L_="EventFilters",Ji=(e={})=>{let t;return{name:L_,setup(n){let r=n.getOptions();t=of(e,r)},processEvent(n,r,o){if(!t){let i=o.getOptions();t=of(e,i)}return D_(n,t)?null:n}}},xo=(e={})=>({...Ji(e),name:"InboundFilters"});function of(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:O_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function D_(e,t){if(e.type){if(e.type==="transaction"&&F_(e,t.ignoreTransactions))return I&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Dt(e)}`),!0}else{if(P_(e,t.ignoreErrors))return I&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Dt(e)}`),!0;if($_(e))return I&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Dt(e)}`),!0;if(U_(e,t.denyUrls))return I&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Dt(e)}.
Url: ${Yi(e)}`),!0;if(!B_(e,t.allowUrls))return I&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Dt(e)}.
Url: ${Yi(e)}`),!0}return!1}function P_(e,t){return t?.length?Gi(e).some(n=>ke(n,t)):!1}function F_(e,t){if(!t?.length)return!1;let n=e.transaction;return n?ke(n,t):!1}function U_(e,t){if(!t?.length)return!1;let n=Yi(e);return n?ke(n,t):!1}function B_(e,t){if(!t?.length)return!0;let n=Yi(e);return n?ke(n,t):!0}function H_(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Yi(e){try{let n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?H_(n):null}catch{return I&&h.error(`Cannot extract url for event ${Dt(e)}`),null}}function $_(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Oc(e,t,n,r,o,i){if(!o.exception?.values||!i||!st(i.originalException,Error))return;let s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=Mc(e,t,r,i.originalException,n,o.exception.values,s,0))}function Mc(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(st(r[o],Error)){sf(s,a);let u=e(t,r[o]),d=c.length;af(u,o,d,a),c=Mc(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(st(u,Error)){sf(s,a);let l=e(t,u),f=c.length;af(l,`errors[${d}]`,f,a),c=Mc(e,t,n,u,o,[l,...c],l,f)}}),c}function sf(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function af(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var uf=new Map,cf=new Set;function W_(e){if(w._sentryModuleMetadata)for(let t of Object.keys(w._sentryModuleMetadata)){let n=w._sentryModuleMetadata[t];if(cf.has(t))continue;cf.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){uf.set(o.filename,n);break}}}function G_(e,t){return W_(e),uf.get(t)}function Ki(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let o=G_(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function Xi(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var Lc=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{ut(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(Xi(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;Ki(n,t)})}});function Un(e){let t="console";Pe(t,e),Fe(t,z_)}function z_(){"console"in w&&jt.forEach(function(e){e in w.console&&he(w.console,e,function(t){return nr[e]=t,function(...n){Ie("console",{args:n,level:e}),nr[e]?.apply(w.console,n)}})})}function Bn(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var q_="CaptureConsole",j_=(e={})=>{let t=e.levels||jt,n=e.handled??!0;return{name:q_,setup(r){"console"in w&&Un(({args:o,level:i})=>{b()!==r||!t.includes(i)||V_(o,i,n)})}}},Dc=j_;function V_(e,t,n){let r={level:Bn(t),extra:{arguments:e}};we(o=>{if(o.addEventProcessor(a=>(a.logger="console",Qe(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){let a=`Assertion failed: ${Vt(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),Sn(a,r)}return}let i=e.find(a=>a instanceof Error);if(i){lt(i,r);return}let s=Vt(e," ");Sn(s,r)})}var Y_="Dedupe",J_=()=>{let e;return{name:Y_,processEvent(t){if(t.type)return t;try{if(K_(t,e))return I&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Ro=J_;function K_(e,t){return t?!!(X_(e,t)||Z_(e,t)):!1}function X_(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ff(e,t)||!df(e,t))}function Z_(e,t){let n=lf(t),r=lf(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ff(e,t)||!df(e,t))}function df(e,t){let n=ar(e),r=ar(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function ff(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function lf(e){return e.exception?.values&&e.exception.values[0]}var Q_="ExtraErrorData",eS=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:Q_,processEvent(r,o,i){let{maxValueLength:s=250}=i.getOptions();return tS(r,o,t,n,s)}}},Pc=eS;function tS(e,t={},n,r,o){if(!t.originalException||!Xe(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=nS(t.originalException,r,o);if(s){let a={...e.contexts},c=Ae(s,n);return it(c)&&(de(c,"__sentry_skip_normalization__",!0),a[i]=c),{...e,contexts:a}}return e}function nS(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];o[i]=Xe(s)||typeof s=="string"?pt(`${s}`,n):s}if(t&&e.cause!==void 0&&(o.cause=Xe(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let a=i[s];o[s]=Xe(a)?a.toString():a}}return o}catch(r){I&&h.error("Unable to extract extra data from the Error object:",r)}return null}function rS(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var oS=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function iS(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=oS.exec(t);return n?n.slice(1):[]}function pf(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=rS(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function mf(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function hf(e,t){e=pf(e).slice(1),t=pf(t).slice(1);let n=mf(e.split("/")),r=mf(t.split("/")),o=Math.min(n.length,r.length),i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function gf(e,t){let n=iS(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var sS="RewriteFrames",Fc=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in w&&!!w.window,o=e.iteratee||aS({isBrowser:r,root:t,prefix:n});function i(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames&&a.frames.map(c=>o(c))}}return{name:sS,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function aS({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){let s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?hf(t,s):gf(s);r.filename=`${n}${a}`}return r}}var cS=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],uS=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],lS={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},Sf=["select","insert","upsert","update","delete"];function Zi(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function Qi(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function dS(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function fS(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&lS[n]||"filter",`${o}(${e}, ${r.join(".")})`}function _f(e,t=!1){return new Proxy(e,{apply(n,r,o){return fr({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[J]:"auto.db.supabase",[Ee]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,o).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),lt(s.error,{mechanism:{handled:!1}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),lt(s,{mechanism:{handled:!1}}),s}).then(...o))}})}function pS(e){let t=e.auth;if(!(!t||Qi(e.auth))){for(let n of cS){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=_f(r))}for(let n of uS){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=_f(r,!0))}Zi(e.auth)}}function mS(e){Qi(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let o=Reflect.apply(t,n,r),i=o.constructor;return gS(i),o}}),Zi(e.prototype.from))}function hS(e){Qi(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){let o=Sf,i=n,s=dS(i.method,i.headers);if(!o.includes(s)||!i?.url?.pathname||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(let[p,m]of i.url.searchParams.entries())u.push(fS(p,m));let d=Object.create(null);if(it(i.body))for(let[p,m]of Object.entries(i.body))d[p]=m;let l=`${s==="select"?"":`${s}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,f={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[J]:"auto.db.supabase",[Ee]:"db"};return u.length&&(f["db.query"]=u),Object.keys(d).length&&(f["db.body"]=d),fr({name:l,attributes:f},p=>Reflect.apply(t,n,[]).then(m=>{if(p&&(m&&typeof m=="object"&&"status"in m&&Bt(p,m.status||500),p.end()),m.error){let S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);let E={};u.length&&(E.query=u),Object.keys(d).length&&(E.body=d),lt(S,{contexts:{supabase:E}})}let g={type:"supabase",category:`db.${s}`,message:l},_={};return u.length&&(_.query=u),Object.keys(d).length&&(_.body=d),Object.keys(_).length&&(g.data=_),je(g),m},m=>{throw p&&(Bt(p,500),p.end()),m}).then(...r))}}),Zi(e.prototype.then))}function gS(e){for(let t of Sf)Qi(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){let i=Reflect.apply(n,r,o),s=i.constructor;return I&&h.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),hS(s),i}}),Zi(e.prototype[t]))}var es=e=>{if(!e){I&&h.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;mS(t),pS(e)},_S="Supabase",SS=e=>({setupOnce(){es(e)},name:_S}),Uc=e=>SS(e.supabaseClient);var yS=10,ES="ZodErrors";function bS(e){return Xe(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function TS(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function IS(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function vS(e){let t=new Set;for(let r of e.issues){let o=IS(r.path);o.length>0&&t.add(o)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${pt(n.join(", "),100)}`}function wS(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!bS(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(TS);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:vS(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}var xS=(e={})=>{let t=e.limit??yS;return{name:ES,processEvent(n,r){return wS(t,e.saveZodIssuesAsAttachment,n,r)}}},Bc=xS;var Hc=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{ut(n,(r,o)=>{if(o==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(Xi(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;Ki(r,n)})},processEvent(t){let n=RS(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](i=>!i.some(s=>e.filterKeys.includes(s)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function RS(e){let t=ar(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(yf)).map(r=>r.slice(yf.length)):[])}var yf="_sentryBundlerPluginAppKey:";var CS="thismessage:/";function ts(e){return"isRelative"in e}function Co(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?CS:void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function $c(e){if(ts(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ct(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function ko(e){return e.split(/[?#]/,1)[0]}function Wc(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,a=ze()&&t(s);if(e.endTimestamp&&a){let l=e.fetchData.__span;if(!l)return;let f=r[l];f&&(AS(f,e),delete r[l]);return}let c=!!Z(),u=a&&c?_t(MS(s,i,o)):new Ue;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){let l=e.args[0],f=e.args[1]||{},p=kS(l,f,ze()&&c?u:void 0);p&&(e.args[1]=f,f.headers=p)}let d=b();if(d){let l={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,l)}return u}function kS(e,t,n){let r=Fn({span:n}),o=r["sentry-trace"],i=r.baggage;if(!o)return;let s=t.headers||(di(e)?e.headers:void 0);if(s)if(NS(s)){let a=new Headers(s);if(a.get("sentry-trace")||a.set("sentry-trace",o),i){let c=a.get("baggage");c?ns(c)||a.set("baggage",`${c},${i}`):a.set("baggage",i)}return a}else if(Array.isArray(s)){let a=[...s];s.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",o]);let c=s.find(u=>u[0]==="baggage"&&ns(u[1]));return i&&!c&&a.push(["baggage",i]),a}else{let a="sentry-trace"in s?s["sentry-trace"]:void 0,c="baggage"in s?s.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],d=c&&(Array.isArray(c)?c.find(l=>ns(l)):ns(c));return i&&!d&&u.push(i),{...s,"sentry-trace":a??o,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function AS(e,t){if(t.response){Bt(e,t.response.status);let n=t.response?.headers&&t.response.headers.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function ns(e){return e.split(",").some(t=>t.trim().startsWith(Si))}function NS(e){return typeof Headers<"u"&&st(e,Headers)}function MS(e,t,n){let r=Co(e);return{name:r?`${t} ${$c(r)}`:t,attributes:OS(e,r,t,n)}}function OS(e,t,n,r){let o={url:e,type:"fetch","http.method":n,[J]:r,[Ee]:"http.client"};return t&&(ts(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function Ao(e,t={},n=O()){let{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||b();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var LS="ConsoleLogs",Ef={[J]:"auto.console.logging"},DS=(e={})=>{let t=e.levels||jt;return{name:LS,setup(n){if(!n.getOptions()._experiments?.enableLogs){I&&h.warn("`_experiments.enableLogs` is not enabled, ConsoleLogs integration disabled");return}Un(({args:r,level:o})=>{if(b()!==n||!t.includes(o))return;if(o==="assert"){if(!r[0]){let s=r.slice(1),a=s.length>0?`Assertion failed: ${bf(s)}`:"Assertion failed";Sr({level:"error",message:a,attributes:Ef})}return}let i=o==="log";Sr({level:i?"info":o,message:bf(r),severityNumber:i?10:void 0,attributes:Ef})})}}},Gc=DS;function bf(e){return"util"in w&&typeof w.util.format=="function"?w.util.format(...e):Vt(e," ")}function rs(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var Er=w;function zc(){return"history"in Er&&!!Er.history}function PS(){if(!("fetch"in Er))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function No(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Mo(){if(typeof EdgeRuntime=="string")return!0;if(!PS())return!1;if(No(Er.fetch))return!0;let e=!1,t=Er.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=No(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){I&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function qc(){return"ReportingObserver"in Er}function Hn(e,t){let n="fetch";Pe(n,e),Fe(n,()=>If(void 0,t))}function Vc(e){let t="fetch-body-resolved";Pe(t,e),Fe(t,()=>If(US))}function If(e,t=!1){t&&!Mo()||he(w,"fetch",function(n){return function(...r){let o=new Error,{method:i,url:s}=BS(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:oe()*1e3,virtualError:o,headers:HS(r)};return e||Ie("fetch",{...a}),n.apply(w,r).then(async c=>(e?e(c):Ie("fetch",{...a,endTimestamp:oe()*1e3,response:c}),c),c=>{if(Ie("fetch",{...a,endTimestamp:oe()*1e3,error:c}),Xe(c)&&c.stack===void 0&&(c.stack=o.stack,de(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function FS(e,t){if(e?.body){let n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:a}=await r.read();clearTimeout(s),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(s)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function US(e){let t;try{t=e.clone()}catch{return}FS(t,()=>{Ie("fetch-body-resolved",{endTimestamp:oe()*1e3,response:e})})}function jc(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Tf(e){return typeof e=="string"?e:e?jc(e,"url")?e.url:e.toString?e.toString():"":""}function BS(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Tf(n),method:jc(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Tf(t),method:jc(t,"method")?String(t.method).toUpperCase():"GET"}}function HS(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(di(t))return new Headers(t.headers)}catch{}}function Yc(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Jc(){return"npm"}function vf(){return!Yc()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function br(){return typeof window<"u"&&(!vf()||$S())}function $S(){return w.process?.type==="renderer"}var kt=w,se=kt.document,Oo=kt.navigator,$f="Report a Bug",WS="Cancel",GS="Send Bug Report",zS="Confirm",qS="Report a Bug",jS="your.email@example.org",VS="Email",YS="What's the bug? What did you expect?",JS="Description",KS="Your Name",XS="Name",ZS="Thank you for your report!",QS="(required)",ey="Add a screenshot",ty="Remove screenshot",ny="widget",ry="api",oy=5e3,iu=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=b();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&O().setTags(e.tags);let r=Ao({source:ry,url:Ge(),...e},t);return new Promise((o,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(s),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?o(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?i("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},as=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function iy(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Oo.userAgent)||/Macintosh/i.test(Oo.userAgent)&&Oo.maxTouchPoints&&Oo.maxTouchPoints>1||!isSecureContext)}function os(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:n=>{t.onSubmitSuccess?.(n),e.onSubmitSuccess?.(n)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function sy(e){let t=se.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function dt(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var Tr=20,ay="http://www.w3.org/2000/svg";function cy(){let e=a=>kt.document.createElementNS(ay,a),t=dt(e("svg"),{width:`${Tr}`,height:`${Tr}`,viewBox:`0 0 ${Tr} ${Tr}`,fill:"var(--actor-color, var(--foreground))"}),n=dt(e("g"),{clipPath:"url(#clip0_57_80)"}),r=dt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=dt(e("clipPath"),{id:"clip0_57_80"}),s=dt(e("rect"),{width:`${Tr}`,height:`${Tr}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function uy({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let o=se.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||$f,o.appendChild(cy()),e){let s=se.createElement("span");s.appendChild(se.createTextNode(e)),o.appendChild(s)}let i=sy(r);return{el:o,appendToDom(){n.appendChild(i),n.appendChild(o)},removeFromDom(){o.remove(),i.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}var Wf="rgba(88, 74, 192, 1)",ly={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Wf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},wf={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Wf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function xf(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function dy({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let o=se.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${xf(e==="dark"?{...wf,...t}:{...ly,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${xf({...wf,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}var ps=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:m,scriptNonce:g,colorScheme:_="system",themeLight:S={},themeDark:E={},addScreenshotButtonLabel:$=ey,cancelButtonLabel:k=WS,confirmButtonLabel:D=zS,emailLabel:y=VS,emailPlaceholder:x=jS,formTitle:N=qS,isRequiredLabel:T=QS,messageLabel:C=JS,messagePlaceholder:M=YS,nameLabel:v=XS,namePlaceholder:R=KS,removeScreenshotButtonLabel:U=ty,submitButtonLabel:q=GS,successMessageText:F=ZS,triggerLabel:te=$f,triggerAriaLabel:H="",onFormOpen:Q,onFormClose:ne,onSubmitSuccess:Be,onSubmitError:Xn,onFormSubmitted:ot}={})=>{let He={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:m,scriptNonce:g,colorScheme:_,themeDark:E,themeLight:S,triggerLabel:te,triggerAriaLabel:H,cancelButtonLabel:k,submitButtonLabel:q,confirmButtonLabel:D,formTitle:N,emailLabel:y,emailPlaceholder:x,messageLabel:C,messagePlaceholder:M,nameLabel:v,namePlaceholder:R,successMessageText:F,isRequiredLabel:T,addScreenshotButtonLabel:$,removeScreenshotButtonLabel:U,onFormClose:ne,onFormOpen:Q,onSubmitError:Xn,onSubmitSuccess:Be,onFormSubmitted:ot},Tt=null,qt=[],Zn=pe=>{if(!Tt){let Ce=se.createElement("div");Ce.id=String(pe.id),se.body.appendChild(Ce),Tt=Ce.attachShadow({mode:"open"}),Tt.appendChild(dy(pe))}return Tt},Qn=async pe=>{let Ce=pe.enableScreenshot&&iy(),Ot,ye;try{Ot=(t?t():await e("feedbackModalIntegration",g))(),_r(Ot)}catch{throw as&&h.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let Lt=Ce?n?n():await e("feedbackScreenshotIntegration",g):void 0;Lt&&(ye=Lt(),_r(ye))}catch{as&&h.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let ve=Ot.createDialog({options:{...pe,onFormClose:()=>{ve?.close(),pe.onFormClose?.()},onFormSubmitted:()=>{ve?.close(),pe.onFormSubmitted?.()}},screenshotIntegration:ye,sendFeedback:iu,shadow:Zn(pe)});return ve},Jr=(pe,Ce={})=>{let Ot=os(He,Ce),ye=typeof pe=="string"?se.querySelector(pe):typeof pe.addEventListener=="function"?pe:null;if(!ye)throw as&&h.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ve=null,Lt=async()=>{ve||(ve=await Qn({...Ot,onFormSubmitted:()=>{ve?.removeFromDom(),Ot.onFormSubmitted?.()}})),ve.appendToDom(),ve.open()};ye.addEventListener("click",Lt);let kn=()=>{qt=qt.filter(er=>er!==kn),ve?.removeFromDom(),ve=null,ye.removeEventListener("click",Lt)};return qt.push(kn),kn},un=(pe={})=>{let Ce=os(He,pe),Ot=Zn(Ce),ye=uy({triggerLabel:Ce.triggerLabel,triggerAriaLabel:Ce.triggerAriaLabel,shadow:Ot,styleNonce:m});return Jr(ye.el,{...Ce,onFormOpen(){ye.hide()},onFormClose(){ye.show()},onFormSubmitted(){ye.show()}}),ye};return{name:"Feedback",setupOnce(){!br()||!He.autoInject||(se.readyState==="loading"?se.addEventListener("DOMContentLoaded",()=>un().appendToDom()):un().appendToDom())},attachTo:Jr,createWidget(pe={}){let Ce=un(os(He,pe));return Ce.appendToDom(),Ce},async createForm(pe={}){return Qn(os(He,pe))},remove(){Tt&&(Tt.parentElement?.remove(),Tt=null),qt.forEach(pe=>pe()),qt=[]}}};function Gf(){return b()?.getIntegrationByName("Feedback")}var ms,ce,zf,$n,Rf,qf,tu,Lo={},su=[],fy=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,au=Array.isArray;function bn(e,t){for(var n in t)e[n]=t[n];return e}function jf(e){var t=e.parentNode;t&&t.removeChild(e)}function j(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?ms.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return cs(e,s,r,o,null)}function cs(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++zf,__i:-1,__u:0};return o==null&&ce.vnode!=null&&ce.vnode(i),i}function Do(e){return e.children}function us(e,t){this.props=e,this.context=t}function vr(e,t){if(t==null)return e.__?vr(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?vr(e):null}function py(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=bn({},o)).__v=o.__v+1,ce.vnode&&ce.vnode(r),cu(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??vr(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&Vf(r),r}function Vf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Vf(e)}}function Cf(e){(!e.__d&&(e.__d=!0)&&$n.push(e)&&!fs.__r++||Rf!==ce.debounceRendering)&&((Rf=ce.debounceRendering)||qf)(fs)}function fs(){var e,t,n,r=[],o=[];for($n.sort(tu);e=$n.shift();)e.__d&&(n=$n.length,t=py(e,r,o)||t,n===0||$n.length>n?(nu(r,t,o),o.length=r.length=0,t=void 0,$n.sort(tu)):t&&ce.__c&&ce.__c(t,su));t&&nu(r,t,o),fs.__r=0}function Yf(e,t,n,r,o,i,s,a,c,u,d){var l,f,p,m,g,_=r&&r.__k||su,S=t.length;for(n.__d=c,my(n,t,_),c=n.__d,l=0;l<S;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?Lo:_[p.__i]||Lo,p.__i=l,cu(e,p,f,o,i,s,a,c,u,d),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&uu(f.ref,null,p),d.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),65536&p.__u||f.__k===p.__k?c=Jf(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:m&&(c=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=g}function my(e,t,n){var r,o,i,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?cs(null,o,null,null,o):au(o)?cs(Do,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?cs(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=hy(o,n,s=r+l,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=vr(i)),ru(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&(131072&i.__u)==0&&(i.__e==e.__d&&(e.__d=vr(i)),ru(i,i))}function Jf(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Jf(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function hy(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return a;a++}}return-1}function kf(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||fy.test(t)?n:n+"px"}function is(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||kf(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||kf(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?Nf:Af,i)):e.removeEventListener(t,i?Nf:Af,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Af(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ce.event?ce.event(e):e)}}function Nf(e){if(this.l)return this.l[e.type+!0](ce.event?ce.event(e):e)}function cu(e,t,n,r,o,i,s,a,c,u){var d,l,f,p,m,g,_,S,E,$,k,D,y,x,N,T=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=ce.__b)&&d(t);e:if(typeof T=="function")try{if(S=t.props,E=(d=T.contextType)&&r[d.__c],$=d?E?E.props.value:d.__:r,n.__c?_=(l=t.__c=n.__c).__=l.__E:("prototype"in T&&T.prototype.render?t.__c=l=new T(S,$):(t.__c=l=new us(S,$),l.constructor=T,l.render=_y),E&&E.sub(l),l.props=S,l.state||(l.state={}),l.context=$,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),T.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=bn({},l.__s)),bn(l.__s,T.getDerivedStateFromProps(S,l.__s))),p=l.props,m=l.state,l.__v=t,f)T.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(T.getDerivedStateFromProps==null&&S!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(S,$),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(S,l.__s,$)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=S,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(C){C&&(C.__=t)}),k=0;k<l._sb.length;k++)l.__h.push(l._sb[k]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(S,l.__s,$),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,m,g)})}if(l.context=$,l.props=S,l.__P=e,l.__e=!1,D=ce.__r,y=0,"prototype"in T&&T.prototype.render){for(l.state=l.__s,l.__d=!1,D&&D(t),d=l.render(l.props,l.state,l.context),x=0;x<l._sb.length;x++)l.__h.push(l._sb[x]);l._sb=[]}else do l.__d=!1,D&&D(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++y<25);l.state=l.__s,l.getChildContext!=null&&(r=bn(bn({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(p,m)),Yf(e,au(N=d!=null&&d.type===Do&&d.key==null?d.props.children:d)?N:[N],t,n,r,o,i,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),_&&(l.__E=l.__=null)}catch(C){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ce.__e(C,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=gy(n.__e,t,n,r,o,i,s,c,u);(d=ce.diffed)&&d(t)}function nu(e,t,n){for(var r=0;r<n.length;r++)uu(n[r],n[++r],n[++r]);ce.__c&&ce.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){ce.__e(i,o.__v)}})}function gy(e,t,n,r,o,i,s,a,c){var u,d,l,f,p,m,g,_=n.props,S=t.props,E=t.type;if(E==="svg"&&(o=!0),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!E&&(E?p.localName===E:p.nodeType===3)){e=p,i[u]=null;break}}if(e==null){if(E===null)return document.createTextNode(S);e=o?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,S.is&&S),i=null,a=!1}if(E===null)_===S||a&&e.data===S||(e.data=S);else{if(i=i&&ms.call(e.childNodes),_=n.props||Lo,!a&&i!=null)for(_={},u=0;u<e.attributes.length;u++)_[(p=e.attributes[u]).name]=p.value;for(u in _)p=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in S||is(e,u,null,p,o));for(u in S)p=S[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?m=p:u=="checked"?g=p:u==="key"||a&&typeof p!="function"||_[u]===p||is(e,u,p,_[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),Yf(e,au(f)?f:[f],t,n,r,o&&E!=="foreignObject",i,s,i?i[0]:n.__k&&vr(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&jf(i[u]);a||(u="value",m!==void 0&&(m!==e[u]||E==="progress"&&!m||E==="option"&&m!==_[u])&&is(e,u,m,_[u],!1),u="checked",g!==void 0&&g!==e[u]&&is(e,u,g,_[u],!1))}return e}function uu(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ce.__e(r,n)}}function ru(e,t,n){var r,o;if(ce.unmount&&ce.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||uu(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){ce.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&ru(r[o],t,n||typeof e.type!="function");n||e.__e==null||jf(e.__e),e.__=e.__e=e.__d=void 0}function _y(e,t,n){return this.constructor(e,n)}function Sy(e,t,n){var r,o,i,s;ce.__&&ce.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],cu(t,e=t.__k=j(Do,null,[e]),o||Lo,Lo,t.ownerSVGElement!==void 0,o?null:t.firstChild?ms.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),e.__d=void 0,nu(i,e,s)}ms=su.slice,ce={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},zf=0,us.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=bn({},this.state),typeof e=="function"&&(e=e(bn({},n),this.props)),e&&bn(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Cf(this))},us.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Cf(this))},us.prototype.render=Do,$n=[],qf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tu=function(e,t){return e.__v.__b-t.__v.__b},fs.__r=0;var nn,ae,Kc,Mf,wr=0,Kf=[],ls=[],ge=ce,Of=ge.__b,Lf=ge.__r,Df=ge.diffed,Pf=ge.__c,Ff=ge.unmount,Uf=ge.__;function Gn(e,t){ge.__h&&ge.__h(ae,e,wr||t),wr=0;var n=ae.__H||(ae.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ls}),n.__[e]}function Wn(e){return wr=1,Xf(Qf,e)}function Xf(e,t,n){var r=Gn(nn++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Qf(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ae,!ae.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};ae.u=!0;var i=ae.shouldComponentUpdate,s=ae.componentWillUpdate;ae.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},ae.shouldComponentUpdate=o}return r.__N||r.__}function yy(e,t){var n=Gn(nn++,3);!ge.__s&&lu(n.__H,t)&&(n.__=e,n.i=t,ae.__H.__h.push(n))}function Zf(e,t){var n=Gn(nn++,4);!ge.__s&&lu(n.__H,t)&&(n.__=e,n.i=t,ae.__h.push(n))}function Ey(e){return wr=5,Po(function(){return{current:e}},[])}function by(e,t,n){wr=6,Zf(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Po(e,t){var n=Gn(nn++,7);return lu(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Ir(e,t){return wr=8,Po(function(){return e},t)}function Ty(e){var t=ae.context[e.__c],n=Gn(nn++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ae)),t.props.value):e.__}function Iy(e,t){ge.useDebugValue&&ge.useDebugValue(t?t(e):e)}function vy(e){var t=Gn(nn++,10),n=Wn();return t.__=e,ae.componentDidCatch||(ae.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function wy(){var e=Gn(nn++,11);if(!e.__){for(var t=ae.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function xy(){for(var e;e=Kf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ds),e.__H.__h.forEach(ou),e.__H.__h=[]}catch(t){e.__H.__h=[],ge.__e(t,e.__v)}}ge.__b=function(e){ae=null,Of&&Of(e)},ge.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Uf&&Uf(e,t)},ge.__r=function(e){Lf&&Lf(e),nn=0;var t=(ae=e.__c).__H;t&&(Kc===ae?(t.__h=[],ae.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ls,n.__N=n.i=void 0})):(t.__h.forEach(ds),t.__h.forEach(ou),t.__h=[],nn=0)),Kc=ae},ge.diffed=function(e){Df&&Df(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Kf.push(t)!==1&&Mf===ge.requestAnimationFrame||((Mf=ge.requestAnimationFrame)||Ry)(xy)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ls&&(n.__=n.__V),n.i=void 0,n.__V=ls})),Kc=ae=null},ge.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ds),n.__h=n.__h.filter(function(r){return!r.__||ou(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ge.__e(r,n.__v)}}),Pf&&Pf(e,t)},ge.unmount=function(e){Ff&&Ff(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ds(r)}catch(o){t=o}}),n.__H=void 0,t&&ge.__e(t,n.__v))};var Bf=typeof requestAnimationFrame=="function";function Ry(e){var t,n=function(){clearTimeout(r),Bf&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Bf&&(t=requestAnimationFrame(n))}function ds(e){var t=ae,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ae=t}function ou(e){var t=ae;e.__c=e.__(),ae=t}function lu(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Qf(e,t){return typeof t=="function"?t(e):t}var Cy=Object.defineProperty({__proto__:null,useCallback:Ir,useContext:Ty,useDebugValue:Iy,useEffect:yy,useErrorBoundary:vy,useId:wy,useImperativeHandle:by,useLayoutEffect:Zf,useMemo:Po,useReducer:Xf,useRef:Ey,useState:Wn},Symbol.toStringTag,{value:"Module"}),ky="http://www.w3.org/2000/svg";function Ay(){let e=r=>se.createElementNS(ky,r),t=dt(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=dt(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function Ny({options:e}){let t=Po(()=>({__html:Ay().outerHTML}),[]);return j("h2",{class:"dialog__header"},j("span",{class:"dialog__title"},e.formTitle),e.showBranding?j("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function My(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Xc(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function Oy({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){let{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:m,emailPlaceholder:g,isEmailRequired:_,isNameRequired:S,messageLabel:E,messagePlaceholder:$,nameLabel:k,namePlaceholder:D,submitButtonLabel:y,isRequiredLabel:x}=e,[N,T]=Wn(!1),[C,M]=Wn(null),[v,R]=Wn(!1),U=u?.input,[q,F]=Wn(null),te=Ir(ne=>{F(ne),R(!1)},[]),H=Ir(ne=>{let Be=My(ne,{emailLabel:m,isEmailRequired:_,isNameRequired:S,messageLabel:E,nameLabel:k});return Be.length>0?M(`Please enter in the following required fields: ${Be.join(", ")}`):M(null),Be.length===0},[m,_,S,E,k]),Q=Ir(async ne=>{T(!0);try{if(ne.preventDefault(),!(ne.target instanceof HTMLFormElement))return;let Be=new FormData(ne.target),Xn=await(u&&v?u.value():void 0),ot={name:Xc(Be,"name"),email:Xc(Be,"email"),message:Xc(Be,"message"),attachments:Xn?[Xn]:void 0};if(!H(ot))return;try{await o({name:ot.name,email:ot.email,message:ot.message,source:ny,tags:d},{attachments:ot.attachments}),i(ot)}catch(He){as&&h.error(He),M(He),s(He)}}finally{T(!1)}},[u&&v,i,s]);return j("form",{class:"form",onSubmit:Q},U&&v?j(U,{onError:te}):null,j("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:N},j("div",{class:"form__top"},C?j("div",{class:"form__error-container"},C):null,c?j("label",{for:"name",class:"form__label"},j(Zc,{label:k,isRequiredLabel:x,isRequired:S}),j("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:D,required:S,type:"text"})):j("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?j("label",{for:"email",class:"form__label"},j(Zc,{label:m,isRequiredLabel:x,isRequired:_}),j("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:_,type:"email"})):j("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),j("label",{for:"message",class:"form__label"},j(Zc,{label:E,isRequiredLabel:x,isRequired:!0}),j("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:$,required:!0,rows:5})),U?j("label",{for:"screenshot",class:"form__label"},j("button",{class:"btn btn--default",disabled:N,type:"button",onClick:()=>{F(null),R(ne=>!ne)}},v?f:l),q?j("div",{class:"form__error-container"},q.message):null):null),j("div",{class:"btn-group"},j("button",{class:"btn btn--primary",disabled:N,type:"submit"},y),j("button",{class:"btn btn--default",disabled:N,type:"button",onClick:r},p))))}function Zc({label:e,isRequired:t,isRequiredLabel:n}){return j("span",{class:"form__label__text"},e,t&&j("span",{class:"form__label__text--required"},n))}var ss=16,Hf=17,Ly="http://www.w3.org/2000/svg";function Dy(){let e=c=>kt.document.createElementNS(Ly,c),t=dt(e("svg"),{width:`${ss}`,height:`${Hf}`,viewBox:`0 0 ${ss} ${Hf}`,fill:"inherit"}),n=dt(e("g"),{clipPath:"url(#clip0_57_156)"}),r=dt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=dt(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=dt(e("clipPath"),{id:"clip0_57_156"}),a=dt(e("rect"),{width:`${ss}`,height:`${ss}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}function Py({open:e,onFormSubmitted:t,...n}){let r=n.options,o=Po(()=>({__html:Dy().outerHTML}),[]),[i,s]=Wn(null),a=Ir(()=>{i&&(clearTimeout(i),s(null)),t()},[i]),c=Ir(u=>{n.onSubmitSuccess(u),s(setTimeout(()=>{t(),s(null)},oy))},[t]);return j(Do,null,i?j("div",{class:"success__position",onClick:a},j("div",{class:"success__content"},r.successMessageText,j("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):j("dialog",{class:"dialog",onClick:r.onFormClose,open:e},j("div",{class:"dialog__position"},j("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},j(Ny,{options:r}),j(Oy,{...n,onSubmitSuccess:c})))))}var Fy=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,Uy=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,By=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,Hy=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,$y=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function Wy(e){let t=se.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${Fy}
${Uy}
${By}
${Hy}
${$y}
`,e&&t.setAttribute("nonce",e),t}function Gy(){let e=O().getUser(),t=ie().getUser(),n=Kt().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var ep=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,i=e.useSentryUser,s=Gy(),a=se.createElement("div"),c=Wy(e.styleNonce),u="",d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),se.body.style.overflow=u},open(){f(!0),e.onFormOpen?.(),b()?.emit("openFeedbackWidget"),u=se.body.style.overflow,se.body.style.overflow="hidden"},close(){f(!1),se.body.style.overflow=u}},l=t?.createInput({h:j,hooks:Cy,dialog:d,options:e}),f=p=>{Sy(j(Py,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s&&s[i.name]||"",defaultEmail:i&&s&&s[i.email]||"",onFormClose:()=>{f(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:m=>{f(!1),e.onSubmitSuccess?.(m)},onSubmitError:m=>{e.onSubmitError?.(m)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:p}),a)};return d}});function zy({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function qy(e){let t=se.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function jy({h:e}){return function({action:n,setAction:r}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},"Hide")))}}function Vy({hooks:e}){function t(){let[n,r]=e.useState(kt.devicePixelRatio??1);return e.useEffect(()=>{let o=()=>{r(kt.devicePixelRatio)},i=matchMedia(`(resolution: ${kt.devicePixelRatio}dppx)`);return i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:i,onError:s}){let a=t();e.useEffect(()=>{(async()=>{r();let u=await Oo.mediaDevices.getDisplayMedia({video:{width:kt.innerWidth*a,height:kt.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=se.createElement("video");await new Promise((l,f)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(p=>p.stop()),l()},d.play().catch(f)}),i()})().catch(s)},[])}}function Yy(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function En(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function Qc(e,t){En(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function eu(e,t,n){En(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(i=>{Yy(i,o,t)})})}function Jy({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){let i=Vy({hooks:t}),s=jy({h:e}),a=zy({h:e}),c={__html:qy(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{let[f,p]=t.useState("highlight"),[m,g]=t.useState([]),_=t.useRef(null),S=t.useRef(null),E=t.useRef(null),$=t.useRef(null),[k,D]=t.useState(1),y=t.useMemo(()=>{let v=se.getElementById(o.id);if(!v)return"white";let R=getComputedStyle(v);return R.getPropertyValue("--button-primary-background")||R.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{let v=()=>{let R=_.current;R&&En(l.canvas,{alpha:!1},U=>{let q=Math.min(R.clientWidth/U.width,R.clientHeight/U.height);D(q)})};return v(),kt.addEventListener("resize",v),()=>{kt.removeEventListener("resize",v)}},[l]);let x=t.useCallback((v,R)=>{En(v,{alpha:!0},(U,q)=>{q.scale(R,R),U.width=l.canvas.width,U.height=l.canvas.height})},[l]);t.useEffect(()=>{x(S.current,l.dpi),Qc(S.current,l.canvas)},[l]),t.useEffect(()=>{x(E.current,l.dpi),En(E.current,{alpha:!0},(v,R)=>{R.clearRect(0,0,v.width,v.height)}),eu(E.current,y,m)},[m,y]),t.useEffect(()=>{x(n,l.dpi),Qc(n,l.canvas),En(se.createElement("canvas"),{alpha:!0},(v,R)=>{R.scale(l.dpi,l.dpi),v.width=l.canvas.width,v.height=l.canvas.height,eu(v,y,m),Qc(n,v)})},[m,l,y]);let N=v=>{if(!f||!$.current)return;let R=$.current.getBoundingClientRect(),U={type:f,x:v.offsetX/k,y:v.offsetY/k},q=(H,Q)=>{let ne=(Q.clientX-R.x)/k,Be=(Q.clientY-R.y)/k;return{type:H.type,x:Math.min(H.x,ne),y:Math.min(H.y,Be),w:Math.abs(ne-H.x),h:Math.abs(Be-H.y)}},F=H=>{En(E.current,{alpha:!0},(Q,ne)=>{ne.clearRect(0,0,Q.width,Q.height)}),eu(E.current,y,[...m,q(U,H)])},te=H=>{let Q=q(U,H);Q.w*k>=1&&Q.h*k>=1&&g(ne=>[...ne,Q]),se.removeEventListener("mousemove",F),se.removeEventListener("mouseup",te)};se.addEventListener("mousemove",F),se.addEventListener("mouseup",te)},T=t.useCallback(v=>R=>{R.preventDefault(),R.stopPropagation(),g(U=>{let q=[...U];return q.splice(v,1),q})},[]),C={width:`${l.canvas.width*k}px`,height:`${l.canvas.height*k}px`},M=v=>{v.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:_},e("canvas",{ref:S,id:"background",style:C}),e("canvas",{ref:E,id:"foreground",style:C}),e("div",{ref:$,onMouseDown:N,style:C},m.map((v,R)=>e("div",{key:R,class:"editor__rect",style:{top:`${v.y*k}px`,left:`${v.x*k}px`,width:`${v.w*k}px`,height:`${v.h*k}px`}},e("button",{"aria-label":"Remove",onClick:T(R),onMouseDown:M,onMouseUp:M,type:"button"},e(a,null))))))),e(s,{action:f,setAction:p}))};return function({onError:f}){let[p,m]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((g,_)=>{En(se.createElement("canvas"),{alpha:!1},(S,E)=>{E.scale(_,_),S.width=g.videoWidth,S.height=g.videoHeight,E.drawImage(g,0,0,S.width,S.height),m({canvas:S,dpi:_})}),n.width=g.videoWidth,n.height=g.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(g=>{u.display="block",f(g)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var tp=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=se.createElement("canvas");return{input:Jy({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{let i=await new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(await i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}});var A=w,du=0;function fu(){return du>0}function Ky(){du++,setTimeout(()=>{du--})}function zn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(On(e))return e}catch{return e}let r=function(...o){try{let i=o.map(s=>zn(s,t));return e.apply(this,i)}catch(i){throw Ky(),we(s=>{s.addEventProcessor(a=>(t.mechanism&&(rr(a,void 0,void 0),Qe(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),lt(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}fi(r,e),de(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Fo(){let e=Ge(),{referrer:t}=A.document||{},{userAgent:n}=A.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}var Xy={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},np=A;async function hs(e,t){let n=Xy[e],r=np.Sentry=np.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;let i=Zy(n),s=A.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let a=new Promise((l,f)=>{s.addEventListener("load",()=>l()),s.addEventListener("error",f)}),c=A.document.currentScript,u=A.document.body||A.document.head||c?.parentElement;if(u)u.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function Zy(e){let n=b()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Ke}/${e}.min.js`,n).toString()}var rp=ps({lazyLoadIntegration:hs});var pu=ps({getModalIntegration:()=>ep,getScreenshotIntegration:()=>tp});var mu={};Gl(mu,{debug:()=>eE,error:()=>rE,fatal:()=>oE,fmt:()=>Cc,info:()=>tE,trace:()=>Qy,warn:()=>nE});function xr(e,t,n,r){Sr({level:e,message:t,attributes:n,severityNumber:r})}function Qy(e,t){xr("trace",e,t)}function eE(e,t){xr("debug",e,t)}function tE(e,t){xr("info",e,t)}function nE(e,t){xr("warn",e,t)}function rE(e,t){xr("error",e,t)}function oE(e,t){xr("fatal",e,t)}function Rr(e,t){let n=_u(e,t),r={type:uE(t),value:lE(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function iE(e,t,n,r){let i=b()?.getOptions().normalizeDepth,s=pE(t),a={__serialized__:Ni(t,i)};if(s)return{exception:{values:[Rr(e,s)]},extra:a};let c={exception:{values:[{type:Mn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:dE(t,{isUnhandledRejection:r})}]},extra:a};if(n){let u=_u(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function hu(e,t){return{exception:{values:[Rr(e,t)]}}}function _u(e,t){let n=t.stacktrace||t.stack||"",r=aE(t),o=cE(t);try{return e(n,r,o)}catch{}return[]}var sE=/Minified React error #\d+;/i;function aE(e){return e&&sE.test(e.message)?1:0}function cE(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function op(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function uE(e){let t=e?.name;return!t&&op(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function lE(e){let t=e?.message;return op(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function gs(e,t,n,r){let o=n?.syntheticException||void 0,i=Ss(e,t,o,r);return Qe(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),qe(i)}function _s(e,t,n="info",r,o){let i=r?.syntheticException||void 0,s=gu(e,t,i,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),qe(s)}function Ss(e,t,n,r,o){let i;if(ui(t)&&t.error)return hu(e,t.error);if(li(t)||wa(t)){let s=t;if("stack"in t)i=hu(e,t);else{let a=s.name||(li(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=gu(e,c,n,r),rr(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return Xe(t)?hu(e,t):it(t)||Mn(t)?(i=iE(e,t,n,o),Qe(i,{synthetic:!0}),i):(i=gu(e,t,n,r),rr(i,`${t}`,void 0),Qe(i,{synthetic:!0}),i)}function gu(e,t,n,r){let o={};if(r&&n){let i=_u(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),Qe(o,{synthetic:!0})}if(dn(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function dE(e,{isUnhandledRejection:t}){let n=Aa(e),r=t?"promise rejection":"exception";return ui(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Mn(e)?`Event \`${fE(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function fE(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function pE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var mE=5e3,Cr=class extends Eo{constructor(t){let n=hE(t),r=A.SENTRY_SDK_SOURCE||Jc();Nc(n,"browser",["browser"],r),super(n);let{sendDefaultPii:o,sendClientReports:i,_experiments:s}=this._options,a=s?.enableLogs;A.document&&(i||a)&&A.document.addEventListener("visibilitychange",()=>{A.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),a&&yr(this))}),a&&(this.on("flush",()=>{yr(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{yr(this)},mE)})),o&&(this.on("postprocessEvent",kc),this.on("beforeSendSession",Ac))}eventFromException(t,n){return gs(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return _s(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}};function hE(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:A.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}var rn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var P=w;var gE=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",yt=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o??0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=gE(t.value,n),e(t)))}};var ip=()=>`v5-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var on=(e=!0)=>{let t=P.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var Et=()=>on()?.activationStart??0;var bt=(e,t=-1)=>{let n=on(),r="navigate";return n&&(P.document?.prerendering||Et()>0?r="prerender":P.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:ip(),navigationType:r}};var Su=new WeakMap;function kr(e,t){return Su.get(e)||Su.set(e,new t),Su.get(e)}var ys=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;let n=this._sessionEntries[0],r=this._sessionEntries.at(-1);this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}};var nt=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}};var Tn=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var Uo=-1,_E=()=>P.document?.visibilityState==="hidden"&&!P.document?.prerendering?0:1/0,Es=e=>{P.document.visibilityState==="hidden"&&Uo>-1&&(Uo=e.type==="visibilitychange"?e.timeStamp:0,yE())},SE=()=>{addEventListener("visibilitychange",Es,!0),addEventListener("prerenderingchange",Es,!0)},yE=()=>{removeEventListener("visibilitychange",Es,!0),removeEventListener("prerenderingchange",Es,!0)},In=()=>{if(P.document&&Uo<0){let e=Et();Uo=(P.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??_E(),SE()}return{get firstHiddenTime(){return Uo}}};var Ht=e=>{P.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var EE=[1800,3e3],sp=(e,t={})=>{Ht(()=>{let n=In(),r=bt("FCP"),o,s=nt("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Et(),0),r.entries.push(c),o(!0)))});s&&(o=yt(e,r,EE,t.reportAllChanges))})};var bE=[.1,.25],ap=(e,t={})=>{sp(Tn(()=>{let n=bt("CLS",0),r,o=kr(t,ys),i=a=>{for(let c of a)o._processEntry(c);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},s=nt("layout-shift",i);s&&(r=yt(e,n,bE,t.reportAllChanges),P.document?.addEventListener("visibilitychange",()=>{P.document?.visibilityState==="hidden"&&(i(s.takeRecords()),r(!0))}),P?.setTimeout?.(r))}))};var vn=e=>{let t=n=>{(n.type==="pagehide"||P.document?.visibilityState==="hidden")&&e(n)};P.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var TE=[100,300],cp=(e,t={})=>{Ht(()=>{let n=In(),r=bt("FID"),o,i=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),o(!0))},s=c=>{c.forEach(i)},a=nt("first-input",s);o=yt(e,r,TE,t.reportAllChanges),a&&vn(Tn(()=>{s(a.takeRecords()),a.disconnect()}))})};var up=0,yu=1/0,bs=0,IE=e=>{e.forEach(t=>{t.interactionId&&(yu=Math.min(yu,t.interactionId),bs=Math.max(bs,t.interactionId),up=bs?(bs-yu)/7+1:0)})},Eu,bu=()=>Eu?up:performance.interactionCount||0,lp=()=>{"interactionCount"in performance||Eu||(Eu=nt("event",IE,{type:"event",buffered:!0,durationThreshold:0}))};var Tu=10,dp=0,vE=()=>bu()-dp,Ts=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){dp=bu(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let t=Math.min(this._longestInteractionList.length-1,Math.floor(vE()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;let n=this._longestInteractionList.at(-1),r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Tu||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,i)=>i._latency-o._latency),this._longestInteractionList.length>Tu){let o=this._longestInteractionList.splice(Tu);for(let i of o)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}};var Is=e=>{let t=P.requestIdleCallback||P.setTimeout;P.document?.visibilityState==="hidden"?e():(e=Tn(e),t(e),vn(e))};var wE=[200,500],xE=40,fp=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Ht(()=>{lp();let n=bt("INP"),r,o=kr(t,Ts),i=a=>{Is(()=>{for(let u of a)o._processEntry(u);let c=o._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},s=nt("event",i,{durationThreshold:t.durationThreshold??xE});r=yt(e,n,wE,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),vn(()=>{i(s.takeRecords()),r(!0)}))})};var vs=class{_processEntry(t){this._onBeforeProcessingEntry?.(t)}};var RE=[2500,4e3],pp=(e,t={})=>{Ht(()=>{let n=In(),r=bt("LCP"),o,i=kr(t,vs),s=c=>{t.reportAllChanges||(c=c.slice(-1));for(let u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Et(),0),r.entries=[u],o())},a=nt("largest-contentful-paint",s);if(a){o=yt(e,r,RE,t.reportAllChanges);let c=Tn(()=>{s(a.takeRecords()),a.disconnect(),o(!0)});for(let u of["keydown","click","visibilitychange"])P.document&&addEventListener(u,()=>Is(c),{capture:!0,once:!0})}})};var CE=[800,1800],Iu=e=>{P.document?.prerendering?Ht(()=>Iu(e)):P.document?.readyState!=="complete"?addEventListener("load",()=>Iu(e),!0):setTimeout(e)},mp=(e,t={})=>{let n=bt("TTFB"),r=yt(e,n,CE,t.reportAllChanges);Iu(()=>{let o=on();o&&(n.value=Math.max(o.responseStart-Et(),0),n.entries=[o],r(!0))})};var Bo={},ws={},hp,gp,_p,Sp,yp;function qn(e,t=!1){return Go("cls",e,kE,hp,t)}function Ho(e,t=!1){return Go("lcp",e,NE,_p,t)}function $o(e){return Go("fid",e,AE,gp)}function vu(e){return Go("ttfb",e,ME,Sp)}function Wo(e){return Go("inp",e,OE,yp)}function At(e,t){return Ep(e,t),ws[e]||(LE(e),ws[e]=!0),bp(e,t)}function Ar(e,t){let n=Bo[e];if(n?.length)for(let r of n)try{r(t)}catch(o){rn&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${et(r)}
Error:`,o)}}function kE(){return ap(e=>{Ar("cls",{metric:e}),hp=e},{reportAllChanges:!0})}function AE(){return cp(e=>{Ar("fid",{metric:e}),gp=e})}function NE(){return pp(e=>{Ar("lcp",{metric:e}),_p=e},{reportAllChanges:!0})}function ME(){return mp(e=>{Ar("ttfb",{metric:e}),Sp=e})}function OE(){return fp(e=>{Ar("inp",{metric:e}),yp=e})}function Go(e,t,n,r,o=!1){Ep(e,t);let i;return ws[e]||(i=n(),ws[e]=!0),r&&t({metric:r}),bp(e,t,o?i:void 0)}function LE(e){let t={};e==="event"&&(t.durationThreshold=0),nt(e,n=>{Ar(e,{entries:n})},t)}function Ep(e,t){Bo[e]=Bo[e]||[],Bo[e].push(t)}function bp(e,t,n){return()=>{n&&n();let r=Bo[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Tp(e){return"duration"in e}function xs(e){return typeof e=="number"&&isFinite(e)}function $t(e,t,n,{...r}){let o=L(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),gn(e,()=>{let i=_t({startTime:t,...r});return i&&i.end(n),i})}function Rs(e){let t=b();if(!t)return;let{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=O(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0,m;try{m=l.getScopeData().contexts.profile.profile_id}catch{}let g={release:s,environment:a,user:p||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":P.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return _t({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function zo(){return P.addEventListener&&P.performance}function me(e){return e/1e3}function qo(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function Ip(){let e=0,t,n;if(!PE())return;let r=!1;function o(){r||(r=!0,n&&DE(e,t,n),i())}let i=qn(({metric:s})=>{let a=s.entries[s.entries.length-1];a&&(e=s.value,t=a)},!0);vn(()=>{o()}),setTimeout(()=>{let s=b();if(!s)return;let a=s.on("startNavigationSpan",()=>{o(),a?.()}),c=Z();if(c){let u=K(c);L(u).op==="pageload"&&(n=u.spanContext().spanId)}},0)}function DE(e,t,n){rn&&h.log(`Sending CLS span (${e})`);let r=me((_e()||0)+(t?.startTime||0)),o=O().getScopeData().transactionName,i=t?Oe(t.sources[0]?.node):"Layout shift",s={[J]:"auto.http.browser.cls",[Ee]:"ui.webvital.cls",[Ut]:t?.duration||0,"sentry.pageload.span_id":n},a=Rs({name:i,transaction:o,attributes:s,startTime:r});a&&(a.addEvent("cls",{[pn]:"",[mn]:e}),a.end(r))}function PE(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}var FE=2147483647,vp=0,Me={},rt,ks;function xu({recordClsStandaloneSpans:e}){let t=zo();if(t&&_e()){t.mark&&P.performance.mark("sentry-tracing-init");let n=HE(),r=BE(),o=$E(),i=e?Ip():UE();return()=>{n(),r(),o(),i?.()}}return()=>{}}function Ru(){At("longtask",({entries:e})=>{let t=Z();if(!t)return;let{op:n,start_timestamp:r}=L(t);for(let o of e){let i=me(_e()+o.startTime),s=me(o.duration);n==="navigation"&&r&&i<r||$t(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[J]:"auto.ui.browser.metrics"}})}})}function Cu(){new PerformanceObserver(t=>{let n=Z();if(n)for(let r of t.getEntries()){if(!r.scripts[0])continue;let o=me(_e()+r.startTime),{start_timestamp:i,op:s}=L(n);if(s==="navigation"&&i&&o<i)continue;let a=me(r.duration),c={[J]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:m}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),m!==-1&&(c["browser.script.source_char_position"]=m),$t(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function ku(){At("event",({entries:e})=>{let t=Z();if(t){for(let n of e)if(n.name==="click"){let r=me(_e()+n.startTime),o=me(n.duration),i={name:Oe(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[J]:"auto.ui.browser.metrics"}},s=Xr(n.target);s&&(i.attributes["ui.component_name"]=s),$t(t,r,r+o,i)}}})}function UE(){return qn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Me.cls={value:e.value,unit:""},ks=t)},!0)}function BE(){return Ho(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Me.lcp={value:e.value,unit:"millisecond"},rt=t)},!0)}function HE(){return $o(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=me(_e()),r=me(t.startTime);Me.fid={value:e.value,unit:"millisecond"},Me["mark.fid"]={value:n+r,unit:"second"}})}function $E(){return vu(({metric:e})=>{e.entries[e.entries.length-1]&&(Me.ttfb={value:e.value,unit:"millisecond"})})}function Au(e,t){let n=zo(),r=_e();if(!n?.getEntries||!r)return;let o=me(r),i=n.getEntries(),{op:s,start_timestamp:a}=L(e);if(i.slice(vp).forEach(c=>{let u=me(c.startTime),d=me(Math.max(0,c.duration));if(!(s==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{GE(e,c,o);break}case"mark":case"paint":case"measure":{WE(e,c,u,d,o,t.ignorePerformanceApiSpans);let l=In(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(Me.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(Me.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{jE(e,c,c.name,u,d,o,t.ignoreResourceSpans);break}}}),vp=Math.max(i.length-1,0),VE(e),s==="pageload"){JE(Me);let c=Me["mark.fid"];c&&Me.fid&&($t(e,c.value,c.value+me(Me.fid.value),{name:"first input delay",op:"ui.action",attributes:{[J]:"auto.ui.browser.metrics"}}),delete Me["mark.fid"]),(!("fcp"in Me)||!t.recordClsOnPageloadSpan)&&delete Me.cls,Object.entries(Me).forEach(([u,d])=>{lo(u,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",Et()),YE(e)}rt=void 0,ks=void 0,Me={}}function WE(e,t,n,r,o,i){if(["mark","measure"].includes(t.entryType)&&ke(t.name,i))return;let s=on(!1),a=me(s?s.requestStart:0),c=o+Math.max(n,a),u=o+n,d=u+r,l={[J]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),c<=d&&$t(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function GE(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Cs(e,t,r,n)}),Cs(e,t,"secureConnection",n,"TLS/SSL"),Cs(e,t,"fetch",n,"cache"),Cs(e,t,"domainLookup",n,"DNS"),qE(e,t,n)}function Cs(e,t,n,r,o=n){let i=zE(n),s=t[i],a=t[`${n}Start`];!a||!s||$t(e,r+me(a),r+me(s),{op:`browser.${o}`,name:t.name,attributes:{[J]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function zE(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function qE(e,t,n){let r=n+me(t.requestStart),o=n+me(t.responseEnd),i=n+me(t.responseStart);t.responseEnd&&($t(e,r,o,{op:"browser.request",name:t.name,attributes:{[J]:"auto.ui.browser.metrics"}}),$t(e,i,o,{op:"browser.response",name:t.name,attributes:{[J]:"auto.ui.browser.metrics"}}))}function jE(e,t,n,r,o,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;let c=Ct(n),u={[J]:"auto.resource.browser.metrics"};wu(u,t,"transferSize","http.response_transfer_size"),wu(u,t,"encodedBodySize","http.response_content_length"),wu(u,t,"decodedBodySize","http.decoded_response_content_length");let d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);let l=t.renderBlockingStatus;l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(P.location.origin);let{name:f,version:p}=qo(t.nextHopProtocol);u["network.protocol.name"]=f,u["network.protocol.version"]=p;let m=i+r,g=m+o;$t(e,m,g,{name:n.replace(P.location.origin,""),op:a,attributes:u})}function VE(e){let t=P.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),xs(n.rtt)&&(Me["connection.rtt"]={value:n.rtt,unit:"millisecond"})),xs(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),xs(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function YE(e){rt&&(rt.element&&e.setAttribute("lcp.element",Oe(rt.element)),rt.id&&e.setAttribute("lcp.id",rt.id),rt.url&&e.setAttribute("lcp.url",rt.url.trim().slice(0,200)),rt.loadTime!=null&&e.setAttribute("lcp.loadTime",rt.loadTime),rt.renderTime!=null&&e.setAttribute("lcp.renderTime",rt.renderTime),e.setAttribute("lcp.size",rt.size)),ks?.sources&&ks.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Oe(t.node)))}function wu(e,t,n,r){let o=t[n];o!=null&&o<FE&&(e[r]=o)}function JE(e){let t=on(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}var KE=1e3,wp,Nu,Mu;function jo(e){let t="dom";Pe(t,e),Fe(t,XE)}function XE(){if(!P.document)return;let e=Ie.bind(null,"dom"),t=xp(e,!0);P.document.addEventListener("click",t,!1),P.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let o=P[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(he(o,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){let l=xp(e);d.handler=l,i.call(this,s,l,c)}d.refCount++}catch{}return i.call(this,s,a,c)}}),he(o,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,c)}}))})}function ZE(e){if(e.type!==Nu)return!1;try{if(!e.target||e.target._sentryId!==Mu)return!1}catch{}return!0}function QE(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function xp(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=eb(n);if(QE(n.type,r))return;de(n,"_sentryCaptured",!0),r&&!r._sentryId&&de(r,"_sentryId",fe());let o=n.type==="keypress"?"input":n.type;ZE(n)||(e({event:n,name:o,global:t}),Nu=n.type,Mu=r?r._sentryId:void 0),clearTimeout(wp),wp=P.setTimeout(()=>{Mu=void 0,Nu=void 0},KE)}}function eb(e){try{return e.target}catch{return null}}var As;function sn(e){let t="history";Pe(t,e),Fe(t,tb)}function tb(){if(P.addEventListener("popstate",()=>{let t=P.location.href,n=As;if(As=t,n===t)return;Ie("history",{from:n,to:t})}),!zc())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let o=As,i=nb(String(r));if(As=i,o===i)return t.apply(this,n);Ie("history",{from:o,to:i})}return t.apply(this,n)}}he(P.history,"pushState",e),he(P.history,"replaceState",e)}function nb(e){try{return new URL(e,P.location.origin).toString()}catch{return e}}var Ns={};function Nr(e){let t=Ns[e];if(t)return t;let n=P[e];if(No(n))return Ns[e]=n.bind(P);let r=P.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){rn&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(Ns[e]=n.bind(P))}function Ms(e){Ns[e]=void 0}function wn(...e){return Nr("setTimeout")(...e)}var Ve="__sentry_xhr_v3__";function jn(e){let t="xhr";Pe(t,e),Fe(t,rb)}function rb(){if(!P.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let o=new Error,i=oe()*1e3,s=xe(r[0])?r[0].toUpperCase():void 0,a=ob(r[1]);if(!s||!a)return t.apply(n,r);n[Ve]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let c=()=>{let u=n[Ve];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}let d={endTimestamp:oe()*1e3,startTimestamp:i,xhr:n,virtualError:o};Ie("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){let[f,p]=l,m=d[Ve];return m&&xe(f)&&xe(p)&&(m.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let o=n[Ve];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);let i={startTimestamp:oe()*1e3,xhr:n};return Ie("xhr",i),t.apply(n,r)}})}function ob(e){if(xe(e))return e;try{return e.toString()}catch{}}function Os(e){return new URLSearchParams(e).toString()}function Vn(e,t=h){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Os(e)];if(!e)return[void 0]}catch(n){return rn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return rn&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Mr(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var Ou=[],Ls=new Map,ib=60;function Lu(){if(zo()&&_e()){let t=sb();return()=>{t()}}return()=>{}}var Rp={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function sb(){return Wo(ab)}var ab=({metric:e})=>{if(e.value==null)return;let t=me(e.value);if(t>ib)return;let n=e.entries.find(m=>m.duration===e.value&&Rp[m.name]);if(!n)return;let{interactionId:r}=n,o=Rp[n.name],i=me(_e()+n.startTime),s=Z(),a=s?K(s):void 0,u=(r!=null?Ls.get(r):void 0)||a,d=u?L(u).description:O().getScopeData().transactionName,l=Oe(n.target),f={[J]:"auto.http.browser.inp",[Ee]:`ui.interaction.${o}`,[Ut]:n.duration},p=Rs({name:l,transaction:d,attributes:f,startTime:i});p&&(p.addEvent("inp",{[pn]:"millisecond",[mn]:e.value}),p.end(i+t))};function Du(){let e=({entries:t})=>{let n=Z(),r=n&&K(n);t.forEach(o=>{if(!Tp(o)||!r)return;let i=o.interactionId;if(i!=null&&!Ls.has(i)){if(Ou.length>10){let s=Ou.shift();Ls.delete(s)}Ou.push(i),Ls.set(i,r)}})};At("event",e),At("first-input",e)}function Or(e,t=Nr("fetch")){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Ms("fetch"),_n("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Ms("fetch"),n-=s,r--,_n(c)}}return Io(e,o)}var cb=10,ub=20,lb=30,db=40,fb=50;function Lr(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?ct:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var pb=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,mb=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,hb=/\((\S*)(?::(\d+))(?::(\d+))\)/,gb=e=>{let t=pb.exec(e);if(t){let[,r,o,i]=t;return Lr(r,ct,+o,+i)}let n=mb.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let s=hb.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}let[o,i]=Np(n[1]||ct,n[2]);return Lr(i,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Pu=[lb,gb],_b=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Sb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,yb=e=>{let t=_b.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=Sb.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||ct;return[o,r]=Np(o,r),Lr(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Fu=[fb,yb],Eb=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,bb=e=>{let t=Eb.exec(e);return t?Lr(t[2],t[1]||ct,+t[3],t[4]?+t[4]:void 0):void 0},Cp=[db,bb],Tb=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Ib=e=>{let t=Tb.exec(e);return t?Lr(t[2],t[3]||ct,+t[1]):void 0},kp=[cb,Ib],vb=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,wb=e=>{let t=vb.exec(e);return t?Lr(t[5],t[3]||t[4]||ct,+t[1],+t[2]):void 0},Ap=[ub,wb],Uu=[Pu,Fu],Ds=Ci(...Uu),Np=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ct,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Mp(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:tt(r)}},i=xb(e);return Ne(o,[i])}function xb(e){return[{type:"user_report"},e]}var B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Ps=1024,Rb="Breadcrumbs",Cb=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Rb,setup(n){t.console&&Un(Nb(n)),t.dom&&jo(Ab(n,t.dom)),t.xhr&&jn(Mb(n)),t.fetch&&Hn(Ob(n)),t.history&&sn(Lb(n)),t.sentry&&n.on("beforeSendEvent",kb(n))}}},Fs=Cb;function kb(e){return function(n){b()===e&&je({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Dt(n)},{event:n})}}function Ab(e,t){return function(r){if(b()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Ps&&(B&&h.warn(`\`dom.maxStringLength\` cannot exceed ${Ps}, but a value of ${a} was configured. Sentry will use ${Ps} instead.`),a=Ps),typeof s=="string"&&(s=[s]);try{let u=r.event,d=Db(u)?u.target:u;o=Oe(d,{keyAttrs:s,maxStringLength:a}),i=Xr(d)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),je(c,{event:r.event,name:r.name,global:r.global})}}function Nb(e){return function(n){if(b()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:Bn(n.level),message:Vt(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Vt(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;je(r,{input:n.args,level:n.level})}}function Mb(e){return function(n){if(b()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Ve];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},f={category:"xhr",data:d,type:"http",level:rs(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),je(f,l)}}function Ob(e){return function(n){if(b()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),je(a,s)}else{let i=n.response,s={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;let a={input:n.args,response:i,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:s,type:"http",level:rs(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),je(c,a)}}}function Lb(e){return function(n){if(b()!==e)return;let r=n.from,o=n.to,i=Ct(A.location.href),s=r?Ct(r):void 0,a=Ct(o);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),je({category:"navigation",data:{from:r,to:o}})}}function Db(e){return!!e&&!!e.target}var Pb=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Fb="BrowserApiErrors",Ub=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Fb,setupOnce(){t.setTimeout&&he(A,"setTimeout",Op),t.setInterval&&he(A,"setInterval",Op),t.requestAnimationFrame&&he(A,"requestAnimationFrame",Bb),t.XMLHttpRequest&&"XMLHttpRequest"in A&&he(XMLHttpRequest.prototype,"send",Hb);let n=t.eventTarget;n&&(Array.isArray(n)?n:Pb).forEach(o=>$b(o,t))}}},Us=Ub;function Op(e){return function(...t){let n=t[0];return t[0]=zn(n,{mechanism:{data:{function:et(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Bb(e){return function(t){return e.apply(this,[zn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:et(e)},handled:!1,type:"instrument"}})])}}function Hb(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&he(n,o,function(i){let s={mechanism:{data:{function:o,handler:et(i)},handled:!1,type:"instrument"}},a=On(i);return a&&(s.mechanism.data.handler=et(a)),zn(i,s)})}),e.apply(this,t)}}function $b(e,t){let r=A[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(he(r,"addEventListener",function(o){return function(i,s,a){try{Wb(s)&&(s.handleEvent=zn(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:et(s),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&Gb(this,i,s),o.apply(this,[i,zn(s,{mechanism:{data:{function:"addEventListener",handler:et(s),target:e},handled:!1,type:"instrument"}}),a])}}),he(r,"removeEventListener",function(o){return function(i,s,a){try{let c=s.__sentry_wrapped__;c&&o.call(this,i,c,a)}catch{}return o.call(this,i,s,a)}}))}function Wb(e){return typeof e.handleEvent=="function"}function Gb(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var Bs=()=>({name:"BrowserSession",setupOnce(){if(typeof A.document>"u"){B&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}hr({ignoreDuration:!0}),gr(),sn(({from:e,to:t})=>{e!==void 0&&e!==t&&(hr({ignoreDuration:!0}),gr())})}});var zb="GlobalHandlers",qb=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:zb,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(jb(n),Lp("onerror")),t.onunhandledrejection&&(Vb(n),Lp("onunhandledrejection"))}}},Hs=qb;function jb(e){io(t=>{let{stackParser:n,attachStacktrace:r}=Dp();if(b()!==e||fu())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=Kb(Ss(n,c||o,void 0,r,!1),i,s,a);u.level="error",tn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Vb(e){so(t=>{let{stackParser:n,attachStacktrace:r}=Dp();if(b()!==e||fu())return;let o=Yb(t),i=Nn(o)?Jb(o):Ss(n,o,void 0,r,!0);i.level="error",tn(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Yb(e){if(Nn(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Jb(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Kb(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=xe(t)&&t.length>0?t:Ge();return c.length===0&&c.push({colno:u,filename:l,function:ct,in_app:!0,lineno:d}),e}function Lp(e){B&&h.log(`Global Handler attached: ${e}`)}function Dp(){return b()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var $s=()=>({name:"HttpContext",preprocessEvent(e){if(!A.navigator&&!A.location&&!A.document)return;let t=Fo(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});var Xb="cause",Zb=5,Qb="LinkedErrors",eT=(e={})=>{let t=e.limit||Zb,n=e.key||Xb;return{name:Qb,preprocessEvent(r,o,i){let s=i.getOptions();Oc(Rr,s.stackParser,n,t,r,o)}}},Ws=eT;function Pp(){return tT()?(B&&Ze(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function tT(){if(typeof A.window>"u")return!1;let e=A;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;let n=Ge(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(A===A.top&&r.some(i=>n.startsWith(`${i}://`)))}function Bu(e){return[xo(),wo(),Us(),Fs(),Hs(),Ws(),Ro(),$s(),Bs()]}function Fp(e={}){let t=!e.skipBrowserExtensionCheck&&Pp(),n={...e,enabled:t?!1:e.enabled,stackParser:Wa(e.stackParser||Ds),integrations:_c({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Bu():e.defaultIntegrations}),transport:e.transport||Or};return Tc(Cr,n)}function Up(){}function Bp(e){e()}function Hp(e={}){let t=A.document,n=t?.head||t?.body;if(!n){B&&h.error("[showReportDialog] Global document not defined");return}let r=O(),i=b()?.getDsn();if(!i){B&&h.error("[showReportDialog] DSN not configured");return}let s={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||ho()},a=A.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=gc(i,s);let{onLoad:c,onClose:u}=s;if(c&&(a.onload=c),u){let d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{A.removeEventListener("message",d)}};A.addEventListener("message",d)}n.appendChild(a)}var nT=w,rT="ReportingObserver",$p=new WeakMap,oT=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if($p.has(b()))for(let o of r)we(i=>{i.setExtra("url",o.url);let s=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(i.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}Sn(`${s}: ${a}`)})}return{name:rT,setupOnce(){if(!qc())return;new nT.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){$p.set(r,!0)}}},Wp=oT;var iT="HttpClient",sT=(e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:iT,setup(n){mT(n,t),hT(n,t)}}},zp=sT;function aT(e,t,n,r,o){if(jp(e,n.status,n.url)){let i=gT(t,r),s,a,c,u;Yp()&&([s,c]=Gp("Cookie",i),[a,u]=Gp("Set-Cookie",n));let d=Vp({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:a,requestCookies:c,responseCookies:u,error:o});tn(d)}}function Gp(e,t){let n=lT(t.headers),r;try{let o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=qp(o))}catch{}return[n,r]}function cT(e,t,n,r,o){if(jp(e,t.status,t.responseURL)){let i,s,a;if(Yp()){try{let u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(s=qp(u))}catch{}try{a=dT(t)}catch{}i=r}let c=Vp({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:a,responseCookies:s,error:o});tn(c)}}function uT(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function qp(e){return e.split("; ").reduce((t,n)=>{let[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function lT(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function dT(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function fT(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function pT(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function mT(e,t){Mo()&&Hn(n=>{if(b()!==e)return;let{response:r,args:o,error:i,virtualError:s}=n,[a,c]=o;r&&aT(t,a,r,c,i||s)},!1)}function hT(e,t){"XMLHttpRequest"in w&&jn(n=>{if(b()!==e)return;let{error:r,virtualError:o}=n,i=n.xhr,s=i[Ve];if(!s)return;let{method:a,request_headers:c}=s;try{cT(t,i,a,c,r||o)}catch(u){B&&h.warn("Error while extracting response event form XHR response",u)}})}function jp(e,t,n){return pT(e.failedRequestStatusCodes,t)&&fT(e.failedRequestTargets,n)&&!vo(n,b())}function Vp(e){let t=b(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,i={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:uT(e.responseHeaders)}}};return Qe(i,{type:"http.client",handled:!1}),i}function gT(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Yp(){let e=b();return e?!!e.getOptions().sendDefaultPii:!1}var Hu=w,_T=7,ST="ContextLines",yT=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:_T;return{name:ST,processEvent(n){return ET(n,t)}}},Jp=yT;function ET(e,t){let n=Hu.document,r=Hu.location&&ko(Hu.location.href);if(!n||!r)return e;let o=e.exception?.values;if(!o?.length)return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>bT(u,s,r,t)))}),e}function bT(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Na(t,e,r),e}var TT="GraphQLClient",IT=e=>({name:TT,setup(t){vT(t,e),wT(t,e)}});function vT(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let i=L(n).data||{};if(!(i[Ee]==="http.client"))return;let c=i[Pa]||i["http.url"],u=i[Da]||i["http.method"];if(!xe(c)||!xe(u))return;let{endpoints:d}=t,l=ke(c,d),f=Xp(r);if(l&&f){let p=Zp(f);if(p){let m=Kp(p);n.updateName(`${u} ${c} (${m})`),n.setAttribute("graphql.document",f)}}})}function wT(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:o,type:i,data:s}=n;if(i==="http"&&(o==="fetch"||o==="xhr")){let d=s?.url,{endpoints:l}=t,f=ke(d,l),p=Xp(r);if(f&&s&&p){let m=Zp(p);if(!s.graphql&&m){let g=Kp(m);s["graphql.document"]=m.query,s["graphql.operation"]=g}}}})}function Kp(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=xT(t);return r?`${o} ${r}`:`${o}`}function Xp(e){let t="xhr"in e,n;if(t){let r=e.xhr[Ve];n=r&&Vn(r.body)[0]}else{let r=Mr(e.input);n=Vn(r)[0]}return n}function xT(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function Zp(e){let t;try{let n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}var Qp=IT;var le=w,ml="sentryReplaySession",RT="replay_event",hl="Unable to send Replay",CT=3e5,kT=9e5,AT=5e3,NT=5500,MT=6e4,OT=5e3,LT=3,em=15e4,Gs=5e3,DT=3e3,PT=300,gl=2e7,FT=4999,UT=15e3,tm=36e5,BT=Object.defineProperty,HT=(e,t,n)=>t in e?BT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nm=(e,t,n)=>HT(e,typeof t!="symbol"?t+"":t,n),Re=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Re||{});function $T(e){return e.nodeType===e.ELEMENT_NODE}function Jo(e){return e?.host?.shadowRoot===e}function Ko(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function WT(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function GT(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Js(e){try{let t=e.rules||e.cssRules;return t?WT(Array.from(t,vm).join("")):null}catch{return null}}function zT(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function vm(e){let t;if(jT(e))try{t=Js(e.styleSheet)||GT(e)}catch{}else if(VT(e)){let n=e.cssText,r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=zT(e)),r&&(n=qT(n)),r||o)return n}return t||e.cssText}function qT(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function jT(e){return"styleSheet"in e}function VT(e){return"selectorText"in e}var Ks=class{constructor(){nm(this,"idNodeMap",new Map),nm(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function YT(){return new Ks}function aa({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Zo({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Wr(e){return e.toLowerCase()}function qu(e){return e.toUpperCase()}var rm="__rrweb_original__";function JT(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=rm in i?i[rm]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function _l(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Wr(t):null}function Xs(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function wm(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}var om={};function xm(e){let t=om[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return om[e]=r.bind(window)}function ju(...e){return xm("setTimeout")(...e)}function Rm(...e){return xm("clearTimeout")(...e)}function Cm(e){try{return e.contentDocument}catch{}}var KT=1,XT=new RegExp("[^a-z0-9-_:]"),Qo=-2;function Sl(){return KT++}function ZT(e){if(e instanceof HTMLFormElement)return"form";let t=Wr(e.tagName);return XT.test(t)?"div":t}function QT(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Dr,im,eI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,tI=/^(?:[a-z+]+:)?\/\//i,nI=/^www\..*/i,rI=/^(data:)([^,]*),(.*)/i;function Zs(e,t){return(e||"").replace(eI,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if(tI.test(c)||nI.test(c))return`url(${u}${c}${u})`;if(rI.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${QT(t)+c}${u})`;let d=t.split("/"),l=c.split("/");d.pop();for(let f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}var oI=/^[^ \t\n\r\u000c]+/,iI=/^[, \t\n\r\u000c]+/;function sI(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(iI),!(n>=t.length);){let i=r(oI);if(i.slice(-1)===",")i=Ur(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=Ur(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}var sm=new WeakMap;function Ur(e,t){return!t||t.trim()===""?t:ca(e,t)}function aI(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function ca(e,t){let n=sm.get(e);if(n||(n=e.createElement("a"),sm.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function km(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Ur(e,r):n==="srcset"?sI(e,r):n==="style"?Zs(r,ca(e)):t==="object"&&n==="data"?Ur(e,r):typeof i=="function"?i(n,r,o):r)}function Am(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Nm(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function cI(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Yn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Yn(e.parentNode,t,n,r+1)}function Br(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(cI(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Gr(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=Yn(s,Br(r,o)),c<0)return!0;a=Yn(s,Br(t,n),c>=0?c:1/0)}else{if(a=Yn(s,Br(t,n)),a<0)return!1;c=Yn(s,Br(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function uI(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=ju(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{Rm(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return ju(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function lI(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=ju(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Rm(i),r=!0,t()})}function dI(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:g,maskInputFn:_,dataURLOptions:S={},inlineImages:E,recordCanvas:$,keepIframeSrcFn:k,newlyAddedElement:D=!1}=t,y=fI(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Re.Document,childNodes:[],compatMode:e.compatMode}:{type:Re.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Re.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return mI(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:m,maskInputFn:_,dataURLOptions:S,inlineImages:E,recordCanvas:$,keepIframeSrcFn:k,newlyAddedElement:D,rootId:y,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return pI(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:m,maskInputFn:_,rootId:y});case e.CDATA_SECTION_NODE:return{type:Re.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:Re.Comment,textContent:e.textContent||"",rootId:y};default:return!1}}function fI(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function pI(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName,f=e.textContent,p=l==="STYLE"?!0:void 0,m=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=Js(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}f=Zs(f,ca(t.doc))}m&&(f="SCRIPT_PLACEHOLDER");let _=Gr(e,r,i,o,s,n);if(!p&&!m&&!g&&f&&_&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||_)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){let S=aa({type:null,tagName:l,maskInputOptions:c});f=Zo({isMasked:Gr(e,r,i,o,s,S),element:e,value:f,maskInputFn:u})}return{type:Re.Text,textContent:f||"",isStyle:p,rootId:d}}function mI(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:g,maskTextClass:_,unmaskTextClass:S,maskTextSelector:E,unmaskTextSelector:$}=t,k=Nm(e,r,o,i),D=ZT(e),y={},x=e.attributes.length;for(let T=0;T<x;T++){let C=e.attributes[T];C.name&&!Am(D,C.name,C.value)&&(y[C.name]=km(n,D,Wr(C.name),C.value,e,c))}if(D==="link"&&s){let T=Array.from(n.styleSheets).find(M=>M.href===e.href),C=null;T&&(C=Js(T)),C&&(y.rel=null,y.href=null,y.crossorigin=null,y._cssText=Zs(C,T.href))}if(D==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let T=Js(e.sheet);T&&(y._cssText=Zs(T,ca(n)))}if(D==="input"||D==="textarea"||D==="select"||D==="option"){let T=e,C=_l(T),M=Xs(T,qu(D),C),v=T.checked;if(C!=="submit"&&C!=="button"&&M){let R=Gr(T,_,E,S,$,aa({type:C,tagName:qu(D),maskInputOptions:a}));y.value=Zo({isMasked:R,element:T,value:M,maskInputFn:u})}v&&(y.checked=v)}if(D==="option"&&(e.selected&&!a.select?y.selected=!0:delete y.selected),D==="canvas"&&f){if(e.__context==="2d")JT(e)||(y.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let T=e.toDataURL(d.type,d.quality),C=n.createElement("canvas");C.width=e.width,C.height=e.height;let M=C.toDataURL(d.type,d.quality);T!==M&&(y.rr_dataURL=T)}}if(D==="img"&&l){Dr||(Dr=n.createElement("canvas"),im=Dr.getContext("2d"));let T=e,C=T.currentSrc||T.getAttribute("src")||"<unknown-src>",M=T.crossOrigin,v=()=>{T.removeEventListener("load",v);try{Dr.width=T.naturalWidth,Dr.height=T.naturalHeight,im.drawImage(T,0,0),y.rr_dataURL=Dr.toDataURL(d.type,d.quality)}catch(R){if(T.crossOrigin!=="anonymous"){T.crossOrigin="anonymous",T.complete&&T.naturalWidth!==0?v():T.addEventListener("load",v);return}else console.warn(`Cannot inline img src=${C}! Error: ${R}`)}T.crossOrigin==="anonymous"&&(M?y.crossOrigin=M:T.removeAttribute("crossorigin"))};T.complete&&T.naturalWidth!==0?v():T.addEventListener("load",v)}if((D==="audio"||D==="video")&&(y.rr_mediaState=e.paused?"paused":"played",y.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop)),k){let{width:T,height:C}=e.getBoundingClientRect();y={class:y.class,rr_width:`${T}px`,rr_height:`${C}px`}}D==="iframe"&&!p(y.src)&&(!k&&!Cm(e)&&(y.rr_src=y.src),delete y.src);let N;try{customElements.get(D)&&(N=!0)}catch{}return{type:Re.Element,tagName:D,attributes:y,childNodes:[],isSVG:aI(e)||void 0,needBlock:k,rootId:g,isCustom:N}}function ue(e){return e==null?"":e.toLowerCase()}function hI(e,t){if(t.comment&&e.type===Re.Comment)return!0;if(e.type===Re.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&wm(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ue(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ue(e.attributes.name)==="application-name"||ue(e.attributes.rel)==="icon"||ue(e.attributes.rel)==="apple-touch-icon"||ue(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ue(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ue(e.attributes.property).match(/^(og|twitter|fb):/)||ue(e.attributes.name).match(/^(og|twitter):/)||ue(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ue(e.attributes.name)==="robots"||ue(e.attributes.name)==="googlebot"||ue(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ue(e.attributes.name)==="author"||ue(e.attributes.name)==="generator"||ue(e.attributes.name)==="framework"||ue(e.attributes.name)==="publisher"||ue(e.attributes.name)==="progid"||ue(e.attributes.property).match(/^article:/)||ue(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ue(e.attributes.name)==="google-site-verification"||ue(e.attributes.name)==="yandex-verification"||ue(e.attributes.name)==="csrf-token"||ue(e.attributes.name)==="p:domain_verify"||ue(e.attributes.name)==="verify-v1"||ue(e.attributes.name)==="verification"||ue(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Hr(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:$={},inlineImages:k=!1,recordCanvas:D=!1,onSerialize:y,onIframeLoad:x,iframeLoadTimeout:N=5e3,onStylesheetLoad:T,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:M=()=>!1,newlyAddedElement:v=!1}=t,{preserveWhiteSpace:R=!0}=t,U=dI(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,dataURLOptions:$,inlineImages:k,recordCanvas:D,keepIframeSrcFn:M,newlyAddedElement:v});if(!U)return console.warn(e,"not serialized"),null;let q;r.hasNode(e)?q=r.getId(e):hI(U,E)||!R&&U.type===Re.Text&&!U.isStyle&&!U.textContent.replace(/^\s+|\s+$/gm,"").length?q=Qo:q=Sl();let F=Object.assign(U,{id:q});if(r.add(e,F),q===Qo)return null;y&&y(e);let te=!f;if(F.type===Re.Element){te=te&&!F.needBlock,delete F.needBlock;let H=e.shadowRoot;H&&Ko(H)&&(F.isShadowHost=!0)}if((F.type===Re.Document||F.type===Re.Element)&&te){E.headWhitespace&&F.type===Re.Element&&F.tagName==="head"&&(R=!1);let H={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:$,inlineImages:k,recordCanvas:D,preserveWhiteSpace:R,onSerialize:y,onIframeLoad:x,iframeLoadTimeout:N,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:M};for(let Q of Array.from(e.childNodes)){let ne=Hr(Q,H);ne&&F.childNodes.push(ne)}if($T(e)&&e.shadowRoot)for(let Q of Array.from(e.shadowRoot.childNodes)){let ne=Hr(Q,H);ne&&(Ko(e.shadowRoot)&&(ne.isShadow=!0),F.childNodes.push(ne))}}return e.parentNode&&Jo(e.parentNode)&&Ko(e.parentNode)&&(F.isShadow=!0),F.type===Re.Element&&F.tagName==="iframe"&&!Nm(e,o,i,s)&&uI(e,()=>{let H=Cm(e);if(H&&x){let Q=Hr(H,{doc:H,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:$,inlineImages:k,recordCanvas:D,preserveWhiteSpace:R,onSerialize:y,onIframeLoad:x,iframeLoadTimeout:N,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:M});Q&&x(e,Q)}},N),F.type===Re.Element&&F.tagName==="link"&&typeof F.attributes.rel=="string"&&(F.attributes.rel==="stylesheet"||F.attributes.rel==="preload"&&typeof F.attributes.href=="string"&&wm(F.attributes.href)==="css")&&lI(e,()=>{if(T){let H=Hr(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E,dataURLOptions:$,inlineImages:k,recordCanvas:D,preserveWhiteSpace:R,onSerialize:y,onIframeLoad:x,iframeLoadTimeout:N,onStylesheetLoad:T,stylesheetLoadTimeout:C,keepIframeSrcFn:M});H&&T(e,H)}},C),F}function gI(e,t){let{mirror:n=new Ks,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOM:E=!1,dataURLOptions:$,preserveWhiteSpace:k,onSerialize:D,onIframeLoad:y,iframeLoadTimeout:x,onStylesheetLoad:N,stylesheetLoadTimeout:T,keepIframeSrcFn:C=()=>!1}=t||{};return Hr(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:$,inlineImages:f,recordCanvas:p,preserveWhiteSpace:k,onSerialize:D,onIframeLoad:y,iframeLoadTimeout:x,onStylesheetLoad:N,stylesheetLoadTimeout:T,keepIframeSrcFn:C,newlyAddedElement:!1})}function Je(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Pr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,am={map:{},getId(){return console.error(Pr),-1},getNode(){return console.error(Pr),null},removeNodeFromMap(){console.error(Pr)},has(){return console.error(Pr),!1},reset(){console.error(Pr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(am=new Proxy(am,{get(e,t,n){return t==="map"&&console.error(Pr),Reflect.get(e,t,n)}}));function ei(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(TI(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=ua(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Mm(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){ua(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Mm(e,t,i||{},!0)}function yl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var Qs=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Qs=()=>new Date().getTime());function Om(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Lm(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Dm(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Pm(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ft(e,t,n,r,o){if(!e)return!1;let i=Pm(e);if(!i)return!1;let s=Br(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Yn(i,s),c=-1;return a<0?!1:(r&&(c=Yn(i,Br(null,r))),a>-1&&c<0?!0:a<c)}function _I(e,t){return t.getId(e)!==-1}function $u(e,t){return t.getId(e)===Qo}function Fm(e,t){if(Jo(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Fm(e.parentNode,t):!0:!0}function Vu(e){return!!e.changedTouches}function SI(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Um(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Bm(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Yu(e){return!!e?.shadowRoot}var Ju=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function Hm(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function yI(e){let t=e,n;for(;n=Hm(t);)t=n;return t}function EI(e){let t=e.ownerDocument;if(!t)return!1;let n=yI(e);return t.contains(n)}function $m(e){let t=e.ownerDocument;return t?t.contains(e)||EI(e):!1}var cm={};function El(e){let t=cm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return cm[e]=r.bind(window)}function bI(...e){return El("requestAnimationFrame")(...e)}function ua(...e){return El("setTimeout")(...e)}function TI(...e){return El("clearTimeout")(...e)}var V=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(V||{}),z=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(z||{}),Ye=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ye||{}),an=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(an||{}),Fr=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Fr||{});function bl(e){try{return e.contentDocument}catch{}}function II(e){try{return e.contentWindow}catch{}}function um(e){return"__ln"in e}var Ku=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&um(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&um(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},lm=(e,t)=>`${e}@${t}`,Xu=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new Ku,o=c=>{let u=c,d=Qo;for(;d===Qo;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!$m(c))return;let u=Jo(c.parentNode)?this.mirror.getId(Hm(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);let l=Hr(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Um(f,this.mirror)&&!ft(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Bm(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Yu(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{ft(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)dm(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!fm(this.droppedSet,c)&&!dm(this.removes,c,this.mirror)||fm(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),d=o(s.value);u!==-1&&d!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let d=u;if(u=u.previous,d){let l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{let p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let m=p.parentNode.host;if(this.mirror.getId(m)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!$u(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Gr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Pm(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let s=_l(n),a=n.tagName;o=Xs(n,a,s);let c=aa({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),u=Gr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=Zo({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!bl(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Am(n.tagName,r)&&(i.attributes[r]=km(this.doc,Wr(n.tagName),Wr(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let a of Array.from(n.style)){let c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==s.style.getPropertyValue(a)||u!==s.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(let a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=Jo(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ft(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||$u(n,this.mirror)||!_I(n,this.mirror)||(this.addedSet.has(n)?(Zu(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Fm(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[lm(r,o)]?Zu(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:Jo(t.target)&&Ko(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if($u(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[lm(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ft(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Yu(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Zu(e,t){e.delete(t),t.childNodes.forEach(n=>Zu(e,n))}function dm(e,t,n){return e.length===0?!1:vI(e,t,n)}function vI(e,t,n){let r=t.parentNode;for(;r;){let o=n.getId(r);if(e.some(i=>i.id===o))return!0;r=r.parentNode}return!1}function fm(e,t){return e.size===0?!1:Wm(e,t)}function Wm(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:Wm(e,n):!1}var Xo;function wI(e){Xo=e}function xI(){Xo=void 0}var X=e=>Xo?(...n)=>{try{return e(...n)}catch(r){if(Xo&&Xo(r)===!0)return()=>{};throw r}}:e,$r=[];function ii(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Gm(e,t){let n=new Xu;$r.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);let i=new r(X(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function RI({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=ei(X(l=>{let f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),l),s=[],a=null}),i),u=X(ei(X(l=>{let f=ii(l),{clientX:p,clientY:m}=Vu(l)?l.changedTouches[0]:l;a||(a=Qs()),s.push({x:p,y:m,id:r.getId(f),timeOffset:Qs()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?z.Drag:l instanceof MouseEvent?z.MouseMove:z.TouchMove)}),o,{trailing:!1})),d=[Je("mousemove",u,n),Je("touchmove",u,n),Je("drag",u,n)];return X(()=>{d.forEach(l=>l())})}function CI({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,d=l=>f=>{let p=ii(f);if(ft(p,r,o,i,!0))return;let m=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":m=an.Mouse;break;case"touch":m=an.Touch;break;case"pen":m=an.Pen;break}m===an.Touch?Ye[l]===Ye.MouseDown?g="TouchStart":Ye[l]===Ye.MouseUp&&(g="TouchEnd"):an.Pen}else Vu(f)&&(m=an.Touch);m!==null?(u=m,(g.startsWith("Touch")&&m===an.Touch||g.startsWith("Mouse")&&m===an.Mouse)&&(m=null)):Ye[l]===Ye.Click&&(m=u,u=null);let _=Vu(f)?f.changedTouches[0]:f;if(!_)return;let S=n.getId(p),{clientX:E,clientY:$}=_;X(e)({type:Ye[g],id:S,x:E,y:$,...m!==null&&{pointerType:m}})};return Object.keys(Ye).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Wr(l),p=d(l);if(window.PointerEvent)switch(Ye[l]){case Ye.MouseDown:case Ye.MouseUp:f=f.replace("mouse","pointer");break;case Ye.TouchStart:case Ye.TouchEnd:return}c.push(Je(f,p,t))}),X(()=>{c.forEach(l=>l())})}function zm({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=X(ei(X(c=>{let u=ii(c);if(!u||ft(u,r,o,i,!0))return;let d=n.getId(u);if(u===t&&t.defaultView){let l=Om(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return Je("scroll",a,t)}function kI({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=X(ei(X(()=>{let i=Lm(),s=Dm();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return Je("resize",o,t)}var AI=["INPUT","TEXTAREA","SELECT"],pm=new WeakMap;function NI({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:g}){function _(x){let N=ii(x),T=x.isTrusted,C=N&&qu(N.tagName);if(C==="OPTION"&&(N=N.parentElement),!N||!C||AI.indexOf(C)<0||ft(N,r,o,i,!0))return;let M=N;if(M.classList.contains(s)||a&&M.matches(a))return;let v=_l(N),R=Xs(M,C,v),U=!1,q=aa({maskInputOptions:c,tagName:C,type:v}),F=Gr(N,f,m,p,g,q);(v==="radio"||v==="checkbox")&&(U=N.checked),R=Zo({isMasked:F,element:N,value:R,maskInputFn:u}),S(N,l?{text:R,isChecked:U,userTriggered:T}:{text:R,isChecked:U});let te=N.name;v==="radio"&&te&&U&&t.querySelectorAll(`input[type="radio"][name="${te}"]`).forEach(H=>{if(H!==N){let Q=Zo({isMasked:F,element:H,value:Xs(H,C,v),maskInputFn:u});S(H,l?{text:Q,isChecked:!U,userTriggered:!1}:{text:Q,isChecked:!U})}})}function S(x,N){let T=pm.get(x);if(!T||T.text!==N.text||T.isChecked!==N.isChecked){pm.set(x,N);let C=n.getId(x);X(e)({...N,id:C})}}let $=(d.input==="last"?["change"]:["input","change"]).map(x=>Je(x,X(_),t)),k=t.defaultView;if(!k)return()=>{$.forEach(x=>x())};let D=k.Object.getOwnPropertyDescriptor(k.HTMLInputElement.prototype,"value"),y=[[k.HTMLInputElement.prototype,"value"],[k.HTMLInputElement.prototype,"checked"],[k.HTMLSelectElement.prototype,"value"],[k.HTMLTextAreaElement.prototype,"value"],[k.HTMLSelectElement.prototype,"selectedIndex"],[k.HTMLOptionElement.prototype,"selected"]];return D&&D.set&&$.push(...y.map(x=>Mm(x[0],x[1],{set(){X(_)({target:this,isTrusted:!1})}},!1,k))),X(()=>{$.forEach(x=>x())})}function ea(e){let t=[];function n(r,o){if(zs("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||zs("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||zs("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||zs("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function xn(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function MI({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:X((d,l,f)=>{let[p,m]=f,{id:g,styleId:_}=xn(l,t,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&e({id:g,styleId:_,adds:[{rule:p,index:m}]}),d.apply(l,f)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:X((d,l,f)=>{let[p]=f,{id:m,styleId:g}=xn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:p}]}),d.apply(l,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:X((d,l,f)=>{let[p]=f,{id:m,styleId:g}=xn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:X((d,l,f)=>{let[p]=f,{id:m,styleId:g}=xn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:p}),d.apply(l,f)})}));let c={};qs("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(qs("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),qs("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),qs("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:X((f,p,m)=>{let[g,_]=m,{id:S,styleId:E}=xn(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||E&&E!==-1)&&e({id:S,styleId:E,adds:[{rule:g,index:[...ea(p),_||0]}]}),f.apply(p,m)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:X((f,p,m)=>{let[g]=m,{id:_,styleId:S}=xn(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,removes:[{index:[...ea(p),g]}]}),f.apply(p,m)})})}),X(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function qm({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,i=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return i.get?.call(this)},set(s){let a=i.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),X(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function OI({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:X((a,c,u)=>{let[d,l,f]=u;if(n.has(d))return i.apply(c,[d,l,f]);let{id:p,styleId:m}=xn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:d,value:l,priority:f},index:ea(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:X((a,c,u)=>{let[d]=u;if(n.has(d))return s.apply(c,[d]);let{id:l,styleId:f}=xn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:ea(c.parentRule)}),a.apply(c,u)})}),X(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function LI({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=X(u=>ei(X(d=>{let l=ii(d);if(!l||ft(l,t,n,r,!0))return;let{currentTime:f,volume:p,muted:m,playbackRate:g}=l;e({type:u,id:o.getId(l),currentTime:f,volume:p,muted:m,playbackRate:g})}),i.media||500)),c=[Je("play",a(Fr.Play),s),Je("pause",a(Fr.Pause),s),Je("seeked",a(Fr.Seeked),s),Je("volumechange",a(Fr.VolumeChange),s),Je("ratechange",a(Fr.RateChange),s)];return X(()=>{c.forEach(u=>u())})}function DI({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){let l=new i(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};let s=yl(t.fonts,"add",function(a){return function(c){return ua(X(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),X(()=>{r.forEach(a=>a())})}function PI(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=X(()=>{let u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;let d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){let p=u.getRangeAt(f),{startContainer:m,startOffset:g,endContainer:_,endOffset:S}=p;ft(m,r,o,i,!0)||ft(_,r,o,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(_),endOffset:S})}s({ranges:d})});return c(),Je("selectionchange",c)}function FI({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:yl(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function UI(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Gm(e,e.doc));let o=RI(e),i=CI(e),s=zm(e),a=kI(e,{win:n}),c=NI(e),u=LI(e),d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=MI(e,{win:n}),l=qm(e,e.doc),f=OI(e,{win:n}),e.collectFonts&&(p=DI(e)));let m=PI(e),g=FI(e),_=[];for(let S of e.plugins)_.push(S.observer(S.callback,n,S.options));return X(()=>{$r.forEach(S=>S.reset()),r?.disconnect(),o(),i(),s(),a(),c(),u(),d(),l(),f(),p(),m(),g(),_.forEach(S=>S())})}function zs(e){return typeof window[e]<"u"}function qs(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var ti=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}},Qu=class{constructor(){this.crossOriginIframeMirror=new ti(Sl),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},el=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ti(Sl),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ti(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);let r=bl(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case V.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:V.IncrementalSnapshot,data:{source:z.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case V.Meta:case V.Load:case V.DomContentLoaded:return!1;case V.Plugin:return n;case V.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case V.IncrementalSnapshot:switch(n.data.source){case z.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case z.Drag:case z.TouchMove:case z.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case z.ViewportResize:return!1;case z.MediaInteraction:case z.MouseInteraction:case z.Scroll:case z.CanvasMutation:case z.Input:return this.replaceIds(n.data,t,["id"]),n;case z.StyleSheetRule:case z.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case z.Font:return n;case z.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case z.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Re.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},tl=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},nl=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Ko(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=Gm({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(zm({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),ua(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(qm({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let n=bl(t),r=II(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(yl(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&$m(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Vo=0;Vo<mm.length;Vo++)BI[mm.charCodeAt(Vo)]=Vo;var Vo,ta=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},rl=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ju,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:vm(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},ol=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.active||(this.active=!0,bI(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}},Se,na;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Nt=YT();function cn(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:_,slimDOMOptions:S,maskAttributeFn:E,maskInputFn:$,maskTextFn:k,maxCanvasSize:D=null,packFn:y,sampling:x={},dataURLOptions:N={},mousemoveWait:T,recordDOM:C=!0,recordCanvas:M=!1,recordCrossOriginIframes:v=!1,recordAfter:R=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:U=!1,collectFonts:q=!1,inlineImages:F=!1,plugins:te,keepIframeSrcFn:H=()=>!1,ignoreCSSAttributes:Q=new Set([]),errorHandler:ne,onMutation:Be,getCanvasManager:Xn}=e;wI(ne);let ot=v?window.parent===window:!0,He=!1;if(!ot)try{window.parent.document&&(He=!1)}catch{He=!0}if(ot&&!t)throw new Error("emit function is required");if(!ot&&!He)return()=>{};T!==void 0&&x.mousemove===void 0&&(x.mousemove=T),Nt.reset();let Tt=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},qt=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};SI();let Zn,Qn=0,Jr=ee=>{for(let It of te||[])It.eventProcessor&&(ee=It.eventProcessor(ee));return y&&!He&&(ee=y(ee)),ee};Se=(ee,It)=>{let Y=ee;if(Y.timestamp=Qs(),$r[0]?.isFrozen()&&Y.type!==V.FullSnapshot&&!(Y.type===V.IncrementalSnapshot&&Y.data.source===z.Mutation)&&$r.forEach($e=>$e.unfreeze()),ot)t?.(Jr(Y),It);else if(He){let $e={type:"rrweb",event:Jr(Y),origin:window.location.origin,isCheckout:It};window.parent.postMessage($e,"*")}if(Y.type===V.FullSnapshot)Zn=Y,Qn=0;else if(Y.type===V.IncrementalSnapshot){if(Y.data.source===z.Mutation&&Y.data.isAttachIframe)return;Qn++;let $e=r&&Qn>=r,re=n&&Zn&&Y.timestamp-Zn.timestamp>n;($e||re)&&Ia(!0)}};let un=ee=>{Se({type:V.IncrementalSnapshot,data:{source:z.Mutation,...ee}})},pe=ee=>Se({type:V.IncrementalSnapshot,data:{source:z.Scroll,...ee}}),Ce=ee=>Se({type:V.IncrementalSnapshot,data:{source:z.CanvasMutation,...ee}}),Ot=ee=>Se({type:V.IncrementalSnapshot,data:{source:z.AdoptedStyleSheet,...ee}}),ye=new rl({mutationCb:un,adoptedStyleSheetCb:Ot}),ve=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Qu:new el({mirror:Nt,mutationCb:un,stylesheetManager:ye,recordCrossOriginIframes:v,wrappedEmit:Se});for(let ee of te||[])ee.getMirror&&ee.getMirror({nodeMirror:Nt,crossOriginIframeMirror:ve.crossOriginIframeMirror,crossOriginIframeStyleMirror:ve.crossOriginIframeStyleMirror});let Lt=new ol,kn=$I(Xn,{mirror:Nt,win:window,mutationCb:ee=>Se({type:V.IncrementalSnapshot,data:{source:z.CanvasMutation,...ee}}),recordCanvas:M,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:D,sampling:x.canvas,dataURLOptions:N,errorHandler:ne}),er=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new tl:new nl({mutationCb:un,scrollCb:pe,bypassOptions:{onMutation:Be,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:Tt,dataURLOptions:N,maskAttributeFn:E,maskTextFn:k,maskInputFn:$,recordCanvas:M,inlineImages:F,sampling:x,slimDOMOptions:qt,iframeManager:ve,stylesheetManager:ye,canvasManager:kn,keepIframeSrcFn:H,processedNodeManager:Lt},mirror:Nt}),Ia=(ee=!1)=>{if(!C)return;Se({type:V.Meta,data:{href:window.location.href,width:Dm(),height:Lm()}},ee),ye.reset(),er.init(),$r.forEach(Y=>Y.lock());let It=gI(document,{mirror:Nt,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:Tt,maskAttributeFn:E,maskInputFn:$,maskTextFn:k,slimDOM:qt,dataURLOptions:N,recordCanvas:M,inlineImages:F,onSerialize:Y=>{Um(Y,Nt)&&ve.addIframe(Y),Bm(Y,Nt)&&ye.trackLinkElement(Y),Yu(Y)&&er.addShadowRoot(Y.shadowRoot,document)},onIframeLoad:(Y,$e)=>{ve.attachIframe(Y,$e),Y.contentWindow&&kn.addWindow(Y.contentWindow),er.observeAttachShadow(Y)},onStylesheetLoad:(Y,$e)=>{ye.attachLinkElement(Y,$e)},keepIframeSrcFn:H});if(!It)return console.warn("Failed to snapshot the document");Se({type:V.FullSnapshot,data:{node:It,initialOffset:Om(window)}}),$r.forEach(Y=>Y.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ye.adoptStyleSheets(document.adoptedStyleSheets,Nt.getId(document))};na=Ia;try{let ee=[],It=$e=>X(UI)({onMutation:Be,mutationCb:un,mousemoveCb:(re,va)=>Se({type:V.IncrementalSnapshot,data:{source:va,positions:re}}),mouseInteractionCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.MouseInteraction,...re}}),scrollCb:pe,viewportResizeCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.ViewportResize,...re}}),inputCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.Input,...re}}),mediaInteractionCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.MediaInteraction,...re}}),styleSheetRuleCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.StyleSheetRule,...re}}),styleDeclarationCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.StyleDeclaration,...re}}),canvasMutationCb:Ce,fontCb:re=>Se({type:V.IncrementalSnapshot,data:{source:z.Font,...re}}),selectionCb:re=>{Se({type:V.IncrementalSnapshot,data:{source:z.Selection,...re}})},customElementCb:re=>{Se({type:V.IncrementalSnapshot,data:{source:z.CustomElement,...re}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Tt,inlineStylesheet:m,sampling:x,recordDOM:C,recordCanvas:M,inlineImages:F,userTriggeredOnInput:U,collectFonts:q,doc:$e,maskAttributeFn:E,maskInputFn:$,maskTextFn:k,keepIframeSrcFn:H,blockSelector:i,unblockSelector:s,slimDOMOptions:qt,dataURLOptions:N,mirror:Nt,iframeManager:ve,stylesheetManager:ye,shadowDomManager:er,processedNodeManager:Lt,canvasManager:kn,ignoreCSSAttributes:Q,plugins:te?.filter(re=>re.observer)?.map(re=>({observer:re.observer,options:re.options,callback:va=>Se({type:V.Plugin,data:{plugin:re.name,payload:va}})}))||[]},{});ve.addLoadListener($e=>{try{ee.push(It($e.contentDocument))}catch(re){console.warn(re)}});let Y=()=>{Ia(),ee.push(It(document))};return document.readyState==="interactive"||document.readyState==="complete"?Y():(ee.push(Je("DOMContentLoaded",()=>{Se({type:V.DomContentLoaded,data:{}}),R==="DOMContentLoaded"&&Y()})),ee.push(Je("load",()=>{Se({type:V.Load,data:{}}),R==="load"&&Y()},window))),()=>{ee.forEach($e=>$e()),Lt.destroy(),na=void 0,xI()}}catch(ee){console.warn(ee)}}function HI(e){if(!na)throw new Error("please take full snapshot after start recording");na(e)}cn.mirror=Nt;cn.takeFullSnapshot=HI;function $I(e,t){try{return e?e(t):new ta}catch{return console.warn("Unable to initialize CanvasManager"),new ta}}var hm;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(hm||(hm={}));var WI=3,GI=5;function Tl(e){return e>9999999999?e:e*1e3}function Wu(e){return e>9999999999?e/1e3:e}function si(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:V.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ae(t,10,1e3)}}),t.category==="console")))}var zI="button,a";function jm(e){return e.closest(zI)||e}function Vm(e){let t=Ym(e);return!t||!(t instanceof Element)?t:jm(t)}function Ym(e){return qI(e)?e.target:e}function qI(e){return typeof e=="object"&&!!e&&"target"in e}var Rn;function jI(e){return Rn||(Rn=[],VI()),Rn.push(e),()=>{let t=Rn?Rn.indexOf(e):-1;t>-1&&Rn.splice(t,1)}}function VI(){he(le,"open",function(e){return function(...t){if(Rn)try{Rn.forEach(n=>n())}catch{}return e.apply(le,t)}})}var YI=new Set([z.Mutation,z.StyleSheetRule,z.StyleDeclaration,z.AdoptedStyleSheet,z.CanvasMutation,z.Selection,z.MediaInteraction]);function JI(e,t,n){e.handleClick(t,n)}var il=class{constructor(t,n,r=si){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=jI(()=>{this._lastMutation=gm()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(XI(n,this._ignoreSelector)||!ZI(t))return;let r={timestamp:Wu(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Wu(t)}registerScroll(t=Date.now()){this._lastScroll=Wu(t)}registerClick(t){let n=jm(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=gm();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,d);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=wn(()=>this._checkClicks(),1e3)}},KI=["A","BUTTON","INPUT"];function XI(e,t){return!!(!KI.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function ZI(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function gm(){return Date.now()/1e3}function QI(e,t){try{if(!ev(t))return;let{source:n}=t.data;if(YI.has(n)&&e.registerMutation(t.timestamp),n===z.Scroll&&e.registerScroll(t.timestamp),tv(t)){let{type:r,id:o}=t.data,i=cn.mirror.getNode(o);i instanceof HTMLElement&&r===Ye.Click&&e.registerClick(i)}}catch{}}function ev(e){return e.type===WI}function tv(e){return e.data.source===z.MouseInteraction}function Wt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Il=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Il||{}),nv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function rv(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(nv.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var ov=e=>t=>{if(!e.isEnabled())return;let n=iv(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&JI(e.clickDetector,n,Vm(t.event)),si(e,n)};function Jm(e,t){let n=cn.mirror.getId(e),r=n&&cn.mirror.getNode(n),o=r&&cn.mirror.getMeta(r),i=o&&av(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===Il.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:rv(i.attributes)}}:{}}}function iv(e){let{target:t,message:n}=sv(e);return Wt({category:`ui.${e.name}`,...Jm(t,n)})}function sv(e){let t=e.name==="click",n,r=null;try{r=t?Vm(e.event):Ym(e.event),n=Oe(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function av(e){return e.type===Il.Element}function cv(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=uv(t);n&&si(e,n)}function uv(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||lv(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=Oe(s,{maxStringLength:200})||"<unknown>",d=Jm(s,u);return Wt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function lv(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var dv={resource:gv,paint:mv,navigation:hv};function js(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function fv(e){return e.map(pv).filter(Boolean)}function pv(e){let t=dv[e.entryType];return t?t(e):null}function zr(e){return((_e()||le.performance.timeOrigin)+e)/1e3}function mv(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=zr(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function hv(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:m,type:g}=e;return o===0?null:{type:`${t}.${g}`,start:zr(p),end:zr(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:f}}}function gv(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:zr(i),end:zr(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function _v(e){let t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return la(e,"largest-contentful-paint",n)}function Sv(e){return e.sources!==void 0}function yv(e){let t=[],n=[];for(let r of e.entries)if(Sv(r)){let o=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=cn.mirror.getId(i.node);s&&o.push(s)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return la(e,"cumulative-layout-shift",n,t)}function Ev(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return la(e,"first-input-delay",n)}function bv(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return la(e,"interaction-to-next-paint",n)}function la(e,t,n,r){let o=e.value,i=e.rating,s=zr(o);return{type:"web-vital",name:t,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(a=>cn.mirror.getId(a)):void 0,attributions:r}}}function Tv(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(At(o,n))}),r.push(Ho(js(_v,e)),qn(js(yv,e)),$o(js(Ev,e)),Wo(js(bv,e))),()=>{r.forEach(o=>o())}}var W=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Iv='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function vv(){let e=new Blob([Iv]);return URL.createObjectURL(e)}var _m=["info","warn","error","log"],Ys="[Replay] ";function Gu(e,t="info"){je({category:"console",data:{logger:"replay"},level:t,message:`${Ys}${e}`},{level:t})}function wv(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return W?(_m.forEach(r=>{n[r]=(...o)=>{h[r](Ys,...o),t&&Gu(o.join(""),Bn(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),h.error(Ys,r),e?lt(r):t&&Gu(r,"error")},n.infoTick=(...r)=>{h.info(Ys,...r),t&&setTimeout(()=>Gu(r[0]),0)}):_m.forEach(r=>{n[r]=()=>{}}),n}var G=wv(),ni=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${gl}.`)}},ra=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>gl)throw new ni;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?Tl(t):null}},sl=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){W&&G.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){W&&G.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},al=class{constructor(t){this._worker=new sl(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=Tl(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>gl?Promise.reject(new ni):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{W&&G.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},cl=class{constructor(t){this._fallback=new ra,this._compression=new al(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){W&&G.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,o=[];for(let i of t)o.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(i){W&&G.exception(i,"Failed to add events when switching buffers.")}}};function xv({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=Rv(t);if(n)return n}return W&&G.info("Using simple buffer"),new ra}function Rv(e){try{let t=e||Cv();if(!t)return;W&&G.info(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new cl(n)}catch(t){W&&G.exception(t,"Failed to create compression worker")}}function Cv(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?vv():""}function vl(){try{return"sessionStorage"in le&&!!le.sessionStorage}catch{return!1}}function kv(e){Av(),e.session=void 0}function Av(){if(vl())try{le.sessionStorage.removeItem(ml)}catch{}}function Km(e){return e===void 0?!1:Math.random()<e}function wl(e){if(vl())try{le.sessionStorage.setItem(ml,JSON.stringify(e))}catch{}}function Xm(e){let t=Date.now(),n=e.id||fe(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function Nv(e,t){return Km(e)?"session":t?"buffer":!1}function Sm({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=Nv(e,t),i=Xm({sampled:o,previousSessionId:r});return n&&wl(i),i}function Mv(){if(!vl())return null;try{let e=le.sessionStorage.getItem(ml);if(!e)return null;let t=JSON.parse(e);return W&&G.infoTick("Loading existing session"),Xm(t)}catch{return null}}function ul(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Zm(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return ul(e.started,t,r)||ul(e.lastActivity,n,r)}function Qm(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Zm(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function zu({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let o=r.stickySession&&Mv();return o?Qm(o,{sessionIdleExpire:e,maxReplayDuration:t})?(W&&G.infoTick("Session in sessionStorage is expired, creating new one..."),Sm(r,{previousSessionId:o.id})):o:(W&&G.infoTick("Creating new session"),Sm(r,{previousSessionId:n}))}function Ov(e){return e.type===V.Custom}function xl(e,t,n){return th(e,t)?(eh(e,t,n),!0):!1}function Lv(e,t,n){return th(e,t)?eh(e,t,n):Promise.resolve(null)}async function eh(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=Dv(t,i.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(i){let s=i&&i instanceof ni,a=s?"addEventSizeExceeded":"addEvent";if(s&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a});let c=b();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function th(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=Tl(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(W&&G.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Dv(e,t){try{if(typeof t=="function"&&Ov(e))return t(e)}catch(n){return W&&G.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Rl(e){return!e.type}function ll(e){return e.type==="transaction"}function Pv(e){return e.type==="replay_event"}function ym(e){return e.type==="feedback"}function Fv(e){return(t,n)=>{if(!e.isEnabled()||!Rl(t)&&!ll(t))return;let r=n?.statusCode;if(!(!r||r<200||r>=300)){if(ll(t)){Uv(e,t);return}Bv(e,t)}}}function Uv(e,t){let n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Bv(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||wn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function Hv(e){return t=>{!e.isEnabled()||!Rl(t)||$v(e,t)}}function $v(e,t){let n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=Wt({category:"replay.hydrate-error",data:{url:Ge()}});si(e,r)}}function Wv(e){let t=b();t&&t.on("beforeAddBreadcrumb",n=>Gv(e,n))}function Gv(e,t){if(!e.isEnabled()||!nh(t))return;let n=zv(t);n&&si(e,n)}function zv(e){return!nh(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?qv(e):Wt(e)}function qv(e){let t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return Wt(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Gs?(n=!0,`${o.slice(0,Gs)}\u2026`):o;if(typeof o=="object")try{let i=Ae(o,7);return JSON.stringify(i).length>Gs?(n=!0,`${JSON.stringify(i,null,2).slice(0,Gs)}\u2026`):i}catch{}return o});return Wt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function nh(e){return!!e.category}function jv(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!t.originalException?.__rrweb__}function rh(){let e=O().getPropagationContext().dsc;e&&delete e.replay_id;let t=Z();if(t){let n=be(t);delete n.replay_id}}function Vv(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:V.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Yv(e,t){return e.recordingMode!=="buffer"||t.message===hl||!t.exception||t.type?!1:Km(e.getOptions().errorSampleRate)}function Jv(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:Pv(t)?(delete t.breadcrumbs,t):!Rl(t)&&!ll(t)&&!ym(t)?t:e.checkAndHandleExpiredSession()?ym(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),Vv(e,t),t):jv(t,n)&&!e.getOptions()._experiments.captureExceptions?(W&&G.log("Ignoring error from rrweb internals",t),null):((Yv(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(rh(),t),{id:"Replay"})}function da(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:V.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function Kv(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Xv(e){return t=>{if(!e.isEnabled())return;let n=Kv(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(da(e,[n]),!1)))}}function Zv(e,t){return W&&e.getOptions()._experiments.traceInternals?!1:vo(t,b())}function oh(e,t){e.isEnabled()&&t!==null&&(Zv(e,t.name)||e.addUpdate(()=>(da(e,[t]),!0)))}function fa(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=Os(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function ih(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function oa(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function sh(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function ri(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Cn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=Qv(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function dl(e,t){return Object.entries(e).reduce((n,[r,o])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function Qv(e){if(!e||typeof e!="string")return{body:e};let t=e.length>em,n=e0(e);if(t){let r=e.slice(0,em);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function e0(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function ia(e,t){let n=t0(e);return ke(n,t)}function t0(e,t=le.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(le.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function n0(e,t,n){try{let r=await o0(e,t,n),o=sh("resource.fetch",r);oh(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture fetch breadcrumb")}}function r0(e,t){let{input:n,response:r}=t,o=n?Mr(n):void 0,i=fa(o),s=r?ih(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}async function o0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=ia(s,n.networkDetailAllowUrls)&&!ia(s,n.networkDetailDenyUrls),f=l?i0(n,t.input,u):ri(u),p=await s0(l,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:p}}function i0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?u0(n,t):{};if(!e)return Cn(o,r,void 0);let i=Mr(n),[s,a]=Vn(i,G),c=Cn(o,r,s);return a?oa(c,a):c}async function s0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return ri(o);let i=r?ah(r.headers,n):{};if(!r||!t&&o!==void 0)return Cn(i,o,void 0);let[s,a]=await c0(r),c=a0(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?oa(c,a):c}function a0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let i=e?.length&&n===void 0?fa(e):n;return r?t?Cn(o,i,e):Cn(o,i,void 0):ri(i)}catch(i){return W&&G.exception(i,"Failed to serialize response body"),Cn(o,n,void 0)}}async function c0(e){let t=l0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await d0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(W&&G.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(W&&G.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function ah(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function u0(e,t){return e.length===1&&typeof e[0]!="string"?Em(e[0],t):e.length===2?Em(e[1],t):{}}function Em(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?ah(n,t):Array.isArray(n)?{}:dl(n,t):{}}function l0(e){try{return e.clone()}catch(t){W&&G.exception(t,"Failed to clone response body")}}function d0(e){return new Promise((t,n)=>{let r=wn(()=>n(new Error("Timeout while trying to read response body")),500);f0(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function f0(e){return await e.text()}async function p0(e,t,n){try{let r=h0(e,t,n),o=sh("resource.xhr",r);oh(n.replay,o)}catch(r){W&&G.exception(r,"Failed to capture xhr breadcrumb")}}function m0(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=fa(r),i=n.getResponseHeader("content-length")?ih(n.getResponseHeader("content-length")):y0(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function h0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!ia(c,n.networkDetailAllowUrls)||ia(c,n.networkDetailDenyUrls)){let y=ri(l),x=ri(f);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:y,response:x}}let p=a[Ve],m=p?dl(p.request_headers,n.networkRequestHeaders):{},g=dl(g0(a),n.networkResponseHeaders),[_,S]=n.networkCaptureBodies?Vn(s,G):[void 0],[E,$]=n.networkCaptureBodies?_0(a):[void 0],k=Cn(m,l,_),D=Cn(g,f,E);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:S?oa(k,S):k,response:$?oa(D,$):D}}function g0(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function _0(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return S0(e.response,e.responseType)}catch(n){t.push(n)}return W&&G.warn("Failed to get xhr response body",...t),[void 0]}function S0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return W&&G.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return W&&G.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function y0(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return fa(n)}catch{return}}function E0(e){let t=b();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>b0(a,c,u))}catch{}}function b0(e,t,n){if(t.data)try{T0(t)&&v0(n)&&(m0(t,n),p0(t,n,e)),I0(t)&&w0(n)&&(r0(t,n),n0(t,n,e))}catch(r){W&&G.exception(r,"Error when enriching network breadcrumb")}}function T0(e){return e.category==="xhr"}function I0(e){return e.category==="fetch"}function v0(e){return e?.xhr}function w0(e){return e?.response}function x0(e,{autoFlushOnFeedback:t}){let n=b();jo(ov(e)),sn(Xv(e)),Wv(e),E0(e);let r=Jv(e);_o(r),n&&(n.on("beforeSendEvent",Hv(e)),n.on("afterSendEvent",Fv(e)),n.on("createDsc",o=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(o.replay_id=i)}),n.on("spanStart",o=>{e.lastActiveSpan=o}),n.on("spanEnd",o=>{e.lastActiveSpan=o}),n.on("beforeSendFeedback",async(o,i)=>{let s=e.getSessionId();i?.includeReplay&&e.isEnabled()&&s&&o.contexts?.feedback&&(o.contexts.feedback.source==="api"&&t&&await e.flush(),o.contexts.feedback.replay_id=s)}),t&&n.on("openFeedbackWidget",async()=>{await e.flush()}))}async function R0(e){try{return Promise.all(da(e,[C0(le.performance.memory)]))}catch{return[]}}function C0(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function k0(e,t,n){let r,o,i,s=n?.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function u(){return o!==void 0||i!==void 0?a():r}function d(){return o&&clearTimeout(o),o=wn(a,t),s&&i===void 0&&(i=wn(a,s)),r}return d.cancel=c,d.flush=u,d}var Vs=w.navigator;function A0(){return/iPhone|iPad|iPod/i.test(Vs?.userAgent??"")||/Macintosh/i.test(Vs?.userAgent??"")&&Vs?.maxTouchPoints&&Vs?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function N0(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){W&&G.warn("Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&QI(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!xl(e,n,o))return!0;if(!o)return!1;let i=e.session;if(O0(e,o),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(W&&G.info(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&wl(i))}return i?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function M0(e){let t=e.getOptions();return{type:V.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function O0(e,t){!t||!e.session||e.session.segmentId!==0||xl(e,M0(e),!1)}function L0(e,t,n,r){return Ne(uo(e,lr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function D0({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function P0({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit("preprocessEvent",r,i);let s=await po(e.getOptions(),r,i,t,e,ie());if(!s)return null;e.emit("postprocessEvent",s,i),s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:c,version:u}=a?.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},s}async function F0({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=D0({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=b(),f=O(),p=l?.getTransport(),m=l?.getDsn();if(!l||!p||!m||!i.sampled)return qe({});let g={type:RT,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},_=await P0({scope:f,client:l,replayId:t,event:g});if(!_)return l.recordDroppedEvent("event_processor","replay"),W&&G.info("An event processor returned `null`, will not send event."),qe({});delete _.sdkProcessingMetadata;let S=L0(_,s,m,l.getOptions().tunnel),E;try{E=await p.send(S)}catch(k){let D=new Error(hl);try{D.cause=k}catch{}throw D}if(typeof E.statusCode=="number"&&(E.statusCode<200||E.statusCode>=300))throw new sa(E.statusCode);let $=To({},E);if(bo($,"replay"))throw new oi($);return E}var sa=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},oi=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function ch(e,t={count:0,interval:OT}){let{recordingData:n,onError:r}=e;if(n.length)try{return await F0(e),!0}catch(o){if(o instanceof sa||o instanceof oi)throw o;if(mo("Replays",{_retryCount:t.count}),r&&r(o),t.count>=LT){let i=new Error(`${hl} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{wn(async()=>{try{await ch(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var uh="__THROTTLED",U0="__SKIPPED";function B0(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let d=s;return s=!0,d?U0:uh}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var fl=class{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:CT,sessionIdleExpire:kT},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=k0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=B0((s,a)=>Lv(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(DT,r),timeout:r,scrollTimeout:PT,ignoreSelector:o?o.join(","):""}:void 0;if(i&&(this.clickDetector=new il(this,i)),W){let s=t._experiments;G.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}this._handleVisibilityChange=()=>{le.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let s=Wt({category:"ui.blur"});this._doChangeToBackgroundTasks(s)},this._handleWindowFocus=()=>{let s=Wt({category:"ui.focus"});this._doChangeToForegroundTasks(s)},this._handleKeyboardEvent=s=>{cv(this,s)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){W&&G.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){W&&G.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",W&&G.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){W&&G.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){W&&G.info("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=zu({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){W&&G.info("Buffering is in progress, call `flush()` to save the replay");return}W&&G.infoTick("Starting replay in buffer mode");let t=zu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=cn({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:MT}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:N0(this),...A0(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{W&&G.info(`Stopping Replay${n?` triggered by ${n}`:""}`),rh(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,kv(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),W&&G.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),W&&G.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();W&&G.info("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&ul(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${le.location.pathname}${le.location.hash}${le.location.search}`,n=`${le.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===uh){let o=Wt({category:"replay.throttled"});this.addUpdate(()=>!xl(this,{type:GI,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||Z(),n=t&&K(t),o=(n&&L(n).data||{})[Te];if(!(!n||!o||!["route","custom"].includes(o)))return L(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=xv({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=zu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return Qm(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{le.document.addEventListener("visibilitychange",this._handleVisibilityChange),le.addEventListener("blur",this._handleWindowBlur),le.addEventListener("focus",this._handleWindowFocus),le.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(x0(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=Tv(this)}_removeListeners(){try{le.document.removeEventListener("visibilitychange",this._handleVisibilityChange),le.removeEventListener("blur",this._handleWindowBlur),le.removeEventListener("focus",this._handleWindowFocus),le.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||Zm(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){W&&G.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:V.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=fv(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(da(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){W&&G.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await R0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await ch({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=b();if(r){let o=n instanceof oi?"ratelimit_backoff":"send_error";r.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){W&&G.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){W&&G.info(`Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}let a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&W&&G.info("Flushing initial segment without checkout.");let c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&wl(this.session)}_onMutationHandler(t){let n=t.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>o||i){let s=Wt({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function Yo(e,t){return[...e,...t].join(",")}function H0({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let i=["base","iframe[srcdoc]:not([src])"],s=Yo(e,[".sentry-mask","[data-sentry-mask]"]),a=Yo(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:Yo(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Yo(r,[]),ignoreSelector:Yo(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function $0({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var bm='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',W0=["content-length","content-type","accept"],Tm=!1,lh=e=>new pl(e),pl=class{constructor({flushMinDelay:t=AT,flushMaxDelay:n=NT,minReplayDuration:r=FT,maxReplayDuration:o=tm,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:S=[],networkCaptureBodies:E=!0,networkRequestHeaders:$=[],networkResponseHeaders:k=[],mask:D=[],maskAttributes:y=["title","placeholder","aria-label"],unmask:x=[],block:N=[],unblock:T=[],ignore:C=[],maskFn:M,beforeAddRecordingEvent:v,beforeErrorSampling:R,onError:U}={}){this.name="Replay";let q=H0({mask:D,unmask:x,block:N,unblock:T,ignore:C});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:M,maskInputFn:M,maskAttributeFn:(F,te,H)=>$0({maskAttributes:y,maskAllText:u,privacyOptions:q,key:F,value:te,el:H}),...q,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:F=>{try{F.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,UT),maxReplayDuration:Math.min(o,tm),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:_,networkDetailDenyUrls:S,networkCaptureBodies:E,networkRequestHeaders:Im($),networkResponseHeaders:Im(k),beforeAddRecordingEvent:v,beforeErrorSampling:R,onError:U,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${bm}`:bm),this._isInitialized&&br())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Tm}set _isInitialized(t){Tm=t}afterAllSetup(t){!br()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=G0(this._initialOptions,t);this._replay=new fl({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};function G0(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=at(n.replaysSessionSampleRate),i=at(n.replaysOnErrorSampleRate);return o==null&&i==null&&Ze(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function Im(e){return[...W0,...e.map(t=>t.toLowerCase())]}function dh(){return b()?.getIntegrationByName("Replay")}var z0=Object.defineProperty,q0=(e,t,n)=>t in e?z0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fh=(e,t,n)=>q0(e,typeof t!="symbol"?t+"":t,n),kl=class{constructor(){fh(this,"idNodeMap",new Map),fh(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function j0(){return new kl}function V0(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Al(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Al(e.parentNode,t,n,r+1)}function ph(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(V0(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var qr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,mh={map:{},getId(){return console.error(qr),-1},getNode(){return console.error(qr),null},removeNodeFromMap(){console.error(qr)},has(){return console.error(qr),!1},reset(){console.error(qr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(mh=new Proxy(mh,{get(e,t,n){return t==="map"&&console.error(qr),Reflect.get(e,t,n)}}));function Ml(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){Th(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Ml(e,t,i||{},!0)}function Ol(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function Y0(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ga(e,t,n,r,o){if(!e)return!1;let i=Y0(e);if(!i)return!1;let s=ph(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Al(i,s),c=-1;return a<0?!1:(r&&(c=Al(i,ph(null,r))),a>-1&&c<0?!0:a<c)}var hh={};function bh(e){let t=hh[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return hh[e]=r.bind(window)}function Jn(...e){return bh("requestAnimationFrame")(...e)}function Th(...e){return bh("setTimeout")(...e)}var Vr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Vr||{}),ma;function J0(e){ma=e}var Cl=e=>ma?(...n)=>{try{return e(...n)}catch(r){if(ma&&ma(r)===!0)return()=>{};throw r}}:e,jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(ai=0;ai<jr.length;ai++)K0[jr.charCodeAt(ai)]=ai;var ai,X0=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=jr[t[n]>>2],o+=jr[(t[n]&3)<<4|t[n+1]>>4],o+=jr[(t[n+1]&15)<<2|t[n+2]>>6],o+=jr[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},gh=new Map;function Z0(e,t){let n=gh.get(e);return n||(n=new Map,gh.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Ih=(e,t,n)=>{if(!e||!(wh(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=Z0(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function ha(e,t,n){if(e instanceof Array)return e.map(r=>ha(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=X0(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[ha(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[ha(e.data,t,n),e.width,e.height]};if(wh(e,t)||typeof e=="object"){let r=e.constructor.name,o=Ih(e,t,n);return{rr_type:r,index:o}}}}return e}var vh=(e,t,n)=>e.map(r=>ha(r,t,n)),wh=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function Q0(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=Ol(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return ga(this.canvas,n,r,o,!0)||Th(()=>{let l=vh(d,t,this);e(this.canvas,{type:Vr["2D"],property:a,args:l})},0),u.apply(this,d)}});i.push(c)}catch{let c=Ml(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Vr["2D"],property:a,args:[u],setter:!0})}});i.push(c)}return()=>{i.forEach(a=>a())}}function ew(e){return e==="experimental-webgl"?"webgl":e}function _h(e,t,n,r,o){let i=[];try{let s=Ol(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!ga(this,t,n,r,!0)){let d=ew(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){let l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Sh(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let l=Ol(e,d,function(f){return function(...p){let m=f.apply(this,p);if(Ih(m,a,this),"tagName"in this.canvas&&!ga(this.canvas,r,o,i,!0)){let g=vh(p,a,this),_={type:t,property:d,args:g};n(this.canvas,_)}return m}});c.push(l)}catch{let l=Ml(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});c.push(l)}return c}function tw(e,t,n,r,o,i){let s=[];return s.push(...Sh(t.WebGLRenderingContext.prototype,Vr.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Sh(t.WebGL2RenderingContext.prototype,Vr.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var nw='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function rw(){let e=new Blob([nw]);return URL.createObjectURL(e)}var Nl=class{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};let{sampling:n="all",win:r,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&J0(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&Cl(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,o,i,s,a,{dataURLOptions:u})})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){let{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:i,recordCanvas:s,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}Cl(()=>{if(s&&n==="all"&&this.initCanvasMutationObserver(t,r,o,i),s&&typeof n=="number"){let c=_h(t,r,o,i,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){let t=new Worker(rw());return t.onmessage=n=>{let r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;let{base64:i,type:s,width:a,height:c}=r;this.mutationCb({id:o,type:Vr["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:s}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,o,i,s){let a=this.takeSnapshot(!1,t,n,r,o,i,s.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,o){let i=_h(t,n,r,o,!1),s=Q0(this.processMutation.bind(this),t,n,r,o),a=tw(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{i(),s(),a()})}snapshot(t){let{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,o,i,s,a,c){let u=1e3/n,d,l=p=>{if(p)return[p];let m=[],g=_=>{_.querySelectorAll("canvas").forEach(S=>{ga(S,r,o,i,!0)||m.push(S)})};for(let _ of this.windows){let S=_.deref(),E;try{E=S&&S.document}catch{}E&&g(E)}for(let _ of this.shadowDoms){let S=_.deref();S&&g(S)}return m},f=p=>{if(this.windows.length){if(this.lastSnapshotTime&&p-this.lastSnapshotTime<u){d=Jn(f);return}this.lastSnapshotTime=p,l(c).forEach(m=>{if(!this.mirror.hasNode(m))return;let g=this.mirror.getId(m);if(!this.snapshotInProgressMap.get(g)&&!(!m.width||!m.height)){if(this.snapshotInProgressMap.set(g,!0),!t&&["webgl","webgl2"].includes(m.__context)){let _=m.getContext(m.__context);_?.getContextAttributes()?.preserveDrawingBuffer===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(m).then(_=>{this.worker?.postMessage({id:g,bitmap:_,width:m.width,height:m.height,dataURLOptions:a,maxCanvasSize:s},[_])}).catch(_=>{Cl(()=>{throw _})()})}}),t||(d=Jn(f))}};return d=Jn(f),d}startPendingCanvasMutationFlusher(){Jn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,Jn(t)};Jn(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Jn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}};try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}j0();var yh;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(yh||(yh={}));var Eh={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},ow="ReplayCanvas",pa=1280,iw=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,pa):pa,n?Math.min(n,pa):pa]},o,i=new Promise(s=>o=s);return{name:ow,getOptions(){let{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{let d=new Nl({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},...Eh[s]||Eh.medium}},async snapshot(s){(await i).snapshot(s)}}},xh=iw;var Rh=new WeakMap,Ll=new Map,ci={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function _a(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...ci,...t},u=typeof i=="function"?i:f=>!0,d=f=>cw(f,a),l={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(p=>{if(p.op==="http.client"){let m=Ll.get(p.span_id);m&&(p.timestamp=m/1e3,Ll.delete(p.span_id))}}),f)),o&&Vc(f=>{if(f.response){let p=Rh.get(f.response);p&&f.endTimestamp&&Ll.set(p,f.endTimestamp)}}),Hn(f=>{let p=Wc(f,u,d,l);if(f.response&&f.fetchData.__span&&Rh.set(f.response,f.fetchData.__span),p){let m=kh(f.fetchData.url),g=m?Ct(m).host:void 0;p.setAttributes({"http.url":m,"server.address":g}),s&&Ch(p),c?.(p,{headers:f.headers})}})),r&&jn(f=>{let p=uw(f,u,d,l);if(p){s&&Ch(p);let m;try{m=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(p,{headers:m})}})}function sw(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Ch(e){let{url:t}=L(e).data;if(!t||typeof t!="string")return;let n=At("resource",({entries:r})=>{r.forEach(o=>{sw(o)&&o.name.endsWith(t)&&(aw(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function Gt(e=0){return((_e()||performance.timeOrigin)+e)/1e3}function aw(e){let{name:t,version:n}=qo(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),_e()?[...r,["http.request.redirect_start",Gt(e.redirectStart)],["http.request.fetch_start",Gt(e.fetchStart)],["http.request.domain_lookup_start",Gt(e.domainLookupStart)],["http.request.domain_lookup_end",Gt(e.domainLookupEnd)],["http.request.connect_start",Gt(e.connectStart)],["http.request.secure_connection_start",Gt(e.secureConnectionStart)],["http.request.connection_end",Gt(e.connectEnd)],["http.request.request_start",Gt(e.requestStart)],["http.request.response_start",Gt(e.responseStart)],["http.request.response_end",Gt(e.responseEnd)]]:r}function cw(e,t){let n=Ge();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?ke(r.toString(),t)||i&&ke(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?ke(e,t):r}}function uw(e,t,n,r){let o=e.xhr,i=o?.[Ve];if(!o||o.__sentry_own_request__||!i)return;let{url:s,method:a}=i,c=ze()&&t(s);if(e.endTimestamp&&c){let g=o.__sentry_xhr_span_id__;if(!g)return;let _=r[g];_&&i.status_code!==void 0&&(Bt(_,i.status_code),_.end(),delete r[g]);return}let u=kh(s),d=u?Ct(u):Ct(s),l=ko(s),f=!!Z(),p=c&&f?_t({name:`${a} ${l}`,attributes:{url:s,type:"xhr","http.method":a,"http.url":u,"server.address":d?.host,[J]:"auto.http.browser",[Ee]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new Ue;o.__sentry_xhr_span_id__=p.spanContext().spanId,r[o.__sentry_xhr_span_id__]=p,n(s)&&lw(o,ze()&&f?p:void 0);let m=b();return m&&m.emit("beforeOutgoingRequestSpan",p,e),p}function lw(e,t){let{"sentry-trace":n,baggage:r}=Fn({span:t});n&&dw(e,n,r)}function dw(e,t,n){let r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){let o=r?.baggage;(!o||!fw(o))&&e.setRequestHeader("baggage",n)}}catch{}}function fw(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function kh(e){try{return new URL(e,A.location.origin).href}catch{return}}function Ah(){A.document?A.document.addEventListener("visibilitychange",()=>{let e=Z();if(!e)return;let t=K(e);if(A.document.hidden&&t){let n="cancelled",{op:r,status:o}=L(t);B&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):B&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var pw=3600,Nh="sentry_previous_trace",mw="sentry.previous_trace";function Mh(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",o=r?_w():void 0;e.on("spanStart",s=>{if(K(s)!==s)return;let a=O().getPropagationContext();o=hw(o,s,a),r&&gw(o)});let i=!0;n&&e.on("beforeSampling",s=>{if(!o)return;let a=O(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(Dl(o.spanContext))},sampleRand:o.sampleRand}),s.parentSampled=Dl(o.spanContext),s.parentSampleRate=o.sampleRate,s.spanAttributes={...s.spanAttributes,[Qr]:o.sampleRate}})}function hw(e,t,n){let r=L(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[Xt])}catch{return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=pw&&(B&&h.info(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[Fa]:"previous_trace"}}),t.setAttribute(mw,`${s.traceId}-${s.spanId}-${Dl(s)?1:0}`)),i)}function gw(e){try{A.sessionStorage.setItem(Nh,JSON.stringify(e))}catch(t){B&&h.warn("Could not store previous trace in sessionStorage",t)}}function _w(){try{let e=A.sessionStorage?.getItem(Nh);return JSON.parse(e)}catch{return}}function Dl(e){return e.traceFlags===1}var Sw="BrowserTracing",yw={...pr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...ci},Dh=(e={})=>{let t={name:void 0,source:void 0},n=A.document,{enableInp:r,enableLongTask:o,enableLongAnimationFrame:i,_experiments:{enableInteractions:s,enableStandaloneClsSpans:a},beforeStartSpan:c,idleTimeout:u,finalTimeout:d,childSpanTimeout:l,markBackgroundSpan:f,traceFetch:p,traceXHR:m,trackFetchStreamPerformance:g,shouldCreateSpanForRequest:_,enableHTTPTimings:S,ignoreResourceSpans:E,ignorePerformanceApiSpans:$,instrumentPageLoad:k,instrumentNavigation:D,linkPreviousTrace:y,consistentTraceSampling:x,onRequestSpanStart:N}={...yw,...e},T;function C(M,v){let R=v.op==="pageload",U=c?c(v):v,q=U.attributes||{};v.name!==U.name&&(q[Te]="custom",U.attributes=q),t.name=U.name,t.source=q[Te];let F=Fi(U,{idleTimeout:u,finalTimeout:d,childSpanTimeout:l,disableAutoFinish:R,beforeSpanEnd:H=>{T?.(),Au(H,{recordClsOnPageloadSpan:!a,ignoreResourceSpans:E,ignorePerformanceApiSpans:$}),Lh(M,void 0);let Q=O(),ne=Q.getPropagationContext();Q.setPropagationContext({...ne,traceId:F.spanContext().traceId,sampled:ht(F),dsc:be(H)})}});Lh(M,F);function te(){n&&["interactive","complete"].includes(n.readyState)&&M.emit("idleSpanEnableAutoFinish",F)}R&&n&&(n.addEventListener("readystatechange",()=>{te()}),te())}return{name:Sw,setup(M){ao(),T=xu({recordClsStandaloneSpans:a||!1}),r&&Lu(),i&&w.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Cu():o&&Ru(),s&&ku();function v(){let R=Sa(M);R&&!L(R).timestamp&&(B&&h.log(`[Tracing] Finishing current active span with op: ${L(R).op}`),R.setAttribute(Ln,"cancelled"),R.end())}M.on("startNavigationSpan",R=>{if(b()!==M)return;v(),ie().setPropagationContext({traceId:Le(),sampleRand:Math.random()});let U=O();U.setPropagationContext({traceId:Le(),sampleRand:Math.random()}),U.setSDKProcessingMetadata({normalizedRequest:void 0}),C(M,{op:"navigation",...R})}),M.on("startPageLoadSpan",(R,U={})=>{if(b()!==M)return;v();let q=U.sentryTrace||Oh("sentry-trace"),F=U.baggage||Oh("baggage"),te=eo(q,F),H=O();H.setPropagationContext(te),H.setSDKProcessingMetadata({normalizedRequest:Fo()}),C(M,{op:"pageload",...R})})},afterAllSetup(M){let v=Ge();if(y!=="off"&&Mh(M,{linkPreviousTrace:y,consistentTraceSampling:x}),A.location){if(k){let R=_e();Pl(M,{name:A.location.pathname,startTime:R?R/1e3:void 0,attributes:{[Te]:"url",[J]:"auto.pageload.browser"}})}D&&sn(({to:R,from:U})=>{if(U===void 0&&v?.indexOf(R)!==-1){v=void 0;return}v=void 0;let q=Co(R);Fl(M,{name:q?.pathname||A.location.pathname,attributes:{[Te]:"url",[J]:"auto.navigation.browser"}}),O().setSDKProcessingMetadata({normalizedRequest:{...Fo(),url:R}})})}f&&Ah(),s&&Ew(M,u,d,l,t),r&&Du(),_a(M,{traceFetch:p,traceXHR:m,trackFetchStreamPerformance:g,tracePropagationTargets:M.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:_,enableHTTPTimings:S,onRequestSpanStart:N})}}};function Pl(e,t,n){return e.emit("startPageLoadSpan",t,n),O().setTransactionName(t.name),Sa(e)}function Fl(e,t){return e.emit("startNavigationSpan",t),O().setTransactionName(t.name),Sa(e)}function Oh(e){return A.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function Ew(e,t,n,r,o){let i=A.document,s,a=()=>{let c="ui.action.click",u=Sa(e);if(u){let d=L(u).op;if(["navigation","pageload"].includes(d)){B&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Ln,"interactionInterrupted"),s.end(),s=void 0),!o.name){B&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=Fi({name:o.name,op:c,attributes:{[Te]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{once:!1,capture:!0})}var Ph="_sentry_idleSpan";function Sa(e){return e[Ph]}function Lh(e,t){de(e,Ph,t)}function Yr(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function bw(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=Yr(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Ul(e){return Yr(e.getAllKeys())}function Tw(e,t,n){return e(r=>Ul(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),Yr(r.transaction)}))}function Iw(e,t,n){return e(r=>Ul(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),Yr(r.transaction)}))}function vw(e){return e(t=>Ul(t).then(n=>{let r=n[0];if(r!=null)return Yr(t.get(r)).then(o=>(t.delete(r),Yr(t.transaction).then(()=>o)))}))}function ww(e){let t;function n(){return t==null&&(t=bw(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{let o=await hn(r);await Tw(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{let o=await hn(r);await Iw(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{let r=await vw(n());if(r)return Xa(r)}catch{}}}}function xw(e){return t=>{let n=e({...t,createStore:ww});return A.addEventListener("online",async r=>{await n.flush()}),n}}function Fh(e=Or){return xw(xc(e))}var Uh=1e6,ya=String(0),Rw="main",Ea=A.navigator,Hh="",$h="",Wh="",Bl=Ea?.userAgent||"",Gh="",Cw=Ea?.language||Ea?.languages?.[0]||"";function kw(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var Bh=Ea?.userAgentData;kw(Bh)&&Bh.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Hh=e.platform||"",Wh=e.architecture||"",Gh=e.model||"",$h=e.platformVersion||"",e.fullVersionList?.length){let t=e.fullVersionList[e.fullVersionList.length-1];Bl=`${t.brand} ${t.version}`}}).catch(e=>{});function Aw(e){return!("thread_metadata"in e)}function Nw(e){return Aw(e)?Lw(e):e}function Mw(e){let t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&B&&h.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function Ow(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=Mw(r),i=Nw(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:oe()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:oe()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Qt,runtime:{name:"javascript",version:A.navigator.userAgent},os:{name:Hh,version:$h,build_number:Bl},device:{locale:Cw,model:Gh,manufacturer:Bl,architecture:Wh,is_emulator:!1},debug_meta:{images:Dw(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||fe(),trace_id:o,active_thread_id:ya,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function ba(e){return L(e).op==="pageload"}function Lw(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[ya]:{name:Rw}}},o=e.samples[0];if(!o)return r;let i=o.timestamp,s=_e(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,c=a-(s||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-i)*Uh).toFixed(0),stack_id:t,thread_id:ya};return}let l=e.stacks[u.stackId],f=[];for(;l;){f.push(l.frameId);let m=e.frames[l.frameId];m&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}let p={elapsed_since_start_ns:((u.timestamp+c-i)*Uh).toFixed(0),stack_id:n,thread_id:ya};r.stacks[n]=f,r.samples[d]=p,n++}),r}function zh(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function qh(e){let t=[];return ut(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++){let i=n[o];i?.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[o])}}),t}function Dw(e){let r=b()?.getOptions()?.stackParser;return r?ac(r,e):[]}function Pw(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(B&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(B&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Fw(e){return e.samples.length<2?(B&&h.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(B&&h.log("[Profiling] Discarding profile because it contains no frames"),!1)}var jh=!1,Hl=3e4;function Uw(e){return typeof e=="function"}function Vh(){let e=A.Profiler;if(!Uw(e)){B&&h.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Hl/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{B&&(h.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.log("[Profiling] Disabling profiling for current user session.")),jh=!0}}function $l(e){if(jh)return B&&h.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return B&&h.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let n=b()?.getOptions();if(!n)return B&&h.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return Pw(r)?r?(r===!0?!0:Math.random()<r)?!0:(B&&h.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(B&&h.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(B&&h.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Yh(e,t,n,r){return Fw(n)?Ow(e,t,n,r):null}var Kn=new Map;function Jh(){return Kn.size}function Kh(e){let t=Kn.get(e);return t&&Kn.delete(e),t}function Xh(e,t){if(Kn.set(e,t),Kn.size>30){let n=Kn.keys().next().value;Kn.delete(n)}}function Wl(e){let t;ba(e)&&(t=oe()*1e3);let n=Vh();if(!n)return;B&&h.log(`[Profiling] started profiling span: ${L(e).description}`);let r=fe();O().setContext("profile",{profile_id:r,start_timestamp:t});async function o(){if(e&&n)return n.stop().then(c=>{if(i&&(A.clearTimeout(i),i=void 0),B&&h.log(`[Profiling] stopped profiling of span: ${L(e).description}`),!c){B&&h.log(`[Profiling] profiler returned null profile for: ${L(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}Xh(r,c)}).catch(c=>{B&&h.log("[Profiling] error while stopping profiler:",c)})}let i=A.setTimeout(()=>{B&&h.log("[Profiling] max profile duration elapsed, stopping profiling for:",L(e).description),o()},Hl),s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var Bw="BrowserProfiling",Hw=()=>({name:Bw,setup(e){let t=Z(),n=t&&K(t);n&&ba(n)&&$l(n)&&Wl(n),e.on("spanStart",r=>{r===K(r)&&$l(r)&&Wl(r)}),e.on("beforeEnvelope",r=>{if(!Jh())return;let o=qh(r);if(!o.length)return;let i=[];for(let s of o){let a=s?.contexts,c=a?.profile?.profile_id,u=a?.profile?.start_timestamp;if(typeof c!="string"){B&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){B&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}a?.profile&&delete a.profile;let d=Kh(c);if(!d){B&&h.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let l=Yh(c,u,d,s);l&&i.push(l)}zh(r,i)})}}),Zh=Hw;var $w="SpotlightBrowser",Ww=(e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:$w,setup:()=>{B&&h.log("Using Sidecar URL",t)},processEvent:n=>zw(n)?null:n,afterAllSetup:n=>{Gw(n,t)}}};function Gw(e,t){let n=Nr("fetch"),r=0;e.on("beforeEnvelope",o=>{if(r>3){h.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:hn(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,h.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var Qh=Ww;function zw(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}var qw=100;function zt(e){let n=O().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function Mt(e,t,n=qw){let r=O().getScopeData().contexts;r.flags||(r.flags={values:[]});let o=r.flags.values;jw(o,e,t,n)}function jw(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){B&&h.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let o=e.findIndex(i=>i.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}var eg=()=>({name:"FeatureFlags",processEvent(e,t,n){return zt(e)},addFeatureFlag(e,t){Mt(e,t)}});var tg=()=>({name:"LaunchDarkly",processEvent(e,t,n){return zt(e)}});function ng(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{Mt(e,t.value)}}}var rg=()=>({name:"OpenFeature",processEvent(e,t,n){return zt(e)}}),Ta=class{after(t,n){Mt(n.flagKey,n.value)}error(t,n,r){Mt(t.flagKey,t.defaultValue)}};var og=({featureFlagClientClass:e})=>({name:"Unleash",processEvent(t,n,r){return zt(t)},setupOnce(){let t=e.prototype;he(t,"isEnabled",Vw)}});function Vw(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?Mt(n,r):B&&h.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var ig=({featureFlagClient:e})=>({name:"Statsig",processEvent(t,n,r){return zt(t)},setup(){e.on("gate_evaluation",t=>{Mt(t.gate.name,t.gate.value)})}});async function sg(){let e=b();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await fetch("https://o447951.ingest.sentry.io/api/1337/envelope/?sentry_version=7&sentry_key=1337&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"})}catch{return"sentry-unreachable"}}export{ag as Sentry};
