var Cg=Object.defineProperty;var td=(e,t)=>{for(var n in t)Cg(e,n,{get:t[n],enumerable:!0})};var xg={};td(xg,{BrowserClient:()=>kr,OpenFeatureIntegrationHook:()=>ka,SDK_VERSION:()=>tt,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>_e,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>X,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>en,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>be,Scope:()=>ze,WINDOW:()=>k,addBreadcrumb:()=>Xe,addEventProcessor:()=>Ro,addIntegration:()=>Sr,breadcrumbsIntegration:()=>Ys,browserApiErrorsIntegration:()=>Js,browserProfilingIntegration:()=>gg,browserSessionIntegration:()=>Ks,browserTracingIntegration:()=>Qh,buildLaunchDarklyFlagUsedHandler:()=>yg,captureConsoleIntegration:()=>zc,captureEvent:()=>rn,captureException:()=>ft,captureFeedback:()=>Uo,captureMessage:()=>In,captureSession:()=>_r,chromeStackLineParser:()=>qu,close:()=>bc,consoleLoggingIntegration:()=>Zc,contextLinesIntegration:()=>fm,continueTrace:()=>uc,createTransport:()=>Mo,createUserFeedbackEnvelope:()=>Jp,dedupeIntegration:()=>Fo,defaultRequestInstrumentationOptions:()=>pi,defaultStackLineParsers:()=>Yu,defaultStackParser:()=>qs,diagnoseSdkConnectivity:()=>Ig,endSession:()=>xo,eventFiltersIntegration:()=>os,eventFromException:()=>ws,eventFromMessage:()=>Rs,exceptionFromError:()=>Ar,extraErrorDataIntegration:()=>jc,featureFlagsIntegration:()=>Kc,feedbackAsyncIntegration:()=>Ep,feedbackIntegration:()=>Tu,feedbackSyncIntegration:()=>Tu,flush:()=>Ec,forceLoad:()=>tm,functionToStringIntegration:()=>Do,geckoStackLineParser:()=>Vu,getActiveSpan:()=>ee,getClient:()=>b,getCurrentScope:()=>N,getDefaultIntegrations:()=>Ju,getFeedback:()=>sp,getGlobalScope:()=>Qt,getIsolationScope:()=>ae,getReplay:()=>xh,getRootSpan:()=>te,getSpanDescendants:()=>tn,getSpanStatusFromHttpCode:()=>xi,getTraceData:()=>Bn,globalHandlersIntegration:()=>Xs,graphqlClientIntegration:()=>gm,httpClientIntegration:()=>am,httpContextIntegration:()=>Zs,inboundFiltersIntegration:()=>Po,init:()=>em,instrumentOutgoingRequests:()=>Ra,instrumentSupabaseClient:()=>us,isEnabled:()=>wo,isInitialized:()=>Tc,lastEventId:()=>vo,launchDarklyIntegration:()=>Sg,lazyLoadIntegration:()=>vs,linkedErrorsIntegration:()=>Qs,logger:()=>Iu,makeBrowserOfflineTransport:()=>tg,makeFetchTransport:()=>Ur,makeMultiplexedTransport:()=>Dc,moduleMetadataIntegration:()=>Gc,onLoad:()=>nm,openFeatureIntegration:()=>Eg,opera10StackLineParser:()=>qp,opera11StackLineParser:()=>Vp,parameterize:()=>ns,registerSpanErrorInstrumentation:()=>go,registerWebWorker:()=>Rg,replayCanvasIntegration:()=>Wh,replayIntegration:()=>Rh,reportingObserverIntegration:()=>im,rewriteFramesIntegration:()=>qc,sendFeedback:()=>mu,setContext:()=>Io,setCurrentClient:()=>es,setExtra:()=>gc,setExtras:()=>hc,setHttpStatus:()=>zt,setMeasurement:()=>yo,setTag:()=>Sc,setTags:()=>_c,setUser:()=>yc,showReportDialog:()=>rm,spanToBaggageHeader:()=>tc,spanToJSON:()=>M,spanToTraceHeader:()=>mo,spotlightBrowserIntegration:()=>_g,startBrowserTracingNavigationSpan:()=>Jl,startBrowserTracingPageLoadSpan:()=>Yl,startInactiveSpan:()=>it,startNewTrace:()=>ji,startSession:()=>gr,startSpan:()=>En,startSpanManual:()=>cc,statsigIntegration:()=>Tg,supabaseIntegration:()=>Vc,suppressTracing:()=>Eo,thirdPartyErrorFilterIntegration:()=>Jc,unleashIntegration:()=>bg,updateSpanName:()=>Qa,webWorkerIntegration:()=>wg,winjsStackLineParser:()=>jp,withActiveSpan:()=>bn,withIsolationScope:()=>wi,withScope:()=>Ae,zodErrorsIntegration:()=>Yc});var E=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var w=globalThis;var tt="10.11.0";function Ve(){return hn(w),w}function hn(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||tt,t[tt]=t[tt]||{}}function Kt(e,t,n=w){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[tt]=r[tt]||{};return o[e]||(o[e]=t())}var Nn=["debug","info","warn","error","log","assert","trace"],Ag="Sentry Logger ",nr={};function Ue(e){if(!("console"in w))return e();let t=w.console,n={},r=Object.keys(nr);r.forEach(o=>{let i=nr[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function kg(){Ma().enabled=!0}function Ng(){Ma().enabled=!1}function nd(){return Ma().enabled}function Mg(...e){Na("log",...e)}function Og(...e){Na("warn",...e)}function Lg(...e){Na("error",...e)}function Na(e,...t){E&&nd()&&Ue(()=>{w.console[e](`${Ag}[${e}]:`,...t)})}function Ma(){return E?Kt("loggerSettings",()=>({enabled:!1})):{enabled:!1}}var h={enable:kg,disable:Ng,isEnabled:nd,log:Mg,warn:Og,error:Lg};var rd=/\(error: (.*)\)/,od=/captureMessage|captureException/;function _i(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];c.length>1024&&(c=c.slice(0,1024));let u=rd.test(c)?c.replace(rd,"$1"):c;if(!u.match(/\S*Error: /)){for(let d of t){let l=d(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return id(i.slice(o))}}function La(e){return Array.isArray(e)?_i(...e):e}function id(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(gi(t).function||"")&&t.pop(),t.reverse(),od.test(gi(t).function||"")&&(t.pop(),od.test(gi(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||gi(t).filename,function:n.function||"?"}))}function gi(e){return e[e.length-1]||{}}var Oa="<anonymous>";function nt(e){try{return!e||typeof e!="function"?Oa:e.name||Oa}catch{return Oa}}function rr(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var Si={},sd={};function Be(e,t){Si[e]=Si[e]||[],Si[e].push(t)}function He(e,t){if(!sd[e]){sd[e]=!0;try{t()}catch(n){E&&h.error(`Error while instrumenting ${e}`,n)}}}function we(e,t){let n=e&&Si[e];if(n)for(let r of n)try{r(t)}catch(o){E&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${nt(r)}
Error:`,o)}}var Da=null;function ro(e){let t="error";Be(t,e),He(t,Dg)}function Dg(){Da=w.onerror,w.onerror=function(e,t,n,r,o){return we("error",{column:r,error:o,line:n,msg:e,url:t}),Da?Da.apply(this,arguments):!1},w.onerror.__SENTRY_INSTRUMENTED__=!0}var Pa=null;function oo(e){let t="unhandledrejection";Be(t,e),He(t,Pg)}function Pg(){Pa=w.onunhandledrejection,w.onunhandledrejection=function(e){return we("unhandledrejection",e),Pa?Pa.apply(this,arguments):!0},w.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var ad=Object.prototype.toString;function rt(e){switch(ad.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ct(e,Error)}}function or(e,t){return ad.call(e)===`[object ${t}]`}function yi(e){return or(e,"ErrorEvent")}function Ei(e){return or(e,"DOMError")}function Fa(e){return or(e,"DOMException")}function Ne(e){return or(e,"String")}function gn(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function _t(e){return e===null||gn(e)||typeof e!="object"&&typeof e!="function"}function $e(e){return or(e,"Object")}function Mn(e){return typeof Event<"u"&&ct(e,Event)}function Ua(e){return typeof Element<"u"&&ct(e,Element)}function Ba(e){return or(e,"RegExp")}function Ct(e){return!!(e?.then&&typeof e.then=="function")}function Ha(e){return $e(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ct(e,t){try{return e instanceof t}catch{return!1}}function io(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function bi(e){return typeof Request<"u"&&ct(e,Request)}var $a=w,Fg=80;function Re(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Fg;for(;n&&i++<r&&(u=Ug(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function Ug(e,t){let n=e,r=[];if(!n?.tagName)return"";if($a.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o?.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&Ne(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function Ye(){try{return $a.document.location.href}catch{return""}}function so(e){if(!$a.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function St(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function ao(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function On(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{io(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function ir(e,t,n=!1){return Ne(e)?Ba(t)?t.test(e):Ne(t)?n?e===t:e.includes(t):!1:!1}function Le(e,t=[],n=!1){return t.some(r=>ir(e,r,n))}function ye(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let o=n(r);typeof o=="function"&&Ti(o,r);try{e[t]=o}catch{E&&h.log(`Failed to replace method "${t}" in object`,e)}}function me(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{E&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Ti(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,me(e,"__sentry_original__",t)}catch{}}function Ln(e){return e.__sentry_original__}function Ii(e){if(rt(e))return{message:e.message,name:e.name,stack:e.stack,...ud(e)};if(Mn(e)){let t={type:e.type,target:cd(e.target),currentTarget:cd(e.currentTarget),...ud(e)};return typeof CustomEvent<"u"&&ct(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function cd(e){try{return Ua(e)?Re(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ud(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Wa(e,t=40){let n=Object.keys(Ii(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return St(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:St(i,t)}return""}function Bg(){let e=w;return e.crypto||e.msCrypto}function he(e=Bg()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function ld(e){return e.exception?.values?.[0]}function Ht(e){let{message:t,event_id:n}=e;if(t)return t;let r=ld(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function sr(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function We(e,t){let n=ld(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o?.data,...t.data};n.mechanism.data=i}}function Ga(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>ao(s,0));let i=Math.min(r-1,o);t.context_line=ao(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>ao(s,0))}function vi(e){if(Hg(e))return!0;try{me(e,"__sentry_captured__",!0)}catch{}return!1}function Hg(e){try{return e.__sentry_captured__}catch{}}var fd=1e3;function ut(){return Date.now()/fd}function $g(){let{performance:e}=w;if(!e?.now||!e.timeOrigin)return ut;let t=e.timeOrigin;return()=>(t+e.now())/fd}var dd;function re(){return(dd??(dd=$g()))()}var za;function Wg(){let{performance:e}=w;if(!e?.now)return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function ge(){return za||(za=Wg()),za[0]}function pd(e){let t=re(),n={sid:he(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Gg(n)};return e&&Xt(n,e),n}function Xt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||re(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:he()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function md(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Xt(e,n)}function Gg(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function _n(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=_n(r[o],t[o],n-1));return r}function Ge(){return he()}function At(){return he().substring(16)}var ja="_sentrySpan";function $t(e,t){t?me(e,ja,t):delete e[ja]}function Zt(e){return e[ja]}var zg=100,ze=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ge(),sampleRand:Math.random()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,$t(t,Zt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Xt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof e?n.getScopeData():$e(n)?t:void 0,{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,$t(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ge(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:zg;if(r<=0)return this;let o={timestamp:ut(),...t,message:t.message?St(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Zt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=_n(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||he();if(!this._client)return E&&h.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r?.event_id||he();if(!this._client)return E&&h.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n?.event_id||he();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(E&&h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function hd(){return Kt("defaultCurrentScope",()=>new ze)}function gd(){return Kt("defaultIsolationScope",()=>new ze)}var qa=class{constructor(t,n){let r;t?r=t:r=new ze;let o;n?o=n:o=new ze,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return Ct(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function ar(){let e=Ve(),t=hn(e);return t.stack=t.stack||new qa(hd(),gd())}function jg(e){return ar().withScope(e)}function qg(e,t){let n=ar();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function _d(e){return ar().withScope(()=>e(ar().getIsolationScope()))}function Sd(){return{withIsolationScope:_d,withScope:jg,withSetScope:qg,withSetIsolationScope:(e,t)=>_d(t),getCurrentScope:()=>ar().getScope(),getIsolationScope:()=>ar().getIsolationScope()}}function yt(e){let t=hn(e);return t.acs?t.acs:Sd()}function N(){let e=Ve();return yt(e).getCurrentScope()}function ae(){let e=Ve();return yt(e).getIsolationScope()}function Qt(){return Kt("globalScope",()=>new ze)}function Ae(...e){let t=Ve(),n=yt(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function wi(...e){let t=Ve(),n=yt(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function b(){return N().getClient()}function Ri(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||At()};return r&&(i.parent_span_id=r),i}var be="sentry.source",en="sentry.sample_rate",co="sentry.previous_trace_sample_rate",_e="sentry.op",X="sentry.origin",Dn="sentry.idle_span_finish_reason",Wt="sentry.measurement_unit",Gt="sentry.measurement_value",cr="sentry.custom_span_name",ur="sentry.profile_id",Et="sentry.exclusive_time";var Va="http.request.method",Ya="url.full",Ja="sentry.link.type";function xi(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function zt(e,t){e.setAttribute("http.response.status_code",t);let n=xi(t);n.message!=="unknown_error"&&e.setStatus(n)}var yd="_sentryScope",Ed="_sentryIsolationScope";function bd(e,t,n){e&&(me(e,Ed,n),me(e,yd,t))}function Pn(e){return{scope:e[yd],isolationScope:e[Ed]}}var Ci="sentry-",Vg=/^sentry-/,Yg=8192;function lr(e){let t=Jg(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(Vg)){let s=o.slice(Ci.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Ai(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Ci}${r}`]=o),n),{});return Kg(t)}function Jg(e){if(!(!e||!Ne(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=Td(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):Td(e)}function Td(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Kg(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>Yg?(E&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var Xg=/^o(\d+)\./,Zg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Qg(e){return e==="http"||e==="https"}function ot(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function ki(e){let t=Zg.exec(e);if(!t){Ue(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return Id({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function Id(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function e_(e){if(!E)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(h.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?Qg(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function t_(e){return e.match(Xg)?.[1]}function Ni(e){let t=e.getOptions(),{host:n}=e.getDsn()||{},r;return t.orgId?r=String(t.orgId):n&&(r=t_(n)),r}function uo(e){let t=typeof e=="string"?ki(e):Id(e);if(!(!t||!e_(t)))return t}function lt(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var Mi=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Oi(e){if(!e)return;let t=e.match(Mi);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function lo(e,t){let n=Oi(e),r=lr(t);if(!n?.traceId)return{traceId:Ge(),sampleRand:Math.random()};let o=n_(n,r);r&&(r.sample_rand=o.toString());let{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function fo(e=Ge(),t=At(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function n_(e,t){let n=lt(t?.sample_rand);if(n!==void 0)return n;let r=lt(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}function Ka(e,t){let n=Ni(e);return t&&n&&t!==n?(h.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):(e.getOptions().strictTraceContinuation||!1)&&(t&&!n||!t&&n)?(h.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1):!0}var Li=0,Di=1,vd=!1;function Rd(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=M(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function po(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:M(e).parent_span_id,i=Pn(e).scope,s=r?i?.getPropagationContext().propagationSpanId||At():t;return{parent_span_id:o,span_id:s,trace_id:n}}function mo(e){let{traceId:t,spanId:n}=e.spanContext(),r=bt(e);return fo(t,n,r)}function Pi(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Di,attributes:i,...o}))}function kt(e){return typeof e=="number"?wd(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?wd(e.getTime()):re()}function wd(e){return e>9999999999?e/1e3:e}function M(e){if(i_(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(o_(e)){let{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:kt(o),timestamp:kt(s)||void 0,status:Fi(a),op:r[_e],origin:r[X],links:Pi(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function o_(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function i_(e){return typeof e.getSpanJSON=="function"}function bt(e){let{traceFlags:t}=e.spanContext();return t===Di}function Fi(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Fn="_sentryChildSpans",Xa="_sentryRootSpan";function Ui(e,t){let n=e[Xa]||e;me(t,Xa,n),e[Fn]?e[Fn].add(t):me(e,Fn,new Set([t]))}function xd(e,t){e[Fn]&&e[Fn].delete(t)}function tn(e){let t=new Set;function n(r){if(!t.has(r)&&bt(r)){t.add(r);let o=r[Fn]?Array.from(r[Fn]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function te(e){return e[Xa]||e}function ee(){let e=Ve(),t=yt(e);return t.getActiveSpan?t.getActiveSpan():Zt(N())}function ho(){vd||(Ue(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),vd=!0)}function Qa(e,t){e.updateName(t),e.setAttributes({[be]:"custom",[cr]:t})}var Cd=!1;function go(){if(Cd)return;function e(){let t=ee(),n=t&&te(t);if(n){let r="internal_error";E&&h.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:2,message:r})}}e.tag="sentry_tracingErrorCallback",Cd=!0,ro(e),oo(e)}function Je(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||b()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var nn="production";var Ad="_frozenDsc";function dr(e,t){me(e,Ad,t)}function ec(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o={environment:n.environment||nn,release:n.release,public_key:r,trace_id:e,org_id:Ni(t)};return t.emit("createDsc",o),o}function fr(e,t){let n=t.getPropagationContext();return n.dsc||ec(n.traceId,e)}function ve(e){let t=b();if(!t)return{};let n=te(e),r=M(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[en]??o[co];function a(m){return(typeof s=="number"||typeof s=="string")&&(m.sample_rate=`${s}`),m}let c=n[Ad];if(c)return a(c);let u=i?.get("sentry.dsc"),d=u&&lr(u);if(d)return a(d);let l=ec(e.spanContext().traceId,t),p=o[be],f=r.description;return p!=="url"&&f&&(l.transaction=f),Je()&&(l.sampled=String(bt(n)),l.sample_rand=i?.get("sentry.sample_rand")??Pn(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function tc(e){let t=ve(e);return Ai(t)}var je=class{constructor(t={}){this._traceId=t.traceId||Ge(),this._spanId=t.spanId||At()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Li}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function ke(e,t=100,n=1/0){try{return nc("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Bi(e,t=3,n=100*1024){let r=ke(e,t);return u_(r)>n?Bi(e,t-1,n):r}function nc(e,t,n=1/0,r=1/0,o=l_()){let[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let a=s_(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let f=u.toJSON();return nc("",f,c-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},l=0,p=Ii(t);for(let f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(l>=r){d[f]="[MaxProperties ~]";break}let m=p[f];d[f]=nc(f,m,c-1,r,o),l++}return s(t),d}function s_(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(io(t))return"[VueViewModel]";if(Ha(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${nt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=a_(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function a_(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function c_(e){return~-encodeURI(e).split(/%..|./).length}function u_(e){return c_(JSON.stringify(e))}function l_(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function De(e,t=[]){return[e,t]}function rc(e,t){let[n,r]=e;return[n,[...r,t]]}function dt(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function $i(e,t){return dt(e,(n,r)=>t.includes(r))}function Hi(e){let t=hn(w);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function d_(e){let t=hn(w);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function Sn(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[Hi(r),i]:r.push(typeof i=="string"?Hi(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(ke(a))}o(c)}}return typeof r=="string"?r:f_(r)}function f_(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function oc(e){let t=typeof e=="string"?Hi(e):e;function n(s){let a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(d_(n(s)))}let o=r(),i=[];for(;t.length;){let s=r(),a=typeof s.length=="number"?s.length:void 0;i.push([s,a?n(a):r()])}return[o,i]}function ic(e){return[{type:"span"},e]}function sc(e){let t=typeof e.data=="string"?Hi(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var p_={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Wi(e){return p_[e]}function pr(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function _o(e,t,n,r){let o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:ot(r)},...o&&{trace:o}}}function So(e,t){if(!t?.length||!e.description)return!1;for(let n of t){if(m_(n)){if(ir(e.description,n))return!0;continue}if(!n.name&&!n.op)continue;let r=n.name?ir(e.description,n.name):!0,o=n.op?e.op&&ir(e.op,n.op):!0;if(r&&o)return!0}return!1}function kd(e,t){let n=t.parent_span_id,r=t.span_id;if(n)for(let o of e)o.parent_span_id===r&&(o.parent_span_id=n)}function m_(e){return typeof e=="string"||e instanceof RegExp}function h_(e,t){if(!t)return e;let n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function Nd(e,t,n,r){let o=pr(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:ot(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return De(i,[s])}function Md(e,t,n,r){let o=pr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";h_(e,n?.sdk);let s=_o(e,o,r,t);return delete e.sdkProcessingMetadata,De(s,[[{type:i},e]])}function Od(e,t){function n(f){return!!f.trace_id&&!!f.public_key}let r=ve(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:ot(o)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(f=>!So(M(f),c)):e,d=e.length-u.length;d&&t?.recordDroppedEvent("before_send","span",d);let l=a?f=>{let m=M(f),g=a(m);return g||(ho(),m)}:M,p=[];for(let f of u){let m=l(f);m&&p.push(ic(m))}return De(s,p)}function Ld(e){if(!E)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=M(e),{spanId:o}=e.spanContext(),i=bt(e),s=te(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:d,description:l}=M(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function Dd(e){if(!E)return;let{description:t="< unknown name >",op:n="< unknown op >"}=M(e),{spanId:r}=e.spanContext(),i=te(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;h.log(s)}function yo(e,t,n,r=ee()){let o=r&&te(r);o&&(E&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[Gt]:t,[Wt]:n}))}function Gi(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[Wt],i=r[Gt];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var Pd=1e3,yn=class{constructor(t={}){this._traceId=t.traceId||Ge(),this._spanId=t.spanId||At(),this._startTime=t.startTimestamp||re(),this._links=t.links,this._attributes={},this.setAttributes({[X]:"manual",[_e]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Di:Li}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=kt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(be,"custom"),this}end(t){this._endTime||(this._endTime=kt(t),Dd(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[_e],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Fi(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[X],profile_id:this._attributes[ur],exclusive_time:this._attributes[Et],measurements:Gi(this._events),is_segment:this._isStandaloneSpan&&te(this)===this||void 0,segment_id:this._isStandaloneSpan?te(this).spanContext().spanId:void 0,links:Pi(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){E&&h.log("[Tracing] Adding an event to span:",t);let o=Fd(n)?n:r||re(),i=Fd(n)?{}:n||{},s={name:t,time:kt(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=b();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===te(this)))return;if(this._isStandaloneSpan){this._sampled?__(Od([this],t)):(E&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Pn(this).scope||N()).captureEvent(r)}_convertSpanToTransaction(){if(!Ud(M(this)))return;this._name||(E&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Pn(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=tn(this).filter(d=>d!==this&&!g_(d)).map(d=>M(d)).filter(Ud),s=this._attributes[be];delete this._attributes[cr],i.forEach(d=>{delete d.data[cr]});let a={contexts:{trace:Rd(this)},spans:i.length>Pd?i.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Pd):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:ve(this)},request:r,...s&&{transaction_info:{source:s}}},c=Gi(this._events);return c&&Object.keys(c).length&&(E&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function Fd(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Ud(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function g_(e){return e instanceof yn&&e.isStandaloneSpan()}function __(e){let t=b();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function ac(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return S_(r,t,n)}function S_(e,t,n){return Ct(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Bd(e,t,n){if(!Je(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);let i=lt(o);if(i===void 0)return E&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return E&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||E&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}var zi="__SENTRY_SUPPRESS_TRACING__";function En(e,t){let n=bo();if(n.startSpan)return n.startSpan(e,t);let r=dc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Ae(a,()=>$d(i)(()=>{let u=N(),d=fc(u,i),p=e.onlyIfParent&&!d?new je:lc({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return $t(u,p),ac(()=>t(p),()=>{let{status:f}=M(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:2,message:"internal_error"})},()=>{p.end()})}))}function cc(e,t){let n=bo();if(n.startSpanManual)return n.startSpanManual(e,t);let r=dc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Ae(a,()=>$d(i)(()=>{let u=N(),d=fc(u,i),p=e.onlyIfParent&&!d?new je:lc({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return $t(u,p),ac(()=>t(p,()=>p.end()),()=>{let{status:f}=M(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:2,message:"internal_error"})})}))}function it(e){let t=bo();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=dc(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>Ae(e.scope,s):o!==void 0?s=>bn(o,s):s=>s())(()=>{let s=N(),a=fc(s,o);return e.onlyIfParent&&!a?new je:lc({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}var uc=(e,t)=>{let n=Ve(),r=yt(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:o,baggage:i}=e,s=b(),a=lr(i);return s&&!Ka(s,a?.org_id)?ji(t):Ae(c=>{let u=lo(o,i);return c.setPropagationContext(u),t()})};function bn(e,t){let n=bo();return n.withActiveSpan?n.withActiveSpan(e,t):Ae(r=>($t(r,e||void 0),t(r)))}function Eo(e){let t=bo();return t.suppressTracing?t.suppressTracing(e):Ae(n=>{n.setSDKProcessingMetadata({[zi]:!0});let r=e();return n.setSDKProcessingMetadata({[zi]:void 0}),r})}function ji(e){return Ae(t=>(t.setPropagationContext({traceId:Ge(),sampleRand:Math.random()}),E&&h.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),bn(null,e)))}function lc({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Je()){let s=new je;if(n||!e){let a={sampled:"false",sample_rate:"0",transaction:t.name,...ve(s)};dr(s,a)}return s}let o=ae(),i;if(e&&!n)i=y_(e,r,t),Ui(e,i);else if(e){let s=ve(e),{traceId:a,spanId:c}=e.spanContext(),u=bt(e);i=Hd({traceId:a,parentSpanId:c,...t},r,u),dr(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=Hd({traceId:s,parentSpanId:c,...t},r,u),a&&dr(i,a)}return Ld(i),bd(i,r,o),i}function dc(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=kt(e.startTime),delete r.startTime,r}return n}function bo(){let e=Ve();return yt(e)}function Hd(e,t,n){let r=b(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[d,l,p]=t.getScopeData().sdkProcessingMetadata[zi]?[!1]:Bd(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:lt(u.dsc?.sample_rate)},u.sampleRand),f=new yn({...e,attributes:{[be]:"custom",[en]:l!==void 0&&p?l:void 0,...c},sampled:d});return!d&&r&&(E&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function y_(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[zi]?!1:bt(e),s=i?new yn({...n,parentSpanId:r,traceId:o,sampled:i}):new je({traceId:o});Ui(e,s);let a=b();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function fc(e,t){if(t)return t;if(t===null)return;let n=Zt(e);if(!n)return;let r=b();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?te(n):n}function $d(e){return e!==void 0?t=>bn(e,t):t=>t()}var mr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},E_="heartbeatFailed",b_="idleTimeout",T_="finalTimeout",I_="externalFinish";function qi(e,t={}){let n=new Map,r=!1,o,i=I_,s=!t.disableAutoFinish,a=[],{idleTimeout:c=mr.idleTimeout,finalTimeout:u=mr.finalTimeout,childSpanTimeout:d=mr.childSpanTimeout,beforeSpanEnd:l}=t,p=b();if(!p||!Je()){let y=new je,C={sample_rate:"0",sampled:"false",...ve(y)};return dr(y,C),y}let f=N(),m=ee(),g=v_(e);g.end=new Proxy(g.end,{apply(y,C,L){if(l&&l(g),C instanceof je)return;let[I,...R]=L,$=I||re(),v=kt($),F=tn(g).filter(W=>W!==g);if(!F.length)return O(v),Reflect.apply(y,C,[v,...R]);let V=F.map(W=>M(W).timestamp).filter(W=>!!W),U=V.length?Math.max(...V):void 0,q=M(g).start_timestamp,x=Math.min(q?q+u/1e3:1/0,Math.max(q||-1/0,Math.min(v,U||1/0)));return O(x),Reflect.apply(y,C,[x,...R])}});function _(){o&&(clearTimeout(o),o=void 0)}function S(y){_(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=b_,g.end(y))},c)}function T(y){o=setTimeout(()=>{!r&&s&&(i=E_,g.end(y))},d)}function D(y){_(),n.set(y,!0);let C=re();T(C+d/1e3)}function A(y){if(n.has(y)&&n.delete(y),n.size===0){let C=re();S(C+c/1e3)}}function O(y){r=!0,n.clear(),a.forEach(v=>v()),$t(f,m);let C=M(g),{start_timestamp:L}=C;if(!L)return;C.data[Dn]||g.setAttribute(Dn,i),h.log(`[Tracing] Idle span "${C.op}" finished`);let R=tn(g).filter(v=>v!==g),$=0;R.forEach(v=>{v.isRecording()&&(v.setStatus({code:2,message:"cancelled"}),v.end(y),E&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(v,void 0,2)));let F=M(v),{timestamp:V=0,start_timestamp:U=0}=F,q=U<=y,x=(u+c)/1e3,W=V-U<=x;if(E){let H=JSON.stringify(v,void 0,2);q?W||h.log("[Tracing] Discarding span since it finished after idle span final timeout",H):h.log("[Tracing] Discarding span since it happened after idle span was finished",H)}(!W||!q)&&(xd(g,v),$++)}),$>0&&g.setAttribute("sentry.idle_span_discarded_spans",$)}return a.push(p.on("spanStart",y=>{if(r||y===g||M(y).timestamp||y instanceof yn&&y.isStandaloneSpan())return;tn(g).includes(y)&&D(y.spanContext().spanId)})),a.push(p.on("spanEnd",y=>{r||A(y.spanContext().spanId)})),a.push(p.on("idleSpanEnableAutoFinish",y=>{y===g&&(s=!0,S(),n.size&&T())})),t.disableAutoFinish||S(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=T_,g.end())},u),g}function v_(e){let t=it(e);return $t(N(),t),E&&h.log("[Tracing] Started span is an idle span"),t}var pc=0,Wd=1,Gd=2;function Ke(e){return new Nt(t=>{t(e)})}function Tn(e){return new Nt((t,n)=>{n(e)})}var Nt=class e{constructor(t){this._state=pc,this._handlers=[],this._runExecutor(t)}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===pc)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Wd&&n[1](this._value),this._state===Gd&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===pc){if(Ct(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(Wd,i)},o=i=>{n(Gd,i)};try{t(r,o)}catch(i){o(i)}}};function Vi(e,t,n,r=0){return new Nt((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);E&&s.id&&a===null&&h.log(`Event processor "${s.id}" dropped event`),Ct(a)?a.then(c=>Vi(e,c,n,r+1).then(o)).then(null,i):Vi(e,a,n,r+1).then(o).then(null,i)}})}function zd(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;w_(e,t),r&&C_(e,r),A_(e,n),R_(e,o),x_(e,i)}function hr(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:p,transactionName:f,span:m}=t;Yi(e,"extra",n),Yi(e,"tags",r),Yi(e,"user",o),Yi(e,"contexts",i),e.sdkProcessingMetadata=_n(e.sdkProcessingMetadata,a,2),s&&(e.level=s),f&&(e.transactionName=f),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...p}}function Yi(e,t,n){e[t]=_n(e[t],n,1)}function w_(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function R_(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function x_(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function C_(e,t){e.contexts={trace:po(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:ve(t),...e.sdkProcessingMetadata};let n=te(t),r=M(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function A_(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}var Ji,jd,Ki;function Xi(e){let t=w._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Ki&&n.length===jd||(jd=n.length,Ki=n.reduce((r,o)=>{Ji||(Ji={});let i=Ji[o];if(i)r[i[0]]=i[1];else{let s=e(o);for(let a=s.length-1;a>=0;a--){let u=s[a]?.filename,d=t[o];if(u&&d){r[u]=d,Ji[o]=[u,d];break}}}return r},{})),Ki}function mc(e,t){let n=Xi(e);if(!n)return[];let r=[];for(let o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function To(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||he(),timestamp:t.timestamp||ut()},u=n.integrations||e.integrations.map(_=>_.name);k_(c,e),O_(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&N_(c,e.stackParser);let d=D_(r,n.captureContext);n.mechanism&&We(c,n.mechanism);let l=o?o.getEventProcessors():[],p=Qt().getScopeData();if(i){let _=i.getScopeData();hr(p,_)}if(d){let _=d.getScopeData();hr(p,_)}let f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),zd(c,p);let m=[...l,...p.eventProcessors];return Vi(m,c,n).then(_=>(_&&M_(_),typeof s=="number"&&s>0?L_(_,s,a):_))}function k_(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||nn,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);let s=e.request;s?.url&&(s.url=St(s.url,i))}function N_(e,t){let n=Xi(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function M_(e){let t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function O_(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function L_(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:ke(o.data,t,n)}}))},...e.user&&{user:ke(e.user,t,n)},...e.contexts&&{contexts:ke(e.contexts,t,n)},...e.extra&&{extra:ke(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ke(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:ke(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=ke(e.contexts.flags,3,n)),r}function D_(e,t){if(!t)return e;let n=e?e.clone():new ze;return n.update(t),n}function qd(e){if(e)return P_(e)?{captureContext:e}:U_(e)?{captureContext:e}:e}function P_(e){return e instanceof ze||typeof e=="function"}var F_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function U_(e){return Object.keys(e).some(t=>F_.includes(t))}function ft(e,t){return N().captureException(e,qd(t))}function In(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return N().captureMessage(e,n,r)}function rn(e,t){return N().captureEvent(e,t)}function Io(e,t){ae().setContext(e,t)}function hc(e){ae().setExtras(e)}function gc(e,t){ae().setExtra(e,t)}function _c(e){ae().setTags(e)}function Sc(e,t){ae().setTag(e,t)}function yc(e){ae().setUser(e)}function vo(){return ae().lastEventId()}async function Ec(e){let t=b();return t?t.flush(e):(E&&h.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function bc(e){let t=b();return t?t.close(e):(E&&h.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function Tc(){return!!b()}function wo(){let e=b();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function Ro(e){ae().addEventProcessor(e)}function gr(e){let t=ae(),n=N(),{userAgent:r}=w.navigator||{},o=pd({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&Xt(i,{status:"exited"}),xo(),t.setSession(o),o}function xo(){let e=ae(),n=N().getSession()||e.getSession();n&&md(n),Vd(),e.setSession()}function Vd(){let e=ae(),t=b(),n=e.getSession();n&&t&&t.captureSession(n)}function _r(e=!1){if(e){xo();return}Vd()}var B_="7";function Yd(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function H_(e){return`${Yd(e)}${e.projectId}/envelope/`}function $_(e,t){let n={sentry_version:B_};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Co(e,t,n){return t||`${H_(e)}?${$_(e,n)}`}function Ic(e,t){let n=uo(e);if(!n)return"";let r=`${Yd(n)}embed/error-page/`,o=`dsn=${ot(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var Jd=[];function W_(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function vc(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return W_(r)}function Kd(e,t){let n={};return t.forEach(r=>{r&&Rc(e,r,n)}),n}function wc(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Rc(e,t,n){if(n[t.name]){E&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Jd.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Jd.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}E&&h.log(`Integration installed: ${t.name}`)}function Sr(e){let t=b();if(!t){E&&h.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Xd(e,t,n){let r=[{type:"client_report"},{timestamp:n||ut(),discarded_events:e}];return De(t?{dsn:t}:{},[r])}function Zi(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Zd(e){let{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[ur],exclusive_time:s?.[Et],measurements:e.measurements,is_segment:!0}}function Qd(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ur]:e.profile_id},...e.exclusive_time&&{[Et]:e.exclusive_time}}}},measurements:e.measurements}}var ef="Not capturing exception because it's already been captured.",tf="Discarded session because of missing or non-string release",of=Symbol.for("SentryInternalError"),sf=Symbol.for("SentryDoNotSendEventError");function Qi(e){return{message:e,[of]:!0}}function xc(e){return{message:e,[sf]:!0}}function nf(e){return!!e&&typeof e=="object"&&of in e}function rf(e){return!!e&&typeof e=="object"&&sf in e}var Ao=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=uo(t.dsn):E&&h.warn("No DSN provided, client will not send events."),this._dsn){let n=Co(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=he();if(vi(t))return E&&h.log(ef),o;let i={event_id:o,...n};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i={event_id:he(),...r},s=gn(t)?t:String(t),a=_t(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=he();if(n?.originalException&&vi(n.originalException))return E&&h.log(ef),o;let i={event_id:o,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),Xt(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):Ke(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];Rc(this,t,this._integrations),n||wc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Md(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=rc(r,sc(i));let o=this.sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let{release:n,environment:r=nn}=this._options;if("aggregates"in t){let i=t.attrs||{};if(!i.release&&!n){E&&h.warn(tf);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){E&&h.warn(tf);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);let o=Nd(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){let o=`${t}:${n}`;E&&h.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(E&&h.error("Error while sending envelope:",n),n)):(E&&h.error("Transport disabled"),Ke({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Kd(this,t),wc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1,i=n.exception?.values;if(i){o=!0;for(let c of i)if(c.mechanism?.handled===!1){r=!0;break}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(Xt(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Nt(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),To(i,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Ri(r),...a.contexts};let c=fr(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=N(),o=ae()){return E&&Cc(t)&&h.log(`Captured error event \`${Zi(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(i=>i.event_id,i=>{E&&(rf(i)?h.log(i.message):nf(i)?h.warn(i.message):h.warn(i))})}_processEvent(t,n,r,o){let i=this.getOptions(),{sampleRate:s}=i,a=af(t),c=Cc(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof s>"u"?void 0:lt(s);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Tn(xc(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let p=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",p),xc("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;let g=z_(this,i,f,n);return G_(g,d)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",p),a){let S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw xc(`${d} returned \`null\`, will not send event.`)}let m=r.getSession()||o.getSession();if(c&&m&&this._updateSessionFromEvent(m,f),a){let _=f.sdkProcessingMetadata?.spanCountBeforeProcessing||0,S=f.spans?f.spans.length:0,T=_-S;T>0&&this.recordDroppedEvent("before_send","span",T)}let g=f.transaction_info;if(a&&g&&f.transaction!==t.transaction){let _="custom";f.transaction_info={...g,source:_}}return this.sendEvent(f,n),f}).then(null,f=>{throw rf(f)||nf(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),Qi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}_flushOutcomes(){E&&h.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){E&&h.log("No outcomes to send");return}if(!this._dsn){E&&h.log("No dsn provided, will not send outcomes");return}E&&h.log("Sending outcomes:",t);let n=Xd(t,this._options.tunnel&&ot(this._dsn));this.sendEnvelope(n)}};function G_(e,t){let n=`${t} must return \`null\` or a valid event.`;if(Ct(e))return e.then(r=>{if(!$e(r)&&r!==null)throw Qi(n);return r},r=>{throw Qi(`${t} rejected with ${r}`)});if(!$e(e)&&e!==null)throw Qi(n);return e}function z_(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s,ignoreSpans:a}=t,c=n;if(Cc(c)&&o)return o(c,r);if(af(c)){if(s||a){let u=Zd(c);if(a?.length&&So(u,a))return null;if(s){let d=s(u);d?c=_n(n,Qd(d)):ho()}if(c.spans){let d=[],l=c.spans;for(let f of l){if(a?.length&&So(f,a)){kd(l,f);continue}if(s){let m=s(f);m?d.push(m):(ho(),d.push(f))}else d.push(f)}let p=c.spans.length-d.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=d}}if(i){if(c.spans){let u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,r)}}return c}function Cc(e){return e.type===void 0}function af(e){return e.type==="transaction"}function cf(e,t){return t?Ae(t,()=>{let n=ee(),r=n?po(n):Ri(t);return[n?ve(n):fr(e,t),r]}):[void 0,void 0]}var uf={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function j_(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function lf(e,t,n,r){let o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=ot(r)),De(o,[j_(e)])}var q_=100;function V_(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function on(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function df(e,t){let n=Ac(),r=ff(e);r===void 0?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=q_&&Er(e,r))}function yr(e,t=b(),n=N(),r=df){if(!t){E&&h.warn("No client available to capture log.");return}let{release:o,environment:i,enableLogs:s=!1,beforeSendLog:a}=t.getOptions();if(!s){E&&h.warn("logging option not enabled, log will not be captured.");return}let[,c]=cf(t,n),u={...e.attributes},{user:{id:d,email:l,username:p}}=Y_(n);on(u,"user.id",d,!1),on(u,"user.email",l,!1),on(u,"user.name",p,!1),on(u,"sentry.release",o),on(u,"sentry.environment",i);let{name:f,version:m}=t.getSdkMetadata()?.sdk??{};on(u,"sentry.sdk.name",f),on(u,"sentry.sdk.version",m);let g=t.getIntegrationByName("Replay");on(u,"sentry.replay_id",g?.getReplayId());let _=e.message;if(gn(_)){let{__sentry_template_string__:I,__sentry_template_values__:R=[]}=_;R?.length&&(u["sentry.message.template"]=I),R.forEach(($,v)=>{u[`sentry.message.parameter.${v}`]=$})}let S=Zt(n);on(u,"sentry.trace.parent_span_id",S?.spanContext().spanId);let T={...e,attributes:u};t.emit("beforeCaptureLog",T);let D=a?Ue(()=>a(T)):T;if(!D){t.recordDroppedEvent("before_send","log_item",1),E&&h.warn("beforeSendLog returned null, log will not be captured.");return}let{level:A,message:O,attributes:y={},severityNumber:C}=D,L={timestamp:re(),level:A,body:O,trace_id:c?.trace_id,severity_number:C??uf[A],attributes:Object.keys(y).reduce((I,R)=>(I[R]=V_(y[R]),I),{})};r(t,L),t.emit("afterCaptureLog",D)}function Er(e,t){let n=t??ff(e)??[];if(n.length===0)return;let r=e.getOptions(),o=lf(n,r._metadata,r.tunnel,e.getDsn());Ac().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function ff(e){return Ac().get(e)}function Y_(e){let t=Qt().getScopeData();return hr(t,ae().getScopeData()),hr(t,e.getScopeData()),t}function Ac(){return Kt("clientToLogBufferMap",()=>new WeakMap)}function kc(e,t){t.debug===!0&&(E?h.enable():Ue(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),N().update(t.initialScope);let r=new e(t);return es(r),r.init(),r}function es(e){N().setClient(e)}var Nc=Symbol.for("SentryBufferFullError");function pf(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return Tn(Nc);let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new Nt((a,c)=>{let u=t.length;if(!u)return a(!0);let d=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{Ke(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:o,drain:i}}function ts(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function mf(e,t){return e[t]||e.all||0}function ko(e,t,n=Date.now()){return mf(e,t)>n}function No(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,d]=a.split(":",5),l=parseInt(c,10),p=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+p;else for(let f of u.split(";"))f==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[f]=r+p):o[f]=r+p}else s?o.all=r+ts(s,r):t===429&&(o.all=r+60*1e3);return o}var J_=64;function Mo(e,t,n=pf(e.bufferSize||J_)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(dt(s,(l,p)=>{let f=Wi(p);ko(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):a.push(l)}),a.length===0)return Ke({});let c=De(s[0],a),u=l=>{dt(c,(p,f)=>{e.recordDroppedEvent(l,Wi(f))})},d=()=>t({body:Sn(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&E&&h.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=No(r,l),l),l=>{throw u("network_error"),E&&h.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Nc)return E&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),Ke({});throw l})}return{send:i,flush:o}}var Mc=100,Oc=5e3,K_=36e5;function Lc(e){function t(...n){E&&h.log("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let o=n.createStore(n),i=Oc,s;function a(l,p,f){return $i(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,p,f):!0}function c(l){s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let p=await o.shift();p&&(t("Attempting to send previously queued event"),p[0].sent_at=new Date().toISOString(),d(p,!0).catch(f=>{t("Failed to retry sending",f)}))},l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(i),i=Math.min(i*2,K_))}async function d(l,p=!1){if(!p&&$i(l,["replay_event","replay_recording"]))return await o.push(l),c(Mc),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let f=await r.send(l),m=Mc;if(f){if(f.headers?.["retry-after"])m=ts(f.headers["retry-after"]);else if(f.headers?.["x-sentry-rate-limits"])m=6e4;else if((f.statusCode||0)>=400)return f}return c(m),i=Oc,f}catch(f){if(await a(l,f,i))return p?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",f),{};throw f}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(i=Oc,c(Mc)),r.flush(l))}}}function hf(e,t){let n;return dt(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function X_(e,t){return n=>{let r=e(n);return{...r,send:async o=>{let i=hf(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)}}}}function Z_(e,t){return De(t?{...e[0],dsn:t}:e[0],e[1])}function Dc(e,t){return n=>{let r=e(n),o=new Map;function i(c,u){let d=u?`${c}:${u}`:c,l=o.get(d);if(!l){let p=ki(c);if(!p)return;let f=Co(p,n.tunnel);l=u?X_(e,u)({...n,url:f}):e({...n,url:f}),o.set(d,l)}return[c,l]}async function s(c){function u(f){let m=f?.length?f:["event"];return hf(c,m)}let d=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f),l=d.length?d:[["",r]];return(await Promise.all(l.map(([f,m])=>m.send(Z_(c,f)))))[0]}async function a(c){let u=[...o.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:s,flush:a}}}var Q_="thismessage:/";function br(e){return"isRelative"in e}function Un(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?Q_:void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function Pc(e){if(br(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Mt(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Oo(e){return e.split(/[?#]/,1)[0]}function Lo(e,t){let n=t?.getDsn(),r=t?.getOptions().tunnel;return tS(e,n)||eS(e,r)}function eS(e,t){return t?gf(e)===gf(t):!1}function tS(e,t){let n=Un(e);return!n||br(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function gf(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function ns(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Fc=ns;function Uc(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Bc(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:tt})),version:tt}),e._metadata=o}function Bn(e={}){let t=e.client||b();if(!wo()||!t)return{};let n=Ve(),r=yt(n);if(r.getTraceData)return r.getTraceData(e);let o=e.scope||N(),i=e.span||ee(),s=i?mo(i):nS(o),a=i?ve(i):fr(t,o),c=Ai(a);if(!Mi.test(s))return h.warn("Invalid sentry-trace data. Cannot generate trace data"),{};let d={"sentry-trace":s,baggage:c};if(e.propagateTraceparent){let l=rS(s);l&&(d.traceparent=l)}return d}function nS(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return fo(t,r,n)}function rS(e){let{traceId:t,parentSpanId:n,parentSampled:r}=Oi(e)||{};if(!(!t||!n))return`00-${t}-${n}-${r?"01":"00"}`}function Hc(e,t,n){let r,o,i,s=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function d(){return o!==void 0||i!==void 0?c():r}function l(){return o&&clearTimeout(o),o=a(c,t),s&&i===void 0&&(i=a(c,s)),r}return l.cancel=u,l.flush=d,l}var oS=100;function Xe(e,t){let n=b(),r=ae();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=oS}=n.getOptions();if(i<=0)return;let a={timestamp:ut(),...e},c=o?Ue(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var _f,iS="FunctionToString",Sf=new WeakMap,sS=(()=>({name:iS,setupOnce(){_f=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=Ln(this),n=Sf.has(b())&&t!==void 0?t:this;return _f.apply(n,e)}}catch{}},setup(e){Sf.set(e,!0)}})),Do=sS;var aS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],cS="EventFilters",os=(e={})=>{let t;return{name:cS,setup(n){let r=n.getOptions();t=yf(e,r)},processEvent(n,r,o){if(!t){let i=o.getOptions();t=yf(e,i)}return uS(n,t)?null:n}}},Po=((e={})=>({...os(e),name:"InboundFilters"}));function yf(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:aS],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function uS(e,t){if(e.type){if(e.type==="transaction"&&dS(e,t.ignoreTransactions))return E&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ht(e)}`),!0}else{if(lS(e,t.ignoreErrors))return E&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ht(e)}`),!0;if(hS(e))return E&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ht(e)}`),!0;if(fS(e,t.denyUrls))return E&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ht(e)}.
Url: ${rs(e)}`),!0;if(!pS(e,t.allowUrls))return E&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ht(e)}.
Url: ${rs(e)}`),!0}return!1}function lS(e,t){return t?.length?Zi(e).some(n=>Le(n,t)):!1}function dS(e,t){if(!t?.length)return!1;let n=e.transaction;return n?Le(n,t):!1}function fS(e,t){if(!t?.length)return!1;let n=rs(e);return n?Le(n,t):!1}function pS(e,t){if(!t?.length)return!0;let n=rs(e);return n?Le(n,t):!0}function mS(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function rs(e){try{let n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?mS(n):null}catch{return E&&h.error(`Cannot extract url for event ${Ht(e)}`),null}}function hS(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Wc(e,t,n,r,o,i){if(!o.exception?.values||!i||!ct(i.originalException,Error))return;let s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=$c(e,t,r,i.originalException,n,o.exception.values,s,0))}function $c(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(ct(r[o],Error)){Ef(s,a);let u=e(t,r[o]),d=c.length;bf(u,o,d,a),c=$c(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(ct(u,Error)){Ef(s,a);let l=e(t,u),p=c.length;bf(l,`errors[${d}]`,p,a),c=$c(e,t,n,u,o,[l,...c],l,p)}}),c}function Ef(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function bf(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var If=new Map,Tf=new Set;function gS(e){if(w._sentryModuleMetadata)for(let t of Object.keys(w._sentryModuleMetadata)){let n=w._sentryModuleMetadata[t];if(Tf.has(t))continue;Tf.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){If.set(o.filename,n);break}}}function _S(e,t){return gS(e),If.get(t)}function is(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let o=_S(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function ss(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var Gc=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{dt(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(ss(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;is(n,t)})}});function Hn(e){let t="console";Be(t,e),He(t,SS)}function SS(){"console"in w&&Nn.forEach(function(e){e in w.console&&ye(w.console,e,function(t){return nr[e]=t,function(...n){we("console",{args:n,level:e}),nr[e]?.apply(w.console,n)}})})}function $n(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var yS="CaptureConsole",ES=((e={})=>{let t=e.levels||Nn,n=e.handled??!0;return{name:yS,setup(r){"console"in w&&Hn(({args:o,level:i})=>{b()!==r||!t.includes(i)||bS(o,i,n)})}}}),zc=ES;function bS(e,t,n){let r={level:$n(t),extra:{arguments:e}};Ae(o=>{if(o.addEventProcessor(a=>(a.logger="console",We(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){let a=`Assertion failed: ${On(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),In(a,r)}return}let i=e.find(a=>a instanceof Error);if(i){ft(i,r);return}let s=On(e," ");In(s,r)})}var TS="Dedupe",IS=(()=>{let e;return{name:TS,processEvent(t){if(t.type)return t;try{if(vS(t,e))return E&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),Fo=IS;function vS(e,t){return t?!!(wS(e,t)||RS(e,t)):!1}function wS(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Rf(e,t)||!wf(e,t))}function RS(e,t){let n=vf(t),r=vf(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Rf(e,t)||!wf(e,t))}function wf(e,t){let n=rr(e),r=rr(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function Rf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function vf(e){return e.exception?.values?.[0]}var xS="ExtraErrorData",CS=((e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:xS,processEvent(r,o,i){let{maxValueLength:s=250}=i.getOptions();return AS(r,o,t,n,s)}}}),jc=CS;function AS(e,t={},n,r,o){if(!t.originalException||!rt(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=xf(t.originalException,r,o);if(s){let a={...e.contexts},c=ke(s,n);return $e(c)&&(me(c,"__sentry_skip_normalization__",!0),a[i]=c),{...e,contexts:a}}return e}function xf(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];o[i]=rt(s)||typeof s=="string"?St(`${s}`,n):s}if(t&&e.cause!==void 0)if(rt(e.cause)){let i=e.cause.name||e.cause.constructor.name;o.cause={[i]:xf(e.cause,!1,n)}}else o.cause=e.cause;if(typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let a=i[s];o[s]=rt(a)?a.toString():a}}return o}catch(r){E&&h.error("Unable to extract extra data from the Error object:",r)}return null}function kS(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var NS=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function MS(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=NS.exec(t);return n?n.slice(1):[]}function Cf(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=kS(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Af(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function kf(e,t){e=Cf(e).slice(1),t=Cf(t).slice(1);let n=Af(e.split("/")),r=Af(t.split("/")),o=Math.min(n.length,r.length),i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function Nf(e,t){let n=MS(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var OS="RewriteFrames",qc=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in w&&!!w.window,o=e.iteratee||LS({isBrowser:r,root:t,prefix:n});function i(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames?.map(c=>o(c))}}return{name:OS,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function LS({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){let s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?kf(t,s):Nf(s);r.filename=`${n}${a}`}return r}}var DS=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],PS=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],FS={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},Of=["select","insert","upsert","update","delete"];function as(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function cs(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function US(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function BS(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&FS[n]||"filter",`${o}(${e}, ${r.join(".")})`}function Mf(e,t=!1){return new Proxy(e,{apply(n,r,o){return En({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[X]:"auto.db.supabase",[_e]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,o).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),ft(s.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),ft(s,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),s}).then(...o))}})}function HS(e){let t=e.auth;if(!(!t||cs(e.auth))){for(let n of DS){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Mf(r))}for(let n of PS){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Mf(r,!0))}as(e.auth)}}function $S(e){cs(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let o=Reflect.apply(t,n,r),i=o.constructor;return GS(i),o}}),as(e.prototype.from))}function WS(e){cs(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){let o=Of,i=n,s=US(i.method,i.headers);if(!o.includes(s)||!i?.url?.pathname||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(let[f,m]of i.url.searchParams.entries())u.push(BS(f,m));let d=Object.create(null);if($e(i.body))for(let[f,m]of Object.entries(i.body))d[f]=m;let l=`${s==="select"?"":`${s}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,p={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[X]:"auto.db.supabase",[_e]:"db"};return u.length&&(p["db.query"]=u),Object.keys(d).length&&(p["db.body"]=d),En({name:l,attributes:p},f=>Reflect.apply(t,n,[]).then(m=>{if(f&&(m&&typeof m=="object"&&"status"in m&&zt(f,m.status||500),f.end()),m.error){let S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);let T={};u.length&&(T.query=u),Object.keys(d).length&&(T.body=d),ft(S,D=>(D.addEventProcessor(A=>(We(A,{handled:!1,type:"auto.db.supabase.postgres"}),A)),D.setContext("supabase",T),D))}let g={type:"supabase",category:`db.${s}`,message:l},_={};return u.length&&(_.query=u),Object.keys(d).length&&(_.body=d),Object.keys(_).length&&(g.data=_),Xe(g),m},m=>{throw f&&(zt(f,500),f.end()),m}).then(...r))}}),as(e.prototype.then))}function GS(e){for(let t of Of)cs(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){let i=Reflect.apply(n,r,o),s=i.constructor;return E&&h.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),WS(s),i}}),as(e.prototype[t]))}var us=e=>{if(!e){E&&h.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;$S(t),HS(e)},zS="Supabase",jS=(e=>({setupOnce(){us(e)},name:zS})),Vc=e=>jS(e.supabaseClient);var qS=10,VS="ZodErrors";function YS(e){return rt(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function JS(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function KS(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function XS(e){let t=new Set;for(let r of e.issues){let o=KS(r.path);o.length>0&&t.add(o)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${St(n.join(", "),100)}`}function ZS(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!YS(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(JS);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:XS(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}var QS=((e={})=>{let t=e.limit??qS;return{name:VS,processEvent(n,r){return ZS(t,e.saveZodIssuesAsAttachment,n,r)}}}),Yc=QS;var Jc=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{dt(n,(r,o)=>{if(o==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(ss(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;is(r,n)})},processEvent(t){let n=ey(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](i=>!i.some(s=>e.filterKeys.includes(s)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function ey(e){let t=rr(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(Lf)).map(r=>r.slice(Lf.length)):[])}var Lf="_sentryBundlerPluginAppKey:";var Df=100,Pf=10,ls="flag.evaluation.";function Ot(e){let n=N().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function It(e,t,n=Df){let r=N().getScopeData().contexts;r.flags||(r.flags={values:[]});let o=r.flags.values;ty(o,e,t,n)}function ty(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){E&&h.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let o=e.findIndex(i=>i.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function vt(e,t,n=Pf){if(typeof t!="boolean")return;let r=ee();if(!r)return;let o=M(r).data;if(`${ls}${e}`in o){r.setAttribute(`${ls}${e}`,t);return}Object.keys(o).filter(s=>s.startsWith(ls)).length<n&&r.setAttribute(`${ls}${e}`,t)}var Kc=()=>({name:"FeatureFlags",processEvent(e,t,n){return Ot(e)},addFeatureFlag(e,t){It(e,t),vt(e,t)}});function Xc(e,t,n,r,o){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,a=Je()&&t(s);if(e.endTimestamp&&a){let f=e.fetchData.__span;if(!f)return;let m=r[f];m&&(ry(m,e),delete r[f]);return}let{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof o=="object"?o:{spanOrigin:o},d=!!ee(),l=a&&d?it(iy(s,i,c)):new je;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){let f=e.args[0],m=e.args[1]||{},g=ny(f,m,Je()&&d?l:void 0,u);g&&(e.args[1]=m,m.headers=g)}let p=b();if(p){let f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",l,f)}return l}function ny(e,t,n,r){let o=Bn({span:n,propagateTraceparent:r}),i=o["sentry-trace"],s=o.baggage,a=o.traceparent;if(!i)return;let c=t.headers||(bi(e)?e.headers:void 0);if(c)if(oy(c)){let u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",i),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),s){let d=u.get("baggage");d?ds(d)||u.set("baggage",`${d},${s}`):u.set("baggage",s)}return u}else if(Array.isArray(c)){let u=[...c];c.find(l=>l[0]==="sentry-trace")||u.push(["sentry-trace",i]),r&&a&&!c.find(l=>l[0]==="traceparent")&&u.push(["traceparent",a]);let d=c.find(l=>l[0]==="baggage"&&ds(l[1]));return s&&!d&&u.push(["baggage",s]),u}else{let u="sentry-trace"in c?c["sentry-trace"]:void 0,d="traceparent"in c?c.traceparent:void 0,l="baggage"in c?c.baggage:void 0,p=l?Array.isArray(l)?[...l]:[l]:[],f=l&&(Array.isArray(l)?l.find(g=>ds(g)):ds(l));s&&!f&&p.push(s);let m={...c,"sentry-trace":u??i,baggage:p.length>0?p.join(","):void 0};return r&&a&&!d&&(m.traceparent=a),m}else return{...o}}function ry(e,t){if(t.response){zt(e,t.response.status);let n=t.response?.headers?.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function ds(e){return e.split(",").some(t=>t.trim().startsWith(Ci))}function oy(e){return typeof Headers<"u"&&ct(e,Headers)}function iy(e,t,n){let r=Un(e);return{name:r?`${t} ${Pc(r)}`:t,attributes:sy(e,r,t,n)}}function sy(e,t,n,r){let o={url:e,type:"fetch","http.method":n,[X]:r,[_e]:"http.client"};return t&&(br(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function Uo(e,t={},n=N()){let{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||b();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var ay="ConsoleLogs",Ff={[X]:"auto.console.logging"},cy=((e={})=>{let t=e.levels||Nn;return{name:ay,setup(n){let{enableLogs:r,normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=n.getOptions();if(!r){E&&h.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}Hn(({args:s,level:a})=>{if(b()!==n||!t.includes(a))return;if(a==="assert"){if(!s[0]){let u=s.slice(1),d=u.length>0?`Assertion failed: ${Uf(u,o,i)}`:"Assertion failed";yr({level:"error",message:d,attributes:Ff})}return}let c=a==="log";yr({level:c?"info":a,message:Uf(s,o,i),severityNumber:c?10:void 0,attributes:Ff})})}}}),Zc=cy;function Uf(e,t,n){return"util"in w&&typeof w.util.format=="function"?w.util.format(...e):uy(e,t,n)}function uy(e,t,n){return e.map(r=>_t(r)?String(r):JSON.stringify(ke(r,t,n))).join(" ")}function fs(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var Tr=w;function Qc(){return"history"in Tr&&!!Tr.history}function ly(){if(!("fetch"in Tr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Bo(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Ho(){if(typeof EdgeRuntime=="string")return!0;if(!ly())return!1;if(Bo(Tr.fetch))return!0;let e=!1,t=Tr.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Bo(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){E&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function eu(){return"ReportingObserver"in Tr}function Wn(e,t){let n="fetch";Be(n,e),He(n,()=>Hf(void 0,t))}function nu(e){let t="fetch-body-resolved";Be(t,e),He(t,()=>Hf(fy))}function Hf(e,t=!1){t&&!Ho()||ye(w,"fetch",function(n){return function(...r){let o=new Error,{method:i,url:s}=py(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:re()*1e3,virtualError:o,headers:my(r)};return e||we("fetch",{...a}),n.apply(w,r).then(async c=>(e?e(c):we("fetch",{...a,endTimestamp:re()*1e3,response:c}),c),c=>{if(we("fetch",{...a,endTimestamp:re()*1e3,error:c}),rt(c)&&c.stack===void 0&&(c.stack=o.stack,me(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function dy(e,t){if(e?.body){let n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:a}=await r.read();clearTimeout(s),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(s)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function fy(e){let t;try{t=e.clone()}catch{return}dy(t,()=>{we("fetch-body-resolved",{endTimestamp:re()*1e3,response:e})})}function tu(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Bf(e){return typeof e=="string"?e:e?tu(e,"url")?e.url:e.toString?e.toString():"":""}function py(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Bf(n),method:tu(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Bf(t),method:tu(t,"method")?String(t.method).toUpperCase():"GET"}}function my(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(bi(t))return new Headers(t.headers)}catch{}}function ru(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ou(){return"npm"}function $f(){return!ru()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ir(){return typeof window<"u"&&(!$f()||hy())}function hy(){return w.process?.type==="renderer"}var Dt=w,ce=Dt.document,$o=Dt.navigator,op="Report a Bug",gy="Cancel",_y="Send Bug Report",Sy="Confirm",yy="Report a Bug",Ey="your.email@example.org",by="Email",Ty="What's the bug? What did you expect?",Iy="Description",vy="Your Name",wy="Name",Ry="Thank you for your report!",xy="(required)",Cy="Add a screenshot",Ay="Remove screenshot",ky="Highlight",Ny="Hide",My="Remove",Oy="widget",Ly="api",Dy=5e3,mu=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=b();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&N().setTags(e.tags);let r=Uo({source:Ly,url:Ye(),...e},t);return new Promise((o,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(s),a(),u?.statusCode&&u.statusCode>=200&&u.statusCode<300?o(r):u?.statusCode===403?i("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},gs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Py(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test($o.userAgent)||/Macintosh/i.test($o.userAgent)&&$o.maxTouchPoints&&$o.maxTouchPoints>1||!isSecureContext)}function ps(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Fy(e){let t=ce.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function pt(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var vr=20,Uy="http://www.w3.org/2000/svg";function By(){let e=a=>Dt.document.createElementNS(Uy,a),t=pt(e("svg"),{width:`${vr}`,height:`${vr}`,viewBox:`0 0 ${vr} ${vr}`,fill:"var(--actor-color, var(--foreground))"}),n=pt(e("g"),{clipPath:"url(#clip0_57_80)"}),r=pt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=pt(e("clipPath"),{id:"clip0_57_80"}),s=pt(e("rect"),{width:`${vr}`,height:`${vr}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function Hy({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let o=ce.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||op,o.appendChild(By()),e){let s=ce.createElement("span");s.appendChild(ce.createTextNode(e)),o.appendChild(s)}let i=Fy(r);return{el:o,appendToDom(){n.appendChild(i),n.appendChild(o)},removeFromDom(){o.remove(),i.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}var ip="rgba(88, 74, 192, 1)",$y={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:ip,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Wf={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:ip,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Gf(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function Wy({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let o=ce.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Gf(e==="dark"?{...Wf,...t}:{...$y,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Gf({...Wf,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}var Ts=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>(({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:p={email:"email",name:"username"},tags:f,styleNonce:m,scriptNonce:g,colorScheme:_="system",themeLight:S={},themeDark:T={},addScreenshotButtonLabel:D=Cy,cancelButtonLabel:A=gy,confirmButtonLabel:O=Sy,emailLabel:y=by,emailPlaceholder:C=Ey,formTitle:L=yy,isRequiredLabel:I=xy,messageLabel:R=Iy,messagePlaceholder:$=Ty,nameLabel:v=wy,namePlaceholder:F=vy,removeScreenshotButtonLabel:V=Ay,submitButtonLabel:U=_y,successMessageText:q=Ry,triggerLabel:x=op,triggerAriaLabel:W="",highlightToolText:H=ky,hideToolText:Y=Ny,removeHighlightText:oe=My,onFormOpen:Ie,onFormClose:Pe,onSubmitSuccess:Ce,onSubmitError:fn,onFormSubmitted:kn}={})=>{let Jt={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:p,tags:f,styleNonce:m,scriptNonce:g,colorScheme:_,themeDark:T,themeLight:S,triggerLabel:x,triggerAriaLabel:W,cancelButtonLabel:A,submitButtonLabel:U,confirmButtonLabel:O,formTitle:L,emailLabel:y,emailPlaceholder:C,messageLabel:R,messagePlaceholder:$,nameLabel:v,namePlaceholder:F,successMessageText:q,isRequiredLabel:I,addScreenshotButtonLabel:D,removeScreenshotButtonLabel:V,highlightToolText:H,hideToolText:Y,removeHighlightText:oe,onFormClose:Pe,onFormOpen:Ie,onSubmitError:fn,onSubmitSuccess:Ce,onFormSubmitted:kn},xt=null,pn=[],mn=se=>{if(!xt){let Se=ce.createElement("div");Se.id=String(se.id),ce.body.appendChild(Se),xt=Se.attachShadow({mode:"open"}),xt.appendChild(Wy(se))}return xt},eo=async se=>{let Se=se.enableScreenshot&&Py(),gt,Me;try{gt=(t?t():await e("feedbackModalIntegration",g))(),Sr(gt)}catch{throw gs&&h.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let Bt=Se?n?n():await e("feedbackScreenshotIntegration",g):void 0;Bt&&(Me=Bt(),Sr(Me))}catch{gs&&h.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let Fe=gt.createDialog({options:{...se,onFormClose:()=>{Fe?.close(),se.onFormClose?.()},onFormSubmitted:()=>{Fe?.close(),se.onFormSubmitted?.()}},screenshotIntegration:Me,sendFeedback:mu,shadow:mn(se)});return Fe},hi=(se,Se={})=>{let gt=ps(Jt,Se),Me=typeof se=="string"?ce.querySelector(se):typeof se.addEventListener=="function"?se:null;if(!Me)throw gs&&h.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let Fe=null,Bt=async()=>{Fe||(Fe=await eo({...gt,onFormSubmitted:()=>{Fe?.removeFromDom(),gt.onFormSubmitted?.()}})),Fe.appendToDom(),Fe.open()};Me.addEventListener("click",Bt);let Z=()=>{pn=pn.filter(at=>at!==Z),Fe?.removeFromDom(),Fe=null,Me.removeEventListener("click",Bt)};return pn.push(Z),Z},to=(se={})=>{let Se=ps(Jt,se),gt=mn(Se),Me=Hy({triggerLabel:Se.triggerLabel,triggerAriaLabel:Se.triggerAriaLabel,shadow:gt,styleNonce:m});return hi(Me.el,{...Se,onFormOpen(){Me.hide()},onFormClose(){Me.show()},onFormSubmitted(){Me.show()}}),Me};return{name:"Feedback",setupOnce(){!Ir()||!Jt.autoInject||(ce.readyState==="loading"?ce.addEventListener("DOMContentLoaded",()=>to().appendToDom()):to().appendToDom())},attachTo:hi,createWidget(se={}){let Se=to(ps(Jt,se));return Se.appendToDom(),Se},async createForm(se={}){return eo(ps(Jt,se))},remove(){xt&&(xt.parentElement?.remove(),xt=null),pn.forEach(se=>se()),pn=[]}}});function sp(){return b()?.getIntegrationByName("Feedback")}var Is,le,ap,Gn,zf,cp,lu,Wo={},hu=[],Gy=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,gu=Array.isArray;function wn(e,t){for(var n in t)e[n]=t[n];return e}function up(e){var t=e.parentNode;t&&t.removeChild(e)}function J(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?Is.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return _s(e,s,r,o,null)}function _s(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++ap,__i:-1,__u:0};return o==null&&le.vnode!=null&&le.vnode(i),i}function Go(e){return e.children}function Ss(e,t){this.props=e,this.context=t}function Rr(e,t){if(t==null)return e.__?Rr(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Rr(e):null}function zy(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=wn({},o)).__v=o.__v+1,le.vnode&&le.vnode(r),_u(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??Rr(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&lp(r),r}function lp(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return lp(e)}}function jf(e){(!e.__d&&(e.__d=!0)&&Gn.push(e)&&!bs.__r++||zf!==le.debounceRendering)&&((zf=le.debounceRendering)||cp)(bs)}function bs(){var e,t,n,r=[],o=[];for(Gn.sort(lu);e=Gn.shift();)e.__d&&(n=Gn.length,t=zy(e,r,o)||t,n===0||Gn.length>n?(du(r,t,o),o.length=r.length=0,t=void 0,Gn.sort(lu)):t&&le.__c&&le.__c(t,hu));t&&du(r,t,o),bs.__r=0}function dp(e,t,n,r,o,i,s,a,c,u,d){var l,p,f,m,g,_=r&&r.__k||hu,S=t.length;for(n.__d=c,jy(n,t,_),c=n.__d,l=0;l<S;l++)(f=n.__k[l])!=null&&typeof f!="boolean"&&typeof f!="function"&&(p=f.__i===-1?Wo:_[f.__i]||Wo,f.__i=l,_u(e,f,p,o,i,s,a,c,u,d),m=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&Su(p.ref,null,f),d.push(f.ref,f.__c||m,f)),g==null&&m!=null&&(g=m),65536&f.__u||p.__k===f.__k?c=fp(f,c,e):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:m&&(c=m.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=g}function jy(e,t,n){var r,o,i,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?_s(null,o,null,null,o):gu(o)?_s(Go,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?_s(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=qy(o,n,s=r+l,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=Rr(i)),fu(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&(131072&i.__u)==0&&(i.__e==e.__d&&(e.__d=Rr(i)),fu(i,i))}function fp(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=fp(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function qy(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return a;a++}}return-1}function qf(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Gy.test(t)?n:n+"px"}function ms(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||qf(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||qf(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?Yf:Vf,i)):e.removeEventListener(t,i?Yf:Vf,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Vf(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(le.event?le.event(e):e)}}function Yf(e){if(this.l)return this.l[e.type+!0](le.event?le.event(e):e)}function _u(e,t,n,r,o,i,s,a,c,u){var d,l,p,f,m,g,_,S,T,D,A,O,y,C,L,I=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=le.__b)&&d(t);e:if(typeof I=="function")try{if(S=t.props,T=(d=I.contextType)&&r[d.__c],D=d?T?T.props.value:d.__:r,n.__c?_=(l=t.__c=n.__c).__=l.__E:("prototype"in I&&I.prototype.render?t.__c=l=new I(S,D):(t.__c=l=new Ss(S,D),l.constructor=I,l.render=Yy),T&&T.sub(l),l.props=S,l.state||(l.state={}),l.context=D,l.__n=r,p=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),I.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=wn({},l.__s)),wn(l.__s,I.getDerivedStateFromProps(S,l.__s))),f=l.props,m=l.state,l.__v=t,p)I.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(I.getDerivedStateFromProps==null&&S!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(S,D),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(S,l.__s,D)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=S,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(R){R&&(R.__=t)}),A=0;A<l._sb.length;A++)l.__h.push(l._sb[A]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(S,l.__s,D),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,m,g)})}if(l.context=D,l.props=S,l.__P=e,l.__e=!1,O=le.__r,y=0,"prototype"in I&&I.prototype.render){for(l.state=l.__s,l.__d=!1,O&&O(t),d=l.render(l.props,l.state,l.context),C=0;C<l._sb.length;C++)l.__h.push(l._sb[C]);l._sb=[]}else do l.__d=!1,O&&O(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++y<25);l.state=l.__s,l.getChildContext!=null&&(r=wn(wn({},r),l.getChildContext())),p||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(f,m)),dp(e,gu(L=d!=null&&d.type===Go&&d.key==null?d.props.children:d)?L:[L],t,n,r,o,i,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),_&&(l.__E=l.__=null)}catch(R){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),le.__e(R,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Vy(n.__e,t,n,r,o,i,s,c,u);(d=le.diffed)&&d(t)}function du(e,t,n){for(var r=0;r<n.length;r++)Su(n[r],n[++r],n[++r]);le.__c&&le.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){le.__e(i,o.__v)}})}function Vy(e,t,n,r,o,i,s,a,c){var u,d,l,p,f,m,g,_=n.props,S=t.props,T=t.type;if(T==="svg"&&(o=!0),i!=null){for(u=0;u<i.length;u++)if((f=i[u])&&"setAttribute"in f==!!T&&(T?f.localName===T:f.nodeType===3)){e=f,i[u]=null;break}}if(e==null){if(T===null)return document.createTextNode(S);e=o?document.createElementNS("http://www.w3.org/2000/svg",T):document.createElement(T,S.is&&S),i=null,a=!1}if(T===null)_===S||a&&e.data===S||(e.data=S);else{if(i=i&&Is.call(e.childNodes),_=n.props||Wo,!a&&i!=null)for(_={},u=0;u<e.attributes.length;u++)_[(f=e.attributes[u]).name]=f.value;for(u in _)f=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=f:u==="key"||u in S||ms(e,u,null,f,o));for(u in S)f=S[u],u=="children"?p=f:u=="dangerouslySetInnerHTML"?d=f:u=="value"?m=f:u=="checked"?g=f:u==="key"||a&&typeof f!="function"||_[u]===f||ms(e,u,f,_[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),dp(e,gu(p)?p:[p],t,n,r,o&&T!=="foreignObject",i,s,i?i[0]:n.__k&&Rr(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&up(i[u]);a||(u="value",m!==void 0&&(m!==e[u]||T==="progress"&&!m||T==="option"&&m!==_[u])&&ms(e,u,m,_[u],!1),u="checked",g!==void 0&&g!==e[u]&&ms(e,u,g,_[u],!1))}return e}function Su(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){le.__e(r,n)}}function fu(e,t,n){var r,o;if(le.unmount&&le.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Su(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){le.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&fu(r[o],t,n||typeof e.type!="function");n||e.__e==null||up(e.__e),e.__=e.__e=e.__d=void 0}function Yy(e,t,n){return this.constructor(e,n)}function Jy(e,t,n){var r,o,i,s;le.__&&le.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],_u(t,e=t.__k=J(Go,null,[e]),o||Wo,Wo,t.ownerSVGElement!==void 0,o?null:t.firstChild?Is.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),e.__d=void 0,du(i,e,s)}Is=hu.slice,le={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},ap=0,Ss.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=wn({},this.state),typeof e=="function"&&(e=e(wn({},n),this.props)),e&&wn(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),jf(this))},Ss.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),jf(this))},Ss.prototype.render=Go,Gn=[],cp=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,lu=function(e,t){return e.__v.__b-t.__v.__b},bs.__r=0;var sn,ue,iu,Jf,xr=0,pp=[],ys=[],Ee=le,Kf=Ee.__b,Xf=Ee.__r,Zf=Ee.diffed,Qf=Ee.__c,ep=Ee.unmount,tp=Ee.__;function jn(e,t){Ee.__h&&Ee.__h(ue,e,xr||t),xr=0;var n=ue.__H||(ue.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ys}),n.__[e]}function zn(e){return xr=1,mp(gp,e)}function mp(e,t,n){var r=jn(sn++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):gp(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ue,!ue.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};ue.u=!0;var i=ue.shouldComponentUpdate,s=ue.componentWillUpdate;ue.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},ue.shouldComponentUpdate=o}return r.__N||r.__}function Ky(e,t){var n=jn(sn++,3);!Ee.__s&&yu(n.__H,t)&&(n.__=e,n.i=t,ue.__H.__h.push(n))}function hp(e,t){var n=jn(sn++,4);!Ee.__s&&yu(n.__H,t)&&(n.__=e,n.i=t,ue.__h.push(n))}function Xy(e){return xr=5,zo(function(){return{current:e}},[])}function Zy(e,t,n){xr=6,hp(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function zo(e,t){var n=jn(sn++,7);return yu(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function wr(e,t){return xr=8,zo(function(){return e},t)}function Qy(e){var t=ue.context[e.__c],n=jn(sn++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ue)),t.props.value):e.__}function eE(e,t){Ee.useDebugValue&&Ee.useDebugValue(t?t(e):e)}function tE(e){var t=jn(sn++,10),n=zn();return t.__=e,ue.componentDidCatch||(ue.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function nE(){var e=jn(sn++,11);if(!e.__){for(var t=ue.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function rE(){for(var e;e=pp.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Es),e.__H.__h.forEach(pu),e.__H.__h=[]}catch(t){e.__H.__h=[],Ee.__e(t,e.__v)}}Ee.__b=function(e){ue=null,Kf&&Kf(e)},Ee.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),tp&&tp(e,t)},Ee.__r=function(e){Xf&&Xf(e),sn=0;var t=(ue=e.__c).__H;t&&(iu===ue?(t.__h=[],ue.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ys,n.__N=n.i=void 0})):(t.__h.forEach(Es),t.__h.forEach(pu),t.__h=[],sn=0)),iu=ue},Ee.diffed=function(e){Zf&&Zf(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(pp.push(t)!==1&&Jf===Ee.requestAnimationFrame||((Jf=Ee.requestAnimationFrame)||oE)(rE)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ys&&(n.__=n.__V),n.i=void 0,n.__V=ys})),iu=ue=null},Ee.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Es),n.__h=n.__h.filter(function(r){return!r.__||pu(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],Ee.__e(r,n.__v)}}),Qf&&Qf(e,t)},Ee.unmount=function(e){ep&&ep(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Es(r)}catch(o){t=o}}),n.__H=void 0,t&&Ee.__e(t,n.__v))};var np=typeof requestAnimationFrame=="function";function oE(e){var t,n=function(){clearTimeout(r),np&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);np&&(t=requestAnimationFrame(n))}function Es(e){var t=ue,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ue=t}function pu(e){var t=ue;e.__c=e.__(),ue=t}function yu(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function gp(e,t){return typeof t=="function"?t(e):t}var iE=Object.defineProperty({__proto__:null,useCallback:wr,useContext:Qy,useDebugValue:eE,useEffect:Ky,useErrorBoundary:tE,useId:nE,useImperativeHandle:Zy,useLayoutEffect:hp,useMemo:zo,useReducer:mp,useRef:Xy,useState:zn},Symbol.toStringTag,{value:"Module"}),sE="http://www.w3.org/2000/svg";function aE(){let e=r=>ce.createElementNS(sE,r),t=pt(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=pt(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function cE({options:e}){let t=zo(()=>({__html:aE().outerHTML}),[]);return J("h2",{class:"dialog__header"},J("span",{class:"dialog__title"},e.formTitle),e.showBranding?J("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function uE(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function su(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function lE({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){let{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:p,cancelButtonLabel:f,emailLabel:m,emailPlaceholder:g,isEmailRequired:_,isNameRequired:S,messageLabel:T,messagePlaceholder:D,nameLabel:A,namePlaceholder:O,submitButtonLabel:y,isRequiredLabel:C}=e,[L,I]=zn(!1),[R,$]=zn(null),[v,F]=zn(!1),V=u?.input,[U,q]=zn(null),x=wr(Y=>{q(Y),F(!1)},[]),W=wr(Y=>{let oe=uE(Y,{emailLabel:m,isEmailRequired:_,isNameRequired:S,messageLabel:T,nameLabel:A});return oe.length>0?$(`Please enter in the following required fields: ${oe.join(", ")}`):$(null),oe.length===0},[m,_,S,T,A]),H=wr(async Y=>{I(!0);try{if(Y.preventDefault(),!(Y.target instanceof HTMLFormElement))return;let oe=new FormData(Y.target),Ie=await(u&&v?u.value():void 0),Pe={name:su(oe,"name"),email:su(oe,"email"),message:su(oe,"message"),attachments:Ie?[Ie]:void 0};if(!W(Pe))return;try{let Ce=await o({name:Pe.name,email:Pe.email,message:Pe.message,source:Oy,tags:d},{attachments:Pe.attachments});i(Pe,Ce)}catch(Ce){gs&&h.error(Ce),$(Ce),s(Ce)}}finally{I(!1)}},[u&&v,i,s]);return J("form",{class:"form",onSubmit:H},V&&v?J(V,{onError:x}):null,J("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:L},J("div",{class:"form__top"},R?J("div",{class:"form__error-container"},R):null,c?J("label",{for:"name",class:"form__label"},J(au,{label:A,isRequiredLabel:C,isRequired:S}),J("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:O,required:S,type:"text"})):J("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?J("label",{for:"email",class:"form__label"},J(au,{label:m,isRequiredLabel:C,isRequired:_}),J("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:_,type:"email"})):J("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),J("label",{for:"message",class:"form__label"},J(au,{label:T,isRequiredLabel:C,isRequired:!0}),J("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:D,required:!0,rows:5})),V?J("label",{for:"screenshot",class:"form__label"},J("button",{class:"btn btn--default",disabled:L,type:"button",onClick:()=>{q(null),F(Y=>!Y)}},v?p:l),U?J("div",{class:"form__error-container"},U.message):null):null),J("div",{class:"btn-group"},J("button",{class:"btn btn--primary",disabled:L,type:"submit"},y),J("button",{class:"btn btn--default",disabled:L,type:"button",onClick:r},f))))}function au({label:e,isRequired:t,isRequiredLabel:n}){return J("span",{class:"form__label__text"},e,t&&J("span",{class:"form__label__text--required"},n))}var hs=16,rp=17,dE="http://www.w3.org/2000/svg";function fE(){let e=c=>Dt.document.createElementNS(dE,c),t=pt(e("svg"),{width:`${hs}`,height:`${rp}`,viewBox:`0 0 ${hs} ${rp}`,fill:"inherit"}),n=pt(e("g"),{clipPath:"url(#clip0_57_156)"}),r=pt(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=pt(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=pt(e("clipPath"),{id:"clip0_57_156"}),a=pt(e("rect"),{width:`${hs}`,height:`${hs}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}function pE({open:e,onFormSubmitted:t,...n}){let r=n.options,o=zo(()=>({__html:fE().outerHTML}),[]),[i,s]=zn(null),a=wr(()=>{i&&(clearTimeout(i),s(null)),t()},[i]),c=wr((u,d)=>{n.onSubmitSuccess(u,d),s(setTimeout(()=>{t(),s(null)},Dy))},[t]);return J(Go,null,i?J("div",{class:"success__position",onClick:a},J("div",{class:"success__content"},r.successMessageText,J("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):J("dialog",{class:"dialog",onClick:r.onFormClose,open:e},J("div",{class:"dialog__position"},J("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},J(cE,{options:r}),J(lE,{...n,onSubmitSuccess:c})))))}var mE=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,hE=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,gE=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,_E=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,SE=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function yE(e){let t=ce.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${mE}
${hE}
${gE}
${_E}
${SE}
`,e&&t.setAttribute("nonce",e),t}function EE(){let e=N().getUser(),t=ae().getUser(),n=Qt().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var _p=(()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,i=e.useSentryUser,s=EE(),a=ce.createElement("div"),c=yE(e.styleNonce),u="",d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),ce.body.style.overflow=u},open(){p(!0),e.onFormOpen?.(),b()?.emit("openFeedbackWidget"),u=ce.body.style.overflow,ce.body.style.overflow="hidden"},close(){p(!1),ce.body.style.overflow=u}},l=t?.createInput({h:J,hooks:iE,dialog:d,options:e}),p=f=>{Jy(J(pE,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s?.[i.name]||"",defaultEmail:i&&s?.[i.email]||"",onFormClose:()=>{p(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:(m,g)=>{p(!1),e.onSubmitSuccess?.(m,g)},onSubmitError:m=>{e.onSubmitError?.(m)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:f}),a)};return d}}));function bE({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function TE(e){let t=ce.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function IE({h:e}){return function({action:n,setAction:r,options:o}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},o.highlightToolText),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},o.hideToolText)))}}function vE({hooks:e}){function t(){let[n,r]=e.useState(Dt.devicePixelRatio??1);return e.useEffect(()=>{let o=()=>{r(Dt.devicePixelRatio)},i=matchMedia(`(resolution: ${Dt.devicePixelRatio}dppx)`);return i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:i,onError:s}){let a=t();e.useEffect(()=>{(async()=>{r();let u=await $o.mediaDevices.getDisplayMedia({video:{width:Dt.innerWidth*a,height:Dt.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=ce.createElement("video");await new Promise((l,p)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(f=>f.stop()),l()},d.play().catch(p)}),i()})().catch(s)},[])}}function wE(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function vn(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function cu(e,t){vn(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function uu(e,t,n){vn(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(i=>{wE(i,o,t)})})}function RE({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){let i=vE({hooks:t}),s=IE({h:e}),a=bE({h:e}),c={__html:TE(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{let[p,f]=t.useState("highlight"),[m,g]=t.useState([]),_=t.useRef(null),S=t.useRef(null),T=t.useRef(null),D=t.useRef(null),[A,O]=t.useState(1),y=t.useMemo(()=>{let v=ce.getElementById(o.id);if(!v)return"white";let F=getComputedStyle(v);return F.getPropertyValue("--button-primary-background")||F.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{let v=()=>{let F=_.current;F&&(vn(l.canvas,{alpha:!1},V=>{let U=Math.min(F.clientWidth/V.width,F.clientHeight/V.height);O(U)}),(F.clientHeight===0||F.clientWidth===0)&&setTimeout(v,0))};return v(),Dt.addEventListener("resize",v),()=>{Dt.removeEventListener("resize",v)}},[l]);let C=t.useCallback((v,F)=>{vn(v,{alpha:!0},(V,U)=>{U.scale(F,F),V.width=l.canvas.width,V.height=l.canvas.height})},[l]);t.useEffect(()=>{C(S.current,l.dpi),cu(S.current,l.canvas)},[l]),t.useEffect(()=>{C(T.current,l.dpi),vn(T.current,{alpha:!0},(v,F)=>{F.clearRect(0,0,v.width,v.height)}),uu(T.current,y,m)},[m,y]),t.useEffect(()=>{C(n,l.dpi),cu(n,l.canvas),vn(ce.createElement("canvas"),{alpha:!0},(v,F)=>{F.scale(l.dpi,l.dpi),v.width=l.canvas.width,v.height=l.canvas.height,uu(v,y,m),cu(n,v)})},[m,l,y]);let L=v=>{if(!p||!D.current)return;let F=D.current.getBoundingClientRect(),V={type:p,x:v.offsetX/A,y:v.offsetY/A},U=(W,H)=>{let Y=(H.clientX-F.x)/A,oe=(H.clientY-F.y)/A;return{type:W.type,x:Math.min(W.x,Y),y:Math.min(W.y,oe),w:Math.abs(Y-W.x),h:Math.abs(oe-W.y)}},q=W=>{vn(T.current,{alpha:!0},(H,Y)=>{Y.clearRect(0,0,H.width,H.height)}),uu(T.current,y,[...m,U(V,W)])},x=W=>{let H=U(V,W);H.w*A>=1&&H.h*A>=1&&g(Y=>[...Y,H]),ce.removeEventListener("mousemove",q),ce.removeEventListener("mouseup",x)};ce.addEventListener("mousemove",q),ce.addEventListener("mouseup",x)},I=t.useCallback(v=>F=>{F.preventDefault(),F.stopPropagation(),g(V=>{let U=[...V];return U.splice(v,1),U})},[]),R={width:`${l.canvas.width*A}px`,height:`${l.canvas.height*A}px`},$=v=>{v.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:_},e("canvas",{ref:S,id:"background",style:R}),e("canvas",{ref:T,id:"foreground",style:R}),e("div",{ref:D,onMouseDown:L,style:R},m.map((v,F)=>e("div",{key:F,class:"editor__rect",style:{top:`${v.y*A}px`,left:`${v.x*A}px`,width:`${v.w*A}px`,height:`${v.h*A}px`}},e("button",{"aria-label":o.removeHighlightText,onClick:I(F),onMouseDown:$,onMouseUp:$,type:"button"},e(a,null))))))),e(s,{options:o,action:p,setAction:f}))};return function({onError:p}){let[f,m]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((g,_)=>{vn(ce.createElement("canvas"),{alpha:!1},(S,T)=>{T.scale(_,_),S.width=g.videoWidth,S.height=g.videoHeight,T.drawImage(g,0,0,S.width,S.height),m({canvas:S,dpi:_})}),n.width=g.videoWidth,n.height=g.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(g=>{u.display="block",p(g)},[])}),f?e(d,{screenshot:f}):e("div",null)}}var Sp=(()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=ce.createElement("canvas");return{input:RE({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{let i=await new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(await i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}));var k=w,Eu=0;function bu(){return Eu>0}function xE(){Eu++,setTimeout(()=>{Eu--})}function qn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(Ln(e))return e}catch{return e}let r=function(...o){try{let i=o.map(s=>qn(s,t));return e.apply(this,i)}catch(i){throw xE(),Ae(s=>{s.addEventProcessor(a=>(t.mechanism&&(sr(a,void 0,void 0),We(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),ft(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}Ti(r,e),me(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function jo(){let e=Ye(),{referrer:t}=k.document||{},{userAgent:n}=k.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}var CE={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},yp=k;async function vs(e,t){let n=CE[e],r=yp.Sentry=yp.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;let i=AE(n),s=k.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let a=new Promise((l,p)=>{s.addEventListener("load",()=>l()),s.addEventListener("error",p)}),c=k.document.currentScript,u=k.document.body||k.document.head||c?.parentElement;if(u)u.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function AE(e){let n=b()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${tt}/${e}.min.js`,n).toString()}var Ep=Ts({lazyLoadIntegration:vs});var Tu=Ts({getModalIntegration:()=>_p,getScreenshotIntegration:()=>Sp});var Iu={};td(Iu,{debug:()=>NE,error:()=>LE,fatal:()=>DE,fmt:()=>Fc,info:()=>ME,trace:()=>kE,warn:()=>OE});function Cr(e,t,n,r){yr({level:e,message:t,attributes:n,severityNumber:r})}function kE(e,t){Cr("trace",e,t)}function NE(e,t){Cr("debug",e,t)}function ME(e,t){Cr("info",e,t)}function OE(e,t){Cr("warn",e,t)}function LE(e,t){Cr("error",e,t)}function DE(e,t){Cr("fatal",e,t)}function Ar(e,t){let n=Ru(e,t),r={type:HE(t),value:$E(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function PE(e,t,n,r){let i=b()?.getOptions().normalizeDepth,s=zE(t),a={__serialized__:Bi(t,i)};if(s)return{exception:{values:[Ar(e,s)]},extra:a};let c={exception:{values:[{type:Mn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:WE(t,{isUnhandledRejection:r})}]},extra:a};if(n){let u=Ru(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function vu(e,t){return{exception:{values:[Ar(e,t)]}}}function Ru(e,t){let n=t.stacktrace||t.stack||"",r=UE(t),o=BE(t);try{return e(n,r,o)}catch{}return[]}var FE=/Minified React error #\d+;/i;function UE(e){return e&&FE.test(e.message)?1:0}function BE(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function bp(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function HE(e){let t=e?.name;return!t&&bp(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function $E(e){let t=e?.message;return bp(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function ws(e,t,n,r){let o=n?.syntheticException||void 0,i=xs(e,t,o,r);return We(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),Ke(i)}function Rs(e,t,n="info",r,o){let i=r?.syntheticException||void 0,s=wu(e,t,i,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),Ke(s)}function xs(e,t,n,r,o){let i;if(yi(t)&&t.error)return vu(e,t.error);if(Ei(t)||Fa(t)){let s=t;if("stack"in t)i=vu(e,t);else{let a=s.name||(Ei(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=wu(e,c,n,r),sr(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return rt(t)?vu(e,t):$e(t)||Mn(t)?(i=PE(e,t,n,o),We(i,{synthetic:!0}),i):(i=wu(e,t,n,r),sr(i,`${t}`,void 0),We(i,{synthetic:!0}),i)}function wu(e,t,n,r){let o={};if(r&&n){let i=Ru(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),We(o,{synthetic:!0})}if(gn(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function WE(e,{isUnhandledRejection:t}){let n=Wa(e),r=t?"promise rejection":"exception";return yi(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Mn(e)?`Event \`${GE(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function GE(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function zE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var jE=5e3,kr=class extends Ao{constructor(t){let n=qE(t),r=k.SENTRY_SDK_SOURCE||ou();Bc(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);let{sendDefaultPii:o,sendClientReports:i,enableLogs:s}=this._options;k.document&&(i||s)&&k.document.addEventListener("visibilitychange",()=>{k.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),s&&Er(this))}),s&&(this.on("flush",()=>{Er(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Er(this)},jE)})),o&&this.on("beforeSendSession",Uc)}eventFromException(t,n){return ws(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Rs(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}};function qE(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:k.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}var Pt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var P=w;var VE=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",jt=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o??0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=VE(t.value,n),e(t)))}};var Tp=()=>`v5-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var an=(e=!0)=>{let t=P.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var wt=()=>an()?.activationStart??0;var qt=(e,t=-1)=>{let n=an(),r="navigate";return n&&(P.document?.prerendering||wt()>0?r="prerender":P.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:Tp(),navigationType:r}};var xu=new WeakMap;function Nr(e,t){return xu.get(e)||xu.set(e,new t),xu.get(e)}var Cs=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;let n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}};var Rt=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}};var Mr=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var qo=-1,YE=()=>P.document?.visibilityState==="hidden"&&!P.document?.prerendering?0:1/0,As=e=>{P.document.visibilityState==="hidden"&&qo>-1&&(qo=e.type==="visibilitychange"?e.timeStamp:0,KE())},JE=()=>{addEventListener("visibilitychange",As,!0),addEventListener("prerenderingchange",As,!0)},KE=()=>{removeEventListener("visibilitychange",As,!0),removeEventListener("prerenderingchange",As,!0)},Or=()=>{if(P.document&&qo<0){let e=wt();qo=(P.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??YE(),JE()}return{get firstHiddenTime(){return qo}}};var Rn=e=>{P.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var XE=[1800,3e3],Ip=(e,t={})=>{Rn(()=>{let n=Or(),r=qt("FCP"),o,s=Rt("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-wt(),0),r.entries.push(c),o(!0)))});s&&(o=jt(e,r,XE,t.reportAllChanges))})};var ZE=[.1,.25],vp=(e,t={})=>{Ip(Mr(()=>{let n=qt("CLS",0),r,o=Nr(t,Cs),i=a=>{for(let c of a)o._processEntry(c);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},s=Rt("layout-shift",i);s&&(r=jt(e,n,ZE,t.reportAllChanges),P.document?.addEventListener("visibilitychange",()=>{P.document?.visibilityState==="hidden"&&(i(s.takeRecords()),r(!0))}),P?.setTimeout?.(r))}))};var wp=0,Cu=1/0,ks=0,QE=e=>{e.forEach(t=>{t.interactionId&&(Cu=Math.min(Cu,t.interactionId),ks=Math.max(ks,t.interactionId),wp=ks?(ks-Cu)/7+1:0)})},Au,ku=()=>Au?wp:performance.interactionCount||0,Rp=()=>{"interactionCount"in performance||Au||(Au=Rt("event",QE,{type:"event",buffered:!0,durationThreshold:0}))};var Nu=10,xp=0,eb=()=>ku()-xp,Ns=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){xp=ku(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let t=Math.min(this._longestInteractionList.length-1,Math.floor(eb()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;let n=this._longestInteractionList.at(-1),r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Nu||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,i)=>i._latency-o._latency),this._longestInteractionList.length>Nu){let o=this._longestInteractionList.splice(Nu);for(let i of o)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}};var Lr=e=>{let t=n=>{(n.type==="pagehide"||P.document?.visibilityState==="hidden")&&e(n)};P.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var Ms=e=>{let t=P.requestIdleCallback||P.setTimeout;P.document?.visibilityState==="hidden"?e():(e=Mr(e),t(e),Lr(e))};var tb=[200,500],nb=40,Cp=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Rn(()=>{Rp();let n=qt("INP"),r,o=Nr(t,Ns),i=a=>{Ms(()=>{for(let u of a)o._processEntry(u);let c=o._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},s=Rt("event",i,{durationThreshold:t.durationThreshold??nb});r=jt(e,n,tb,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Lr(()=>{i(s.takeRecords()),r(!0)}))})};var Os=class{_processEntry(t){this._onBeforeProcessingEntry?.(t)}};var rb=[2500,4e3],Ap=(e,t={})=>{Rn(()=>{let n=Or(),r=qt("LCP"),o,i=Nr(t,Os),s=c=>{t.reportAllChanges||(c=c.slice(-1));for(let u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-wt(),0),r.entries=[u],o())},a=Rt("largest-contentful-paint",s);if(a){o=jt(e,r,rb,t.reportAllChanges);let c=Mr(()=>{s(a.takeRecords()),a.disconnect(),o(!0)});for(let u of["keydown","click","visibilitychange"])P.document&&addEventListener(u,()=>Ms(c),{capture:!0,once:!0})}})};var ob=[800,1800],Mu=e=>{P.document?.prerendering?Rn(()=>Mu(e)):P.document?.readyState!=="complete"?addEventListener("load",()=>Mu(e),!0):setTimeout(e)},kp=(e,t={})=>{let n=qt("TTFB"),r=jt(e,n,ob,t.reportAllChanges);Mu(()=>{let o=an();o&&(n.value=Math.max(o.responseStart-wt(),0),n.entries=[o],r(!0))})};var Vo={},Ls={},Np,Mp,Op,Lp;function Vn(e,t=!1){return Ds("cls",e,ib,Np,t)}function Yn(e,t=!1){return Ds("lcp",e,sb,Mp,t)}function Ou(e){return Ds("ttfb",e,ab,Op)}function Yo(e){return Ds("inp",e,cb,Lp)}function mt(e,t){return Dp(e,t),Ls[e]||(ub(e),Ls[e]=!0),Pp(e,t)}function Jo(e,t){let n=Vo[e];if(n?.length)for(let r of n)try{r(t)}catch(o){Pt&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${nt(r)}
Error:`,o)}}function ib(){return vp(e=>{Jo("cls",{metric:e}),Np=e},{reportAllChanges:!0})}function sb(){return Ap(e=>{Jo("lcp",{metric:e}),Mp=e},{reportAllChanges:!0})}function ab(){return kp(e=>{Jo("ttfb",{metric:e}),Op=e})}function cb(){return Cp(e=>{Jo("inp",{metric:e}),Lp=e})}function Ds(e,t,n,r,o=!1){Dp(e,t);let i;return Ls[e]||(i=n(),Ls[e]=!0),r&&t({metric:r}),Pp(e,t,o?i:void 0)}function ub(e){let t={};e==="event"&&(t.durationThreshold=0),Rt(e,n=>{Jo(e,{entries:n})},t)}function Dp(e,t){Vo[e]=Vo[e]||[],Vo[e].push(t)}function Pp(e,t,n){return()=>{n&&n();let r=Vo[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Fp(e){return"duration"in e}function Ps(e){return typeof e=="number"&&isFinite(e)}function cn(e,t,n,{...r}){let o=M(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),bn(e,()=>{let i=it({startTime:t,...r});return i&&i.end(n),i})}function Dr(e){let t=b();if(!t)return;let{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=N(),p=l.getUser(),f=p!==void 0?p.email||p.id||p.ip_address:void 0,m;try{m=l.getScopeData().contexts.profile.profile_id}catch{}let g={release:s,environment:a,user:f||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":P.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return it({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function Jn(){return P.addEventListener&&P.performance}function de(e){return e/1e3}function Ko(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function Fs(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Us(e,t){let n,r=!1;function o(a){!r&&n&&t(a,n),r=!0}Lr(()=>{o("pagehide")});let i=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(o("navigation"),Up(i,s))}),s=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,Up(s)})}function Up(...e){e.forEach(t=>t&&setTimeout(t,0))}function Bp(e){let t=0,n;if(!Fs("layout-shift"))return;let r=Vn(({metric:o})=>{let i=o.entries[o.entries.length-1];i&&(t=o.value,n=i)},!0);Us(e,(o,i)=>{lb(t,n,i,o),r()})}function lb(e,t,n,r){Pt&&h.log(`Sending CLS span (${e})`);let o=de((ge()||0)+(t?.startTime||0)),i=N().getScopeData().transactionName,s=t?Re(t.sources[0]?.node):"Layout shift",a={[X]:"auto.http.browser.cls",[_e]:"ui.webvital.cls",[Et]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{a[`cls.source.${d+1}`]=Re(u.node)});let c=Dr({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("cls",{[Wt]:"",[Gt]:e}),c.end(o))}function Hp(e){let t=0,n;if(!Fs("largest-contentful-paint"))return;let r=Yn(({metric:o})=>{let i=o.entries[o.entries.length-1];i&&(t=o.value,n=i)},!0);Us(e,(o,i)=>{db(t,n,i,o),r()})}function db(e,t,n,r){Pt&&h.log(`Sending LCP span (${e})`);let o=de((ge()||0)+(t?.startTime||0)),i=N().getScopeData().transactionName,s=t?Re(t.element):"Largest contentful paint",a={[X]:"auto.http.browser.lcp",[_e]:"ui.webvital.lcp",[Et]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Re(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));let c=Dr({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("lcp",{[Wt]:"millisecond",[Gt]:e}),c.end(o))}var fb=2147483647,$p=0,Ft={},st,Hs;function Du({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){let r=Jn();if(r&&ge()){r.mark&&P.performance.mark("sentry-tracing-init");let o=t?Hp(n):mb(),i=hb(),s=e?Bp(n):pb();return()=>{o?.(),i(),s?.()}}return()=>{}}function Pu(){mt("longtask",({entries:e})=>{let t=ee();if(!t)return;let{op:n,start_timestamp:r}=M(t);for(let o of e){let i=de(ge()+o.startTime),s=de(o.duration);n==="navigation"&&r&&i<r||cn(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[X]:"auto.ui.browser.metrics"}})}})}function Fu(){new PerformanceObserver(t=>{let n=ee();if(n)for(let r of t.getEntries()){if(!r.scripts[0])continue;let o=de(ge()+r.startTime),{start_timestamp:i,op:s}=M(n);if(s==="navigation"&&i&&o<i)continue;let a=de(r.duration),c={[X]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:p,sourceFunctionName:f,sourceCharPosition:m}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,p&&(c["code.filepath"]=p),f&&(c["code.function"]=f),m!==-1&&(c["browser.script.source_char_position"]=m),cn(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Uu(){mt("event",({entries:e})=>{let t=ee();if(t){for(let n of e)if(n.name==="click"){let r=de(ge()+n.startTime),o=de(n.duration),i={name:Re(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[X]:"auto.ui.browser.metrics"}},s=so(n.target);s&&(i.attributes["ui.component_name"]=s),cn(t,r,r+o,i)}}})}function pb(){return Vn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Ft.cls={value:e.value,unit:""},Hs=t)},!0)}function mb(){return Yn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Ft.lcp={value:e.value,unit:"millisecond"},st=t)},!0)}function hb(){return Ou(({metric:e})=>{e.entries[e.entries.length-1]&&(Ft.ttfb={value:e.value,unit:"millisecond"})})}function Bu(e,t){let n=Jn(),r=ge();if(!n?.getEntries||!r)return;let o=de(r),i=n.getEntries(),{op:s,start_timestamp:a}=M(e);i.slice($p).forEach(c=>{let u=de(c.startTime),d=de(Math.max(0,c.duration));if(!(s==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{Sb(e,c,o);break}case"mark":case"paint":case"measure":{gb(e,c,u,d,o,t.ignorePerformanceApiSpans);let l=Or(),p=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&p&&(Ft.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(Ft.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{bb(e,c,c.name,u,d,o,t.ignoreResourceSpans);break}}}),$p=Math.max(i.length-1,0),Tb(e),s==="pageload"&&(vb(Ft),t.recordClsOnPageloadSpan||delete Ft.cls,t.recordLcpOnPageloadSpan||delete Ft.lcp,Object.entries(Ft).forEach(([c,u])=>{yo(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",wt()),Ib(e,t)),st=void 0,Hs=void 0,Ft={}}function gb(e,t,n,r,o,i){if(["mark","measure"].includes(t.entryType)&&Le(t.name,i))return;let s=an(!1),a=de(s?s.requestStart:0),c=o+Math.max(n,a),u=o+n,d=u+r,l={[X]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),_b(l,t),c<=d&&cn(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function _b(e,t){try{let n=t.detail;if(!n)return;if(typeof n=="object"){for(let[r,o]of Object.entries(n))if(o&&_t(o))e[`sentry.browser.measure.detail.${r}`]=o;else if(o!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(o)}catch{}return}if(_t(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function Sb(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Bs(e,t,r,n)}),Bs(e,t,"secureConnection",n,"TLS/SSL"),Bs(e,t,"fetch",n,"cache"),Bs(e,t,"domainLookup",n,"DNS"),Eb(e,t,n)}function Bs(e,t,n,r,o=n){let i=yb(n),s=t[i],a=t[`${n}Start`];!a||!s||cn(e,r+de(a),r+de(s),{op:`browser.${o}`,name:t.name,attributes:{[X]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function yb(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Eb(e,t,n){let r=n+de(t.requestStart),o=n+de(t.responseEnd),i=n+de(t.responseStart);t.responseEnd&&(cn(e,r,o,{op:"browser.request",name:t.name,attributes:{[X]:"auto.ui.browser.metrics"}}),cn(e,i,o,{op:"browser.response",name:t.name,attributes:{[X]:"auto.ui.browser.metrics"}}))}function bb(e,t,n,r,o,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;let c=Mt(n),u={[X]:"auto.resource.browser.metrics"};Lu(u,t,"transferSize","http.response_transfer_size"),Lu(u,t,"encodedBodySize","http.response_content_length"),Lu(u,t,"decodedBodySize","http.decoded_response_content_length");let d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);let l=t.renderBlockingStatus;if(l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(P.location.origin),t.nextHopProtocol!=null){let{name:m,version:g}=Ko(t.nextHopProtocol);u["network.protocol.name"]=m,u["network.protocol.version"]=g}let p=i+r,f=p+o;cn(e,p,f,{name:n.replace(P.location.origin,""),op:a,attributes:u})}function Tb(e){let t=P.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Ps(n.rtt)&&(Ft["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ps(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Ps(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Ib(e,t){st&&t.recordLcpOnPageloadSpan&&(st.element&&e.setAttribute("lcp.element",Re(st.element)),st.id&&e.setAttribute("lcp.id",st.id),st.url&&e.setAttribute("lcp.url",st.url.trim().slice(0,200)),st.loadTime!=null&&e.setAttribute("lcp.loadTime",st.loadTime),st.renderTime!=null&&e.setAttribute("lcp.renderTime",st.renderTime),e.setAttribute("lcp.size",st.size)),Hs?.sources&&t.recordClsOnPageloadSpan&&Hs.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Re(n.node)))}function Lu(e,t,n,r){let o=t[n];o!=null&&o<fb&&(e[r]=o)}function vb(e){let t=an(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Hu(){return Jn()&&ge()?mt("element",wb):()=>{}}var wb=({entries:e})=>{let t=ee(),n=t?te(t):void 0,r=n?M(n).description:N().getScopeData().transactionName;e.forEach(o=>{let i=o;if(!i.identifier)return;let s=i.name,a=i.renderTime,c=i.loadTime,[u,d]=c?[de(c),"load-time"]:a?[de(a),"render-time"]:[re(),"entry-emission"],l=s==="image-paint"?de(Math.max(0,(a??0)-(c??0))):0,p={[X]:"auto.ui.browser.elementtiming",[_e]:"ui.elementtiming",[be]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":i.id,"element.type":i.element?.tagName?.toLowerCase()||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":s};En({name:`element[${i.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},f=>{f.end(u+l)})})};var Rb=1e3,Wp,$u,Wu;function Xo(e){Be("dom",e),He("dom",xb)}function xb(){if(!P.document)return;let e=we.bind(null,"dom"),t=Gp(e,!0);P.document.addEventListener("click",t,!1),P.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let o=P[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(ye(o,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){let l=Gp(e);d.handler=l,i.call(this,s,l,c)}d.refCount++}catch{}return i.call(this,s,a,c)}}),ye(o,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,c)}}))})}function Cb(e){if(e.type!==$u)return!1;try{if(!e.target||e.target._sentryId!==Wu)return!1}catch{}return!0}function Ab(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Gp(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=kb(n);if(Ab(n.type,r))return;me(n,"_sentryCaptured",!0),r&&!r._sentryId&&me(r,"_sentryId",he());let o=n.type==="keypress"?"input":n.type;Cb(n)||(e({event:n,name:o,global:t}),$u=n.type,Wu=r?r._sentryId:void 0),clearTimeout(Wp),Wp=P.setTimeout(()=>{Wu=void 0,$u=void 0},Rb)}}function kb(e){try{return e.target}catch{return null}}var $s;function un(e){let t="history";Be(t,e),He(t,Nb)}function Nb(){if(P.addEventListener("popstate",()=>{let t=P.location.href,n=$s;if($s=t,n===t)return;we("history",{from:n,to:t})}),!Qc())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let o=$s,i=Mb(String(r));if($s=i,o===i)return t.apply(this,n);we("history",{from:o,to:i})}return t.apply(this,n)}}ye(P.history,"pushState",e),ye(P.history,"replaceState",e)}function Mb(e){try{return new URL(e,P.location.origin).toString()}catch{return e}}var Ws={};function Pr(e){let t=Ws[e];if(t)return t;let n=P[e];if(Bo(n))return Ws[e]=n.bind(P);let r=P.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){Pt&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(Ws[e]=n.bind(P))}function Gs(e){Ws[e]=void 0}function Kn(...e){return Pr("setTimeout")(...e)}var Ze="__sentry_xhr_v3__";function Xn(e){Be("xhr",e),He("xhr",Ob)}function Ob(){if(!P.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let o=new Error,i=re()*1e3,s=Ne(r[0])?r[0].toUpperCase():void 0,a=Lb(r[1]);if(!s||!a)return t.apply(n,r);n[Ze]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let c=()=>{let u=n[Ze];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}let d={endTimestamp:re()*1e3,startTimestamp:i,xhr:n,virtualError:o};we("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){let[p,f]=l,m=d[Ze];return m&&Ne(p)&&Ne(f)&&(m.request_headers[p.toLowerCase()]=f),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let o=n[Ze];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);let i={startTimestamp:re()*1e3,xhr:n};return we("xhr",i),t.apply(n,r)}})}function Lb(e){if(Ne(e))return e;try{return e.toString()}catch{}}function zs(e){return new URLSearchParams(e).toString()}function Zn(e,t=h){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[zs(e)];if(!e)return[void 0]}catch(n){return Pt&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Pt&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Fr(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var Gu=[],js=new Map,Db=60;function zu(){if(Jn()&&ge()){let t=Pb();return()=>{t()}}return()=>{}}var zp={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Pb(){return Yo(Fb)}var Fb=({metric:e})=>{if(e.value==null)return;let t=de(e.value);if(t>Db)return;let n=e.entries.find(m=>m.duration===e.value&&zp[m.name]);if(!n)return;let{interactionId:r}=n,o=zp[n.name],i=de(ge()+n.startTime),s=ee(),a=s?te(s):void 0,u=(r!=null?js.get(r):void 0)||a,d=u?M(u).description:N().getScopeData().transactionName,l=Re(n.target),p={[X]:"auto.http.browser.inp",[_e]:`ui.interaction.${o}`,[Et]:n.duration},f=Dr({name:l,transaction:d,attributes:p,startTime:i});f&&(f.addEvent("inp",{[Wt]:"millisecond",[Gt]:e.value}),f.end(i+t))};function ju(){let e=({entries:t})=>{let n=ee(),r=n&&te(n);t.forEach(o=>{if(!Fp(o)||!r)return;let i=o.interactionId;if(i!=null&&!js.has(i)){if(Gu.length>10){let s=Gu.shift();js.delete(s)}Gu.push(i),js.set(i,r)}})};mt("event",e),mt("first-input",e)}function Ur(e,t=Pr("fetch")){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Gs("fetch"),Tn("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Gs("fetch"),n-=s,r--,Tn(c)}}return Mo(e,o)}var Ub=10,Bb=20,Hb=30,$b=40,Wb=50;function Br(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?"?":t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var Gb=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,zb=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,jb=/\((\S*)(?::(\d+))(?::(\d+))\)/,qb=/at (.+?) ?\(data:(.+?),/,Vb=e=>{let t=e.match(qb);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};let n=Gb.exec(e);if(n){let[,o,i,s]=n;return Br(o,"?",+i,+s)}let r=zb.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){let a=jb.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}let[i,s]=Yp(r[1]||"?",r[2]);return Br(s,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},qu=[Hb,Vb],Yb=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Jb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Kb=e=>{let t=Yb.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=Jb.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||"?";return[o,r]=Yp(o,r),Br(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Vu=[Wb,Kb],Xb=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Zb=e=>{let t=Xb.exec(e);return t?Br(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0},jp=[$b,Zb],Qb=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,eT=e=>{let t=Qb.exec(e);return t?Br(t[2],t[3]||"?",+t[1]):void 0},qp=[Ub,eT],tT=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,nT=e=>{let t=tT.exec(e);return t?Br(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0},Vp=[Bb,nT],Yu=[qu,Vu],qs=_i(...Yu),Yp=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Jp(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:ot(r)}},i=rT(e);return De(o,[i])}function rT(e){return[{type:"user_report"},e]}var B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Vs=1024,oT="Breadcrumbs",iT=((e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:oT,setup(n){t.console&&Hn(cT(n)),t.dom&&Xo(aT(n,t.dom)),t.xhr&&Xn(uT(n)),t.fetch&&Wn(lT(n)),t.history&&un(dT(n)),t.sentry&&n.on("beforeSendEvent",sT(n))}}}),Ys=iT;function sT(e){return function(n){b()===e&&Xe({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ht(n)},{event:n})}}function aT(e,t){return function(r){if(b()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Vs&&(B&&h.warn(`\`dom.maxStringLength\` cannot exceed ${Vs}, but a value of ${a} was configured. Sentry will use ${Vs} instead.`),a=Vs),typeof s=="string"&&(s=[s]);try{let u=r.event,d=fT(u)?u.target:u;o=Re(d,{keyAttrs:s,maxStringLength:a}),i=so(d)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),Xe(c,{event:r.event,name:r.name,global:r.global})}}function cT(e){return function(n){if(b()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:$n(n.level),message:On(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${On(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Xe(r,{input:n.args,level:n.level})}}function uT(e){return function(n){if(b()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Ze];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},p={category:"xhr",data:d,type:"http",level:fs(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,l),Xe(p,l)}}function lT(e){return function(n){if(b()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),Xe(a,s)}else{let i=n.response,s={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;let a={input:n.args,response:i,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:s,type:"http",level:fs(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Xe(c,a)}}}function dT(e){return function(n){if(b()!==e)return;let r=n.from,o=n.to,i=Mt(k.location.href),s=r?Mt(r):void 0,a=Mt(o);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),Xe({category:"navigation",data:{from:r,to:o}})}}function fT(e){return!!e&&!!e.target}var pT=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],mT="BrowserApiErrors",hT=((e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:mT,setupOnce(){t.setTimeout&&ye(k,"setTimeout",Kp),t.setInterval&&ye(k,"setInterval",Kp),t.requestAnimationFrame&&ye(k,"requestAnimationFrame",gT),t.XMLHttpRequest&&"XMLHttpRequest"in k&&ye(XMLHttpRequest.prototype,"send",_T);let n=t.eventTarget;n&&(Array.isArray(n)?n:pT).forEach(o=>ST(o,t))}}}),Js=hT;function Kp(e){return function(...t){let n=t[0];return t[0]=qn(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${nt(e)}`}}),e.apply(this,t)}}function gT(e){return function(t){return e.apply(this,[qn(t,{mechanism:{data:{handler:nt(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function _T(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&ye(n,o,function(i){let s={mechanism:{data:{handler:nt(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${o}`}},a=Ln(i);return a&&(s.mechanism.data.handler=nt(a)),qn(i,s)})}),e.apply(this,t)}}function ST(e,t){let r=k[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(ye(r,"addEventListener",function(o){return function(i,s,a){try{yT(s)&&(s.handleEvent=qn(s.handleEvent,{mechanism:{data:{handler:nt(s),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&ET(this,i,s),o.apply(this,[i,qn(s,{mechanism:{data:{handler:nt(s),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),ye(r,"removeEventListener",function(o){return function(i,s,a){try{let c=s.__sentry_wrapped__;c&&o.call(this,i,c,a)}catch{}return o.call(this,i,s,a)}}))}function yT(e){return typeof e.handleEvent=="function"}function ET(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var Ks=()=>({name:"BrowserSession",setupOnce(){if(typeof k.document>"u"){B&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}gr({ignoreDuration:!0}),_r(),un(({from:e,to:t})=>{e!==void 0&&e!==t&&(gr({ignoreDuration:!0}),_r())})}});var bT="GlobalHandlers",TT=((e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:bT,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(IT(n),Xp("onerror")),t.onunhandledrejection&&(vT(n),Xp("onunhandledrejection"))}}}),Xs=TT;function IT(e){ro(t=>{let{stackParser:n,attachStacktrace:r}=Zp();if(b()!==e||bu())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=xT(xs(n,c||o,void 0,r,!1),i,s,a);u.level="error",rn(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function vT(e){oo(t=>{let{stackParser:n,attachStacktrace:r}=Zp();if(b()!==e||bu())return;let o=wT(t),i=_t(o)?RT(o):xs(n,o,void 0,r,!0);i.level="error",rn(i,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function wT(e){if(_t(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function RT(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function xT(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=CT(t)??Ye();return c.length===0&&c.push({colno:u,filename:l,function:"?",in_app:!0,lineno:d}),e}function Xp(e){B&&h.log(`Global Handler attached: ${e}`)}function Zp(){return b()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function CT(e){if(!(!Ne(e)||e.length===0)){if(e.startsWith("data:")){let t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e.slice(0,1024)}}var Zs=()=>({name:"HttpContext",preprocessEvent(e){if(!k.navigator&&!k.location&&!k.document)return;let t=jo(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});var AT="cause",kT=5,NT="LinkedErrors",MT=((e={})=>{let t=e.limit||kT,n=e.key||AT;return{name:NT,preprocessEvent(r,o,i){let s=i.getOptions();Wc(Ar,s.stackParser,n,t,r,o)}}}),Qs=MT;function Qp(){return OT()?(B&&Ue(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function OT(){if(typeof k.window>"u")return!1;let e=k;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;let n=Ye(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(k===k.top&&r.some(i=>n.startsWith(`${i}://`)))}function Ju(e){return[Po(),Do(),Js(),Ys(),Xs(),Qs(),Fo(),Zs(),Ks()]}function em(e={}){let t=!e.skipBrowserExtensionCheck&&Qp(),n={...e,enabled:t?!1:e.enabled,stackParser:La(e.stackParser||qs),integrations:vc({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Ju():e.defaultIntegrations}),transport:e.transport||Ur};return kc(kr,n)}function tm(){}function nm(e){e()}function rm(e={}){let t=k.document,n=t?.head||t?.body;if(!n){B&&h.error("[showReportDialog] Global document not defined");return}let r=N(),i=b()?.getDsn();if(!i){B&&h.error("[showReportDialog] DSN not configured");return}let s={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||vo()},a=k.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=Ic(i,s);let{onLoad:c,onClose:u}=s;if(c&&(a.onload=c),u){let d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{k.removeEventListener("message",d)}};k.addEventListener("message",d)}n.appendChild(a)}var LT=w,DT="ReportingObserver",om=new WeakMap,PT=((e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(om.has(b()))for(let o of r)Ae(i=>{i.setExtra("url",o.url);let s=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(i.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}In(`${s}: ${a}`)})}return{name:DT,setupOnce(){if(!eu())return;new LT.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){om.set(r,!0)}}}),im=PT;var FT="HttpClient",UT=((e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:FT,setup(n){qT(n,t),VT(n,t)}}}),am=UT;function BT(e,t,n,r,o){if(um(e,n.status,n.url)){let i=YT(t,r),s,a,c,u;dm()&&([s,c]=sm("Cookie",i),[a,u]=sm("Set-Cookie",n));let d=lm({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:a,requestCookies:c,responseCookies:u,error:o,type:"fetch"});rn(d)}}function sm(e,t){let n=WT(t.headers),r;try{let o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=cm(o))}catch{}return[n,r]}function HT(e,t,n,r,o){if(um(e,t.status,t.responseURL)){let i,s,a;if(dm()){try{let u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(s=cm(u))}catch{}try{a=GT(t)}catch{}i=r}let c=lm({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:a,responseCookies:s,error:o,type:"xhr"});rn(c)}}function $T(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function cm(e){return e.split("; ").reduce((t,n)=>{let[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function WT(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function GT(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function zT(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function jT(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function qT(e,t){Ho()&&Wn(n=>{if(b()!==e)return;let{response:r,args:o,error:i,virtualError:s}=n,[a,c]=o;r&&BT(t,a,r,c,i||s)},!1)}function VT(e,t){"XMLHttpRequest"in w&&Xn(n=>{if(b()!==e)return;let{error:r,virtualError:o}=n,i=n.xhr,s=i[Ze];if(!s)return;let{method:a,request_headers:c}=s;try{HT(t,i,a,c,r||o)}catch(u){B&&h.warn("Error while extracting response event form XHR response",u)}})}function um(e,t,n){return jT(e.failedRequestStatusCodes,t)&&zT(e.failedRequestTargets,n)&&!Lo(n,b())}function lm(e){let t=b(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,i={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:$T(e.responseHeaders)}}};return We(i,{type:`auto.http.client.${e.type}`,handled:!1}),i}function YT(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function dm(){let e=b();return e?!!e.getOptions().sendDefaultPii:!1}var Ku=w,JT=7,KT="ContextLines",XT=((e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:JT;return{name:KT,processEvent(n){return ZT(n,t)}}}),fm=XT;function ZT(e,t){let n=Ku.document,r=Ku.location&&Oo(Ku.location.href);if(!n||!r)return e;let o=e.exception?.values;if(!o?.length)return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>QT(u,s,r,t)))}),e}function QT(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Ga(t,e,r),e}var eI="GraphQLClient",tI=(e=>({name:eI,setup(t){nI(t,e),rI(t,e)}}));function nI(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let i=M(n).data||{};if(!(i[_e]==="http.client"))return;let c=i[Ya]||i["http.url"],u=i[Va]||i["http.method"];if(!Ne(c)||!Ne(u))return;let{endpoints:d}=t,l=Le(c,d),p=mm(r);if(l&&p){let f=hm(p);if(f){let m=pm(f);n.updateName(`${u} ${c} (${m})`),n.setAttribute("graphql.document",p)}}})}function rI(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:o,type:i,data:s}=n;if(i==="http"&&(o==="fetch"||o==="xhr")){let d=s?.url,{endpoints:l}=t,p=Le(d,l),f=mm(r);if(p&&s&&f){let m=hm(f);if(!s.graphql&&m){let g=pm(m);s["graphql.document"]=m.query,s["graphql.operation"]=g}}}})}function pm(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=oI(t);return r?`${o} ${r}`:`${o}`}function mm(e){let t="xhr"in e,n;if(t){let r=e.xhr[Ze];n=r&&Zn(r.body)[0]}else{let r=Fr(e.input);n=Zn(r)[0]}return n}function oI(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function hm(e){let t;try{let n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}var gm=tI;var pe=w,wl="sentryReplaySession",iI="replay_event",Rl="Unable to send Replay",sI=3e5,aI=9e5,cI=5e3,uI=5500,lI=6e4,dI=5e3,fI=3,_m=15e4,ea=5e3,pI=3e3,mI=300,xl=2e7,hI=4999,gI=15e3,Sm=36e5,_I=Object.defineProperty,SI=(e,t,n)=>t in e?_I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ym=(e,t,n)=>SI(e,typeof t!="symbol"?t+"":t,n),xe=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(xe||{});function yI(e){return e.nodeType===e.ELEMENT_NODE}function ei(e){return e?.host?.shadowRoot===e}function ti(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function EI(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function bI(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function ia(e){try{let t=e.rules||e.cssRules;return t?EI(Array.from(t,$m).join("")):null}catch{return null}}function TI(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function $m(e){let t;if(vI(e))try{t=ia(e.styleSheet)||bI(e)}catch{}else if(wI(e)){let n=e.cssText,r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=TI(e)),r&&(n=II(n)),r||o)return n}return t||e.cssText}function II(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function vI(e){return"styleSheet"in e}function wI(e){return"selectorText"in e}var sa=class{constructor(){ym(this,"idNodeMap",new Map),ym(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function RI(){return new sa}function _a({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function ri({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Vr(e){return e.toLowerCase()}function nl(e){return e.toUpperCase()}var Em="__rrweb_original__";function xI(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=Em in i?i[Em]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function Cl(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Vr(t):null}function aa(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Wm(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}var bm={};function Gm(e){let t=bm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return bm[e]=r.bind(window)}function rl(...e){return Gm("setTimeout")(...e)}function zm(...e){return Gm("clearTimeout")(...e)}function jm(e){try{return e.contentDocument}catch{}}var CI=1,AI=new RegExp("[^a-z0-9-_:]"),oi=-2;function Al(){return CI++}function kI(e){if(e instanceof HTMLFormElement)return"form";let t=Vr(e.tagName);return AI.test(t)?"div":t}function NI(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Hr,Tm,MI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,OI=/^(?:[a-z+]+:)?\/\//i,LI=/^www\..*/i,DI=/^(data:)([^,]*),(.*)/i;function ca(e,t){return(e||"").replace(MI,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if(OI.test(c)||LI.test(c))return`url(${u}${c}${u})`;if(DI.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${NI(t)+c}${u})`;let d=t.split("/"),l=c.split("/");d.pop();for(let p of l)p!=="."&&(p===".."?d.pop():d.push(p));return`url(${u}${d.join("/")}${u})`})}var PI=/^[^ \t\n\r\u000c]+/,FI=/^[, \t\n\r\u000c]+/;function UI(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(FI),!(n>=t.length);){let i=r(PI);if(i.slice(-1)===",")i=Gr(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=Gr(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}var Im=new WeakMap;function Gr(e,t){return!t||t.trim()===""?t:Sa(e,t)}function BI(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Sa(e,t){let n=Im.get(e);if(n||(n=e.createElement("a"),Im.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function qm(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Gr(e,r):n==="srcset"?UI(e,r):n==="style"?ca(r,Sa(e)):t==="object"&&n==="data"?Gr(e,r):typeof i=="function"?i(n,r,o):r)}function Vm(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function HI(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function $I(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Qn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Qn(e.parentNode,t,n,r+1)}function zr(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if($I(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Yr(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=Qn(s,zr(r,o)),c<0)return!0;a=Qn(s,zr(t,n),c>=0?c:1/0)}else{if(a=Qn(s,zr(t,n)),a<0)return!1;c=Qn(s,zr(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function WI(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=rl(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{zm(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return rl(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function GI(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=rl(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{zm(i),r=!0,t()})}function zI(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:m={},maskTextFn:g,maskInputFn:_,dataURLOptions:S={},inlineImages:T,recordCanvas:D,keepIframeSrcFn:A,newlyAddedElement:O=!1}=t,y=jI(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:xe.Document,childNodes:[],compatMode:e.compatMode}:{type:xe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:xe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return VI(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:m,maskInputFn:_,dataURLOptions:S,inlineImages:T,recordCanvas:D,keepIframeSrcFn:A,newlyAddedElement:O,rootId:y,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p});case e.TEXT_NODE:return qI(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,maskTextFn:g,maskInputOptions:m,maskInputFn:_,rootId:y});case e.CDATA_SECTION_NODE:return{type:xe.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:xe.Comment,textContent:e.textContent||"",rootId:y};default:return!1}}function jI(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function qI(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName,p=e.textContent,f=l==="STYLE"?!0:void 0,m=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(f&&p){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(p=ia(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}p=ca(p,Sa(t.doc))}m&&(p="SCRIPT_PLACEHOLDER");let _=Yr(e,r,i,o,s,n);if(!f&&!m&&!g&&p&&_&&(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),g&&p&&(c.textarea||_)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),l==="OPTION"&&p){let S=_a({type:null,tagName:l,maskInputOptions:c});p=ri({isMasked:Yr(e,r,i,o,s,S),element:e,value:p,maskInputFn:u})}return{type:xe.Text,textContent:p||"",isStyle:f,rootId:d}}function VI(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:m=!1,rootId:g,maskTextClass:_,unmaskTextClass:S,maskTextSelector:T,unmaskTextSelector:D}=t,A=HI(e,r,o,i),O=kI(e),y={},C=e.attributes.length;for(let I=0;I<C;I++){let R=e.attributes[I];R.name&&!Vm(O,R.name,R.value)&&(y[R.name]=qm(n,O,Vr(R.name),R.value,e,c))}if(O==="link"&&s){let I=Array.from(n.styleSheets).find($=>$.href===e.href),R=null;I&&(R=ia(I)),R&&(y.rel=null,y.href=null,y.crossorigin=null,y._cssText=ca(R,I.href))}if(O==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let I=ia(e.sheet);I&&(y._cssText=ca(I,Sa(n)))}if(O==="input"||O==="textarea"||O==="select"||O==="option"){let I=e,R=Cl(I),$=aa(I,nl(O),R),v=I.checked;if(R!=="submit"&&R!=="button"&&$){let F=Yr(I,_,T,S,D,_a({type:R,tagName:nl(O),maskInputOptions:a}));y.value=ri({isMasked:F,element:I,value:$,maskInputFn:u})}v&&(y.checked=v)}if(O==="option"&&(e.selected&&!a.select?y.selected=!0:delete y.selected),O==="canvas"&&p){if(e.__context==="2d")xI(e)||(y.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let I=e.toDataURL(d.type,d.quality),R=n.createElement("canvas");R.width=e.width,R.height=e.height;let $=R.toDataURL(d.type,d.quality);I!==$&&(y.rr_dataURL=I)}}if(O==="img"&&l){Hr||(Hr=n.createElement("canvas"),Tm=Hr.getContext("2d"));let I=e,R=I.currentSrc||I.getAttribute("src")||"<unknown-src>",$=I.crossOrigin,v=()=>{I.removeEventListener("load",v);try{Hr.width=I.naturalWidth,Hr.height=I.naturalHeight,Tm.drawImage(I,0,0),y.rr_dataURL=Hr.toDataURL(d.type,d.quality)}catch(F){if(I.crossOrigin!=="anonymous"){I.crossOrigin="anonymous",I.complete&&I.naturalWidth!==0?v():I.addEventListener("load",v);return}else console.warn(`Cannot inline img src=${R}! Error: ${F}`)}I.crossOrigin==="anonymous"&&($?y.crossOrigin=$:I.removeAttribute("crossorigin"))};I.complete&&I.naturalWidth!==0?v():I.addEventListener("load",v)}if((O==="audio"||O==="video")&&(y.rr_mediaState=e.paused?"paused":"played",y.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop)),A){let{width:I,height:R}=e.getBoundingClientRect();y={class:y.class,rr_width:`${I}px`,rr_height:`${R}px`}}O==="iframe"&&!f(y.src)&&(!A&&!jm(e)&&(y.rr_src=y.src),delete y.src);let L;try{customElements.get(O)&&(L=!0)}catch{}return{type:xe.Element,tagName:O,attributes:y,childNodes:[],isSVG:BI(e)||void 0,needBlock:A,rootId:g,isCustom:L}}function fe(e){return e==null?"":e.toLowerCase()}function YI(e,t){if(t.comment&&e.type===xe.Comment)return!0;if(e.type===xe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Wm(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(fe(e.attributes.name).match(/^msapplication-tile(image|color)$/)||fe(e.attributes.name)==="application-name"||fe(e.attributes.rel)==="icon"||fe(e.attributes.rel)==="apple-touch-icon"||fe(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&fe(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(fe(e.attributes.property).match(/^(og|twitter|fb):/)||fe(e.attributes.name).match(/^(og|twitter):/)||fe(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(fe(e.attributes.name)==="robots"||fe(e.attributes.name)==="googlebot"||fe(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(fe(e.attributes.name)==="author"||fe(e.attributes.name)==="generator"||fe(e.attributes.name)==="framework"||fe(e.attributes.name)==="publisher"||fe(e.attributes.name)==="progid"||fe(e.attributes.property).match(/^article:/)||fe(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(fe(e.attributes.name)==="google-site-verification"||fe(e.attributes.name)==="yandex-verification"||fe(e.attributes.name)==="csrf-token"||fe(e.attributes.name)==="p:domain_verify"||fe(e.attributes.name)==="verify-v1"||fe(e.attributes.name)==="verification"||fe(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function jr(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:T,dataURLOptions:D={},inlineImages:A=!1,recordCanvas:O=!1,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:L=5e3,onBlockedImageLoad:I,onStylesheetLoad:R,stylesheetLoadTimeout:$=5e3,keepIframeSrcFn:v=()=>!1,newlyAddedElement:F=!1}=t,{preserveWhiteSpace:V=!0}=t,U=zI(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,dataURLOptions:D,inlineImages:A,recordCanvas:O,keepIframeSrcFn:v,newlyAddedElement:F});if(!U)return console.warn(e,"not serialized"),null;let q;r.hasNode(e)?q=r.getId(e):YI(U,T)||!V&&U.type===xe.Text&&!U.isStyle&&!U.textContent.replace(/^\s+|\s+$/gm,"").length?q=oi:q=Al();let x=Object.assign(U,{id:q});if(r.add(e,x),q===oi)return null;y&&y(e);let W=!p;if(x.type===xe.Element){W=W&&!x.needBlock;let H=e.shadowRoot;H&&ti(H)&&(x.isShadowHost=!0)}if((x.type===xe.Document||x.type===xe.Element)&&W){T.headWhitespace&&x.type===xe.Element&&x.tagName==="head"&&(V=!1);let H={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:T,dataURLOptions:D,inlineImages:A,recordCanvas:O,preserveWhiteSpace:V,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:L,onBlockedImageLoad:I,onStylesheetLoad:R,stylesheetLoadTimeout:$,keepIframeSrcFn:v},Y=e.childNodes?Array.from(e.childNodes):[];for(let oe of Y){let Ie=jr(oe,H);Ie&&x.childNodes.push(Ie)}if(yI(e)&&e.shadowRoot)for(let oe of Array.from(e.shadowRoot.childNodes)){let Ie=jr(oe,H);Ie&&(ti(e.shadowRoot)&&(Ie.isShadow=!0),x.childNodes.push(Ie))}}if(e.parentNode&&ei(e.parentNode)&&ti(e.parentNode)&&(x.isShadow=!0),x.type===xe.Element&&x.tagName==="iframe"&&!x.needBlock&&WI(e,()=>{let H=jm(e);if(H&&C){let Y=jr(H,{doc:H,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:T,dataURLOptions:D,inlineImages:A,recordCanvas:O,preserveWhiteSpace:V,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:L,onStylesheetLoad:R,stylesheetLoadTimeout:$,keepIframeSrcFn:v});Y&&C(e,Y)}},L),x.type===xe.Element&&x.tagName==="img"&&!e.complete&&x.needBlock){let H=e,Y=()=>{if(H.isConnected&&!H.complete&&I)try{let oe=H.getBoundingClientRect();oe.width>0&&oe.height>0&&I(H,x,oe)}catch{}H.removeEventListener("load",Y)};H.isConnected&&H.addEventListener("load",Y)}return x.type===xe.Element&&x.tagName==="link"&&typeof x.attributes.rel=="string"&&(x.attributes.rel==="stylesheet"||x.attributes.rel==="preload"&&typeof x.attributes.href=="string"&&Wm(x.attributes.href)==="css")&&GI(e,()=>{if(R){let H=jr(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:T,dataURLOptions:D,inlineImages:A,recordCanvas:O,preserveWhiteSpace:V,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:L,onStylesheetLoad:R,stylesheetLoadTimeout:$,keepIframeSrcFn:v});H&&R(e,H)}},$),x.type===xe.Element&&delete x.needBlock,x}function JI(e,t){let{mirror:n=new sa,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOM:T=!1,dataURLOptions:D,preserveWhiteSpace:A,onSerialize:O,onIframeLoad:y,iframeLoadTimeout:C,onBlockedImageLoad:L,onStylesheetLoad:I,stylesheetLoadTimeout:R,keepIframeSrcFn:$=()=>!1}=t||{};return jr(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:T===!0||T==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:T==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:T===!1?{}:T,dataURLOptions:D,inlineImages:p,recordCanvas:f,preserveWhiteSpace:A,onSerialize:O,onIframeLoad:y,iframeLoadTimeout:C,onBlockedImageLoad:L,onStylesheetLoad:I,stylesheetLoadTimeout:R,keepIframeSrcFn:$,newlyAddedElement:!1})}function et(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var $r=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,vm={map:{},getId(){return console.error($r),-1},getNode(){return console.error($r),null},removeNodeFromMap(){console.error($r)},has(){return console.error($r),!1},reset(){console.error($r)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(vm=new Proxy(vm,{get(e,t,n){return t==="map"&&console.error($r),Reflect.get(e,t,n)}}));function ii(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(tv(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=ya(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Ym(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){ya(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Ym(e,t,i||{},!0)}function kl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var ua=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ua=()=>new Date().getTime());function Jm(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Km(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Xm(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Zm(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ht(e,t,n,r,o){if(!e)return!1;let i=Zm(e);if(!i)return!1;let s=zr(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Qn(i,s),c=-1;return a<0?!1:(r&&(c=Qn(i,zr(null,r))),a>-1&&c<0?!0:a<c)}function KI(e,t){return t.getId(e)!==-1}function Xu(e,t){return t.getId(e)===oi}function Qm(e,t){if(ei(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Qm(e.parentNode,t):!0:!0}function ol(e){return!!e.changedTouches}function XI(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function eh(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function th(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function il(e){return!!e?.shadowRoot}var sl=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function nh(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function ZI(e){let t=e,n;for(;n=nh(t);)t=n;return t}function QI(e){let t=e.ownerDocument;if(!t)return!1;let n=ZI(e);return t.contains(n)}function rh(e){let t=e.ownerDocument;return t?t.contains(e)||QI(e):!1}var wm={};function Nl(e){let t=wm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return wm[e]=r.bind(window)}function ev(...e){return Nl("requestAnimationFrame")(...e)}function ya(...e){return Nl("setTimeout")(...e)}function tv(...e){return Nl("clearTimeout")(...e)}var K=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(K||{}),j=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(j||{}),Qe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Qe||{}),ln=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(ln||{}),Wr=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Wr||{});function Ml(e){try{return e.contentDocument}catch{}}function nv(e){try{return e.contentWindow}catch{}}function Rm(e){return"__ln"in e}var al=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Rm(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Rm(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},xm=(e,t)=>`${e}@${t}`,cl=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new al,o=c=>{let u=c,d=oi;for(;d===oi;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!rh(c))return;let u=ei(c.parentNode)?this.mirror.getId(nh(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);let l=jr(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{eh(p,this.mirror)&&!ht(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(p),th(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),il(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(p,f)=>{ht(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(p,f),p.contentWindow&&this.canvasManager.addWindow(p.contentWindow),this.shadowDomManager.observeAttachShadow(p))},onStylesheetLoad:(p,f)=>{this.stylesheetManager.attachLinkElement(p,f)},onBlockedImageLoad:(p,f,{width:m,height:g})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:{style:{width:`${m}px`,height:`${g}px`}}}]})}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)Cm(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!Am(this.droppedSet,c)&&!Cm(this.removes,c,this.mirror)||Am(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),d=o(s.value);u!==-1&&d!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let d=u;if(u=u.previous,d){let l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{let f=d.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let m=f.parentNode.host;if(this.mirror.getId(m)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Xu(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!ht(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Yr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Zm(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let s=Cl(n),a=n.tagName;o=aa(n,a,s);let c=_a({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),u=Yr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=ri({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(ht(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!Ml(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Vm(n.tagName,r)&&(i.attributes[r]=qm(this.doc,Vr(n.tagName),Vr(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let a of Array.from(n.style)){let c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==s.style.getPropertyValue(a)||u!==s.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(let a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(ht(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=ei(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ht(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Xu(n,this.mirror)||!KI(n,this.mirror)||(this.addedSet.has(n)?(ul(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Qm(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[xm(r,o)]?ul(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:ei(t.target)&&ti(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Xu(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[xm(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ht(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),il(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function ul(e,t){e.delete(t),t.childNodes?.forEach(n=>ul(e,n))}function Cm(e,t,n){return e.length===0?!1:rv(e,t,n)}function rv(e,t,n){let r=t.parentNode;for(;r;){let o=n.getId(r);if(e.some(i=>i.id===o))return!0;r=r.parentNode}return!1}function Am(e,t){return e.size===0?!1:oh(e,t)}function oh(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:oh(e,n):!1}var ni;function ov(e){ni=e}function iv(){ni=void 0}var ne=e=>ni?(...n)=>{try{return e(...n)}catch(r){if(ni&&ni(r)===!0)return()=>{};throw r}}:e,qr=[];function li(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function ih(e,t){let n=new cl;qr.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);let i=new r(ne(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function sv({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=ii(ne(l=>{let p=Date.now()-a;e(s.map(f=>(f.timeOffset-=p,f)),l),s=[],a=null}),i),u=ne(ii(ne(l=>{let p=li(l),{clientX:f,clientY:m}=ol(l)?l.changedTouches[0]:l;a||(a=ua()),s.push({x:f,y:m,id:r.getId(p),timeOffset:ua()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?j.Drag:l instanceof MouseEvent?j.MouseMove:j.TouchMove)}),o,{trailing:!1})),d=[et("mousemove",u,n),et("touchmove",u,n),et("drag",u,n)];return ne(()=>{d.forEach(l=>l())})}function av({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,d=l=>p=>{let f=li(p);if(ht(f,r,o,i,!0))return;let m=null,g=l;if("pointerType"in p){switch(p.pointerType){case"mouse":m=ln.Mouse;break;case"touch":m=ln.Touch;break;case"pen":m=ln.Pen;break}m===ln.Touch?Qe[l]===Qe.MouseDown?g="TouchStart":Qe[l]===Qe.MouseUp&&(g="TouchEnd"):ln.Pen}else ol(p)&&(m=ln.Touch);m!==null?(u=m,(g.startsWith("Touch")&&m===ln.Touch||g.startsWith("Mouse")&&m===ln.Mouse)&&(m=null)):Qe[l]===Qe.Click&&(m=u,u=null);let _=ol(p)?p.changedTouches[0]:p;if(!_)return;let S=n.getId(f),{clientX:T,clientY:D}=_;ne(e)({type:Qe[g],id:S,x:T,y:D,...m!==null&&{pointerType:m}})};return Object.keys(Qe).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let p=Vr(l),f=d(l);if(window.PointerEvent)switch(Qe[l]){case Qe.MouseDown:case Qe.MouseUp:p=p.replace("mouse","pointer");break;case Qe.TouchStart:case Qe.TouchEnd:return}c.push(et(p,f,t))}),ne(()=>{c.forEach(l=>l())})}function sh({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=ne(ii(ne(c=>{let u=li(c);if(!u||ht(u,r,o,i,!0))return;let d=n.getId(u);if(u===t&&t.defaultView){let l=Jm(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return et("scroll",a,t)}function cv({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=ne(ii(ne(()=>{let i=Km(),s=Xm();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return et("resize",o,t)}var uv=["INPUT","TEXTAREA","SELECT"],km=new WeakMap;function lv({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g}){function _(C){let L=li(C),I=C.isTrusted,R=L&&nl(L.tagName);if(R==="OPTION"&&(L=L.parentElement),!L||!R||uv.indexOf(R)<0||ht(L,r,o,i,!0))return;let $=L;if($.classList.contains(s)||a&&$.matches(a))return;let v=Cl(L),F=aa($,R,v),V=!1,U=_a({maskInputOptions:c,tagName:R,type:v}),q=Yr(L,p,m,f,g,U);(v==="radio"||v==="checkbox")&&(V=L.checked),F=ri({isMasked:q,element:L,value:F,maskInputFn:u}),S(L,l?{text:F,isChecked:V,userTriggered:I}:{text:F,isChecked:V});let x=L.name;v==="radio"&&x&&V&&t.querySelectorAll(`input[type="radio"][name="${x}"]`).forEach(W=>{if(W!==L){let H=ri({isMasked:q,element:W,value:aa(W,R,v),maskInputFn:u});S(W,l?{text:H,isChecked:!V,userTriggered:!1}:{text:H,isChecked:!V})}})}function S(C,L){let I=km.get(C);if(!I||I.text!==L.text||I.isChecked!==L.isChecked){km.set(C,L);let R=n.getId(C);ne(e)({...L,id:R})}}let D=(d.input==="last"?["change"]:["input","change"]).map(C=>et(C,ne(_),t)),A=t.defaultView;if(!A)return()=>{D.forEach(C=>C())};let O=A.Object.getOwnPropertyDescriptor(A.HTMLInputElement.prototype,"value"),y=[[A.HTMLInputElement.prototype,"value"],[A.HTMLInputElement.prototype,"checked"],[A.HTMLSelectElement.prototype,"value"],[A.HTMLTextAreaElement.prototype,"value"],[A.HTMLSelectElement.prototype,"selectedIndex"],[A.HTMLOptionElement.prototype,"selected"]];return O&&O.set&&D.push(...y.map(C=>Ym(C[0],C[1],{set(){ne(_)({target:this,isTrusted:!1})}},!1,A))),ne(()=>{D.forEach(C=>C())})}function la(e){let t=[];function n(r,o){if(ta("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||ta("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||ta("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||ta("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function xn(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function dv({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:ne((d,l,p)=>{let[f,m]=p,{id:g,styleId:_}=xn(l,t,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&e({id:g,styleId:_,adds:[{rule:f,index:m}]}),d.apply(l,p)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:ne((d,l,p)=>{let[f]=p,{id:m,styleId:g}=xn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:f}]}),d.apply(l,p)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:ne((d,l,p)=>{let[f]=p,{id:m,styleId:g}=xn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:f}),d.apply(l,p)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:ne((d,l,p)=>{let[f]=p,{id:m,styleId:g}=xn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:f}),d.apply(l,p)})}));let c={};na("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(na("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),na("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),na("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:ne((p,f,m)=>{let[g,_]=m,{id:S,styleId:T}=xn(f.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||T&&T!==-1)&&e({id:S,styleId:T,adds:[{rule:g,index:[...la(f),_||0]}]}),p.apply(f,m)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:ne((p,f,m)=>{let[g]=m,{id:_,styleId:S}=xn(f.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,removes:[{index:[...la(f),g]}]}),p.apply(f,m)})})}),ne(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function ah({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,i=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return i.get?.call(this)},set(s){let a=i.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),ne(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function fv({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:ne((a,c,u)=>{let[d,l,p]=u;if(n.has(d))return i.apply(c,[d,l,p]);let{id:f,styleId:m}=xn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||m&&m!==-1)&&e({id:f,styleId:m,set:{property:d,value:l,priority:p},index:la(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:ne((a,c,u)=>{let[d]=u;if(n.has(d))return s.apply(c,[d]);let{id:l,styleId:p}=xn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||p&&p!==-1)&&e({id:l,styleId:p,remove:{property:d},index:la(c.parentRule)}),a.apply(c,u)})}),ne(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function pv({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=ne(u=>ii(ne(d=>{let l=li(d);if(!l||ht(l,t,n,r,!0))return;let{currentTime:p,volume:f,muted:m,playbackRate:g}=l;e({type:u,id:o.getId(l),currentTime:p,volume:f,muted:m,playbackRate:g})}),i.media||500)),c=[et("play",a(Wr.Play),s),et("pause",a(Wr.Pause),s),et("seeked",a(Wr.Seeked),s),et("volumechange",a(Wr.VolumeChange),s),et("ratechange",a(Wr.RateChange),s)];return ne(()=>{c.forEach(u=>u())})}function mv({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){let l=new i(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};let s=kl(t.fonts,"add",function(a){return function(c){return ya(ne(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),ne(()=>{r.forEach(a=>a())})}function hv(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=ne(()=>{let u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;let d=[],l=u.rangeCount||0;for(let p=0;p<l;p++){let f=u.getRangeAt(p),{startContainer:m,startOffset:g,endContainer:_,endOffset:S}=f;ht(m,r,o,i,!0)||ht(_,r,o,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(_),endOffset:S})}s({ranges:d})});return c(),et("selectionchange",c)}function gv({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:kl(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function _v(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=ih(e,e.doc));let o=sv(e),i=av(e),s=sh(e),a=cv(e,{win:n}),c=lv(e),u=pv(e),d=()=>{},l=()=>{},p=()=>{},f=()=>{};e.recordDOM&&(d=dv(e,{win:n}),l=ah(e,e.doc),p=fv(e,{win:n}),e.collectFonts&&(f=mv(e)));let m=hv(e),g=gv(e),_=[];for(let S of e.plugins)_.push(S.observer(S.callback,n,S.options));return ne(()=>{qr.forEach(S=>S.reset()),r?.disconnect(),o(),i(),s(),a(),c(),u(),d(),l(),p(),f(),m(),g(),_.forEach(S=>S())})}function ta(e){return typeof window[e]<"u"}function na(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var si=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}},ll=class{constructor(){this.crossOriginIframeMirror=new si(Al),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},dl=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new si(Al),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new si(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);let r=Ml(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case K.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:K.IncrementalSnapshot,data:{source:j.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case K.Meta:case K.Load:case K.DomContentLoaded:return!1;case K.Plugin:return n;case K.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case K.IncrementalSnapshot:switch(n.data.source){case j.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case j.Drag:case j.TouchMove:case j.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case j.ViewportResize:return!1;case j.MediaInteraction:case j.MouseInteraction:case j.Scroll:case j.CanvasMutation:case j.Input:return this.replaceIds(n.data,t,["id"]),n;case j.StyleSheetRule:case j.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case j.Font:return n;case j.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case j.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==xe.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},fl=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},pl=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!ti(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=ih({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(sh({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),ya(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(ah({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let n=Ml(t),r=nv(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(kl(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&rh(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},Nm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Zo=0;Zo<Nm.length;Zo++)Sv[Nm.charCodeAt(Zo)]=Zo;var Zo,da=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},ml=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new sl,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:$m(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},hl=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.active||(this.active=!0,ev(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}},Te,fa;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Ut=RI();function dn(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:_,slimDOMOptions:S,maskAttributeFn:T,maskInputFn:D,maskTextFn:A,maxCanvasSize:O=null,packFn:y,sampling:C={},dataURLOptions:L={},mousemoveWait:I,recordDOM:R=!0,recordCanvas:$=!1,recordCrossOriginIframes:v=!1,recordAfter:F=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:V=!1,collectFonts:U=!1,inlineImages:q=!1,plugins:x,keepIframeSrcFn:W=()=>!1,ignoreCSSAttributes:H=new Set([]),errorHandler:Y,onMutation:oe,getCanvasManager:Ie}=e;ov(Y);let Pe=v?window.parent===window:!0,Ce=!1;if(!Pe)try{window.parent.document&&(Ce=!1)}catch{Ce=!0}if(Pe&&!t)throw new Error("emit function is required");if(!Pe&&!Ce)return()=>{};I!==void 0&&C.mousemove===void 0&&(C.mousemove=I),Ut.reset();let fn=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},kn=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};XI();let Jt,xt=0,pn=Z=>{for(let at of x||[])at.eventProcessor&&(Z=at.eventProcessor(Z));return y&&!Ce&&(Z=y(Z)),Z};Te=(Z,at)=>{let Q=Z;if(Q.timestamp=ua(),qr[0]?.isFrozen()&&Q.type!==K.FullSnapshot&&!(Q.type===K.IncrementalSnapshot&&Q.data.source===j.Mutation)&&qr.forEach(Oe=>Oe.unfreeze()),Pe)t?.(pn(Q),at);else if(Ce){let Oe={type:"rrweb",event:pn(Q),origin:window.location.origin,isCheckout:at};window.parent.postMessage(Oe,"*")}if(Q.type===K.FullSnapshot)Jt=Q,xt=0;else if(Q.type===K.IncrementalSnapshot){if(Q.data.source===j.Mutation&&Q.data.isAttachIframe)return;xt++;let Oe=r&&xt>=r,ie=n&&Jt&&Q.timestamp-Jt.timestamp>n;(Oe||ie)&&Bt(!0)}};let mn=Z=>{Te({type:K.IncrementalSnapshot,data:{source:j.Mutation,...Z}})},eo=Z=>Te({type:K.IncrementalSnapshot,data:{source:j.Scroll,...Z}}),hi=Z=>Te({type:K.IncrementalSnapshot,data:{source:j.CanvasMutation,...Z}}),to=Z=>Te({type:K.IncrementalSnapshot,data:{source:j.AdoptedStyleSheet,...Z}}),se=new ml({mutationCb:mn,adoptedStyleSheetCb:to}),Se=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new ll:new dl({mirror:Ut,mutationCb:mn,stylesheetManager:se,recordCrossOriginIframes:v,wrappedEmit:Te});for(let Z of x||[])Z.getMirror&&Z.getMirror({nodeMirror:Ut,crossOriginIframeMirror:Se.crossOriginIframeMirror,crossOriginIframeStyleMirror:Se.crossOriginIframeStyleMirror});let gt=new hl,Me=Ev(Ie,{mirror:Ut,win:window,mutationCb:Z=>Te({type:K.IncrementalSnapshot,data:{source:j.CanvasMutation,...Z}}),recordCanvas:$,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:O,sampling:C.canvas,dataURLOptions:L,errorHandler:Y}),Fe=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new fl:new pl({mutationCb:mn,scrollCb:eo,bypassOptions:{onMutation:oe,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:fn,dataURLOptions:L,maskAttributeFn:T,maskTextFn:A,maskInputFn:D,recordCanvas:$,inlineImages:q,sampling:C,slimDOMOptions:kn,iframeManager:Se,stylesheetManager:se,canvasManager:Me,keepIframeSrcFn:W,processedNodeManager:gt},mirror:Ut}),Bt=(Z=!1)=>{if(!R)return;Te({type:K.Meta,data:{href:window.location.href,width:Xm(),height:Km()}},Z),se.reset(),Fe.init(),qr.forEach(Q=>Q.lock());let at=JI(document,{mirror:Ut,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskAllInputs:fn,maskAttributeFn:T,maskInputFn:D,maskTextFn:A,slimDOM:kn,dataURLOptions:L,recordCanvas:$,inlineImages:q,onSerialize:Q=>{eh(Q,Ut)&&Se.addIframe(Q),th(Q,Ut)&&se.trackLinkElement(Q),il(Q)&&Fe.addShadowRoot(Q.shadowRoot,document)},onIframeLoad:(Q,Oe)=>{Se.attachIframe(Q,Oe),Q.contentWindow&&Me.addWindow(Q.contentWindow),Fe.observeAttachShadow(Q)},onStylesheetLoad:(Q,Oe)=>{se.attachLinkElement(Q,Oe)},onBlockedImageLoad:(Q,Oe,{width:ie,height:no})=>{mn({adds:[],removes:[],texts:[],attributes:[{id:Oe.id,attributes:{style:{width:`${ie}px`,height:`${no}px`}}}]})},keepIframeSrcFn:W});if(!at)return console.warn("Failed to snapshot the document");Te({type:K.FullSnapshot,data:{node:at,initialOffset:Jm(window)}}),qr.forEach(Q=>Q.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&se.adoptStyleSheets(document.adoptedStyleSheets,Ut.getId(document))};fa=Bt;try{let Z=[],at=Oe=>ne(_v)({onMutation:oe,mutationCb:mn,mousemoveCb:(ie,no)=>Te({type:K.IncrementalSnapshot,data:{source:no,positions:ie}}),mouseInteractionCb:ie=>Te({type:K.IncrementalSnapshot,data:{source:j.MouseInteraction,...ie}}),scrollCb:eo,viewportResizeCb:ie=>Te({type:K.IncrementalSnapshot,data:{source:j.ViewportResize,...ie}}),inputCb:ie=>Te({type:K.IncrementalSnapshot,data:{source:j.Input,...ie}}),mediaInteractionCb:ie=>Te({type:K.IncrementalSnapshot,data:{source:j.MediaInteraction,...ie}}),styleSheetRuleCb:ie=>Te({type:K.IncrementalSnapshot,data:{source:j.StyleSheetRule,...ie}}),styleDeclarationCb:ie=>Te({type:K.IncrementalSnapshot,data:{source:j.StyleDeclaration,...ie}}),canvasMutationCb:hi,fontCb:ie=>Te({type:K.IncrementalSnapshot,data:{source:j.Font,...ie}}),selectionCb:ie=>{Te({type:K.IncrementalSnapshot,data:{source:j.Selection,...ie}})},customElementCb:ie=>{Te({type:K.IncrementalSnapshot,data:{source:j.CustomElement,...ie}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:fn,inlineStylesheet:m,sampling:C,recordDOM:R,recordCanvas:$,inlineImages:q,userTriggeredOnInput:V,collectFonts:U,doc:Oe,maskAttributeFn:T,maskInputFn:D,maskTextFn:A,keepIframeSrcFn:W,blockSelector:i,unblockSelector:s,slimDOMOptions:kn,dataURLOptions:L,mirror:Ut,iframeManager:Se,stylesheetManager:se,shadowDomManager:Fe,processedNodeManager:gt,canvasManager:Me,ignoreCSSAttributes:H,plugins:x?.filter(ie=>ie.observer)?.map(ie=>({observer:ie.observer,options:ie.options,callback:no=>Te({type:K.Plugin,data:{plugin:ie.name,payload:no}})}))||[]},{});Se.addLoadListener(Oe=>{try{Z.push(at(Oe.contentDocument))}catch(ie){console.warn(ie)}});let Q=()=>{Bt(),Z.push(at(document))};return document.readyState==="interactive"||document.readyState==="complete"?Q():(Z.push(et("DOMContentLoaded",()=>{Te({type:K.DomContentLoaded,data:{}}),F==="DOMContentLoaded"&&Q()})),Z.push(et("load",()=>{Te({type:K.Load,data:{}}),F==="load"&&Q()},window))),()=>{Z.forEach(Oe=>Oe()),gt.destroy(),fa=void 0,iv()}}catch(Z){console.warn(Z)}}function yv(e){if(!fa)throw new Error("please take full snapshot after start recording");fa(e)}dn.mirror=Ut;dn.takeFullSnapshot=yv;function Ev(e,t){try{return e?e(t):new da}catch{return console.warn("Unable to initialize CanvasManager"),new da}}var Mm;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Mm||(Mm={}));var bv=3,Tv=5;function Ol(e){return e>9999999999?e:e*1e3}function Zu(e){return e>9999999999?e/1e3:e}function di(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:K.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ke(t,10,1e3)}}),t.category==="console")))}var Iv="button,a";function ch(e){return e.closest(Iv)||e}function uh(e){let t=lh(e);return!t||!(t instanceof Element)?t:ch(t)}function lh(e){return vv(e)?e.target:e}function vv(e){return typeof e=="object"&&!!e&&"target"in e}var Cn;function wv(e){return Cn||(Cn=[],Rv()),Cn.push(e),()=>{let t=Cn?Cn.indexOf(e):-1;t>-1&&Cn.splice(t,1)}}function Rv(){ye(pe,"open",function(e){return function(...t){if(Cn)try{Cn.forEach(n=>n())}catch{}return e.apply(pe,t)}})}var xv=new Set([j.Mutation,j.StyleSheetRule,j.StyleDeclaration,j.AdoptedStyleSheet,j.CanvasMutation,j.Selection,j.MediaInteraction]);function Cv(e,t,n){e.handleClick(t,n)}var gl=class{constructor(t,n,r=di){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=wv(()=>{this._lastMutation=Om()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(kv(n,this._ignoreSelector)||!Nv(t))return;let r={timestamp:Zu(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Zu(t)}registerScroll(t=Date.now()){this._lastScroll=Zu(t)}registerClick(t){let n=ch(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=Om();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:pe.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,d);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:pe.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Kn(()=>this._checkClicks(),1e3)}},Av=["A","BUTTON","INPUT"];function kv(e,t){return!!(!Av.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Nv(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Om(){return Date.now()/1e3}function Mv(e,t){try{if(!Ov(t))return;let{source:n}=t.data;if(xv.has(n)&&e.registerMutation(t.timestamp),n===j.Scroll&&e.registerScroll(t.timestamp),Lv(t)){let{type:r,id:o}=t.data,i=dn.mirror.getNode(o);i instanceof HTMLElement&&r===Qe.Click&&e.registerClick(i)}}catch{}}function Ov(e){return e.type===bv}function Lv(e){return e.data.source===j.MouseInteraction}function Vt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ll=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ll||{}),Dv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Pv(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(Dv.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var Fv=e=>t=>{if(!e.isEnabled())return;let n=Uv(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&Cv(e.clickDetector,n,uh(t.event)),di(e,n)};function dh(e,t){let n=dn.mirror.getId(e),r=n&&dn.mirror.getNode(n),o=r&&dn.mirror.getMeta(r),i=o&&Hv(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===Ll.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:Pv(i.attributes)}}:{}}}function Uv(e){let{target:t,message:n}=Bv(e);return Vt({category:`ui.${e.name}`,...dh(t,n)})}function Bv(e){let t=e.name==="click",n,r=null;try{r=t?uh(e.event):lh(e.event),n=Re(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Hv(e){return e.type===Ll.Element}function $v(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=Wv(t);n&&di(e,n)}function Wv(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||Gv(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=Re(s,{maxStringLength:200})||"<unknown>",d=dh(s,u);return Vt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function Gv(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var zv={resource:Jv,paint:Vv,navigation:Yv};function Qu(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function jv(e){return e.map(qv).filter(Boolean)}function qv(e){let t=zv[e.entryType];return t?t(e):null}function Jr(e){return((ge()||pe.performance.timeOrigin)+e)/1e3}function Vv(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=Jr(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function Yv(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:p,startTime:f,transferSize:m,type:g}=e;return o===0?null:{type:`${t}.${g}`,start:Jr(f),end:Jr(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:p}}}function Jv(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Jr(i),end:Jr(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function Kv(e){let t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return Dl(e,"largest-contentful-paint",n)}function Xv(e){return e.sources!==void 0}function Zv(e){let t=[],n=[];for(let r of e.entries)if(Xv(r)){let o=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=dn.mirror.getId(i.node);s&&o.push(s)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return Dl(e,"cumulative-layout-shift",n,t)}function Qv(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return Dl(e,"interaction-to-next-paint",n)}function Dl(e,t,n,r){let o=e.value,i=e.rating,s=Jr(o);return{type:"web-vital",name:t,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(a=>dn.mirror.getId(a)):void 0,attributions:r}}}function e0(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(mt(o,n))}),r.push(Yn(Qu(Kv,e)),Vn(Qu(Zv,e)),Yo(Qu(Qv,e))),()=>{r.forEach(o=>o())}}var G=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,t0='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function n0(){let e=new Blob([t0]);return URL.createObjectURL(e)}var Lm=["log","warn","error"],oa="[Replay] ";function el(e,t="info"){Xe({category:"console",data:{logger:"replay"},level:t,message:`${oa}${e}`},{level:t})}function r0(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return G?(Lm.forEach(r=>{n[r]=(...o)=>{h[r](oa,...o),t&&el(o.join(""),$n(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),h.error(oa,r),e?ft(r):t&&el(r,"error")},n.infoTick=(...r)=>{h.log(oa,...r),t&&setTimeout(()=>el(r[0]),0)}):Lm.forEach(r=>{n[r]=()=>{}}),n}var z=r0(),ai=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${xl}.`)}},pa=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>xl)throw new ai;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?Ol(t):null}},_l=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){G&&z.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){G&&z.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},Sl=class{constructor(t){this._worker=new _l(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=Ol(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>xl?Promise.reject(new ai):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{G&&z.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},yl=class{constructor(t){this._fallback=new pa,this._compression=new Sl(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){G&&z.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,o=[];for(let i of t)o.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(i){G&&z.exception(i,"Failed to add events when switching buffers.")}}};function o0({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=i0(t);if(n)return n}return G&&z.log("Using simple buffer"),new pa}function i0(e){try{let t=e||s0();if(!t)return;G&&z.log(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new yl(n)}catch(t){G&&z.exception(t,"Failed to create compression worker")}}function s0(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?n0():""}function Pl(){try{return"sessionStorage"in pe&&!!pe.sessionStorage}catch{return!1}}function a0(e){c0(),e.session=void 0}function c0(){if(Pl())try{pe.sessionStorage.removeItem(wl)}catch{}}function fh(e){return e===void 0?!1:Math.random()<e}function Fl(e){if(Pl())try{pe.sessionStorage.setItem(wl,JSON.stringify(e))}catch{}}function ph(e){let t=Date.now(),n=e.id||he(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function u0(e,t){return fh(e)?"session":t?"buffer":!1}function Dm({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=u0(e,t),i=ph({sampled:o,previousSessionId:r});return n&&Fl(i),i}function l0(){if(!Pl())return null;try{let e=pe.sessionStorage.getItem(wl);if(!e)return null;let t=JSON.parse(e);return G&&z.infoTick("Loading existing session"),ph(t)}catch{return null}}function El(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function mh(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return El(e.started,t,r)||El(e.lastActivity,n,r)}function hh(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!mh(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function tl({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let o=r.stickySession&&l0();return o?hh(o,{sessionIdleExpire:e,maxReplayDuration:t})?(G&&z.infoTick("Session in sessionStorage is expired, creating new one..."),Dm(r,{previousSessionId:o.id})):o:(G&&z.infoTick("Creating new session"),Dm(r,{previousSessionId:n}))}function d0(e){return e.type===K.Custom}function Ul(e,t,n){return _h(e,t)?(gh(e,t,n),!0):!1}function f0(e,t,n){return _h(e,t)?gh(e,t,n):Promise.resolve(null)}async function gh(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=p0(t,i.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(i){let s=i&&i instanceof ai,a=s?"addEventSizeExceeded":"addEvent";if(s&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a});let c=b();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function _h(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=Ol(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(G&&z.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function p0(e,t){try{if(typeof t=="function"&&d0(e))return t(e)}catch(n){return G&&z.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Bl(e){return!e.type}function bl(e){return e.type==="transaction"}function m0(e){return e.type==="replay_event"}function Pm(e){return e.type==="feedback"}function h0(e){return(t,n)=>{if(!e.isEnabled()||!Bl(t)&&!bl(t))return;let r=n?.statusCode;if(!(!r||r<200||r>=300)){if(bl(t)){g0(e,t);return}_0(e,t)}}}function g0(e,t){let n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function _0(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Kn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function S0(e){return t=>{!e.isEnabled()||!Bl(t)||y0(e,t)}}function y0(e,t){let n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=Vt({category:"replay.hydrate-error",data:{url:Ye()}});di(e,r)}}function E0(e){let t=b();t&&t.on("beforeAddBreadcrumb",n=>b0(e,n))}function b0(e,t){if(!e.isEnabled()||!Sh(t))return;let n=T0(t);n&&di(e,n)}function T0(e){return!Sh(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?I0(e):Vt(e)}function I0(e){let t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return Vt(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>ea?(n=!0,`${o.slice(0,ea)}\u2026`):o;if(typeof o=="object")try{let i=ke(o,7);return JSON.stringify(i).length>ea?(n=!0,`${JSON.stringify(i,null,2).slice(0,ea)}\u2026`):i}catch{}return o});return Vt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Sh(e){return!!e.category}function v0(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function yh(){let e=N().getPropagationContext().dsc;e&&delete e.replay_id;let t=ee();if(t){let n=ve(t);delete n.replay_id}}function w0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:K.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function R0(e,t){return e.recordingMode!=="buffer"||t.message===Rl||!t.exception||t.type?!1:fh(e.getOptions().errorSampleRate)}function x0(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:m0(t)?(delete t.breadcrumbs,t):!Bl(t)&&!bl(t)&&!Pm(t)?t:e.checkAndHandleExpiredSession()?Pm(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),w0(e,t),t):v0(t,n)&&!e.getOptions()._experiments.captureExceptions?(G&&z.log("Ignoring error from rrweb internals",t),null):((R0(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(yh(),t),{id:"Replay"})}function Ea(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:K.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function C0(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function A0(e){return t=>{if(!e.isEnabled())return;let n=C0(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Ea(e,[n]),!1)))}}function k0(e,t){return G&&e.getOptions()._experiments.traceInternals?!1:Lo(t,b())}function Eh(e,t){e.isEnabled()&&t!==null&&(k0(e,t.name)||e.addUpdate(()=>(Ea(e,[t]),!0)))}function ba(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=zs(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function bh(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function ma(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Th(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function ci(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function An(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=N0(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function Tl(e,t){return Object.entries(e).reduce((n,[r,o])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function N0(e){if(!e||typeof e!="string")return{body:e};let t=e.length>_m,n=M0(e);if(t){let r=e.slice(0,_m);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function M0(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function ha(e,t){let n=O0(e);return Le(n,t)}function O0(e,t=pe.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(pe.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function L0(e,t,n){try{let r=await P0(e,t,n),o=Th("resource.fetch",r);Eh(n.replay,o)}catch(r){G&&z.exception(r,"Failed to capture fetch breadcrumb")}}function D0(e,t){let{input:n,response:r}=t,o=n?Fr(n):void 0,i=ba(o),s=r?bh(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}async function P0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=ha(s,n.networkDetailAllowUrls)&&!ha(s,n.networkDetailDenyUrls),p=l?F0(n,t.input,u):ci(u),f=await U0(l,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:p,response:f}}function F0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?$0(n,t):{};if(!e)return An(o,r,void 0);let i=Fr(n),[s,a]=Zn(i,z),c=An(o,r,s);return a?ma(c,a):c}async function U0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return ci(o);let i=r?Ih(r.headers,n):{};if(!r||!t&&o!==void 0)return An(i,o,void 0);let[s,a]=await H0(r),c=B0(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?ma(c,a):c}function B0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let i=e?.length&&n===void 0?ba(e):n;return r?t?An(o,i,e):An(o,i,void 0):ci(i)}catch(i){return G&&z.exception(i,"Failed to serialize response body"),An(o,n,void 0)}}async function H0(e){let t=W0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await G0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(G&&z.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(G&&z.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function Ih(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function $0(e,t){return e.length===1&&typeof e[0]!="string"?Fm(e[0],t):e.length===2?Fm(e[1],t):{}}function Fm(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?Ih(n,t):Array.isArray(n)?{}:Tl(n,t):{}}function W0(e){try{return e.clone()}catch(t){G&&z.exception(t,"Failed to clone response body")}}function G0(e){return new Promise((t,n)=>{let r=Kn(()=>n(new Error("Timeout while trying to read response body")),500);z0(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function z0(e){return await e.text()}async function j0(e,t,n){try{let r=V0(e,t,n),o=Th("resource.xhr",r);Eh(n.replay,o)}catch(r){G&&z.exception(r,"Failed to capture xhr breadcrumb")}}function q0(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=ba(r),i=n.getResponseHeader("content-length")?bh(n.getResponseHeader("content-length")):X0(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function V0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:p}=e.data;if(!c)return null;if(!a||!ha(c,n.networkDetailAllowUrls)||ha(c,n.networkDetailDenyUrls)){let y=ci(l),C=ci(p);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:y,response:C}}let f=a[Ze],m=f?Tl(f.request_headers,n.networkRequestHeaders):{},g=Tl(Y0(a),n.networkResponseHeaders),[_,S]=n.networkCaptureBodies?Zn(s,z):[void 0],[T,D]=n.networkCaptureBodies?J0(a):[void 0],A=An(m,l,_),O=An(g,p,T);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:S?ma(A,S):A,response:D?ma(O,D):O}}function Y0(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function J0(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return K0(e.response,e.responseType)}catch(n){t.push(n)}return G&&z.warn("Failed to get xhr response body",...t),[void 0]}function K0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return G&&z.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return G&&z.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function X0(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ba(n)}catch{return}}function Z0(e){let t=b();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>Q0(a,c,u))}catch{}}function Q0(e,t,n){if(t.data)try{ew(t)&&nw(n)&&(q0(t,n),j0(t,n,e)),tw(t)&&rw(n)&&(D0(t,n),L0(t,n,e))}catch(r){G&&z.exception(r,"Error when enriching network breadcrumb")}}function ew(e){return e.category==="xhr"}function tw(e){return e.category==="fetch"}function nw(e){return e?.xhr}function rw(e){return e?.response}function ow(e){let t=b();Xo(Fv(e)),un(A0(e)),E0(e),Z0(e);let n=x0(e);Ro(n),t&&(t.on("beforeSendEvent",S0(e)),t.on("afterSendEvent",h0(e)),t.on("createDsc",r=>{let o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=o)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,o)=>{let i=e.getSessionId();o?.includeReplay&&e.isEnabled()&&i&&r.contexts?.feedback&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function iw(e){try{return Promise.all(Ea(e,[sw(pe.performance.memory)]))}catch{return[]}}function sw(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function aw(e,t,n){return Hc(e,t,{...n,setTimeoutImpl:Kn})}var ra=w.navigator;function cw(){return/iPhone|iPad|iPod/i.test(ra?.userAgent??"")||/Macintosh/i.test(ra?.userAgent??"")&&ra?.maxTouchPoints&&ra?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function uw(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){G&&z.warn("Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&Mv(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Ul(e,n,o))return!0;if(!o)return!1;let i=e.session;if(dw(e,o),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(G&&z.log(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&Fl(i))}return i?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function lw(e){let t=e.getOptions();return{type:K.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function dw(e,t){!t||!e.session||e.session.segmentId!==0||Ul(e,lw(e),!1)}function fw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function pw(e,t,n,r){return De(_o(e,pr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function mw({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function hw({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit("preprocessEvent",r,i);let s=await To(e.getOptions(),r,i,t,e,ae());if(!s)return null;e.emit("postprocessEvent",s,i),s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:c,version:u,settings:d}=a?.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:d},s}async function gw({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=mw({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=b(),p=N(),f=l?.getTransport(),m=l?.getDsn();if(!l||!f||!m||!i.sampled)return Ke({});let g={type:iI,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},_=await hw({scope:p,client:l,replayId:t,event:g});if(!_)return l.recordDroppedEvent("event_processor","replay"),G&&z.log("An event processor returned `null`, will not send event."),Ke({});delete _.sdkProcessingMetadata;let S=pw(_,s,m,l.getOptions().tunnel),T;try{T=await f.send(S)}catch(A){let O=new Error(Rl);try{O.cause=A}catch{}throw O}if(typeof T.statusCode=="number"&&(T.statusCode<200||T.statusCode>=300))throw new ga(T.statusCode);let D=No({},T);if(ko(D,"replay"))throw new ui(D);return T}var ga=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},ui=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function vh(e,t={count:0,interval:dI}){let{recordingData:n,onError:r}=e;if(n.length)try{return await gw(e),!0}catch(o){if(o instanceof ga||o instanceof ui)throw o;if(Io("Replays",{_retryCount:t.count}),r&&r(o),t.count>=fI){let i=new Error(`${Rl} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{Kn(async()=>{try{await vh(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var wh="__THROTTLED",_w="__SKIPPED";function Sw(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let d=s;return s=!0,d?_w:wh}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var Il=class{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:sI,sessionIdleExpire:aI},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=aw(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Sw((s,a)=>f0(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(pI,r),timeout:r,scrollTimeout:mI,ignoreSelector:o?o.join(","):""}:void 0;if(i&&(this.clickDetector=new gl(this,i)),G){let s=t._experiments;z.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}this._handleVisibilityChange=()=>{pe.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let s=Vt({category:"ui.blur"});this._doChangeToBackgroundTasks(s)},this._handleWindowFocus=()=>{let s=Vt({category:"ui.focus"});this._doChangeToForegroundTasks(s)},this._handleKeyboardEvent=s=>{$v(this,s)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){G&&z.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){G&&z.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",G&&z.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){G&&z.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){G&&z.log("Buffering is in progress, call `flush()` to save the replay");return}G&&z.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=tl({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){G&&z.log("Buffering is in progress, call `flush()` to save the replay");return}G&&z.infoTick("Starting replay in buffer mode");let t=tl({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=dn({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:lI}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:uw(this),...cw(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{G&&z.log(`Stopping Replay${n?` triggered by ${n}`:""}`),yh(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,a0(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),G&&z.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),G&&z.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();G&&z.log("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&El(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${pe.location.pathname}${pe.location.hash}${pe.location.search}`,n=`${pe.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===wh){let o=Vt({category:"replay.throttled"});this.addUpdate(()=>!Ul(this,{type:Tv,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||ee(),n=t&&te(t),o=(n&&M(n).data||{})[be];if(!(!n||!o||!["route","custom"].includes(o)))return M(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=o0({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=tl({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return hh(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{pe.document.addEventListener("visibilitychange",this._handleVisibilityChange),pe.addEventListener("blur",this._handleWindowBlur),pe.addEventListener("focus",this._handleWindowFocus),pe.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(ow(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=e0(this)}_removeListeners(){try{pe.document.removeEventListener("visibilitychange",this._handleVisibilityChange),pe.removeEventListener("blur",this._handleWindowBlur),pe.removeEventListener("focus",this._handleWindowFocus),pe.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||mh(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){G&&z.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:K.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=jv(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Ea(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){G&&z.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await iw(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await vh({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=b();if(r){let o=n instanceof ui?"ratelimit_backoff":"send_error";r.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){G&&z.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){G&&z.log(`Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}let a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&G&&z.log("Flushing initial segment without checkout.");let c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Fl(this.session)}_onMutationHandler(t){let{ignoreMutations:n}=this._options._experiments;if(n?.length&&t.some(a=>{let c=fw(a.target),u=n.join(",");return c?.matches(u)}))return!1;let r=t.length,o=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=o&&r>o;if(r>i||s){let a=Vt({category:"replay.mutations",data:{count:r,limit:s}});this._createCustomBreadcrumb(a)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function Qo(e,t){return[...e,...t].join(",")}function yw({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let i=["base","iframe[srcdoc]:not([src])"],s=Qo(e,[".sentry-mask","[data-sentry-mask]"]),a=Qo(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:Qo(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Qo(r,[]),ignoreSelector:Qo(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Ew({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var Um='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',bw=["content-length","content-type","accept"],Bm=!1,Rh=(e=>new vl(e)),vl=class{constructor({flushMinDelay:t=cI,flushMaxDelay:n=uI,minReplayDuration:r=hI,maxReplayDuration:o=Sm,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:S=[],networkCaptureBodies:T=!0,networkRequestHeaders:D=[],networkResponseHeaders:A=[],mask:O=[],maskAttributes:y=["title","placeholder","aria-label"],unmask:C=[],block:L=[],unblock:I=[],ignore:R=[],maskFn:$,beforeAddRecordingEvent:v,beforeErrorSampling:F,onError:V}={}){this.name="Replay";let U=yw({mask:O,unmask:C,block:L,unblock:I,ignore:R});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:$,maskInputFn:$,maskAttributeFn:(q,x,W)=>Ew({maskAttributes:y,maskAllText:u,privacyOptions:U,key:q,value:x,el:W}),...U,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:q=>{try{q.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,gI),maxReplayDuration:Math.min(o,Sm),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:_,networkDetailDenyUrls:S,networkCaptureBodies:T,networkRequestHeaders:Hm(D),networkResponseHeaders:Hm(A),beforeAddRecordingEvent:v,beforeErrorSampling:F,onError:V,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Um}`:Um),this._isInitialized&&Ir())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Bm}set _isInitialized(t){Bm=t}afterAllSetup(t){!Ir()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=Tw(this._initialOptions,t);this._replay=new Il({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};function Tw(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=lt(n.replaysSessionSampleRate),i=lt(n.replaysOnErrorSampleRate);return o==null&&i==null&&Ue(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function Hm(e){return[...bw,...e.map(t=>t.toLowerCase())]}function xh(){return b()?.getIntegrationByName("Replay")}var Iw=Object.defineProperty,vw=(e,t,n)=>t in e?Iw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ch=(e,t,n)=>vw(e,typeof t!="symbol"?t+"":t,n),$l=class{constructor(){Ch(this,"idNodeMap",new Map),Ch(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function ww(){return new $l}function Rw(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Wl(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Wl(e.parentNode,t,n,r+1)}function Ah(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Rw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var Kr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,kh={map:{},getId(){return console.error(Kr),-1},getNode(){return console.error(Kr),null},removeNodeFromMap(){console.error(Kr)},has(){return console.error(Kr),!1},reset(){console.error(Kr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(kh=new Proxy(kh,{get(e,t,n){return t==="map"&&console.error(Kr),Reflect.get(e,t,n)}}));function zl(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){Uh(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>zl(e,t,i||{},!0)}function jl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function xw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function wa(e,t,n,r,o){if(!e)return!1;let i=xw(e);if(!i)return!1;let s=Ah(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Wl(i,s),c=-1;return a<0?!1:(r&&(c=Wl(i,Ah(null,r))),a>-1&&c<0?!0:a<c)}var Nh={};function Fh(e){let t=Nh[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return Nh[e]=r.bind(window)}function er(...e){return Fh("requestAnimationFrame")(...e)}function Uh(...e){return Fh("setTimeout")(...e)}var Zr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Zr||{}),Ia;function Cw(e){Ia=e}var Hl=e=>Ia?(...n)=>{try{return e(...n)}catch(r){if(Ia&&Ia(r)===!0)return()=>{};throw r}}:e,Xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Aw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(fi=0;fi<Xr.length;fi++)Aw[Xr.charCodeAt(fi)]=fi;var fi,kw=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=Xr[t[n]>>2],o+=Xr[(t[n]&3)<<4|t[n+1]>>4],o+=Xr[(t[n+1]&15)<<2|t[n+2]>>6],o+=Xr[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Mh=new Map;function Nw(e,t){let n=Mh.get(e);return n||(n=new Map,Mh.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Bh=(e,t,n)=>{if(!e||!($h(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=Nw(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function va(e,t,n){if(e instanceof Array)return e.map(r=>va(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=kw(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[va(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[va(e.data,t,n),e.width,e.height]};if($h(e,t)||typeof e=="object"){let r=e.constructor.name,o=Bh(e,t,n);return{rr_type:r,index:o}}}}return e}var Hh=(e,t,n)=>e.map(r=>va(r,t,n)),$h=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function Mw(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=jl(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return wa(this.canvas,n,r,o,!0)||Uh(()=>{let l=Hh(d,t,this);e(this.canvas,{type:Zr["2D"],property:a,args:l})},0),u.apply(this,d)}});i.push(c)}catch{let c=zl(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Zr["2D"],property:a,args:[u],setter:!0})}});i.push(c)}return()=>{i.forEach(a=>a())}}function Ow(e){return e==="experimental-webgl"?"webgl":e}function Oh(e,t,n,r,o){let i=[];try{let s=jl(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!wa(this,t,n,r,!0)){let d=Ow(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){let l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Lh(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let l=jl(e,d,function(p){return function(...f){let m=p.apply(this,f);if(Bh(m,a,this),"tagName"in this.canvas&&!wa(this.canvas,r,o,i,!0)){let g=Hh(f,a,this),_={type:t,property:d,args:g};n(this.canvas,_)}return m}});c.push(l)}catch{let l=zl(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(l)}return c}function Lw(e,t,n,r,o,i){let s=[];return s.push(...Lh(t.WebGLRenderingContext.prototype,Zr.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Lh(t.WebGL2RenderingContext.prototype,Zr.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var Dw='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function Pw(){let e=new Blob([Dw]);return URL.createObjectURL(e)}var Gl=class{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(a,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(c)};let{enableManualSnapshot:n,sampling:r="all",win:o,recordCanvas:i,errorHandler:s}=t;t.sampling=r,this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,s&&Cw(s),(i&&typeof r=="number"||n)&&(this.worker=this.initFPSWorker()),this.addWindow(o),!n&&Hl(()=>{i&&r==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),i&&typeof r=="number"&&this.initCanvasFPSObserver()})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){let{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:i,recordCanvas:s,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}Hl(()=>{if(s&&n==="all"&&this.initCanvasMutationObserver(t,r,o,i),s&&typeof n=="number"){let c=Oh(t,r,o,i,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(t,n){if(n?.skipRequestAnimationFrame){this.takeSnapshot(performance.now(),!0,t);return}er(r=>this.takeSnapshot(r,!0,t))}initFPSWorker(){let t=new Worker(Pw());return t.onmessage=n=>{let r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;let{base64:i,type:s,width:a,height:c}=r;this.mutationCb({id:o,type:Zr["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:s}]},0,0,a,c]}]})},t}initCanvasFPSObserver(){let t;if(!this.windows.length&&!this.shadowDoms.size)return;let n=r=>{this.takeSnapshot(r,!1),t=er(n)};t=er(n),this.restoreHandlers.push(()=>{t&&cancelAnimationFrame(t)})}initCanvasMutationObserver(t,n,r,o){let i=Oh(t,n,r,o,!1),s=Mw(this.processMutation.bind(this),t,n,r,o),a=Lw(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{i(),s(),a()})}getCanvasElements(t,n,r){let o=[],i=s=>{s.querySelectorAll("canvas").forEach(a=>{wa(a,t,n,r,!0)||o.push(a)})};for(let s of this.windows){let a=s.deref(),c;try{c=a&&a.document}catch{}c&&i(c)}for(let s of this.shadowDoms){let a=s.deref();a&&i(a)}return o}takeSnapshot(t,n,r){let{sampling:o,blockClass:i,blockSelector:s,unblockSelector:a,dataURLOptions:c,maxCanvasSize:u}=this.options,l=1e3/(o==="all"?2:o||2);return this.lastSnapshotTime&&t-this.lastSnapshotTime<l?!1:(this.lastSnapshotTime=t,(r?[r]:this.getCanvasElements(i,s,a)).forEach(m=>{let g=this.mirror.getId(m);if(!(!this.mirror.hasNode(m)||!m.width||!m.height||this.snapshotInProgressMap.get(g))){if(this.snapshotInProgressMap.set(g,!0),!n&&["webgl","webgl2"].includes(m.__context)){let _=m.getContext(m.__context);_?.getContextAttributes()?.preserveDrawingBuffer===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(m).then(_=>{this.worker?.postMessage({id:g,bitmap:_,width:m.width,height:m.height,dataURLOptions:c,maxCanvasSize:u},[_])}).catch(_=>{Hl(()=>{throw this.snapshotInProgressMap.delete(g),_})()})}}),!0)}startPendingCanvasMutationFlusher(){er(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,er(t)};er(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),er(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}};try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}ww();var Dh;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Dh||(Dh={}));var Ph={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Fw="ReplayCanvas",Ta=1280,Uw=((e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Ta):Ta,n?Math.min(n,Ta):Ta]},o,i=new Promise(s=>o=s);return{name:Fw,getOptions(){let{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{let d=new Gl({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},...Ph[s]||Ph.medium}},async snapshot(s,a){(await i).snapshot(s,a)}}}),Wh=Uw;function Yt(e=0){return((ge()||performance.timeOrigin)+e)/1e3}function Gh(e){let t=[];if(e.nextHopProtocol!=null){let{name:n,version:r}=Ko(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return ge()?[...t,["http.request.redirect_start",Yt(e.redirectStart)],["http.request.fetch_start",Yt(e.fetchStart)],["http.request.domain_lookup_start",Yt(e.domainLookupStart)],["http.request.domain_lookup_end",Yt(e.domainLookupEnd)],["http.request.connect_start",Yt(e.connectStart)],["http.request.secure_connection_start",Yt(e.secureConnectionStart)],["http.request.connection_end",Yt(e.connectEnd)],["http.request.request_start",Yt(e.requestStart)],["http.request.response_start",Yt(e.responseStart)],["http.request.response_end",Yt(e.responseEnd)]]:t}var zh=new WeakMap,ql=new Map,pi={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Ra(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...pi,...t},u=typeof i=="function"?i:f=>!0,d=f=>Hw(f,a),l={},p=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(m=>{if(m.op==="http.client"){let g=ql.get(m.span_id);g&&(m.timestamp=g/1e3,ql.delete(m.span_id))}}),f)),o&&nu(f=>{if(f.response){let m=zh.get(f.response);m&&f.endTimestamp&&ql.set(m,f.endTimestamp)}}),Wn(f=>{let m=Xc(f,u,d,l,{propagateTraceparent:p});if(f.response&&f.fetchData.__span&&zh.set(f.response,f.fetchData.__span),m){let g=qh(f.fetchData.url),_=g?Mt(g).host:void 0;m.setAttributes({"http.url":g,"server.address":_}),s&&jh(m),c?.(m,{headers:f.headers})}})),r&&Xn(f=>{let m=$w(f,u,d,l,p);if(m){s&&jh(m);let g;try{g=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(m,{headers:g})}})}function Bw(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function jh(e){let{url:t}=M(e).data;if(!t||typeof t!="string")return;let n=mt("resource",({entries:r})=>{r.forEach(o=>{Bw(o)&&o.name.endsWith(t)&&(Gh(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function Hw(e,t){let n=Ye();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?Le(r.toString(),t)||i&&Le(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?Le(e,t):r}}function $w(e,t,n,r,o){let i=e.xhr,s=i?.[Ze];if(!i||i.__sentry_own_request__||!s)return;let{url:a,method:c}=s,u=Je()&&t(a);if(e.endTimestamp&&u){let _=i.__sentry_xhr_span_id__;if(!_)return;let S=r[_];S&&s.status_code!==void 0&&(zt(S,s.status_code),S.end(),delete r[_]);return}let d=qh(a),l=d?Mt(d):Mt(a),p=Oo(a),f=!!ee(),m=u&&f?it({name:`${c} ${p}`,attributes:{url:a,type:"xhr","http.method":c,"http.url":d,"server.address":l?.host,[X]:"auto.http.browser",[_e]:"http.client",...l?.search&&{"http.query":l?.search},...l?.hash&&{"http.fragment":l?.hash}}}):new je;i.__sentry_xhr_span_id__=m.spanContext().spanId,r[i.__sentry_xhr_span_id__]=m,n(a)&&Ww(i,Je()&&f?m:void 0,o);let g=b();return g&&g.emit("beforeOutgoingRequestSpan",m,e),m}function Ww(e,t,n){let{"sentry-trace":r,baggage:o,traceparent:i}=Bn({span:t,propagateTraceparent:n});r&&Gw(e,r,o,i)}function Gw(e,t,n,r){let o=e.__sentry_xhr_v3__?.request_headers;if(!(o?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!o?.traceparent&&e.setRequestHeader("traceparent",r),n){let i=o?.baggage;(!i||!zw(i))&&e.setRequestHeader("baggage",n)}}catch{}}function zw(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function qh(e){try{return new URL(e,k.location.origin).href}catch{return}}function Vh(){k.document?k.document.addEventListener("visibilitychange",()=>{let e=ee();if(!e)return;let t=te(e);if(k.document.hidden&&t){let n="cancelled",{op:r,status:o}=M(t);B&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):B&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var jw=3600,Yh="sentry_previous_trace",qw="sentry.previous_trace";function Jh(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",o=r?Jw():void 0;e.on("spanStart",s=>{if(te(s)!==s)return;let a=N().getPropagationContext();o=Vw(o,s,a),r&&Yw(o)});let i=!0;n&&e.on("beforeSampling",s=>{if(!o)return;let a=N(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(Vl(o.spanContext))},sampleRand:o.sampleRand}),s.parentSampled=Vl(o.spanContext),s.parentSampleRate=o.sampleRate,s.spanAttributes={...s.spanAttributes,[co]:o.sampleRate}})}function Vw(e,t,n){let r=M(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[en])}catch{return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=jw&&(B&&h.log(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[Ja]:"previous_trace"}}),t.setAttribute(qw,`${s.traceId}-${s.spanId}-${Vl(s)?1:0}`)),i)}function Yw(e){try{k.sessionStorage.setItem(Yh,JSON.stringify(e))}catch(t){B&&h.warn("Could not store previous trace in sessionStorage",t)}}function Jw(){try{let e=k.sessionStorage?.getItem(Yh);return JSON.parse(e)}catch{return}}function Vl(e){return e.traceFlags===1}var Kw="BrowserTracing",Xw={...mr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...pi},Qh=((e={})=>{let t={name:void 0,source:void 0},n=k.document,{enableInp:r,enableElementTiming:o,enableLongTask:i,enableLongAnimationFrame:s,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:p,childSpanTimeout:f,markBackgroundSpan:m,traceFetch:g,traceXHR:_,trackFetchStreamPerformance:S,shouldCreateSpanForRequest:T,enableHTTPTimings:D,ignoreResourceSpans:A,ignorePerformanceApiSpans:O,instrumentPageLoad:y,instrumentNavigation:C,detectRedirects:L,linkPreviousTrace:I,consistentTraceSampling:R,onRequestSpanStart:$}={...Xw,...e},v,F;function V(U,q,x=!0){let W=q.op==="pageload",H=q.name,Y=d?d(q):q,oe=Y.attributes||{};if(H!==Y.name&&(oe[be]="custom",Y.attributes=oe),!x){let Ce=ut();it({...Y,startTime:Ce}).end(Ce);return}t.name=Y.name,t.source=oe[be];let Ie=qi(Y,{idleTimeout:l,finalTimeout:p,childSpanTimeout:f,disableAutoFinish:W,beforeSpanEnd:Ce=>{v?.(),Bu(Ce,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:A,ignorePerformanceApiSpans:O}),Xh(U,void 0);let fn=N(),kn=fn.getPropagationContext();fn.setPropagationContext({...kn,traceId:Ie.spanContext().traceId,sampled:bt(Ie),dsc:ve(Ce)})}});Xh(U,Ie);function Pe(){n&&["interactive","complete"].includes(n.readyState)&&U.emit("idleSpanEnableAutoFinish",Ie)}W&&n&&(n.addEventListener("readystatechange",()=>{Pe()}),Pe())}return{name:Kw,setup(U){if(go(),v=Du({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:U}),r&&zu(),o&&Hu(),s&&w.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Fu():i&&Pu(),a&&Uu(),L&&n){let x=()=>{F=re()};addEventListener("click",x,{capture:!0}),addEventListener("keydown",x,{capture:!0,passive:!0})}function q(){let x=mi(U);x&&!M(x).timestamp&&(B&&h.log(`[Tracing] Finishing current active span with op: ${M(x).op}`),x.setAttribute(Dn,"cancelled"),x.end())}U.on("startNavigationSpan",(x,W)=>{if(b()!==U)return;if(W?.isRedirect){B&&h.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),V(U,{op:"navigation.redirect",...x},!1);return}F=void 0,q(),ae().setPropagationContext({traceId:Ge(),sampleRand:Math.random()});let H=N();H.setPropagationContext({traceId:Ge(),sampleRand:Math.random()}),H.setSDKProcessingMetadata({normalizedRequest:void 0}),V(U,{op:"navigation",...x})}),U.on("startPageLoadSpan",(x,W={})=>{if(b()!==U)return;q();let H=W.sentryTrace||Kh("sentry-trace"),Y=W.baggage||Kh("baggage"),oe=lo(H,Y),Ie=N();Ie.setPropagationContext(oe),Ie.setSDKProcessingMetadata({normalizedRequest:jo()}),V(U,{op:"pageload",...x})})},afterAllSetup(U){let q=Ye();if(I!=="off"&&Jh(U,{linkPreviousTrace:I,consistentTraceSampling:R}),k.location){if(y){let x=ge();Yl(U,{name:k.location.pathname,startTime:x?x/1e3:void 0,attributes:{[be]:"url",[X]:"auto.pageload.browser"}})}C&&un(({to:x,from:W})=>{if(W===void 0&&q?.indexOf(x)!==-1){q=void 0;return}q=void 0;let H=Un(x),Y=mi(U),oe=Y&&L&&Qw(Y,F);Jl(U,{name:H?.pathname||k.location.pathname,attributes:{[be]:"url",[X]:"auto.navigation.browser"}},{url:x,isRedirect:oe})})}m&&Vh(),a&&Zw(U,l,p,f,t),r&&ju(),Ra(U,{traceFetch:g,traceXHR:_,trackFetchStreamPerformance:S,tracePropagationTargets:U.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:T,enableHTTPTimings:D,onRequestSpanStart:$})}}});function Yl(e,t,n){e.emit("startPageLoadSpan",t,n),N().setTransactionName(t.name);let r=mi(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Jl(e,t,n){let{url:r,isRedirect:o}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:o}),e.emit("startNavigationSpan",t,{isRedirect:o});let i=N();return i.setTransactionName(t.name),r&&!o&&i.setSDKProcessingMetadata({normalizedRequest:{...jo(),url:r}}),mi(e)}function Kh(e){return k.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function Zw(e,t,n,r,o){let i=k.document,s,a=()=>{let c="ui.action.click",u=mi(e);if(u){let d=M(u).op;if(["navigation","pageload"].includes(d)){B&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Dn,"interactionInterrupted"),s.end(),s=void 0),!o.name){B&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=qi({name:o.name,op:c,attributes:{[be]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}var eg="_sentry_idleSpan";function mi(e){return e[eg]}function Xh(e,t){me(e,eg,t)}var Zh=1.5;function Qw(e,t){let n=M(e),r=ut(),o=n.start_timestamp;return!(r-o>Zh||t&&r-t<=Zh)}function Qr(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function eR(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=Qr(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Kl(e){return Qr(e.getAllKeys())}function tR(e,t,n){return e(r=>Kl(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),Qr(r.transaction)}))}function nR(e,t,n){return e(r=>Kl(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),Qr(r.transaction)}))}function rR(e){return e(t=>Kl(t).then(n=>{let r=n[0];if(r!=null)return Qr(t.get(r)).then(o=>(t.delete(r),Qr(t.transaction).then(()=>o)))}))}function oR(e){let t;function n(){return t==null&&(t=eR(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{let o=await Sn(r);await tR(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{let o=await Sn(r);await nR(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{let r=await rR(n());if(r)return oc(r)}catch{}}}}function iR(e){return t=>{let n=e({...t,createStore:oR});return k.addEventListener("online",async r=>{await n.flush()}),n}}function tg(e=Ur){return iR(Lc(e))}var ng=1e6,xa=String(0),sR="main",Ca=k.navigator,og="",ig="",sg="",Xl=Ca?.userAgent||"",ag="",aR=Ca?.language||Ca?.languages?.[0]||"";function cR(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var rg=Ca?.userAgentData;cR(rg)&&rg.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(og=e.platform||"",sg=e.architecture||"",ag=e.model||"",ig=e.platformVersion||"",e.fullVersionList?.length){let t=e.fullVersionList[e.fullVersionList.length-1];Xl=`${t.brand} ${t.version}`}}).catch(e=>{});function uR(e){return!("thread_metadata"in e)}function lR(e){return uR(e)?pR(e):e}function dR(e){let t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&B&&h.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function fR(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=dR(r),i=lR(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:re()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:re()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||nn,runtime:{name:"javascript",version:k.navigator.userAgent},os:{name:og,version:ig,build_number:Xl},device:{locale:aR,model:ag,manufacturer:Xl,architecture:sg,is_emulator:!1},debug_meta:{images:mR(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||he(),trace_id:o,active_thread_id:xa,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function Aa(e){return M(e).op==="pageload"}function pR(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[xa]:{name:sR}}},o=e.samples[0];if(!o)return r;let i=o.timestamp,s=ge(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,c=a-(s||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-i)*ng).toFixed(0),stack_id:t,thread_id:xa};return}let l=e.stacks[u.stackId],p=[];for(;l;){p.push(l.frameId);let m=e.frames[l.frameId];m&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}let f={elapsed_since_start_ns:((u.timestamp+c-i)*ng).toFixed(0),stack_id:n,thread_id:xa};r.stacks[n]=p,r.samples[d]=f,n++}),r}function cg(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function ug(e){let t=[];return dt(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++)n[o]?.contexts?.profile?.profile_id&&t.push(n[o])}),t}function mR(e){let r=b()?.getOptions()?.stackParser;return r?mc(r,e):[]}function hR(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(B&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(B&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function gR(e){return e.samples.length<2?(B&&h.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(B&&h.log("[Profiling] Discarding profile because it contains no frames"),!1)}var lg=!1,Zl=3e4;function _R(e){return typeof e=="function"}function dg(){let e=k.Profiler;if(!_R(e)){B&&h.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Zl/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{B&&(h.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.log("[Profiling] Disabling profiling for current user session.")),lg=!0}}function Ql(e){if(lg)return B&&h.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return B&&h.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let n=b()?.getOptions();if(!n)return B&&h.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return hR(r)?r?(r===!0?!0:Math.random()<r)?!0:(B&&h.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(B&&h.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(B&&h.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function fg(e,t,n,r){return gR(n)?fR(e,t,n,r):null}var tr=new Map;function pg(){return tr.size}function mg(e){let t=tr.get(e);return t&&tr.delete(e),t}function hg(e,t){if(tr.set(e,t),tr.size>30){let n=tr.keys().next().value;tr.delete(n)}}function ed(e){let t;Aa(e)&&(t=re()*1e3);let n=dg();if(!n)return;B&&h.log(`[Profiling] started profiling span: ${M(e).description}`);let r=he();N().setContext("profile",{profile_id:r,start_timestamp:t});async function o(){if(e&&n)return n.stop().then(c=>{if(i&&(k.clearTimeout(i),i=void 0),B&&h.log(`[Profiling] stopped profiling of span: ${M(e).description}`),!c){B&&h.log(`[Profiling] profiler returned null profile for: ${M(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}hg(r,c)}).catch(c=>{B&&h.log("[Profiling] error while stopping profiler:",c)})}let i=k.setTimeout(()=>{B&&h.log("[Profiling] max profile duration elapsed, stopping profiling for:",M(e).description),o()},Zl),s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var SR="BrowserProfiling",yR=(()=>({name:SR,setup(e){let t=ee(),n=t&&te(t);n&&Aa(n)&&Ql(n)&&ed(n),e.on("spanStart",r=>{r===te(r)&&Ql(r)&&ed(r)}),e.on("beforeEnvelope",r=>{if(!pg())return;let o=ug(r);if(!o.length)return;let i=[];for(let s of o){let a=s?.contexts,c=a?.profile?.profile_id,u=a?.profile?.start_timestamp;if(typeof c!="string"){B&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){B&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}a?.profile&&delete a.profile;let d=mg(c);if(!d){B&&h.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let l=fg(c,u,d,s);l&&i.push(l)}cg(r,i)})}})),gg=yR;var ER="SpotlightBrowser",bR=((e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:ER,setup:()=>{B&&h.log("Using Sidecar URL",t)},processEvent:n=>IR(n)?null:n,afterAllSetup:n=>{TR(n,t)}}});function TR(e,t){let n=Pr("fetch"),r=0;e.on("beforeEnvelope",o=>{if(r>3){h.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:Sn(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,h.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var _g=bR;function IR(e){return!!(e.type==="transaction"&&e.spans&&e.contexts?.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}var Sg=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Ot(e)}});function yg(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{It(e,t.value),vt(e,t.value)}}}var Eg=()=>({name:"OpenFeature",processEvent(e,t,n){return Ot(e)}}),ka=class{after(t,n){It(n.flagKey,n.value),vt(n.flagKey,n.value)}error(t,n,r){It(t.flagKey,t.defaultValue),vt(t.flagKey,t.defaultValue)}};var bg=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){let t=e.prototype;ye(t,"isEnabled",vR)},processEvent(t,n,r){return Ot(t)}});function vR(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(It(n,r),vt(n,r)):B&&h.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var Tg=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{It(n.gate.name,n.gate.value),vt(n.gate.name,n.gate.value)})},processEvent(t,n,r){return Ot(t)}});async function Ig(){let e=b();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await Eo(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}var wR="WebWorker",wg=({worker:e})=>({name:wR,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>vg(t))},addWorker:t=>vg(t)});function vg(e){e.addEventListener("message",t=>{RR(t.data)&&(t.stopImmediatePropagation(),B&&h.log("Sentry debugId web worker message received",t.data),k._sentryDebugIds={...t.data._sentryDebugIds,...k._sentryDebugIds})})}function Rg({self:e}){e.postMessage({_sentryMessage:!0,_sentryDebugIds:e._sentryDebugIds??void 0})}function RR(e){return $e(e)&&e._sentryMessage===!0&&"_sentryDebugIds"in e&&($e(e._sentryDebugIds)||e._sentryDebugIds===void 0)}export{xg as Sentry};
