var hg=Object.defineProperty;var Vl=(e,t)=>{for(var n in t)hg(e,n,{get:t[n],enumerable:!0})};var mg={};Vl(mg,{BrowserClient:()=>Nr,OpenFeatureIntegrationHook:()=>Ia,SDK_VERSION:()=>Xe,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>he,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>J,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>nn,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>ye,Scope:()=>Ue,WINDOW:()=>N,addBreadcrumb:()=>qe,addEventProcessor:()=>To,addIntegration:()=>Er,breadcrumbsIntegration:()=>Us,browserApiErrorsIntegration:()=>Bs,browserProfilingIntegration:()=>sg,browserSessionIntegration:()=>Hs,browserTracingIntegration:()=>Gh,buildLaunchDarklyFlagUsedHandler:()=>ug,captureConsoleIntegration:()=>Fc,captureEvent:()=>an,captureException:()=>dt,captureFeedback:()=>Lo,captureMessage:()=>bn,captureSession:()=>yr,chromeStackLineParser:()=>Hu,close:()=>hc,consoleLoggingIntegration:()=>qc,contextLinesIntegration:()=>rm,continueTrace:()=>nc,createTransport:()=>xo,createUserFeedbackEnvelope:()=>Hp,dedupeIntegration:()=>No,defaultRequestInstrumentationOptions:()=>li,defaultStackLineParsers:()=>Wu,defaultStackParser:()=>Ps,diagnoseSdkConnectivity:()=>pg,endSession:()=>bo,eventFiltersIntegration:()=>Xi,eventFromException:()=>Ss,eventFromMessage:()=>ys,exceptionFromError:()=>kr,extraErrorDataIntegration:()=>Uc,featureFlagsIntegration:()=>Gc,feedbackAsyncIntegration:()=>lp,feedbackIntegration:()=>gu,feedbackSyncIntegration:()=>gu,flush:()=>mc,forceLoad:()=>qp,functionToStringIntegration:()=>Ao,geckoStackLineParser:()=>$u,getActiveSpan:()=>q,getClient:()=>E,getCurrentScope:()=>k,getDefaultIntegrations:()=>Gu,getFeedback:()=>Kf,getGlobalScope:()=>tn,getIsolationScope:()=>se,getReplay:()=>yh,getRootSpan:()=>K,getSpanDescendants:()=>rn,getSpanStatusFromHttpCode:()=>bi,getTraceData:()=>Bn,globalHandlersIntegration:()=>$s,graphqlClientIntegration:()=>am,httpClientIntegration:()=>Zp,httpContextIntegration:()=>Ws,inboundFiltersIntegration:()=>ko,init:()=>jp,instrumentOutgoingRequests:()=>Sa,instrumentSupabaseClient:()=>ns,isEnabled:()=>Eo,isInitialized:()=>gc,lastEventId:()=>yo,launchDarklyIntegration:()=>cg,lazyLoadIntegration:()=>_s,linkedErrorsIntegration:()=>Gs,logger:()=>_u,makeBrowserOfflineTransport:()=>jh,makeFetchTransport:()=>Fr,makeMultiplexedTransport:()=>Cc,moduleMetadataIntegration:()=>Pc,onLoad:()=>Vp,openFeatureIntegration:()=>lg,opera10StackLineParser:()=>Fp,opera11StackLineParser:()=>Up,parameterize:()=>Ji,registerSpanErrorInstrumentation:()=>fo,replayCanvasIntegration:()=>Lh,replayIntegration:()=>Sh,reportingObserverIntegration:()=>Kp,rewriteFramesIntegration:()=>Bc,sendFeedback:()=>cu,setContext:()=>So,setCurrentClient:()=>Vi,setExtra:()=>lc,setExtras:()=>uc,setHttpStatus:()=>jt,setMeasurement:()=>ho,setTag:()=>fc,setTags:()=>dc,setUser:()=>pc,showReportDialog:()=>Yp,spanToBaggageHeader:()=>Ya,spanToJSON:()=>M,spanToTraceHeader:()=>uo,spotlightBrowserIntegration:()=>ag,startBrowserTracingNavigationSpan:()=>$l,startBrowserTracingPageLoadSpan:()=>Hl,startInactiveSpan:()=>Tt,startNewTrace:()=>oc,startSession:()=>Sr,startSpan:()=>yn,startSpanManual:()=>tc,statsigIntegration:()=>fg,supabaseIntegration:()=>Hc,suppressTracing:()=>rc,thirdPartyErrorFilterIntegration:()=>Wc,unleashIntegration:()=>dg,updateSpanName:()=>ja,winjsStackLineParser:()=>Pp,withActiveSpan:()=>En,withIsolationScope:()=>Ei,withScope:()=>Re,zodErrorsIntegration:()=>$c});var b=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var v=globalThis;var Xe="9.35.0";function We(){return hn(v),v}function hn(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Xe,t[Xe]=t[Xe]||{}}function Mn(e,t,n=v){let r=n.__SENTRY__=n.__SENTRY__||{},o=r[Xe]=r[Xe]||{};return o[e]||(o[e]=t())}var gg="Sentry Logger ",Zt=["debug","info","warn","error","log","assert","trace"],ir={};function Ze(e){if(!("console"in v))return e();let t=v.console,n={},r=Object.keys(ir);r.forEach(o=>{let i=ir[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function _g(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return b?Zt.forEach(n=>{t[n]=(...r)=>{e&&Ze(()=>{v.console[n](`${gg}[${n}]:`,...r)})}}):Zt.forEach(n=>{t[n]=()=>{}}),t}var h=Mn("logger",_g);var st="?",Yl=/\(error: (.*)\)/,Jl=/captureMessage|captureException/;function fi(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];if(c.length>1024)continue;let u=Yl.test(c)?c.replace(Yl,"$1"):c;if(!u.match(/\S*Error: /)){for(let d of t){let l=d(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return Kl(i.slice(o))}}function xa(e){return Array.isArray(e)?fi(...e):e}function Kl(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(di(t).function||"")&&t.pop(),t.reverse(),Jl.test(di(t).function||"")&&(t.pop(),Jl.test(di(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||di(t).filename,function:n.function||st}))}function di(e){return e[e.length-1]||{}}var Ra="<anonymous>";function Qe(e){try{return!e||typeof e!="function"?Ra:e.name||Ra}catch{return Ra}}function sr(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var pi={},Xl={};function De(e,t){pi[e]=pi[e]||[],pi[e].push(t)}function Pe(e,t){if(!Xl[e]){Xl[e]=!0;try{t()}catch(n){b&&h.error(`Error while instrumenting ${e}`,n)}}}function Ie(e,t){let n=e&&pi[e];if(n)for(let r of n)try{r(t)}catch(o){b&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Qe(r)}
Error:`,o)}}var Ca=null;function eo(e){let t="error";De(t,e),Pe(t,Sg)}function Sg(){Ca=v.onerror,v.onerror=function(e,t,n,r,o){return Ie("error",{column:r,error:o,line:n,msg:e,url:t}),Ca?Ca.apply(this,arguments):!1},v.onerror.__SENTRY_INSTRUMENTED__=!0}var Aa=null;function to(e){let t="unhandledrejection";De(t,e),Pe(t,yg)}function yg(){Aa=v.onunhandledrejection,v.onunhandledrejection=function(e){return Ie("unhandledrejection",e),Aa?Aa.apply(this,arguments):!0},v.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var Zl=Object.prototype.toString;function et(e){switch(Zl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ct(e,Error)}}function ar(e,t){return Zl.call(e)===`[object ${t}]`}function mi(e){return ar(e,"ErrorEvent")}function hi(e){return ar(e,"DOMError")}function ka(e){return ar(e,"DOMException")}function Ae(e){return ar(e,"String")}function gn(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ht(e){return e===null||gn(e)||typeof e!="object"&&typeof e!="function"}function at(e){return ar(e,"Object")}function On(e){return typeof Event<"u"&&ct(e,Event)}function Na(e){return typeof Element<"u"&&ct(e,Element)}function Ma(e){return ar(e,"RegExp")}function At(e){return!!(e?.then&&typeof e.then=="function")}function Oa(e){return at(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ct(e,t){try{return e instanceof t}catch{return!1}}function no(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function gi(e){return typeof Request<"u"&&ct(e,Request)}var La=v,Eg=80;function ve(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Eg;for(;n&&i++<r&&(u=Tg(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function Tg(e,t){let n=e,r=[];if(!n?.tagName)return"";if(La.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t?.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o?.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&Ae(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function Ge(){try{return La.document.location.href}catch{return""}}function ro(e){if(!La.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function gt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function oo(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Ln(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{no(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Ql(e,t,n=!1){return Ae(e)?Ma(t)?t.test(e):Ae(t)?n?e===t:e.includes(t):!1:!1}function Oe(e,t=[],n=!1){return t.some(r=>Ql(e,r,n))}function _e(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let o=n(r);typeof o=="function"&&_i(o,r);try{e[t]=o}catch{b&&h.log(`Failed to replace method "${t}" in object`,e)}}function pe(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{b&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function _i(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,pe(e,"__sentry_original__",t)}catch{}}function Dn(e){return e.__sentry_original__}function Si(e){if(et(e))return{message:e.message,name:e.name,stack:e.stack,...td(e)};if(On(e)){let t={type:e.type,target:ed(e.target),currentTarget:ed(e.currentTarget),...td(e)};return typeof CustomEvent<"u"&&ct(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function ed(e){try{return Na(e)?ve(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function td(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Da(e,t=40){let n=Object.keys(Si(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return gt(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:gt(i,t)}return""}function bg(){let e=v;return e.crypto||e.msCrypto}function me(e=bg()){let t=()=>Math.random()*16;try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function nd(e){return e.exception?.values?.[0]}function Ht(e){let{message:t,event_id:n}=e;if(t)return t;let r=nd(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function cr(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function tt(e,t){let n=nd(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o?.data,...t.data};n.mechanism.data=i}}function Pa(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>oo(s,0));let i=Math.min(r-1,o);t.context_line=oo(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>oo(s,0))}function yi(e){if(Ig(e))return!0;try{pe(e,"__sentry_captured__",!0)}catch{}return!1}function Ig(e){try{return e.__sentry_captured__}catch{}}var rd=1e3;function $t(){return Date.now()/rd}function vg(){let{performance:e}=v;if(!e?.now)return $t;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/rd}var re=vg(),Fa;function wg(){let{performance:e}=v;if(!e?.now)return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing?.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function le(){return Fa||(Fa=wg()),Fa[0]}function od(e){let t=re(),n={sid:me(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Rg(n)};return e&&Qt(n,e),n}function Qt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||re(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:me()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function id(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Qt(e,n)}function Rg(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function _n(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=_n(r[o],t[o],n-1));return r}function Fe(){return me()}function kt(){return me().substring(16)}var Ua="_sentrySpan";function Wt(e,t){t?pe(e,Ua,t):delete e[Ua]}function en(e){return e[Ua]}var xg=100,Ue=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Fe(),sampleRand:Math.random()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Wt(t,en(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Qt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof e?n.getScopeData():at(n)?t:void 0,{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Wt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Fe(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:xg;if(r<=0)return this;let o={timestamp:$t(),...t,message:t.message?gt(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:en(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=_n(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||me();if(!this._client)return h.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r?.event_id||me();if(!this._client)return h.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n?.event_id||me();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function sd(){return Mn("defaultCurrentScope",()=>new Ue)}function ad(){return Mn("defaultIsolationScope",()=>new Ue)}var Ba=class{constructor(t,n){let r;t?r=t:r=new Ue;let o;n?o=n:o=new Ue,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return At(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function ur(){let e=We(),t=hn(e);return t.stack=t.stack||new Ba(sd(),ad())}function Cg(e){return ur().withScope(e)}function Ag(e,t){let n=ur();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function cd(e){return ur().withScope(()=>e(ur().getIsolationScope()))}function ud(){return{withIsolationScope:cd,withScope:Cg,withSetScope:Ag,withSetIsolationScope:(e,t)=>cd(t),getCurrentScope:()=>ur().getScope(),getIsolationScope:()=>ur().getIsolationScope()}}function _t(e){let t=hn(e);return t.acs?t.acs:ud()}function k(){let e=We();return _t(e).getCurrentScope()}function se(){let e=We();return _t(e).getIsolationScope()}function tn(){return Mn("globalScope",()=>new Ue)}function Re(...e){let t=We(),n=_t(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function Ei(...e){let t=We(),n=_t(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function E(){return k().getClient()}function Ti(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||kt()};return r&&(i.parent_span_id=r),i}var ye="sentry.source",nn="sentry.sample_rate",io="sentry.previous_trace_sample_rate",he="sentry.op",J="sentry.origin",Pn="sentry.idle_span_finish_reason",Gt="sentry.measurement_unit",zt="sentry.measurement_value",lr="sentry.custom_span_name",dr="sentry.profile_id",St="sentry.exclusive_time";var Ha="http.request.method",$a="url.full",Wa="sentry.link.type";function bi(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function jt(e,t){e.setAttribute("http.response.status_code",t);let n=bi(t);n.message!=="unknown_error"&&e.setStatus(n)}var ld="_sentryScope",dd="_sentryIsolationScope";function fd(e,t,n){e&&(pe(e,dd,n),pe(e,ld,t))}function Fn(e){return{scope:e[ld],isolationScope:e[dd]}}var Ii="sentry-",kg=/^sentry-/,Ng=8192;function vi(e){let t=Mg(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(kg)){let s=o.slice(Ii.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function wi(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Ii}${r}`]=o),n),{});return Og(t)}function Mg(e){if(!(!e||!Ae(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=pd(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):pd(e)}function pd(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Og(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>Ng?(b&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}function ut(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var Ri=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function md(e){if(!e)return;let t=e.match(Ri);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function so(e,t){let n=md(e),r=vi(t);if(!n?.traceId)return{traceId:Fe(),sampleRand:Math.random()};let o=Lg(n,r);r&&(r.sample_rand=o.toString());let{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function ao(e=Fe(),t=kt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Lg(e,t){let n=ut(t?.sample_rand);if(n!==void 0)return n;let r=ut(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}var xi=0,Ci=1,hd=!1;function _d(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=M(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function co(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:M(e).parent_span_id,i=Fn(e).scope,s=r?i?.getPropagationContext().propagationSpanId||kt():t;return{parent_span_id:o,span_id:s,trace_id:n}}function uo(e){let{traceId:t,spanId:n}=e.spanContext(),r=yt(e);return ao(t,n,r)}function Ai(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Ci,attributes:i,...o}))}function Nt(e){return typeof e=="number"?gd(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?gd(e.getTime()):re()}function gd(e){return e>9999999999?e/1e3:e}function M(e){if(Fg(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(Pg(e)){let{attributes:r,startTime:o,name:i,endTime:s,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:Nt(o),timestamp:Nt(s)||void 0,status:ki(a),op:r[he],origin:r[J],links:Ai(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Pg(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Fg(e){return typeof e.getSpanJSON=="function"}function yt(e){let{traceFlags:t}=e.spanContext();return t===Ci}function ki(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Un="_sentryChildSpans",Ga="_sentryRootSpan";function Ni(e,t){let n=e[Ga]||e;pe(t,Ga,n),e[Un]?e[Un].add(t):pe(e,Un,new Set([t]))}function Sd(e,t){e[Un]&&e[Un].delete(t)}function rn(e){let t=new Set;function n(r){if(!t.has(r)&&yt(r)){t.add(r);let o=r[Un]?Array.from(r[Un]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function K(e){return e[Ga]||e}function q(){let e=We(),t=_t(e);return t.getActiveSpan?t.getActiveSpan():en(k())}function lo(){hd||(Ze(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),hd=!0)}function ja(e,t){e.updateName(t),e.setAttributes({[ye]:"custom",[lr]:t})}var yd=!1;function fo(){yd||(yd=!0,eo(qa),to(qa))}function qa(){let e=q(),t=e&&K(e);if(t){let n="internal_error";b&&h.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:2,message:n})}}qa.tag="sentry_tracingErrorCallback";function ze(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||E()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var on="production";var Ug=/^o(\d+)\./,Bg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Hg(e){return e==="http"||e==="https"}function nt(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Mi(e){let t=Bg.exec(e);if(!t){Ze(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return Ed({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function Ed(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function $g(e){if(!b)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(h.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?Hg(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Td(e){return e.match(Ug)?.[1]}function po(e){let t=typeof e=="string"?Mi(e):Ed(e);if(!(!t||!$g(t)))return t}var bd="_frozenDsc";function fr(e,t){pe(e,bd,t)}function Va(e,t){let n=t.getOptions(),{publicKey:r,host:o}=t.getDsn()||{},i;n.orgId?i=String(n.orgId):o&&(i=Td(o));let s={environment:n.environment||on,release:n.release,public_key:r,trace_id:e,org_id:i};return t.emit("createDsc",s),s}function pr(e,t){let n=t.getPropagationContext();return n.dsc||Va(n.traceId,e)}function be(e){let t=E();if(!t)return{};let n=K(e),r=M(n),o=r.data,i=n.spanContext().traceState,s=i?.get("sentry.sample_rate")??o[nn]??o[io];function a(m){return(typeof s=="number"||typeof s=="string")&&(m.sample_rate=`${s}`),m}let c=n[bd];if(c)return a(c);let u=i?.get("sentry.dsc"),d=u&&vi(u);if(d)return a(d);let l=Va(e.spanContext().traceId,t),f=o[ye],p=r.description;return f!=="url"&&p&&(l.transaction=p),ze()&&(l.sampled=String(yt(n)),l.sample_rand=i?.get("sentry.sample_rand")??Fn(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function Ya(e){let t=be(e);return wi(t)}var Be=class{constructor(t={}){this._traceId=t.traceId||Fe(),this._spanId=t.spanId||kt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:xi}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};function Ja(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return Wg(r,t,n)}function Wg(e,t,n){return At(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Id(e){if(!b)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=M(e),{spanId:o}=e.spanContext(),i=yt(e),s=K(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:d,description:l}=M(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function vd(e){if(!b)return;let{description:t="< unknown name >",op:n="< unknown op >"}=M(e),{spanId:r}=e.spanContext(),i=K(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;h.log(s)}function wd(e,t,n){if(!ze(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);let i=ut(o);if(i===void 0)return b&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!i)return b&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||b&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[s,i,r]}function xe(e,t=100,n=1/0){try{return Ka("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Oi(e,t=3,n=100*1024){let r=xe(e,t);return qg(r)>n?Oi(e,t-1,n):r}function Ka(e,t,n=1/0,r=1/0,o=Vg()){let[i,s]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let a=Gg(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let p=u.toJSON();return Ka("",p,c-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},l=0,f=Si(t);for(let p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}let m=f[p];d[p]=Ka(p,m,c-1,r,o),l++}return s(t),d}function Gg(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(no(t))return"[VueViewModel]";if(Oa(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Qe(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=zg(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function zg(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function jg(e){return~-encodeURI(e).split(/%..|./).length}function qg(e){return jg(JSON.stringify(e))}function Vg(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Le(e,t=[]){return[e,t]}function Xa(e,t){let[n,r]=e;return[n,[...r,t]]}function lt(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function Di(e,t){return lt(e,(n,r)=>t.includes(r))}function Li(e){let t=hn(v);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Yg(e){let t=hn(v);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function Sn(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[Li(r),i]:r.push(typeof i=="string"?Li(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(xe(a))}o(c)}}return typeof r=="string"?r:Jg(r)}function Jg(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function Za(e){let t=typeof e=="string"?Li(e):e;function n(s){let a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(Yg(n(s)))}let o=r(),i=[];for(;t.length;){let s=r(),a=typeof s.length=="number"?s.length:void 0;i.push([s,a?n(a):r()])}return[o,i]}function Qa(e){return[{type:"span"},e]}function ec(e){let t=typeof e.data=="string"?Li(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var Kg={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Pi(e){return Kg[e]}function mr(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function mo(e,t,n,r){let o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:nt(r)},...o&&{trace:o}}}function Xg(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Rd(e,t,n,r){let o=mr(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:nt(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Le(i,[s])}function xd(e,t,n,r){let o=mr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Xg(e,n?.sdk);let s=mo(e,o,r,t);return delete e.sdkProcessingMetadata,Le(s,[[{type:i},e]])}function Cd(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=be(e[0]),o=t?.getDsn(),i=t?.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&o&&{dsn:nt(o)}},a=t?.getOptions().beforeSendSpan,c=a?d=>{let l=M(d),f=a(l);return f||(lo(),l)}:M,u=[];for(let d of e){let l=c(d);l&&u.push(Qa(l))}return Le(s,u)}function ho(e,t,n,r=q()){let o=r&&K(r);o&&(b&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[zt]:t,[Gt]:n}))}function Fi(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[Gt],i=r[zt];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var Ad=1e3,hr=class{constructor(t={}){this._traceId=t.traceId||Fe(),this._spanId=t.spanId||kt(),this._startTime=t.startTimestamp||re(),this._links=t.links,this._attributes={},this.setAttributes({[J]:"manual",[he]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Ci:xi}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Nt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(ye,"custom"),this}end(t){this._endTime||(this._endTime=Nt(t),vd(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[he],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:ki(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[J],profile_id:this._attributes[dr],exclusive_time:this._attributes[St],measurements:Fi(this._events),is_segment:this._isStandaloneSpan&&K(this)===this||void 0,segment_id:this._isStandaloneSpan?K(this).spanContext().spanId:void 0,links:Ai(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){b&&h.log("[Tracing] Adding an event to span:",t);let o=kd(n)?n:r||re(),i=kd(n)?{}:n||{},s={name:t,time:Nt(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=E();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===K(this)))return;if(this._isStandaloneSpan){this._sampled?Qg(Cd([this],t)):(b&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Fn(this).scope||k()).captureEvent(r)}_convertSpanToTransaction(){if(!Nd(M(this)))return;this._name||(b&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Fn(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=rn(this).filter(d=>d!==this&&!Zg(d)).map(d=>M(d)).filter(Nd),s=this._attributes[ye];delete this._attributes[lr],i.forEach(d=>{delete d.data[lr]});let a={contexts:{trace:_d(this)},spans:i.length>Ad?i.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Ad):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:be(this)},request:r,...s&&{transaction_info:{source:s}}},c=Fi(this._events);return c&&Object.keys(c).length&&(b&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}};function kd(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Nd(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Zg(e){return e instanceof hr&&e.isStandaloneSpan()}function Qg(e){let t=E();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var Ui="__SENTRY_SUPPRESS_TRACING__";function yn(e,t){let n=go();if(n.startSpan)return n.startSpan(e,t);let r=sc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Re(a,()=>Od(i)(()=>{let u=k(),d=ac(u,i),f=e.onlyIfParent&&!d?new Be:ic({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Wt(u,f),Ja(()=>t(f),()=>{let{status:p}=M(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})},()=>{f.end()})}))}function tc(e,t){let n=go();if(n.startSpanManual)return n.startSpanManual(e,t);let r=sc(e),{forceTransaction:o,parentSpan:i,scope:s}=e,a=s?.clone();return Re(a,()=>Od(i)(()=>{let u=k(),d=ac(u,i),f=e.onlyIfParent&&!d?new Be:ic({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Wt(u,f),Ja(()=>t(f,()=>f.end()),()=>{let{status:p}=M(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:2,message:"internal_error"})})}))}function Tt(e){let t=go();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=sc(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>Re(e.scope,s):o!==void 0?s=>En(o,s):s=>s())(()=>{let s=k(),a=ac(s,o);return e.onlyIfParent&&!a?new Be:ic({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}var nc=(e,t)=>{let n=We(),r=_t(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:o,baggage:i}=e;return Re(s=>{let a=so(o,i);return s.setPropagationContext(a),t()})};function En(e,t){let n=go();return n.withActiveSpan?n.withActiveSpan(e,t):Re(r=>(Wt(r,e||void 0),t(r)))}function rc(e){let t=go();return t.suppressTracing?t.suppressTracing(e):Re(n=>{n.setSDKProcessingMetadata({[Ui]:!0});let r=e();return n.setSDKProcessingMetadata({[Ui]:void 0}),r})}function oc(e){return Re(t=>(t.setPropagationContext({traceId:Fe(),sampleRand:Math.random()}),b&&h.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),En(null,e)))}function ic({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ze()){let s=new Be;if(n||!e){let a={sampled:"false",sample_rate:"0",transaction:t.name,...be(s)};fr(s,a)}return s}let o=se(),i;if(e&&!n)i=e_(e,r,t),Ni(e,i);else if(e){let s=be(e),{traceId:a,spanId:c}=e.spanContext(),u=yt(e);i=Md({traceId:a,parentSpanId:c,...t},r,u),fr(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};i=Md({traceId:s,parentSpanId:c,...t},r,u),a&&fr(i,a)}return Id(i),fd(i,r,o),i}function sc(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=Nt(e.startTime),delete r.startTime,r}return n}function go(){let e=We();return _t(e)}function Md(e,t,n){let r=E(),o=r?.getOptions()||{},{name:i=""}=e,s={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,c=s.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[Ui]?[!1]:wd(o,{name:i,parentSampled:a,attributes:c,parentSampleRate:ut(u.dsc?.sample_rate)},u.sampleRand),p=new hr({...e,attributes:{[ye]:"custom",[nn]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(b&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function e_(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Ui]?!1:yt(e),s=i?new hr({...n,parentSpanId:r,traceId:o,sampled:i}):new Be({traceId:o});Ni(e,s);let a=E();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function ac(e,t){if(t)return t;if(t===null)return;let n=en(e);if(!n)return;let r=E();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?K(n):n}function Od(e){return e!==void 0?t=>En(e,t):t=>t()}var gr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},t_="heartbeatFailed",n_="idleTimeout",r_="finalTimeout",o_="externalFinish";function Bi(e,t={}){let n=new Map,r=!1,o,i=o_,s=!t.disableAutoFinish,a=[],{idleTimeout:c=gr.idleTimeout,finalTimeout:u=gr.finalTimeout,childSpanTimeout:d=gr.childSpanTimeout,beforeSpanEnd:l}=t,f=E();if(!f||!ze()){let y=new Be,C={sample_rate:"0",sampled:"false",...be(y)};return fr(y,C),y}let p=k(),m=q(),g=i_(e);g.end=new Proxy(g.end,{apply(y,C,D){if(l&&l(g),C instanceof Be)return;let[I,...x]=D,W=I||re(),w=Nt(W),R=rn(g).filter(U=>U!==g);if(!R.length)return L(w),Reflect.apply(y,C,[w,...x]);let H=R.map(U=>M(U).timestamp).filter(U=>!!U),B=H.length?Math.max(...H):void 0,O=M(g).start_timestamp,ee=Math.min(O?O+u/1e3:1/0,Math.max(O||-1/0,Math.min(w,B||1/0)));return L(ee),Reflect.apply(y,C,[ee,...x])}});function _(){o&&(clearTimeout(o),o=void 0)}function S(y){_(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=n_,g.end(y))},c)}function T(y){o=setTimeout(()=>{!r&&s&&(i=t_,g.end(y))},d)}function F(y){_(),n.set(y,!0);let C=re();T(C+d/1e3)}function A(y){if(n.has(y)&&n.delete(y),n.size===0){let C=re();S(C+c/1e3)}}function L(y){r=!0,n.clear(),a.forEach(w=>w()),Wt(p,m);let C=M(g),{start_timestamp:D}=C;if(!D)return;C.data[Pn]||g.setAttribute(Pn,i),h.log(`[Tracing] Idle span "${C.op}" finished`);let x=rn(g).filter(w=>w!==g),W=0;x.forEach(w=>{w.isRecording()&&(w.setStatus({code:2,message:"cancelled"}),w.end(y),b&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(w,void 0,2)));let R=M(w),{timestamp:H=0,start_timestamp:B=0}=R,O=B<=y,ee=(u+c)/1e3,U=H-B<=ee;if(b){let te=JSON.stringify(w,void 0,2);O?U||h.log("[Tracing] Discarding span since it finished after idle span final timeout",te):h.log("[Tracing] Discarding span since it happened after idle span was finished",te)}(!U||!O)&&(Sd(g,w),W++)}),W>0&&g.setAttribute("sentry.idle_span_discarded_spans",W)}return a.push(f.on("spanStart",y=>{if(r||y===g||M(y).timestamp)return;rn(g).includes(y)&&F(y.spanContext().spanId)})),a.push(f.on("spanEnd",y=>{r||A(y.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",y=>{y===g&&(s=!0,S(),n.size&&T())})),t.disableAutoFinish||S(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=r_,g.end())},u),g}function i_(e){let t=Tt(e);return Wt(k(),t),b&&h.log("[Tracing] Started span is an idle span"),t}var sn;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(sn||(sn={}));function je(e){return new Mt(t=>{t(e)})}function Tn(e){return new Mt((t,n)=>{n(e)})}var Mt=class e{constructor(t){this._state=sn.PENDING,this._handlers=[],this._runExecutor(t)}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}_executeHandlers(){if(this._state===sn.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===sn.RESOLVED&&n[1](this._value),this._state===sn.REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===sn.PENDING){if(At(s)){s.then(r,o);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(sn.RESOLVED,i)},o=i=>{n(sn.REJECTED,i)};try{t(r,o)}catch(i){o(i)}}};function Hi(e,t,n,r=0){return new Mt((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);b&&s.id&&a===null&&h.log(`Event processor "${s.id}" dropped event`),At(a)?a.then(c=>Hi(e,c,n,r+1).then(o)).then(null,i):Hi(e,a,n,r+1).then(o).then(null,i)}})}function Ld(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;s_(e,t),r&&u_(e,r),l_(e,n),a_(e,o),c_(e,i)}function _r(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:m}=t;$i(e,"extra",n),$i(e,"tags",r),$i(e,"user",o),$i(e,"contexts",i),e.sdkProcessingMetadata=_n(e.sdkProcessingMetadata,a,2),s&&(e.level=s),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function $i(e,t,n){e[t]=_n(e[t],n,1)}function s_(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function a_(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function c_(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function u_(e,t){e.contexts={trace:co(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:be(t),...e.sdkProcessingMetadata};let n=K(t),r=M(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function l_(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}var Wi,Dd,Gi;function zi(e){let t=v._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Gi&&n.length===Dd||(Dd=n.length,Gi=n.reduce((r,o)=>{Wi||(Wi={});let i=Wi[o];if(i)r[i[0]]=i[1];else{let s=e(o);for(let a=s.length-1;a>=0;a--){let u=s[a]?.filename,d=t[o];if(u&&d){r[u]=d,Wi[o]=[u,d];break}}}return r},{})),Gi}function cc(e,t){let n=zi(e);if(!n)return[];let r=[];for(let o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function _o(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||me(),timestamp:t.timestamp||$t()},u=n.integrations||e.integrations.map(_=>_.name);d_(c,e),m_(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&f_(c,e.stackParser);let d=g_(r,n.captureContext);n.mechanism&&tt(c,n.mechanism);let l=o?o.getEventProcessors():[],f=tn().getScopeData();if(i){let _=i.getScopeData();_r(f,_)}if(d){let _=d.getScopeData();_r(f,_)}let p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),Ld(c,f);let m=[...l,...f.eventProcessors];return Hi(m,c,n).then(_=>(_&&p_(_),typeof s=="number"&&s>0?h_(_,s,a):_))}function d_(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;e.environment=e.environment||n||on,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);let s=e.request;s?.url&&(s.url=gt(s.url,i))}function f_(e,t){let n=zi(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function p_(e){let t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function m_(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function h_(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:xe(o.data,t,n)}}))},...e.user&&{user:xe(e.user,t,n)},...e.contexts&&{contexts:xe(e.contexts,t,n)},...e.extra&&{extra:xe(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=xe(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:xe(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=xe(e.contexts.flags,3,n)),r}function g_(e,t){if(!t)return e;let n=e?e.clone():new Ue;return n.update(t),n}function Pd(e){if(e)return __(e)?{captureContext:e}:y_(e)?{captureContext:e}:e}function __(e){return e instanceof Ue||typeof e=="function"}var S_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function y_(e){return Object.keys(e).some(t=>S_.includes(t))}function dt(e,t){return k().captureException(e,Pd(t))}function bn(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return k().captureMessage(e,n,r)}function an(e,t){return k().captureEvent(e,t)}function So(e,t){se().setContext(e,t)}function uc(e){se().setExtras(e)}function lc(e,t){se().setExtra(e,t)}function dc(e){se().setTags(e)}function fc(e,t){se().setTag(e,t)}function pc(e){se().setUser(e)}function yo(){return se().lastEventId()}async function mc(e){let t=E();return t?t.flush(e):(b&&h.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function hc(e){let t=E();return t?t.close(e):(b&&h.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function gc(){return!!E()}function Eo(){let e=E();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function To(e){se().addEventProcessor(e)}function Sr(e){let t=se(),n=k(),{userAgent:r}=v.navigator||{},o=od({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&Qt(i,{status:"exited"}),bo(),t.setSession(o),o}function bo(){let e=se(),n=k().getSession()||e.getSession();n&&id(n),Fd(),e.setSession()}function Fd(){let e=se(),t=E(),n=e.getSession();n&&t&&t.captureSession(n)}function yr(e=!1){if(e){bo();return}Fd()}var E_="7";function Ud(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function T_(e){return`${Ud(e)}${e.projectId}/envelope/`}function b_(e,t){let n={sentry_version:E_};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Io(e,t,n){return t||`${T_(e)}?${b_(e,n)}`}function _c(e,t){let n=po(e);if(!n)return"";let r=`${Ud(n)}embed/error-page/`,o=`dsn=${nt(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var Bd=[];function I_(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Sc(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return I_(r)}function Hd(e,t){let n={};return t.forEach(r=>{r&&Ec(e,r,n)}),n}function yc(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Ec(e,t,n){if(n[t.name]){b&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Bd.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Bd.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}b&&h.log(`Integration installed: ${t.name}`)}function Er(e){let t=E();if(!t){b&&h.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function $d(e,t,n){let r=[{type:"client_report"},{timestamp:n||$t(),discarded_events:e}];return Le(t?{dsn:t}:{},[r])}function ji(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Wd(e){let{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:i,data:s,op:a}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:s?.[dr],exclusive_time:s?.[St],measurements:e.measurements,is_segment:!0}}function Gd(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[dr]:e.profile_id},...e.exclusive_time&&{[St]:e.exclusive_time}}}},measurements:e.measurements}}var zd="Not capturing exception because it's already been captured.",jd="Discarded session because of missing or non-string release",Yd=Symbol.for("SentryInternalError"),Jd=Symbol.for("SentryDoNotSendEventError");function qi(e){return{message:e,[Yd]:!0}}function Tc(e){return{message:e,[Jd]:!0}}function qd(e){return!!e&&typeof e=="object"&&Yd in e}function Vd(e){return!!e&&typeof e=="object"&&Jd in e}var vo=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=po(t.dsn):b&&h.warn("No DSN provided, client will not send events."),this._dsn){let n=Io(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=me();if(yi(t))return b&&h.log(zd),o;let i={event_id:o,...n};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i={event_id:me(),...r},s=gn(t)?t:String(t),a=ht(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=me();if(n?.originalException&&yi(n.originalException))return b&&h.log(zd),o;let i={event_id:o,...n},s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),Qt(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):je(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];Ec(this,t,this._integrations),n||yc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=xd(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=Xa(r,ec(i));let o=this.sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let{release:n,environment:r=on}=this._options;if("aggregates"in t){let i=t.attrs||{};if(!i.release&&!n){b&&h.warn(jd);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){b&&h.warn(jd);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);let o=Rd(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){let o=`${t}:${n}`;b&&h.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(b&&h.error("Error while sending envelope:",n),n)):(b&&h.error("Transport disabled"),je({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Hd(this,t),yc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1,i=n.exception?.values;if(i){o=!0;for(let c of i)if(c.mechanism?.handled===!1){r=!0;break}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(Qt(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Mt(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s?.length&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),_o(i,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Ti(r),...a.contexts};let c=pr(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=k(),o=se()){return b&&bc(t)&&h.log(`Captured error event \`${ji(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(i=>i.event_id,i=>{b&&(Vd(i)?h.log(i.message):qd(i)?h.warn(i.message):h.warn(i))})}_processEvent(t,n,r,o){let i=this.getOptions(),{sampleRate:s}=i,a=Kd(t),c=bc(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof s>"u"?void 0:ut(s);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Tn(Tc(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),Tc("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;let g=w_(this,i,p,n);return v_(g,d)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),a){let S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw Tc(`${d} returned \`null\`, will not send event.`)}let m=r.getSession()||o.getSession();if(c&&m&&this._updateSessionFromEvent(m,p),a){let _=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,S=p.spans?p.spans.length:0,T=_-S;T>0&&this.recordDroppedEvent("before_send","span",T)}let g=p.transaction_info;if(a&&g&&p.transaction!==t.transaction){let _="custom";p.transaction_info={...g,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw Vd(p)||qd(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),qi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}_flushOutcomes(){b&&h.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){b&&h.log("No outcomes to send");return}if(!this._dsn){b&&h.log("No dsn provided, will not send outcomes");return}b&&h.log("Sending outcomes:",t);let n=$d(t,this._options.tunnel&&nt(this._dsn));this.sendEnvelope(n)}};function v_(e,t){let n=`${t} must return \`null\` or a valid event.`;if(At(e))return e.then(r=>{if(!at(r)&&r!==null)throw qi(n);return r},r=>{throw qi(`${t} rejected with ${r}`)});if(!at(e)&&e!==null)throw qi(n);return e}function w_(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t,a=n;if(bc(a)&&o)return o(a,r);if(Kd(a)){if(s){let c=s(Wd(a));if(c?a=_n(n,Gd(c)):lo(),a.spans){let u=[];for(let d of a.spans){let l=s(d);l?u.push(l):(lo(),u.push(d))}a.spans=u}}if(i){if(a.spans){let c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(a,r)}}return a}function bc(e){return e.type===void 0}function Kd(e){return e.type==="transaction"}function Xd(e,t){return t?Re(t,()=>{let n=q(),r=n?co(n):Ti(t);return[n?be(n):pr(e,t),r]}):[void 0,void 0]}var Zd={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function R_(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Qd(e,t,n,r){let o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=nt(r)),Le(o,[R_(e)])}var x_=100;v._sentryClientToLogBufferMap=new WeakMap;function C_(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function In(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function ef(e,t){let n=tf(e);n===void 0?v._sentryClientToLogBufferMap?.set(e,[t]):(v._sentryClientToLogBufferMap?.set(e,[...n,t]),n.length>=x_&&br(e,n))}function Tr(e,t=E(),n=k(),r=ef){if(!t){b&&h.warn("No client available to capture log.");return}let{_experiments:o,release:i,environment:s}=t.getOptions(),{enableLogs:a=!1,beforeSendLog:c}=o??{};if(!a){b&&h.warn("logging option not enabled, log will not be captured.");return}let[,u]=Xd(t,n),d={...e.attributes},{user:{id:l,email:f,username:p}}=A_(n);In(d,"user.id",l,!1),In(d,"user.email",f,!1),In(d,"user.name",p,!1),In(d,"sentry.release",i),In(d,"sentry.environment",s);let{name:m,version:g}=t.getSdkMetadata()?.sdk??{};In(d,"sentry.sdk.name",m),In(d,"sentry.sdk.version",g);let _=e.message;if(gn(_)){let{__sentry_template_string__:I,__sentry_template_values__:x=[]}=_;d["sentry.message.template"]=I,x.forEach((W,w)=>{d[`sentry.message.parameter.${w}`]=W})}let S=en(n);In(d,"sentry.trace.parent_span_id",S?.spanContext().spanId);let T={...e,attributes:d};t.emit("beforeCaptureLog",T);let F=c?c(T):T;if(!F){t.recordDroppedEvent("before_send","log_item",1),b&&h.warn("beforeSendLog returned null, log will not be captured.");return}let{level:A,message:L,attributes:y={},severityNumber:C}=F,D={timestamp:re(),level:A,body:L,trace_id:u?.trace_id,severity_number:C??Zd[A],attributes:Object.keys(y).reduce((I,x)=>(I[x]=C_(y[x]),I),{})};r(t,D),t.emit("afterCaptureLog",F)}function br(e,t){let n=t??tf(e)??[];if(n.length===0)return;let r=e.getOptions(),o=Qd(n,r._metadata,r.tunnel,e.getDsn());v._sentryClientToLogBufferMap?.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function tf(e){return v._sentryClientToLogBufferMap?.get(e)}function A_(e){let t=tn().getScopeData();return _r(t,se().getScopeData()),_r(t,e.getScopeData()),t}function Ic(e,t){t.debug===!0&&(b?h.enable():Ze(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),k().update(t.initialScope);let r=new e(t);return Vi(r),r.init(),r}function Vi(e){k().setClient(e)}var vc=Symbol.for("SentryBufferFullError");function nf(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return Tn(vc);let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new Mt((a,c)=>{let u=t.length;if(!u)return a(!0);let d=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{je(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:o,drain:i}}function Yi(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function rf(e,t){return e[t]||e.all||0}function wo(e,t,n=Date.now()){return rf(e,t)>n}function Ro(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(let p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[p]=r+f):o[p]=r+f}else s?o.all=r+Yi(s,r):t===429&&(o.all=r+60*1e3);return o}var k_=64;function xo(e,t,n=nf(e.bufferSize||k_)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(lt(s,(l,f)=>{let p=Pi(f);wo(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return je({});let c=Le(s[0],a),u=l=>{lt(c,(f,p)=>{e.recordDroppedEvent(l,Pi(p))})},d=()=>t({body:Sn(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&b&&h.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Ro(r,l),l),l=>{throw u("network_error"),b&&h.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===vc)return b&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),je({});throw l})}return{send:i,flush:o}}var wc=100,Rc=5e3,N_=36e5;function xc(e){function t(...n){b&&h.info("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let o=n.createStore(n),i=Rc,s;function a(l,f,p){return Di(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let f=await o.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(i),i=Math.min(i*2,N_))}async function d(l,f=!1){if(!f&&Di(l,["replay_event","replay_recording"]))return await o.push(l),c(wc),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let p=await r.send(l),m=wc;if(p){if(p.headers?.["retry-after"])m=Yi(p.headers["retry-after"]);else if(p.headers?.["x-sentry-rate-limits"])m=6e4;else if((p.statusCode||0)>=400)return p}return c(m),i=Rc,p}catch(p){if(await a(l,p,i))return f?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(i=Rc,c(wc)),r.flush(l))}}}function of(e,t){let n;return lt(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function M_(e,t){return n=>{let r=e(n);return{...r,send:async o=>{let i=of(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)}}}}function O_(e,t){return Le(t?{...e[0],dsn:t}:e[0],e[1])}function Cc(e,t){return n=>{let r=e(n),o=new Map;function i(c,u){let d=u?`${c}:${u}`:c,l=o.get(d);if(!l){let f=Mi(c);if(!f)return;let p=Io(f,n.tunnel);l=u?M_(e,u)({...n,url:p}):e({...n,url:p}),o.set(d,l)}return[c,l]}async function s(c){function u(p){let m=p?.length?p:["event"];return of(c,m)}let d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?i(p,void 0):i(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,m])=>m.send(O_(c,p)))))[0]}async function a(c){let u=[...o.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:s,flush:a}}}function Co(e,t){let n=t?.getDsn(),r=t?.getOptions().tunnel;return D_(e,n)||L_(e,r)}function L_(e,t){return t?sf(e)===sf(t):!1}function D_(e,t){return t?e.includes(t.host):!1}function sf(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Ji(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Ac=Ji;function kc(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function Nc(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Mc(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Xe})),version:Xe}),e._metadata=o}function Bn(e={}){let t=e.client||E();if(!Eo()||!t)return{};let n=We(),r=_t(n);if(r.getTraceData)return r.getTraceData(e);let o=e.scope||k(),i=e.span||q(),s=i?uo(i):P_(o),a=i?be(i):pr(t,o),c=wi(a);return Ri.test(s)?{"sentry-trace":s,baggage:c}:(h.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function P_(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ao(t,r,n)}function Oc(e,t,n){let r,o,i,s=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function d(){return o!==void 0||i!==void 0?c():r}function l(){return o&&clearTimeout(o),o=a(c,t),s&&i===void 0&&(i=a(c,s)),r}return l.cancel=u,l.flush=d,l}var F_=100;function qe(e,t){let n=E(),r=se();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=F_}=n.getOptions();if(i<=0)return;let a={timestamp:$t(),...e},c=o?Ze(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var af,U_="FunctionToString",cf=new WeakMap,B_=()=>({name:U_,setupOnce(){af=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=Dn(this),n=cf.has(E())&&t!==void 0?t:this;return af.apply(n,e)}}catch{}},setup(e){cf.set(e,!0)}}),Ao=B_;var H_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],$_="EventFilters",Xi=(e={})=>{let t;return{name:$_,setup(n){let r=n.getOptions();t=uf(e,r)},processEvent(n,r,o){if(!t){let i=o.getOptions();t=uf(e,i)}return W_(n,t)?null:n}}},ko=(e={})=>({...Xi(e),name:"InboundFilters"});function uf(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:H_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function W_(e,t){if(e.type){if(e.type==="transaction"&&z_(e,t.ignoreTransactions))return b&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ht(e)}`),!0}else{if(G_(e,t.ignoreErrors))return b&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ht(e)}`),!0;if(Y_(e))return b&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ht(e)}`),!0;if(j_(e,t.denyUrls))return b&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ht(e)}.
Url: ${Ki(e)}`),!0;if(!q_(e,t.allowUrls))return b&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ht(e)}.
Url: ${Ki(e)}`),!0}return!1}function G_(e,t){return t?.length?ji(e).some(n=>Oe(n,t)):!1}function z_(e,t){if(!t?.length)return!1;let n=e.transaction;return n?Oe(n,t):!1}function j_(e,t){if(!t?.length)return!1;let n=Ki(e);return n?Oe(n,t):!1}function q_(e,t){if(!t?.length)return!0;let n=Ki(e);return n?Oe(n,t):!0}function V_(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Ki(e){try{let n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?V_(n):null}catch{return b&&h.error(`Cannot extract url for event ${Ht(e)}`),null}}function Y_(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Dc(e,t,n,r,o,i){if(!o.exception?.values||!i||!ct(i.originalException,Error))return;let s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=Lc(e,t,r,i.originalException,n,o.exception.values,s,0))}function Lc(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(ct(r[o],Error)){lf(s,a);let u=e(t,r[o]),d=c.length;df(u,o,d,a),c=Lc(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(ct(u,Error)){lf(s,a);let l=e(t,u),f=c.length;df(l,`errors[${d}]`,f,a),c=Lc(e,t,n,u,o,[l,...c],l,f)}}),c}function lf(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function df(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}var pf=new Map,ff=new Set;function J_(e){if(v._sentryModuleMetadata)for(let t of Object.keys(v._sentryModuleMetadata)){let n=v._sentryModuleMetadata[t];if(ff.has(t))continue;ff.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){pf.set(o.filename,n);break}}}function K_(e,t){return J_(e),pf.get(t)}function Zi(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let o=K_(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function Qi(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var Pc=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{lt(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(Qi(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;Zi(n,t)})}});function Hn(e){let t="console";De(t,e),Pe(t,X_)}function X_(){"console"in v&&Zt.forEach(function(e){e in v.console&&_e(v.console,e,function(t){return ir[e]=t,function(...n){Ie("console",{args:n,level:e}),ir[e]?.apply(v.console,n)}})})}function $n(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var Z_="CaptureConsole",Q_=(e={})=>{let t=e.levels||Zt,n=e.handled??!0;return{name:Z_,setup(r){"console"in v&&Hn(({args:o,level:i})=>{E()!==r||!t.includes(i)||eS(o,i,n)})}}},Fc=Q_;function eS(e,t,n){let r={level:$n(t),extra:{arguments:e}};Re(o=>{if(o.addEventProcessor(a=>(a.logger="console",tt(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){let a=`Assertion failed: ${Ln(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),bn(a,r)}return}let i=e.find(a=>a instanceof Error);if(i){dt(i,r);return}let s=Ln(e," ");bn(s,r)})}var tS="Dedupe",nS=()=>{let e;return{name:tS,processEvent(t){if(t.type)return t;try{if(rS(t,e))return b&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},No=nS;function rS(e,t){return t?!!(oS(e,t)||iS(e,t)):!1}function oS(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!gf(e,t)||!hf(e,t))}function iS(e,t){let n=mf(t),r=mf(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!gf(e,t)||!hf(e,t))}function hf(e,t){let n=sr(e),r=sr(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function gf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function mf(e){return e.exception?.values&&e.exception.values[0]}var sS="ExtraErrorData",aS=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:sS,processEvent(r,o,i){let{maxValueLength:s=250}=i.getOptions();return cS(r,o,t,n,s)}}},Uc=aS;function cS(e,t={},n,r,o){if(!t.originalException||!et(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=uS(t.originalException,r,o);if(s){let a={...e.contexts},c=xe(s,n);return at(c)&&(pe(c,"__sentry_skip_normalization__",!0),a[i]=c),{...e,contexts:a}}return e}function uS(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];o[i]=et(s)||typeof s=="string"?gt(`${s}`,n):s}if(t&&e.cause!==void 0&&(o.cause=et(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let a=i[s];o[s]=et(a)?a.toString():a}}return o}catch(r){b&&h.error("Unable to extract extra data from the Error object:",r)}return null}function lS(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var dS=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function fS(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=dS.exec(t);return n?n.slice(1):[]}function _f(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=lS(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Sf(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function yf(e,t){e=_f(e).slice(1),t=_f(t).slice(1);let n=Sf(e.split("/")),r=Sf(t.split("/")),o=Math.min(n.length,r.length),i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function Ef(e,t){let n=fS(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var pS="RewriteFrames",Bc=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in v&&!!v.window,o=e.iteratee||mS({isBrowser:r,root:t,prefix:n});function i(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:s(c.stacktrace)}}))}}}catch{return a}}function s(a){return{...a,frames:a?.frames&&a.frames.map(c=>o(c))}}return{name:pS,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function mS({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){let s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?yf(t,s):Ef(s);r.filename=`${n}${a}`}return r}}var hS=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],gS=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],_S={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},bf=["select","insert","upsert","update","delete"];function es(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function ts(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function SS(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function yS(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&_S[n]||"filter",`${o}(${e}, ${r.join(".")})`}function Tf(e,t=!1){return new Proxy(e,{apply(n,r,o){return yn({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[J]:"auto.db.supabase",[he]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,o).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),dt(s.error,{mechanism:{handled:!1}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),dt(s,{mechanism:{handled:!1}}),s}).then(...o))}})}function ES(e){let t=e.auth;if(!(!t||ts(e.auth))){for(let n of hS){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Tf(r))}for(let n of gS){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Tf(r,!0))}es(e.auth)}}function TS(e){ts(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let o=Reflect.apply(t,n,r),i=o.constructor;return IS(i),o}}),es(e.prototype.from))}function bS(e){ts(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){let o=bf,i=n,s=SS(i.method,i.headers);if(!o.includes(s)||!i?.url?.pathname||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(let[p,m]of i.url.searchParams.entries())u.push(yS(p,m));let d=Object.create(null);if(at(i.body))for(let[p,m]of Object.entries(i.body))d[p]=m;let l=`${s==="select"?"":`${s}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,f={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[J]:"auto.db.supabase",[he]:"db"};return u.length&&(f["db.query"]=u),Object.keys(d).length&&(f["db.body"]=d),yn({name:l,attributes:f},p=>Reflect.apply(t,n,[]).then(m=>{if(p&&(m&&typeof m=="object"&&"status"in m&&jt(p,m.status||500),p.end()),m.error){let S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);let T={};u.length&&(T.query=u),Object.keys(d).length&&(T.body=d),dt(S,{contexts:{supabase:T}})}let g={type:"supabase",category:`db.${s}`,message:l},_={};return u.length&&(_.query=u),Object.keys(d).length&&(_.body=d),Object.keys(_).length&&(g.data=_),qe(g),m},m=>{throw p&&(jt(p,500),p.end()),m}).then(...r))}}),es(e.prototype.then))}function IS(e){for(let t of bf)ts(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){let i=Reflect.apply(n,r,o),s=i.constructor;return b&&h.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),bS(s),i}}),es(e.prototype[t]))}var ns=e=>{if(!e){b&&h.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;TS(t),ES(e)},vS="Supabase",wS=e=>({setupOnce(){ns(e)},name:vS}),Hc=e=>wS(e.supabaseClient);var RS=10,xS="ZodErrors";function CS(e){return et(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function AS(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function kS(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function NS(e){let t=new Set;for(let r of e.issues){let o=kS(r.path);o.length>0&&t.add(o)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${gt(n.join(", "),100)}`}function MS(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!CS(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(AS);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:NS(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}var OS=(e={})=>{let t=e.limit??RS;return{name:xS,processEvent(n,r){return MS(t,e.saveZodIssuesAsAttachment,n,r)}}},$c=OS;var Wc=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{lt(n,(r,o)=>{if(o==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(Qi(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;Zi(r,n)})},processEvent(t){let n=LS(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](i=>!i.some(s=>e.filterKeys.includes(s)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function LS(e){let t=sr(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(If)).map(r=>r.slice(If.length)):[])}var If="_sentryBundlerPluginAppKey:";var wf=100,Rf=10;v._spanToFlagBufferMap=new WeakMap;var vf="flag.evaluation.";function Ot(e){let n=k().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function bt(e,t,n=wf){let r=k().getScopeData().contexts;r.flags||(r.flags={values:[]});let o=r.flags.values;DS(o,e,t,n)}function DS(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){b&&h.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let o=e.findIndex(i=>i.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function It(e,t,n=Rf){let r=v._spanToFlagBufferMap;if(!r||typeof t!="boolean")return;let o=q();if(o){let i=r.get(o)||new Set;i.has(e)?o.setAttribute(`${vf}${e}`,t):i.size<n&&(i.add(e),o.setAttribute(`${vf}${e}`,t)),r.set(o,i)}}var Gc=()=>({name:"FeatureFlags",processEvent(e,t,n){return Ot(e)},addFeatureFlag(e,t){bt(e,t),It(e,t)}});var PS="thismessage:/";function rs(e){return"isRelative"in e}function Mo(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t??(n?PS:void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function zc(e){if(rs(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Lt(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Oo(e){return e.split(/[?#]/,1)[0]}function jc(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,a=ze()&&t(s);if(e.endTimestamp&&a){let l=e.fetchData.__span;if(!l)return;let f=r[l];f&&(US(f,e),delete r[l]);return}let c=!!q(),u=a&&c?Tt(HS(s,i,o)):new Be;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){let l=e.args[0],f=e.args[1]||{},p=FS(l,f,ze()&&c?u:void 0);p&&(e.args[1]=f,f.headers=p)}let d=E();if(d){let l={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,l)}return u}function FS(e,t,n){let r=Bn({span:n}),o=r["sentry-trace"],i=r.baggage;if(!o)return;let s=t.headers||(gi(e)?e.headers:void 0);if(s)if(BS(s)){let a=new Headers(s);if(a.get("sentry-trace")||a.set("sentry-trace",o),i){let c=a.get("baggage");c?os(c)||a.set("baggage",`${c},${i}`):a.set("baggage",i)}return a}else if(Array.isArray(s)){let a=[...s];s.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",o]);let c=s.find(u=>u[0]==="baggage"&&os(u[1]));return i&&!c&&a.push(["baggage",i]),a}else{let a="sentry-trace"in s?s["sentry-trace"]:void 0,c="baggage"in s?s.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],d=c&&(Array.isArray(c)?c.find(l=>os(l)):os(c));return i&&!d&&u.push(i),{...s,"sentry-trace":a??o,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function US(e,t){if(t.response){jt(e,t.response.status);let n=t.response?.headers&&t.response.headers.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function os(e){return e.split(",").some(t=>t.trim().startsWith(Ii))}function BS(e){return typeof Headers<"u"&&ct(e,Headers)}function HS(e,t,n){let r=Mo(e);return{name:r?`${t} ${zc(r)}`:t,attributes:$S(e,r,t,n)}}function $S(e,t,n,r){let o={url:e,type:"fetch","http.method":n,[J]:r,[he]:"http.client"};return t&&(rs(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function Lo(e,t={},n=k()){let{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||E();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var WS="ConsoleLogs",xf={[J]:"auto.console.logging"},GS=(e={})=>{let t=e.levels||Zt;return{name:WS,setup(n){let{_experiments:r,normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=n.getOptions();if(!r?.enableLogs){b&&h.warn("`_experiments.enableLogs` is not enabled, ConsoleLogs integration disabled");return}Hn(({args:s,level:a})=>{if(E()!==n||!t.includes(a))return;if(a==="assert"){if(!s[0]){let u=s.slice(1),d=u.length>0?`Assertion failed: ${Cf(u,o,i)}`:"Assertion failed";Tr({level:"error",message:d,attributes:xf})}return}let c=a==="log";Tr({level:c?"info":a,message:Cf(s,o,i),severityNumber:c?10:void 0,attributes:xf})})}}},qc=GS;function Cf(e,t,n){return"util"in v&&typeof v.util.format=="function"?v.util.format(...e):zS(e,t,n)}function zS(e,t,n){return e.map(r=>ht(r)?String(r):JSON.stringify(xe(r,t,n))).join(" ")}function is(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var Ir=v;function Vc(){return"history"in Ir&&!!Ir.history}function jS(){if(!("fetch"in Ir))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Do(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Po(){if(typeof EdgeRuntime=="string")return!0;if(!jS())return!1;if(Do(Ir.fetch))return!0;let e=!1,t=Ir.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Do(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){b&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Yc(){return"ReportingObserver"in Ir}function Wn(e,t){let n="fetch";De(n,e),Pe(n,()=>kf(void 0,t))}function Kc(e){let t="fetch-body-resolved";De(t,e),Pe(t,()=>kf(VS))}function kf(e,t=!1){t&&!Po()||_e(v,"fetch",function(n){return function(...r){let o=new Error,{method:i,url:s}=YS(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:re()*1e3,virtualError:o,headers:JS(r)};return e||Ie("fetch",{...a}),n.apply(v,r).then(async c=>(e?e(c):Ie("fetch",{...a,endTimestamp:re()*1e3,response:c}),c),c=>{if(Ie("fetch",{...a,endTimestamp:re()*1e3,error:c}),et(c)&&c.stack===void 0&&(c.stack=o.stack,pe(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function qS(e,t){if(e?.body){let n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:a}=await r.read();clearTimeout(s),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(s)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function VS(e){let t;try{t=e.clone()}catch{return}qS(t,()=>{Ie("fetch-body-resolved",{endTimestamp:re()*1e3,response:e})})}function Jc(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Af(e){return typeof e=="string"?e:e?Jc(e,"url")?e.url:e.toString?e.toString():"":""}function YS(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Af(n),method:Jc(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Af(t),method:Jc(t,"method")?String(t.method).toUpperCase():"GET"}}function JS(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(gi(t))return new Headers(t.headers)}catch{}}function Xc(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Zc(){return"npm"}function Nf(){return!Xc()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function vr(){return typeof window<"u"&&(!Nf()||KS())}function KS(){return v.process?.type==="renderer"}var Dt=v,ae=Dt.document,Fo=Dt.navigator,Yf="Report a Bug",XS="Cancel",ZS="Send Bug Report",QS="Confirm",ey="Report a Bug",ty="your.email@example.org",ny="Email",ry="What's the bug? What did you expect?",oy="Description",iy="Your Name",sy="Name",ay="Thank you for your report!",cy="(required)",uy="Add a screenshot",ly="Remove screenshot",dy="widget",fy="api",py=5e3,cu=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=E();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&k().setTags(e.tags);let r=Lo({source:fy,url:Ge(),...e},t);return new Promise((o,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(s),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?o(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?i("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},us=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function my(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Fo.userAgent)||/Macintosh/i.test(Fo.userAgent)&&Fo.maxTouchPoints&&Fo.maxTouchPoints>1||!isSecureContext)}function ss(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:n=>{t.onSubmitSuccess?.(n),e.onSubmitSuccess?.(n)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function hy(e){let t=ae.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function ft(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var wr=20,gy="http://www.w3.org/2000/svg";function _y(){let e=a=>Dt.document.createElementNS(gy,a),t=ft(e("svg"),{width:`${wr}`,height:`${wr}`,viewBox:`0 0 ${wr} ${wr}`,fill:"var(--actor-color, var(--foreground))"}),n=ft(e("g"),{clipPath:"url(#clip0_57_80)"}),r=ft(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=ft(e("clipPath"),{id:"clip0_57_80"}),s=ft(e("rect"),{width:`${wr}`,height:`${wr}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function Sy({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let o=ae.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||Yf,o.appendChild(_y()),e){let s=ae.createElement("span");s.appendChild(ae.createTextNode(e)),o.appendChild(s)}let i=hy(r);return{el:o,appendToDom(){n.appendChild(i),n.appendChild(o)},removeFromDom(){o.remove(),i.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}var Jf="rgba(88, 74, 192, 1)",yy={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Jf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Mf={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Jf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Of(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function Ey({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let o=ae.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Of(e==="dark"?{...Mf,...t}:{...yy,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Of({...Mf,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}var hs=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:m,scriptNonce:g,colorScheme:_="system",themeLight:S={},themeDark:T={},addScreenshotButtonLabel:F=uy,cancelButtonLabel:A=XS,confirmButtonLabel:L=QS,emailLabel:y=ny,emailPlaceholder:C=ty,formTitle:D=ey,isRequiredLabel:I=cy,messageLabel:x=oy,messagePlaceholder:W=ry,nameLabel:w=sy,namePlaceholder:R=iy,removeScreenshotButtonLabel:H=ly,submitButtonLabel:B=ZS,successMessageText:O=ay,triggerLabel:ee=Yf,triggerAriaLabel:U="",onFormOpen:te,onFormClose:X,onSubmitSuccess:Ce,onSubmitError:pn,onFormSubmitted:it}={})=>{let He={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:m,scriptNonce:g,colorScheme:_,themeDark:T,themeLight:S,triggerLabel:ee,triggerAriaLabel:U,cancelButtonLabel:A,submitButtonLabel:B,confirmButtonLabel:L,formTitle:D,emailLabel:y,emailPlaceholder:C,messageLabel:x,messagePlaceholder:W,nameLabel:w,namePlaceholder:R,successMessageText:O,isRequiredLabel:I,addScreenshotButtonLabel:F,removeScreenshotButtonLabel:H,onFormClose:X,onFormOpen:te,onSubmitError:pn,onSubmitSuccess:Ce,onFormSubmitted:it},xt=null,Xt=[],nr=ge=>{if(!xt){let Me=ae.createElement("div");Me.id=String(ge.id),ae.body.appendChild(Me),xt=Me.attachShadow({mode:"open"}),xt.appendChild(Ey(ge))}return xt},rr=async ge=>{let Me=ge.enableScreenshot&&my(),Ut,Te;try{Ut=(t?t():await e("feedbackModalIntegration",g))(),Er(Ut)}catch{throw us&&h.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let Bt=Me?n?n():await e("feedbackScreenshotIntegration",g):void 0;Bt&&(Te=Bt(),Er(Te))}catch{us&&h.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let we=Ut.createDialog({options:{...ge,onFormClose:()=>{we?.close(),ge.onFormClose?.()},onFormSubmitted:()=>{we?.close(),ge.onFormSubmitted?.()}},screenshotIntegration:Te,sendFeedback:cu,shadow:nr(ge)});return we},Qr=(ge,Me={})=>{let Ut=ss(He,Me),Te=typeof ge=="string"?ae.querySelector(ge):typeof ge.addEventListener=="function"?ge:null;if(!Te)throw us&&h.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let we=null,Bt=async()=>{we||(we=await rr({...Ut,onFormSubmitted:()=>{we?.removeFromDom(),Ut.onFormSubmitted?.()}})),we.appendToDom(),we.open()};Te.addEventListener("click",Bt);let Nn=()=>{Xt=Xt.filter(or=>or!==Nn),we?.removeFromDom(),we=null,Te.removeEventListener("click",Bt)};return Xt.push(Nn),Nn},mn=(ge={})=>{let Me=ss(He,ge),Ut=nr(Me),Te=Sy({triggerLabel:Me.triggerLabel,triggerAriaLabel:Me.triggerAriaLabel,shadow:Ut,styleNonce:m});return Qr(Te.el,{...Me,onFormOpen(){Te.hide()},onFormClose(){Te.show()},onFormSubmitted(){Te.show()}}),Te};return{name:"Feedback",setupOnce(){!vr()||!He.autoInject||(ae.readyState==="loading"?ae.addEventListener("DOMContentLoaded",()=>mn().appendToDom()):mn().appendToDom())},attachTo:Qr,createWidget(ge={}){let Me=mn(ss(He,ge));return Me.appendToDom(),Me},async createForm(ge={}){return rr(ss(He,ge))},remove(){xt&&(xt.parentElement?.remove(),xt=null),Xt.forEach(ge=>ge()),Xt=[]}}};function Kf(){return E()?.getIntegrationByName("Feedback")}var gs,ue,Xf,Gn,Lf,Zf,ou,Uo={},uu=[],Ty=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,lu=Array.isArray;function wn(e,t){for(var n in t)e[n]=t[n];return e}function Qf(e){var t=e.parentNode;t&&t.removeChild(e)}function V(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?gs.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return ls(e,s,r,o,null)}function ls(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Xf,__i:-1,__u:0};return o==null&&ue.vnode!=null&&ue.vnode(i),i}function Bo(e){return e.children}function ds(e,t){this.props=e,this.context=t}function xr(e,t){if(t==null)return e.__?xr(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?xr(e):null}function by(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=wn({},o)).__v=o.__v+1,ue.vnode&&ue.vnode(r),du(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??xr(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&ep(r),r}function ep(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ep(e)}}function Df(e){(!e.__d&&(e.__d=!0)&&Gn.push(e)&&!ms.__r++||Lf!==ue.debounceRendering)&&((Lf=ue.debounceRendering)||Zf)(ms)}function ms(){var e,t,n,r=[],o=[];for(Gn.sort(ou);e=Gn.shift();)e.__d&&(n=Gn.length,t=by(e,r,o)||t,n===0||Gn.length>n?(iu(r,t,o),o.length=r.length=0,t=void 0,Gn.sort(ou)):t&&ue.__c&&ue.__c(t,uu));t&&iu(r,t,o),ms.__r=0}function tp(e,t,n,r,o,i,s,a,c,u,d){var l,f,p,m,g,_=r&&r.__k||uu,S=t.length;for(n.__d=c,Iy(n,t,_),c=n.__d,l=0;l<S;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?Uo:_[p.__i]||Uo,p.__i=l,du(e,p,f,o,i,s,a,c,u,d),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&fu(f.ref,null,p),d.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),65536&p.__u||f.__k===p.__k?c=np(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:m&&(c=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=g}function Iy(e,t,n){var r,o,i,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?ls(null,o,null,null,o):lu(o)?ls(Bo,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?ls(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=vy(o,n,s=r+l,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=xr(i)),su(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&(131072&i.__u)==0&&(i.__e==e.__d&&(e.__d=xr(i)),su(i,i))}function np(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=np(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function vy(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&o==c.key&&i===c.type)return a;a++}}return-1}function Pf(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Ty.test(t)?n:n+"px"}function as(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Pf(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Pf(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?Uf:Ff,i)):e.removeEventListener(t,i?Uf:Ff,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Ff(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ue.event?ue.event(e):e)}}function Uf(e){if(this.l)return this.l[e.type+!0](ue.event?ue.event(e):e)}function du(e,t,n,r,o,i,s,a,c,u){var d,l,f,p,m,g,_,S,T,F,A,L,y,C,D,I=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=ue.__b)&&d(t);e:if(typeof I=="function")try{if(S=t.props,T=(d=I.contextType)&&r[d.__c],F=d?T?T.props.value:d.__:r,n.__c?_=(l=t.__c=n.__c).__=l.__E:("prototype"in I&&I.prototype.render?t.__c=l=new I(S,F):(t.__c=l=new ds(S,F),l.constructor=I,l.render=Ry),T&&T.sub(l),l.props=S,l.state||(l.state={}),l.context=F,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),I.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=wn({},l.__s)),wn(l.__s,I.getDerivedStateFromProps(S,l.__s))),p=l.props,m=l.state,l.__v=t,f)I.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(I.getDerivedStateFromProps==null&&S!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(S,F),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(S,l.__s,F)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=S,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(x){x&&(x.__=t)}),A=0;A<l._sb.length;A++)l.__h.push(l._sb[A]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(S,l.__s,F),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,m,g)})}if(l.context=F,l.props=S,l.__P=e,l.__e=!1,L=ue.__r,y=0,"prototype"in I&&I.prototype.render){for(l.state=l.__s,l.__d=!1,L&&L(t),d=l.render(l.props,l.state,l.context),C=0;C<l._sb.length;C++)l.__h.push(l._sb[C]);l._sb=[]}else do l.__d=!1,L&&L(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++y<25);l.state=l.__s,l.getChildContext!=null&&(r=wn(wn({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(p,m)),tp(e,lu(D=d!=null&&d.type===Bo&&d.key==null?d.props.children:d)?D:[D],t,n,r,o,i,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),_&&(l.__E=l.__=null)}catch(x){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ue.__e(x,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=wy(n.__e,t,n,r,o,i,s,c,u);(d=ue.diffed)&&d(t)}function iu(e,t,n){for(var r=0;r<n.length;r++)fu(n[r],n[++r],n[++r]);ue.__c&&ue.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){ue.__e(i,o.__v)}})}function wy(e,t,n,r,o,i,s,a,c){var u,d,l,f,p,m,g,_=n.props,S=t.props,T=t.type;if(T==="svg"&&(o=!0),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!T&&(T?p.localName===T:p.nodeType===3)){e=p,i[u]=null;break}}if(e==null){if(T===null)return document.createTextNode(S);e=o?document.createElementNS("http://www.w3.org/2000/svg",T):document.createElement(T,S.is&&S),i=null,a=!1}if(T===null)_===S||a&&e.data===S||(e.data=S);else{if(i=i&&gs.call(e.childNodes),_=n.props||Uo,!a&&i!=null)for(_={},u=0;u<e.attributes.length;u++)_[(p=e.attributes[u]).name]=p.value;for(u in _)p=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in S||as(e,u,null,p,o));for(u in S)p=S[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?m=p:u=="checked"?g=p:u==="key"||a&&typeof p!="function"||_[u]===p||as(e,u,p,_[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),tp(e,lu(f)?f:[f],t,n,r,o&&T!=="foreignObject",i,s,i?i[0]:n.__k&&xr(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&Qf(i[u]);a||(u="value",m!==void 0&&(m!==e[u]||T==="progress"&&!m||T==="option"&&m!==_[u])&&as(e,u,m,_[u],!1),u="checked",g!==void 0&&g!==e[u]&&as(e,u,g,_[u],!1))}return e}function fu(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ue.__e(r,n)}}function su(e,t,n){var r,o;if(ue.unmount&&ue.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||fu(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){ue.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&su(r[o],t,n||typeof e.type!="function");n||e.__e==null||Qf(e.__e),e.__=e.__e=e.__d=void 0}function Ry(e,t,n){return this.constructor(e,n)}function xy(e,t,n){var r,o,i,s;ue.__&&ue.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],du(t,e=t.__k=V(Bo,null,[e]),o||Uo,Uo,t.ownerSVGElement!==void 0,o?null:t.firstChild?gs.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),e.__d=void 0,iu(i,e,s)}gs=uu.slice,ue={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},Xf=0,ds.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=wn({},this.state),typeof e=="function"&&(e=e(wn({},n),this.props)),e&&wn(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Df(this))},ds.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Df(this))},ds.prototype.render=Bo,Gn=[],Zf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ou=function(e,t){return e.__v.__b-t.__v.__b},ms.__r=0;var cn,ce,Qc,Bf,Cr=0,rp=[],fs=[],Se=ue,Hf=Se.__b,$f=Se.__r,Wf=Se.diffed,Gf=Se.__c,zf=Se.unmount,jf=Se.__;function jn(e,t){Se.__h&&Se.__h(ce,e,Cr||t),Cr=0;var n=ce.__H||(ce.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:fs}),n.__[e]}function zn(e){return Cr=1,op(sp,e)}function op(e,t,n){var r=jn(cn++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):sp(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ce,!ce.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};ce.u=!0;var i=ce.shouldComponentUpdate,s=ce.componentWillUpdate;ce.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},ce.shouldComponentUpdate=o}return r.__N||r.__}function Cy(e,t){var n=jn(cn++,3);!Se.__s&&pu(n.__H,t)&&(n.__=e,n.i=t,ce.__H.__h.push(n))}function ip(e,t){var n=jn(cn++,4);!Se.__s&&pu(n.__H,t)&&(n.__=e,n.i=t,ce.__h.push(n))}function Ay(e){return Cr=5,Ho(function(){return{current:e}},[])}function ky(e,t,n){Cr=6,ip(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Ho(e,t){var n=jn(cn++,7);return pu(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Rr(e,t){return Cr=8,Ho(function(){return e},t)}function Ny(e){var t=ce.context[e.__c],n=jn(cn++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ce)),t.props.value):e.__}function My(e,t){Se.useDebugValue&&Se.useDebugValue(t?t(e):e)}function Oy(e){var t=jn(cn++,10),n=zn();return t.__=e,ce.componentDidCatch||(ce.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Ly(){var e=jn(cn++,11);if(!e.__){for(var t=ce.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Dy(){for(var e;e=rp.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ps),e.__H.__h.forEach(au),e.__H.__h=[]}catch(t){e.__H.__h=[],Se.__e(t,e.__v)}}Se.__b=function(e){ce=null,Hf&&Hf(e)},Se.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),jf&&jf(e,t)},Se.__r=function(e){$f&&$f(e),cn=0;var t=(ce=e.__c).__H;t&&(Qc===ce?(t.__h=[],ce.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=fs,n.__N=n.i=void 0})):(t.__h.forEach(ps),t.__h.forEach(au),t.__h=[],cn=0)),Qc=ce},Se.diffed=function(e){Wf&&Wf(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(rp.push(t)!==1&&Bf===Se.requestAnimationFrame||((Bf=Se.requestAnimationFrame)||Py)(Dy)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==fs&&(n.__=n.__V),n.i=void 0,n.__V=fs})),Qc=ce=null},Se.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ps),n.__h=n.__h.filter(function(r){return!r.__||au(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],Se.__e(r,n.__v)}}),Gf&&Gf(e,t)},Se.unmount=function(e){zf&&zf(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ps(r)}catch(o){t=o}}),n.__H=void 0,t&&Se.__e(t,n.__v))};var qf=typeof requestAnimationFrame=="function";function Py(e){var t,n=function(){clearTimeout(r),qf&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);qf&&(t=requestAnimationFrame(n))}function ps(e){var t=ce,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ce=t}function au(e){var t=ce;e.__c=e.__(),ce=t}function pu(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function sp(e,t){return typeof t=="function"?t(e):t}var Fy=Object.defineProperty({__proto__:null,useCallback:Rr,useContext:Ny,useDebugValue:My,useEffect:Cy,useErrorBoundary:Oy,useId:Ly,useImperativeHandle:ky,useLayoutEffect:ip,useMemo:Ho,useReducer:op,useRef:Ay,useState:zn},Symbol.toStringTag,{value:"Module"}),Uy="http://www.w3.org/2000/svg";function By(){let e=r=>ae.createElementNS(Uy,r),t=ft(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=ft(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function Hy({options:e}){let t=Ho(()=>({__html:By().outerHTML}),[]);return V("h2",{class:"dialog__header"},V("span",{class:"dialog__title"},e.formTitle),e.showBranding?V("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function $y(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function eu(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function Wy({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){let{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:m,emailPlaceholder:g,isEmailRequired:_,isNameRequired:S,messageLabel:T,messagePlaceholder:F,nameLabel:A,namePlaceholder:L,submitButtonLabel:y,isRequiredLabel:C}=e,[D,I]=zn(!1),[x,W]=zn(null),[w,R]=zn(!1),H=u?.input,[B,O]=zn(null),ee=Rr(X=>{O(X),R(!1)},[]),U=Rr(X=>{let Ce=$y(X,{emailLabel:m,isEmailRequired:_,isNameRequired:S,messageLabel:T,nameLabel:A});return Ce.length>0?W(`Please enter in the following required fields: ${Ce.join(", ")}`):W(null),Ce.length===0},[m,_,S,T,A]),te=Rr(async X=>{I(!0);try{if(X.preventDefault(),!(X.target instanceof HTMLFormElement))return;let Ce=new FormData(X.target),pn=await(u&&w?u.value():void 0),it={name:eu(Ce,"name"),email:eu(Ce,"email"),message:eu(Ce,"message"),attachments:pn?[pn]:void 0};if(!U(it))return;try{await o({name:it.name,email:it.email,message:it.message,source:dy,tags:d},{attachments:it.attachments}),i(it)}catch(He){us&&h.error(He),W(He),s(He)}}finally{I(!1)}},[u&&w,i,s]);return V("form",{class:"form",onSubmit:te},H&&w?V(H,{onError:ee}):null,V("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:D},V("div",{class:"form__top"},x?V("div",{class:"form__error-container"},x):null,c?V("label",{for:"name",class:"form__label"},V(tu,{label:A,isRequiredLabel:C,isRequired:S}),V("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:L,required:S,type:"text"})):V("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?V("label",{for:"email",class:"form__label"},V(tu,{label:m,isRequiredLabel:C,isRequired:_}),V("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:_,type:"email"})):V("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),V("label",{for:"message",class:"form__label"},V(tu,{label:T,isRequiredLabel:C,isRequired:!0}),V("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:F,required:!0,rows:5})),H?V("label",{for:"screenshot",class:"form__label"},V("button",{class:"btn btn--default",disabled:D,type:"button",onClick:()=>{O(null),R(X=>!X)}},w?f:l),B?V("div",{class:"form__error-container"},B.message):null):null),V("div",{class:"btn-group"},V("button",{class:"btn btn--primary",disabled:D,type:"submit"},y),V("button",{class:"btn btn--default",disabled:D,type:"button",onClick:r},p))))}function tu({label:e,isRequired:t,isRequiredLabel:n}){return V("span",{class:"form__label__text"},e,t&&V("span",{class:"form__label__text--required"},n))}var cs=16,Vf=17,Gy="http://www.w3.org/2000/svg";function zy(){let e=c=>Dt.document.createElementNS(Gy,c),t=ft(e("svg"),{width:`${cs}`,height:`${Vf}`,viewBox:`0 0 ${cs} ${Vf}`,fill:"inherit"}),n=ft(e("g"),{clipPath:"url(#clip0_57_156)"}),r=ft(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=ft(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=ft(e("clipPath"),{id:"clip0_57_156"}),a=ft(e("rect"),{width:`${cs}`,height:`${cs}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}function jy({open:e,onFormSubmitted:t,...n}){let r=n.options,o=Ho(()=>({__html:zy().outerHTML}),[]),[i,s]=zn(null),a=Rr(()=>{i&&(clearTimeout(i),s(null)),t()},[i]),c=Rr(u=>{n.onSubmitSuccess(u),s(setTimeout(()=>{t(),s(null)},py))},[t]);return V(Bo,null,i?V("div",{class:"success__position",onClick:a},V("div",{class:"success__content"},r.successMessageText,V("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):V("dialog",{class:"dialog",onClick:r.onFormClose,open:e},V("div",{class:"dialog__position"},V("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},V(Hy,{options:r}),V(Wy,{...n,onSubmitSuccess:c})))))}var qy=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,Vy=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,Yy=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,Jy=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,Ky=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function Xy(e){let t=ae.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${qy}
${Vy}
${Yy}
${Jy}
${Ky}
`,e&&t.setAttribute("nonce",e),t}function Zy(){let e=k().getUser(),t=se().getUser(),n=tn().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var ap=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,i=e.useSentryUser,s=Zy(),a=ae.createElement("div"),c=Xy(e.styleNonce),u="",d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),ae.body.style.overflow=u},open(){f(!0),e.onFormOpen?.(),E()?.emit("openFeedbackWidget"),u=ae.body.style.overflow,ae.body.style.overflow="hidden"},close(){f(!1),ae.body.style.overflow=u}},l=t?.createInput({h:V,hooks:Fy,dialog:d,options:e}),f=p=>{xy(V(jy,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s&&s[i.name]||"",defaultEmail:i&&s&&s[i.email]||"",onFormClose:()=>{f(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:m=>{f(!1),e.onSubmitSuccess?.(m)},onSubmitError:m=>{e.onSubmitError?.(m)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:p}),a)};return d}});function Qy({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function eE(e){let t=ae.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function tE({h:e}){return function({action:n,setAction:r}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},"Hide")))}}function nE({hooks:e}){function t(){let[n,r]=e.useState(Dt.devicePixelRatio??1);return e.useEffect(()=>{let o=()=>{r(Dt.devicePixelRatio)},i=matchMedia(`(resolution: ${Dt.devicePixelRatio}dppx)`);return i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:i,onError:s}){let a=t();e.useEffect(()=>{(async()=>{r();let u=await Fo.mediaDevices.getDisplayMedia({video:{width:Dt.innerWidth*a,height:Dt.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=ae.createElement("video");await new Promise((l,f)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(p=>p.stop()),l()},d.play().catch(f)}),i()})().catch(s)},[])}}function rE(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function vn(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function nu(e,t){vn(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function ru(e,t,n){vn(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(i=>{rE(i,o,t)})})}function oE({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){let i=nE({hooks:t}),s=tE({h:e}),a=Qy({h:e}),c={__html:eE(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{let[f,p]=t.useState("highlight"),[m,g]=t.useState([]),_=t.useRef(null),S=t.useRef(null),T=t.useRef(null),F=t.useRef(null),[A,L]=t.useState(1),y=t.useMemo(()=>{let w=ae.getElementById(o.id);if(!w)return"white";let R=getComputedStyle(w);return R.getPropertyValue("--button-primary-background")||R.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{let w=()=>{let R=_.current;R&&(vn(l.canvas,{alpha:!1},H=>{let B=Math.min(R.clientWidth/H.width,R.clientHeight/H.height);L(B)}),(R.clientHeight===0||R.clientWidth===0)&&setTimeout(w,0))};return w(),Dt.addEventListener("resize",w),()=>{Dt.removeEventListener("resize",w)}},[l]);let C=t.useCallback((w,R)=>{vn(w,{alpha:!0},(H,B)=>{B.scale(R,R),H.width=l.canvas.width,H.height=l.canvas.height})},[l]);t.useEffect(()=>{C(S.current,l.dpi),nu(S.current,l.canvas)},[l]),t.useEffect(()=>{C(T.current,l.dpi),vn(T.current,{alpha:!0},(w,R)=>{R.clearRect(0,0,w.width,w.height)}),ru(T.current,y,m)},[m,y]),t.useEffect(()=>{C(n,l.dpi),nu(n,l.canvas),vn(ae.createElement("canvas"),{alpha:!0},(w,R)=>{R.scale(l.dpi,l.dpi),w.width=l.canvas.width,w.height=l.canvas.height,ru(w,y,m),nu(n,w)})},[m,l,y]);let D=w=>{if(!f||!F.current)return;let R=F.current.getBoundingClientRect(),H={type:f,x:w.offsetX/A,y:w.offsetY/A},B=(U,te)=>{let X=(te.clientX-R.x)/A,Ce=(te.clientY-R.y)/A;return{type:U.type,x:Math.min(U.x,X),y:Math.min(U.y,Ce),w:Math.abs(X-U.x),h:Math.abs(Ce-U.y)}},O=U=>{vn(T.current,{alpha:!0},(te,X)=>{X.clearRect(0,0,te.width,te.height)}),ru(T.current,y,[...m,B(H,U)])},ee=U=>{let te=B(H,U);te.w*A>=1&&te.h*A>=1&&g(X=>[...X,te]),ae.removeEventListener("mousemove",O),ae.removeEventListener("mouseup",ee)};ae.addEventListener("mousemove",O),ae.addEventListener("mouseup",ee)},I=t.useCallback(w=>R=>{R.preventDefault(),R.stopPropagation(),g(H=>{let B=[...H];return B.splice(w,1),B})},[]),x={width:`${l.canvas.width*A}px`,height:`${l.canvas.height*A}px`},W=w=>{w.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:_},e("canvas",{ref:S,id:"background",style:x}),e("canvas",{ref:T,id:"foreground",style:x}),e("div",{ref:F,onMouseDown:D,style:x},m.map((w,R)=>e("div",{key:R,class:"editor__rect",style:{top:`${w.y*A}px`,left:`${w.x*A}px`,width:`${w.w*A}px`,height:`${w.h*A}px`}},e("button",{"aria-label":"Remove",onClick:I(R),onMouseDown:W,onMouseUp:W,type:"button"},e(a,null))))))),e(s,{action:f,setAction:p}))};return function({onError:f}){let[p,m]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((g,_)=>{vn(ae.createElement("canvas"),{alpha:!1},(S,T)=>{T.scale(_,_),S.width=g.videoWidth,S.height=g.videoHeight,T.drawImage(g,0,0,S.width,S.height),m({canvas:S,dpi:_})}),n.width=g.videoWidth,n.height=g.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(g=>{u.display="block",f(g)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var cp=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=ae.createElement("canvas");return{input:oE({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{let i=await new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(await i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}});var N=v,mu=0;function hu(){return mu>0}function iE(){mu++,setTimeout(()=>{mu--})}function qn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{let o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(Dn(e))return e}catch{return e}let r=function(...o){try{let i=o.map(s=>qn(s,t));return e.apply(this,i)}catch(i){throw iE(),Re(s=>{s.addEventProcessor(a=>(t.mechanism&&(cr(a,void 0,void 0),tt(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),dt(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}_i(r,e),pe(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function $o(){let e=Ge(),{referrer:t}=N.document||{},{userAgent:n}=N.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}var sE={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},up=N;async function _s(e,t){let n=sE[e],r=up.Sentry=up.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;let i=aE(n),s=N.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let a=new Promise((l,f)=>{s.addEventListener("load",()=>l()),s.addEventListener("error",f)}),c=N.document.currentScript,u=N.document.body||N.document.head||c?.parentElement;if(u)u.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function aE(e){let n=E()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Xe}/${e}.min.js`,n).toString()}var lp=hs({lazyLoadIntegration:_s});var gu=hs({getModalIntegration:()=>ap,getScreenshotIntegration:()=>cp});var _u={};Vl(_u,{debug:()=>uE,error:()=>fE,fatal:()=>pE,fmt:()=>Ac,info:()=>lE,trace:()=>cE,warn:()=>dE});function Ar(e,t,n,r){Tr({level:e,message:t,attributes:n,severityNumber:r})}function cE(e,t){Ar("trace",e,t)}function uE(e,t){Ar("debug",e,t)}function lE(e,t){Ar("info",e,t)}function dE(e,t){Ar("warn",e,t)}function fE(e,t){Ar("error",e,t)}function pE(e,t){Ar("fatal",e,t)}function kr(e,t){let n=Eu(e,t),r={type:SE(t),value:yE(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function mE(e,t,n,r){let i=E()?.getOptions().normalizeDepth,s=bE(t),a={__serialized__:Oi(t,i)};if(s)return{exception:{values:[kr(e,s)]},extra:a};let c={exception:{values:[{type:On(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:EE(t,{isUnhandledRejection:r})}]},extra:a};if(n){let u=Eu(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Su(e,t){return{exception:{values:[kr(e,t)]}}}function Eu(e,t){let n=t.stacktrace||t.stack||"",r=gE(t),o=_E(t);try{return e(n,r,o)}catch{}return[]}var hE=/Minified React error #\d+;/i;function gE(e){return e&&hE.test(e.message)?1:0}function _E(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function dp(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function SE(e){let t=e?.name;return!t&&dp(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function yE(e){let t=e?.message;return dp(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Ss(e,t,n,r){let o=n?.syntheticException||void 0,i=Es(e,t,o,r);return tt(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),je(i)}function ys(e,t,n="info",r,o){let i=r?.syntheticException||void 0,s=yu(e,t,i,o);return s.level=n,r?.event_id&&(s.event_id=r.event_id),je(s)}function Es(e,t,n,r,o){let i;if(mi(t)&&t.error)return Su(e,t.error);if(hi(t)||ka(t)){let s=t;if("stack"in t)i=Su(e,t);else{let a=s.name||(hi(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=yu(e,c,n,r),cr(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return et(t)?Su(e,t):at(t)||On(t)?(i=mE(e,t,n,o),tt(i,{synthetic:!0}),i):(i=yu(e,t,n,r),cr(i,`${t}`,void 0),tt(i,{synthetic:!0}),i)}function yu(e,t,n,r){let o={};if(r&&n){let i=Eu(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]}),tt(o,{synthetic:!0})}if(gn(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function EE(e,{isUnhandledRejection:t}){let n=Da(e),r=t?"promise rejection":"exception";return mi(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:On(e)?`Event \`${TE(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function TE(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function bE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var IE=5e3,Nr=class extends vo{constructor(t){let n=vE(t),r=N.SENTRY_SDK_SOURCE||Zc();Mc(n,"browser",["browser"],r),super(n);let{sendDefaultPii:o,sendClientReports:i,_experiments:s}=this._options,a=s?.enableLogs;N.document&&(i||a)&&N.document.addEventListener("visibilitychange",()=>{N.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),a&&br(this))}),a&&(this.on("flush",()=>{br(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{br(this)},IE)})),o&&(this.on("postprocessEvent",kc),this.on("beforeSendSession",Nc))}eventFromException(t,n){return Ss(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return ys(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}};function vE(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:N.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}var Pt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var P=v;var wE=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",vt=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o??0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=wE(t.value,n),e(t)))}};var fp=()=>`v5-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var un=(e=!0)=>{let t=P.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var wt=()=>un()?.activationStart??0;var Rt=(e,t=-1)=>{let n=un(),r="navigate";return n&&(P.document?.prerendering||wt()>0?r="prerender":P.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:fp(),navigationType:r}};var Tu=new WeakMap;function Mr(e,t){return Tu.get(e)||Tu.set(e,new t),Tu.get(e)}var Ts=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;let n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}};var rt=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}};var Rn=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var Wo=-1,RE=()=>P.document?.visibilityState==="hidden"&&!P.document?.prerendering?0:1/0,bs=e=>{P.document.visibilityState==="hidden"&&Wo>-1&&(Wo=e.type==="visibilitychange"?e.timeStamp:0,CE())},xE=()=>{addEventListener("visibilitychange",bs,!0),addEventListener("prerenderingchange",bs,!0)},CE=()=>{removeEventListener("visibilitychange",bs,!0),removeEventListener("prerenderingchange",bs,!0)},xn=()=>{if(P.document&&Wo<0){let e=wt();Wo=(P.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??RE(),xE()}return{get firstHiddenTime(){return Wo}}};var qt=e=>{P.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var AE=[1800,3e3],pp=(e,t={})=>{qt(()=>{let n=xn(),r=Rt("FCP"),o,s=rt("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-wt(),0),r.entries.push(c),o(!0)))});s&&(o=vt(e,r,AE,t.reportAllChanges))})};var kE=[.1,.25],mp=(e,t={})=>{pp(Rn(()=>{let n=Rt("CLS",0),r,o=Mr(t,Ts),i=a=>{for(let c of a)o._processEntry(c);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},s=rt("layout-shift",i);s&&(r=vt(e,n,kE,t.reportAllChanges),P.document?.addEventListener("visibilitychange",()=>{P.document?.visibilityState==="hidden"&&(i(s.takeRecords()),r(!0))}),P?.setTimeout?.(r))}))};var Vt=e=>{let t=n=>{(n.type==="pagehide"||P.document?.visibilityState==="hidden")&&e(n)};P.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var NE=[100,300],hp=(e,t={})=>{qt(()=>{let n=xn(),r=Rt("FID"),o,i=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),o(!0))},s=c=>{c.forEach(i)},a=rt("first-input",s);o=vt(e,r,NE,t.reportAllChanges),a&&Vt(Rn(()=>{s(a.takeRecords()),a.disconnect()}))})};var gp=0,bu=1/0,Is=0,ME=e=>{e.forEach(t=>{t.interactionId&&(bu=Math.min(bu,t.interactionId),Is=Math.max(Is,t.interactionId),gp=Is?(Is-bu)/7+1:0)})},Iu,vu=()=>Iu?gp:performance.interactionCount||0,_p=()=>{"interactionCount"in performance||Iu||(Iu=rt("event",ME,{type:"event",buffered:!0,durationThreshold:0}))};var wu=10,Sp=0,OE=()=>vu()-Sp,vs=class e{constructor(){e.prototype.__init.call(this),e.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Sp=vu(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let t=Math.min(this._longestInteractionList.length-1,Math.floor(OE()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;let n=this._longestInteractionList.at(-1),r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<wu||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,i)=>i._latency-o._latency),this._longestInteractionList.length>wu){let o=this._longestInteractionList.splice(wu);for(let i of o)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}};var ws=e=>{let t=P.requestIdleCallback||P.setTimeout;P.document?.visibilityState==="hidden"?e():(e=Rn(e),t(e),Vt(e))};var LE=[200,500],DE=40,yp=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&qt(()=>{_p();let n=Rt("INP"),r,o=Mr(t,vs),i=a=>{ws(()=>{for(let u of a)o._processEntry(u);let c=o._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},s=rt("event",i,{durationThreshold:t.durationThreshold??DE});r=vt(e,n,LE,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Vt(()=>{i(s.takeRecords()),r(!0)}))})};var Rs=class{_processEntry(t){this._onBeforeProcessingEntry?.(t)}};var PE=[2500,4e3],Ep=(e,t={})=>{qt(()=>{let n=xn(),r=Rt("LCP"),o,i=Mr(t,Rs),s=c=>{t.reportAllChanges||(c=c.slice(-1));for(let u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-wt(),0),r.entries=[u],o())},a=rt("largest-contentful-paint",s);if(a){o=vt(e,r,PE,t.reportAllChanges);let c=Rn(()=>{s(a.takeRecords()),a.disconnect(),o(!0)});for(let u of["keydown","click","visibilitychange"])P.document&&addEventListener(u,()=>ws(c),{capture:!0,once:!0})}})};var FE=[800,1800],Ru=e=>{P.document?.prerendering?qt(()=>Ru(e)):P.document?.readyState!=="complete"?addEventListener("load",()=>Ru(e),!0):setTimeout(e)},Tp=(e,t={})=>{let n=Rt("TTFB"),r=vt(e,n,FE,t.reportAllChanges);Ru(()=>{let o=un();o&&(n.value=Math.max(o.responseStart-wt(),0),n.entries=[o],r(!0))})};var Go={},xs={},bp,Ip,vp,wp,Rp;function Vn(e,t=!1){return qo("cls",e,UE,bp,t)}function Yn(e,t=!1){return qo("lcp",e,HE,vp,t)}function zo(e){return qo("fid",e,BE,Ip)}function xu(e){return qo("ttfb",e,$E,wp)}function jo(e){return qo("inp",e,WE,Rp)}function pt(e,t){return xp(e,t),xs[e]||(GE(e),xs[e]=!0),Cp(e,t)}function Or(e,t){let n=Go[e];if(n?.length)for(let r of n)try{r(t)}catch(o){Pt&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Qe(r)}
Error:`,o)}}function UE(){return mp(e=>{Or("cls",{metric:e}),bp=e},{reportAllChanges:!0})}function BE(){return hp(e=>{Or("fid",{metric:e}),Ip=e})}function HE(){return Ep(e=>{Or("lcp",{metric:e}),vp=e},{reportAllChanges:!0})}function $E(){return Tp(e=>{Or("ttfb",{metric:e}),wp=e})}function WE(){return yp(e=>{Or("inp",{metric:e}),Rp=e})}function qo(e,t,n,r,o=!1){xp(e,t);let i;return xs[e]||(i=n(),xs[e]=!0),r&&t({metric:r}),Cp(e,t,o?i:void 0)}function GE(e){let t={};e==="event"&&(t.durationThreshold=0),rt(e,n=>{Or(e,{entries:n})},t)}function xp(e,t){Go[e]=Go[e]||[],Go[e].push(t)}function Cp(e,t,n){return()=>{n&&n();let r=Go[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Ap(e){return"duration"in e}function Cs(e){return typeof e=="number"&&isFinite(e)}function Yt(e,t,n,{...r}){let o=M(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),En(e,()=>{let i=Tt({startTime:t,...r});return i&&i.end(n),i})}function Lr(e){let t=E();if(!t)return;let{name:n,transaction:r,attributes:o,startTime:i}=e,{release:s,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=k(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0,m;try{m=l.getScopeData().contexts.profile.profile_id}catch{}let g={release:s,environment:a,user:p||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":P.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return Tt({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function Jn(){return P.addEventListener&&P.performance}function oe(e){return e/1e3}function Vo(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function kp(){let e=0,t,n;if(!jE())return;let r=!1;function o(){r||(r=!0,n&&zE(e,t,n),i())}let i=Vn(({metric:s})=>{let a=s.entries[s.entries.length-1];a&&(e=s.value,t=a)},!0);Vt(()=>{o()}),setTimeout(()=>{let s=E();if(!s)return;let a=s.on("startNavigationSpan",()=>{o(),a?.()}),c=q();if(c){let u=K(c);M(u).op==="pageload"&&(n=u.spanContext().spanId)}},0)}function zE(e,t,n){Pt&&h.log(`Sending CLS span (${e})`);let r=oe((le()||0)+(t?.startTime||0)),o=k().getScopeData().transactionName,i=t?ve(t.sources[0]?.node):"Layout shift",s={[J]:"auto.http.browser.cls",[he]:"ui.webvital.cls",[St]:t?.duration||0,"sentry.pageload.span_id":n};t?.sources&&t.sources.forEach((c,u)=>{s[`cls.source.${u+1}`]=ve(c.node)});let a=Lr({name:i,transaction:o,attributes:s,startTime:r});a&&(a.addEvent("cls",{[Gt]:"",[zt]:e}),a.end(r))}function jE(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}function Np(){let e=0,t,n;if(!VE())return;let r=!1;function o(){r||(r=!0,n&&qE(e,t,n),i())}let i=Yn(({metric:s})=>{let a=s.entries[s.entries.length-1];a&&(e=s.value,t=a)},!0);Vt(()=>{o()}),setTimeout(()=>{let s=E();if(!s)return;let a=s.on("startNavigationSpan",()=>{o(),a?.()}),c=q();if(c){let u=K(c);M(u).op==="pageload"&&(n=u.spanContext().spanId)}},0)}function qE(e,t,n){Pt&&h.log(`Sending LCP span (${e})`);let r=oe((le()||0)+(t?.startTime||0)),o=k().getScopeData().transactionName,i=t?ve(t.element):"Largest contentful paint",s={[J]:"auto.http.browser.lcp",[he]:"ui.webvital.lcp",[St]:0,"sentry.pageload.span_id":n};t&&(s["lcp.element"]=ve(t.element),s["lcp.id"]=t.id,s["lcp.url"]=t.url,s["lcp.loadTime"]=t.loadTime,s["lcp.renderTime"]=t.renderTime,s["lcp.size"]=t.size);let a=Lr({name:i,transaction:o,attributes:s,startTime:r});a&&(a.addEvent("lcp",{[Gt]:"millisecond",[zt]:e}),a.end(r))}function VE(){try{return PerformanceObserver.supportedEntryTypes.includes("largest-contentful-paint")}catch{return!1}}var YE=2147483647,Mp=0,ke={},ot,ks;function Au({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t}){let n=Jn();if(n&&le()){n.mark&&P.performance.mark("sentry-tracing-init");let r=XE(),o=t?Np():KE(),i=ZE(),s=e?kp():JE();return()=>{r(),o?.(),i(),s?.()}}return()=>{}}function ku(){pt("longtask",({entries:e})=>{let t=q();if(!t)return;let{op:n,start_timestamp:r}=M(t);for(let o of e){let i=oe(le()+o.startTime),s=oe(o.duration);n==="navigation"&&r&&i<r||Yt(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[J]:"auto.ui.browser.metrics"}})}})}function Nu(){new PerformanceObserver(t=>{let n=q();if(n)for(let r of t.getEntries()){if(!r.scripts[0])continue;let o=oe(le()+r.startTime),{start_timestamp:i,op:s}=M(n);if(s==="navigation"&&i&&o<i)continue;let a=oe(r.duration),c={[J]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:m}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),m!==-1&&(c["browser.script.source_char_position"]=m),Yt(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Mu(){pt("event",({entries:e})=>{let t=q();if(t){for(let n of e)if(n.name==="click"){let r=oe(le()+n.startTime),o=oe(n.duration),i={name:ve(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[J]:"auto.ui.browser.metrics"}},s=ro(n.target);s&&(i.attributes["ui.component_name"]=s),Yt(t,r,r+o,i)}}})}function JE(){return Vn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(ke.cls={value:e.value,unit:""},ks=t)},!0)}function KE(){return Yn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(ke.lcp={value:e.value,unit:"millisecond"},ot=t)},!0)}function XE(){return zo(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=oe(le()),r=oe(t.startTime);ke.fid={value:e.value,unit:"millisecond"},ke["mark.fid"]={value:n+r,unit:"second"}})}function ZE(){return xu(({metric:e})=>{e.entries[e.entries.length-1]&&(ke.ttfb={value:e.value,unit:"millisecond"})})}function Ou(e,t){let n=Jn(),r=le();if(!n?.getEntries||!r)return;let o=oe(r),i=n.getEntries(),{op:s,start_timestamp:a}=M(e);if(i.slice(Mp).forEach(c=>{let u=oe(c.startTime),d=oe(Math.max(0,c.duration));if(!(s==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{tT(e,c,o);break}case"mark":case"paint":case"measure":{QE(e,c,u,d,o,t.ignorePerformanceApiSpans);let l=xn(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(ke.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(ke.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{oT(e,c,c.name,u,d,o,t.ignoreResourceSpans);break}}}),Mp=Math.max(i.length-1,0),iT(e),s==="pageload"){aT(ke);let c=ke["mark.fid"];c&&ke.fid&&(Yt(e,c.value,c.value+oe(ke.fid.value),{name:"first input delay",op:"ui.action",attributes:{[J]:"auto.ui.browser.metrics"}}),delete ke["mark.fid"]),(!("fcp"in ke)||!t.recordClsOnPageloadSpan)&&delete ke.cls,t.recordLcpOnPageloadSpan||delete ke.lcp,Object.entries(ke).forEach(([u,d])=>{ho(u,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",wt()),sT(e,t)}ot=void 0,ks=void 0,ke={}}function QE(e,t,n,r,o,i){if(["mark","measure"].includes(t.entryType)&&Oe(t.name,i))return;let s=un(!1),a=oe(s?s.requestStart:0),c=o+Math.max(n,a),u=o+n,d=u+r,l={[J]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),eT(l,t),c<=d&&Yt(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function eT(e,t){try{let n=t.detail;if(!n)return;if(typeof n=="object"){for(let[r,o]of Object.entries(n))if(o&&ht(o))e[`sentry.browser.measure.detail.${r}`]=o;else if(o!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(o)}catch{}return}if(ht(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function tT(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{As(e,t,r,n)}),As(e,t,"secureConnection",n,"TLS/SSL"),As(e,t,"fetch",n,"cache"),As(e,t,"domainLookup",n,"DNS"),rT(e,t,n)}function As(e,t,n,r,o=n){let i=nT(n),s=t[i],a=t[`${n}Start`];!a||!s||Yt(e,r+oe(a),r+oe(s),{op:`browser.${o}`,name:t.name,attributes:{[J]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function nT(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function rT(e,t,n){let r=n+oe(t.requestStart),o=n+oe(t.responseEnd),i=n+oe(t.responseStart);t.responseEnd&&(Yt(e,r,o,{op:"browser.request",name:t.name,attributes:{[J]:"auto.ui.browser.metrics"}}),Yt(e,i,o,{op:"browser.response",name:t.name,attributes:{[J]:"auto.ui.browser.metrics"}}))}function oT(e,t,n,r,o,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s?.includes(a))return;let c=Lt(n),u={[J]:"auto.resource.browser.metrics"};Cu(u,t,"transferSize","http.response_transfer_size"),Cu(u,t,"encodedBodySize","http.response_content_length"),Cu(u,t,"decodedBodySize","http.decoded_response_content_length");let d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);let l=t.renderBlockingStatus;l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(P.location.origin);let{name:f,version:p}=Vo(t.nextHopProtocol);u["network.protocol.name"]=f,u["network.protocol.version"]=p;let m=i+r,g=m+o;Yt(e,m,g,{name:n.replace(P.location.origin,""),op:a,attributes:u})}function iT(e){let t=P.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Cs(n.rtt)&&(ke["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Cs(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Cs(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function sT(e,t){ot&&t.recordLcpOnPageloadSpan&&(ot.element&&e.setAttribute("lcp.element",ve(ot.element)),ot.id&&e.setAttribute("lcp.id",ot.id),ot.url&&e.setAttribute("lcp.url",ot.url.trim().slice(0,200)),ot.loadTime!=null&&e.setAttribute("lcp.loadTime",ot.loadTime),ot.renderTime!=null&&e.setAttribute("lcp.renderTime",ot.renderTime),e.setAttribute("lcp.size",ot.size)),ks?.sources&&t.recordClsOnPageloadSpan&&ks.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,ve(n.node)))}function Cu(e,t,n,r){let o=t[n];o!=null&&o<YE&&(e[r]=o)}function aT(e){let t=un(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Lu(){return Jn()&&le()?pt("element",cT):()=>{}}var cT=({entries:e})=>{let t=q(),n=t?K(t):void 0,r=n?M(n).description:k().getScopeData().transactionName;e.forEach(o=>{let i=o;if(!i.identifier)return;let s=i.name,a=i.renderTime,c=i.loadTime,[u,d]=c?[oe(c),"load-time"]:a?[oe(a),"render-time"]:[re(),"entry-emission"],l=s==="image-paint"?oe(Math.max(0,(a??0)-(c??0))):0,f={[J]:"auto.ui.browser.elementtiming",[he]:"ui.elementtiming",[ye]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":i.id,"element.type":i.element?.tagName?.toLowerCase()||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":s};yn({name:`element[${i.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},p=>{p.end(u+l)})})};var uT=1e3,Op,Du,Pu;function Yo(e){let t="dom";De(t,e),Pe(t,lT)}function lT(){if(!P.document)return;let e=Ie.bind(null,"dom"),t=Lp(e,!0);P.document.addEventListener("click",t,!1),P.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let o=P[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(_e(o,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){let l=Lp(e);d.handler=l,i.call(this,s,l,c)}d.refCount++}catch{}return i.call(this,s,a,c)}}),_e(o,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,c)}}))})}function dT(e){if(e.type!==Du)return!1;try{if(!e.target||e.target._sentryId!==Pu)return!1}catch{}return!0}function fT(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Lp(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=pT(n);if(fT(n.type,r))return;pe(n,"_sentryCaptured",!0),r&&!r._sentryId&&pe(r,"_sentryId",me());let o=n.type==="keypress"?"input":n.type;dT(n)||(e({event:n,name:o,global:t}),Du=n.type,Pu=r?r._sentryId:void 0),clearTimeout(Op),Op=P.setTimeout(()=>{Pu=void 0,Du=void 0},uT)}}function pT(e){try{return e.target}catch{return null}}var Ns;function ln(e){let t="history";De(t,e),Pe(t,mT)}function mT(){if(P.addEventListener("popstate",()=>{let t=P.location.href,n=Ns;if(Ns=t,n===t)return;Ie("history",{from:n,to:t})}),!Vc())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let o=Ns,i=hT(String(r));if(Ns=i,o===i)return t.apply(this,n);Ie("history",{from:o,to:i})}return t.apply(this,n)}}_e(P.history,"pushState",e),_e(P.history,"replaceState",e)}function hT(e){try{return new URL(e,P.location.origin).toString()}catch{return e}}var Ms={};function Dr(e){let t=Ms[e];if(t)return t;let n=P[e];if(Do(n))return Ms[e]=n.bind(P);let r=P.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){Pt&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(Ms[e]=n.bind(P))}function Os(e){Ms[e]=void 0}function Kn(...e){return Dr("setTimeout")(...e)}var Ye="__sentry_xhr_v3__";function Xn(e){let t="xhr";De(t,e),Pe(t,gT)}function gT(){if(!P.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let o=new Error,i=re()*1e3,s=Ae(r[0])?r[0].toUpperCase():void 0,a=_T(r[1]);if(!s||!a)return t.apply(n,r);n[Ye]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let c=()=>{let u=n[Ye];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}let d={endTimestamp:re()*1e3,startTimestamp:i,xhr:n,virtualError:o};Ie("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){let[f,p]=l,m=d[Ye];return m&&Ae(f)&&Ae(p)&&(m.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let o=n[Ye];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);let i={startTimestamp:re()*1e3,xhr:n};return Ie("xhr",i),t.apply(n,r)}})}function _T(e){if(Ae(e))return e;try{return e.toString()}catch{}}function Ls(e){return new URLSearchParams(e).toString()}function Zn(e,t=h){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Ls(e)];if(!e)return[void 0]}catch(n){return Pt&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Pt&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Pr(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var Fu=[],Ds=new Map,ST=60;function Uu(){if(Jn()&&le()){let t=yT();return()=>{t()}}return()=>{}}var Dp={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function yT(){return jo(ET)}var ET=({metric:e})=>{if(e.value==null)return;let t=oe(e.value);if(t>ST)return;let n=e.entries.find(m=>m.duration===e.value&&Dp[m.name]);if(!n)return;let{interactionId:r}=n,o=Dp[n.name],i=oe(le()+n.startTime),s=q(),a=s?K(s):void 0,u=(r!=null?Ds.get(r):void 0)||a,d=u?M(u).description:k().getScopeData().transactionName,l=ve(n.target),f={[J]:"auto.http.browser.inp",[he]:`ui.interaction.${o}`,[St]:n.duration},p=Lr({name:l,transaction:d,attributes:f,startTime:i});p&&(p.addEvent("inp",{[Gt]:"millisecond",[zt]:e.value}),p.end(i+t))};function Bu(){let e=({entries:t})=>{let n=q(),r=n&&K(n);t.forEach(o=>{if(!Ap(o)||!r)return;let i=o.interactionId;if(i!=null&&!Ds.has(i)){if(Fu.length>10){let s=Fu.shift();Ds.delete(s)}Fu.push(i),Ds.set(i,r)}})};pt("event",e),pt("first-input",e)}function Fr(e,t=Dr("fetch")){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Os("fetch"),Tn("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Os("fetch"),n-=s,r--,Tn(c)}}return xo(e,o)}var TT=10,bT=20,IT=30,vT=40,wT=50;function Ur(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?st:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var RT=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,xT=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,CT=/\((\S*)(?::(\d+))(?::(\d+))\)/,AT=e=>{let t=RT.exec(e);if(t){let[,r,o,i]=t;return Ur(r,st,+o,+i)}let n=xT.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let s=CT.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}let[o,i]=Bp(n[1]||st,n[2]);return Ur(i,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Hu=[IT,AT],kT=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,NT=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,MT=e=>{let t=kT.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=NT.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||st;return[o,r]=Bp(o,r),Ur(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},$u=[wT,MT],OT=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,LT=e=>{let t=OT.exec(e);return t?Ur(t[2],t[1]||st,+t[3],t[4]?+t[4]:void 0):void 0},Pp=[vT,LT],DT=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,PT=e=>{let t=DT.exec(e);return t?Ur(t[2],t[3]||st,+t[1]):void 0},Fp=[TT,PT],FT=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,UT=e=>{let t=FT.exec(e);return t?Ur(t[5],t[3]||t[4]||st,+t[1],+t[2]):void 0},Up=[bT,UT],Wu=[Hu,$u],Ps=fi(...Wu),Bp=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:st,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Hp(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:nt(r)}},i=BT(e);return Le(o,[i])}function BT(e){return[{type:"user_report"},e]}var $=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Fs=1024,HT="Breadcrumbs",$T=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:HT,setup(n){t.console&&Hn(zT(n)),t.dom&&Yo(GT(n,t.dom)),t.xhr&&Xn(jT(n)),t.fetch&&Wn(qT(n)),t.history&&ln(VT(n)),t.sentry&&n.on("beforeSendEvent",WT(n))}}},Us=$T;function WT(e){return function(n){E()===e&&qe({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ht(n)},{event:n})}}function GT(e,t){return function(r){if(E()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Fs&&($&&h.warn(`\`dom.maxStringLength\` cannot exceed ${Fs}, but a value of ${a} was configured. Sentry will use ${Fs} instead.`),a=Fs),typeof s=="string"&&(s=[s]);try{let u=r.event,d=YT(u)?u.target:u;o=ve(d,{keyAttrs:s,maxStringLength:a}),i=ro(d)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),qe(c,{event:r.event,name:r.name,global:r.global})}}function zT(e){return function(n){if(E()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:$n(n.level),message:Ln(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Ln(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;qe(r,{input:n.args,level:n.level})}}function jT(e){return function(n){if(E()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Ye];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},f={category:"xhr",data:d,type:"http",level:is(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),qe(f,l)}}function qT(e){return function(n){if(E()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,s),qe(a,s)}else{let i=n.response,s={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;let a={input:n.args,response:i,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:s,type:"http",level:is(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),qe(c,a)}}}function VT(e){return function(n){if(E()!==e)return;let r=n.from,o=n.to,i=Lt(N.location.href),s=r?Lt(r):void 0,a=Lt(o);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),qe({category:"navigation",data:{from:r,to:o}})}}function YT(e){return!!e&&!!e.target}var JT=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],KT="BrowserApiErrors",XT=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:KT,setupOnce(){t.setTimeout&&_e(N,"setTimeout",$p),t.setInterval&&_e(N,"setInterval",$p),t.requestAnimationFrame&&_e(N,"requestAnimationFrame",ZT),t.XMLHttpRequest&&"XMLHttpRequest"in N&&_e(XMLHttpRequest.prototype,"send",QT);let n=t.eventTarget;n&&(Array.isArray(n)?n:JT).forEach(o=>eb(o,t))}}},Bs=XT;function $p(e){return function(...t){let n=t[0];return t[0]=qn(n,{mechanism:{data:{function:Qe(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function ZT(e){return function(t){return e.apply(this,[qn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Qe(e)},handled:!1,type:"instrument"}})])}}function QT(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&_e(n,o,function(i){let s={mechanism:{data:{function:o,handler:Qe(i)},handled:!1,type:"instrument"}},a=Dn(i);return a&&(s.mechanism.data.handler=Qe(a)),qn(i,s)})}),e.apply(this,t)}}function eb(e,t){let r=N[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(_e(r,"addEventListener",function(o){return function(i,s,a){try{tb(s)&&(s.handleEvent=qn(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Qe(s),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&nb(this,i,s),o.apply(this,[i,qn(s,{mechanism:{data:{function:"addEventListener",handler:Qe(s),target:e},handled:!1,type:"instrument"}}),a])}}),_e(r,"removeEventListener",function(o){return function(i,s,a){try{let c=s.__sentry_wrapped__;c&&o.call(this,i,c,a)}catch{}return o.call(this,i,s,a)}}))}function tb(e){return typeof e.handleEvent=="function"}function nb(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var Hs=()=>({name:"BrowserSession",setupOnce(){if(typeof N.document>"u"){$&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Sr({ignoreDuration:!0}),yr(),ln(({from:e,to:t})=>{e!==void 0&&e!==t&&(Sr({ignoreDuration:!0}),yr())})}});var rb="GlobalHandlers",ob=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:rb,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(ib(n),Wp("onerror")),t.onunhandledrejection&&(sb(n),Wp("onunhandledrejection"))}}},$s=ob;function ib(e){eo(t=>{let{stackParser:n,attachStacktrace:r}=Gp();if(E()!==e||hu())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=ub(Es(n,c||o,void 0,r,!1),i,s,a);u.level="error",an(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function sb(e){to(t=>{let{stackParser:n,attachStacktrace:r}=Gp();if(E()!==e||hu())return;let o=ab(t),i=ht(o)?cb(o):Es(n,o,void 0,r,!0);i.level="error",an(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function ab(e){if(ht(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function cb(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function ub(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=Ae(t)&&t.length>0?t:Ge();return c.length===0&&c.push({colno:u,filename:l,function:st,in_app:!0,lineno:d}),e}function Wp(e){$&&h.log(`Global Handler attached: ${e}`)}function Gp(){return E()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var Ws=()=>({name:"HttpContext",preprocessEvent(e){if(!N.navigator&&!N.location&&!N.document)return;let t=$o(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}});var lb="cause",db=5,fb="LinkedErrors",pb=(e={})=>{let t=e.limit||db,n=e.key||lb;return{name:fb,preprocessEvent(r,o,i){let s=i.getOptions();Dc(kr,s.stackParser,n,t,r,o)}}},Gs=pb;function zp(){return mb()?($&&Ze(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function mb(){if(typeof N.window>"u")return!1;let e=N;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;let n=Ge(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(N===N.top&&r.some(i=>n.startsWith(`${i}://`)))}function Gu(e){return[ko(),Ao(),Bs(),Us(),$s(),Gs(),No(),Ws(),Hs()]}function jp(e={}){let t=!e.skipBrowserExtensionCheck&&zp(),n={...e,enabled:t?!1:e.enabled,stackParser:xa(e.stackParser||Ps),integrations:Sc({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Gu():e.defaultIntegrations}),transport:e.transport||Fr};return Ic(Nr,n)}function qp(){}function Vp(e){e()}function Yp(e={}){let t=N.document,n=t?.head||t?.body;if(!n){$&&h.error("[showReportDialog] Global document not defined");return}let r=k(),i=E()?.getDsn();if(!i){$&&h.error("[showReportDialog] DSN not configured");return}let s={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||yo()},a=N.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=_c(i,s);let{onLoad:c,onClose:u}=s;if(c&&(a.onload=c),u){let d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{N.removeEventListener("message",d)}};N.addEventListener("message",d)}n.appendChild(a)}var hb=v,gb="ReportingObserver",Jp=new WeakMap,_b=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(Jp.has(E()))for(let o of r)Re(i=>{i.setExtra("url",o.url);let s=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(i.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}bn(`${s}: ${a}`)})}return{name:gb,setupOnce(){if(!Yc())return;new hb.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Jp.set(r,!0)}}},Kp=_b;var Sb="HttpClient",yb=(e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:Sb,setup(n){xb(n,t),Cb(n,t)}}},Zp=yb;function Eb(e,t,n,r,o){if(em(e,n.status,n.url)){let i=Ab(t,r),s,a,c,u;nm()&&([s,c]=Xp("Cookie",i),[a,u]=Xp("Set-Cookie",n));let d=tm({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:a,requestCookies:c,responseCookies:u,error:o});an(d)}}function Xp(e,t){let n=Ib(t.headers),r;try{let o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=Qp(o))}catch{}return[n,r]}function Tb(e,t,n,r,o){if(em(e,t.status,t.responseURL)){let i,s,a;if(nm()){try{let u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(s=Qp(u))}catch{}try{a=vb(t)}catch{}i=r}let c=tm({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:a,responseCookies:s,error:o});an(c)}}function bb(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Qp(e){return e.split("; ").reduce((t,n)=>{let[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function Ib(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function vb(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function wb(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function Rb(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function xb(e,t){Po()&&Wn(n=>{if(E()!==e)return;let{response:r,args:o,error:i,virtualError:s}=n,[a,c]=o;r&&Eb(t,a,r,c,i||s)},!1)}function Cb(e,t){"XMLHttpRequest"in v&&Xn(n=>{if(E()!==e)return;let{error:r,virtualError:o}=n,i=n.xhr,s=i[Ye];if(!s)return;let{method:a,request_headers:c}=s;try{Tb(t,i,a,c,r||o)}catch(u){$&&h.warn("Error while extracting response event form XHR response",u)}})}function em(e,t,n){return Rb(e.failedRequestStatusCodes,t)&&wb(e.failedRequestTargets,n)&&!Co(n,E())}function tm(e){let t=E(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,i={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:bb(e.responseHeaders)}}};return tt(i,{type:"http.client",handled:!1}),i}function Ab(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function nm(){let e=E();return e?!!e.getOptions().sendDefaultPii:!1}var zu=v,kb=7,Nb="ContextLines",Mb=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:kb;return{name:Nb,processEvent(n){return Ob(n,t)}}},rm=Mb;function Ob(e,t){let n=zu.document,r=zu.location&&Oo(zu.location.href);if(!n||!r)return e;let o=e.exception?.values;if(!o?.length)return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>Lb(u,s,r,t)))}),e}function Lb(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Pa(t,e,r),e}var Db="GraphQLClient",Pb=e=>({name:Db,setup(t){Fb(t,e),Ub(t,e)}});function Fb(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let i=M(n).data||{};if(!(i[he]==="http.client"))return;let c=i[$a]||i["http.url"],u=i[Ha]||i["http.method"];if(!Ae(c)||!Ae(u))return;let{endpoints:d}=t,l=Oe(c,d),f=im(r);if(l&&f){let p=sm(f);if(p){let m=om(p);n.updateName(`${u} ${c} (${m})`),n.setAttribute("graphql.document",f)}}})}function Ub(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:o,type:i,data:s}=n;if(i==="http"&&(o==="fetch"||o==="xhr")){let d=s?.url,{endpoints:l}=t,f=Oe(d,l),p=im(r);if(f&&s&&p){let m=sm(p);if(!s.graphql&&m){let g=om(m);s["graphql.document"]=m.query,s["graphql.operation"]=g}}}})}function om(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=Bb(t);return r?`${o} ${r}`:`${o}`}function im(e){let t="xhr"in e,n;if(t){let r=e.xhr[Ye];n=r&&Zn(r.body)[0]}else{let r=Pr(e.input);n=Zn(r)[0]}return n}function Bb(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function sm(e){let t;try{let n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}var am=Pb;var fe=v,Sl="sentryReplaySession",Hb="replay_event",yl="Unable to send Replay",$b=3e5,Wb=9e5,Gb=5e3,zb=5500,jb=6e4,qb=5e3,Vb=3,cm=15e4,zs=5e3,Yb=3e3,Jb=300,El=2e7,Kb=4999,Xb=15e3,um=36e5,Zb=Object.defineProperty,Qb=(e,t,n)=>t in e?Zb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lm=(e,t,n)=>Qb(e,typeof t!="symbol"?t+"":t,n),Ne=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ne||{});function eI(e){return e.nodeType===e.ELEMENT_NODE}function Xo(e){return e?.host?.shadowRoot===e}function Zo(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function tI(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function nI(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Ks(e){try{let t=e.rules||e.cssRules;return t?tI(Array.from(t,Mm).join("")):null}catch{return null}}function rI(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function Mm(e){let t;if(iI(e))try{t=Ks(e.styleSheet)||nI(e)}catch{}else if(sI(e)){let n=e.cssText,r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=rI(e)),r&&(n=oI(n)),r||o)return n}return t||e.cssText}function oI(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function iI(e){return"styleSheet"in e}function sI(e){return"selectorText"in e}var Xs=class{constructor(){lm(this,"idNodeMap",new Map),lm(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function aI(){return new Xs}function ca({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function ei({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function qr(e){return e.toLowerCase()}function Ju(e){return e.toUpperCase()}var dm="__rrweb_original__";function cI(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=dm in i?i[dm]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function Tl(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?qr(t):null}function Zs(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Om(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}var fm={};function Lm(e){let t=fm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return fm[e]=r.bind(window)}function Ku(...e){return Lm("setTimeout")(...e)}function Dm(...e){return Lm("clearTimeout")(...e)}function Pm(e){try{return e.contentDocument}catch{}}var uI=1,lI=new RegExp("[^a-z0-9-_:]"),ti=-2;function bl(){return uI++}function dI(e){if(e instanceof HTMLFormElement)return"form";let t=qr(e.tagName);return lI.test(t)?"div":t}function fI(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Br,pm,pI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,mI=/^(?:[a-z+]+:)?\/\//i,hI=/^www\..*/i,gI=/^(data:)([^,]*),(.*)/i;function Qs(e,t){return(e||"").replace(pI,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if(mI.test(c)||hI.test(c))return`url(${u}${c}${u})`;if(gI.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${fI(t)+c}${u})`;let d=t.split("/"),l=c.split("/");d.pop();for(let f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}var _I=/^[^ \t\n\r\u000c]+/,SI=/^[, \t\n\r\u000c]+/;function yI(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(SI),!(n>=t.length);){let i=r(_I);if(i.slice(-1)===",")i=Wr(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=Wr(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}var mm=new WeakMap;function Wr(e,t){return!t||t.trim()===""?t:ua(e,t)}function EI(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function ua(e,t){let n=mm.get(e);if(n||(n=e.createElement("a"),mm.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Fm(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Wr(e,r):n==="srcset"?yI(e,r):n==="style"?Qs(r,ua(e)):t==="object"&&n==="data"?Wr(e,r):typeof i=="function"?i(n,r,o):r)}function Um(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Bm(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function TI(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Qn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Qn(e.parentNode,t,n,r+1)}function Gr(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(TI(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Vr(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=Qn(s,Gr(r,o)),c<0)return!0;a=Qn(s,Gr(t,n),c>=0?c:1/0)}else{if(a=Qn(s,Gr(t,n)),a<0)return!1;c=Qn(s,Gr(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function bI(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=Ku(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{Dm(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return Ku(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function II(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=Ku(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Dm(i),r=!0,t()})}function vI(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:g,maskInputFn:_,dataURLOptions:S={},inlineImages:T,recordCanvas:F,keepIframeSrcFn:A,newlyAddedElement:L=!1}=t,y=wI(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ne.Document,childNodes:[],compatMode:e.compatMode}:{type:Ne.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ne.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return xI(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:m,maskInputFn:_,dataURLOptions:S,inlineImages:T,recordCanvas:F,keepIframeSrcFn:A,newlyAddedElement:L,rootId:y,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return RI(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:m,maskInputFn:_,rootId:y});case e.CDATA_SECTION_NODE:return{type:Ne.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:Ne.Comment,textContent:e.textContent||"",rootId:y};default:return!1}}function wI(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function RI(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName,f=e.textContent,p=l==="STYLE"?!0:void 0,m=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=Ks(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}f=Qs(f,ua(t.doc))}m&&(f="SCRIPT_PLACEHOLDER");let _=Vr(e,r,i,o,s,n);if(!p&&!m&&!g&&f&&_&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||_)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){let S=ca({type:null,tagName:l,maskInputOptions:c});f=ei({isMasked:Vr(e,r,i,o,s,S),element:e,value:f,maskInputFn:u})}return{type:Ne.Text,textContent:f||"",isStyle:p,rootId:d}}function xI(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:g,maskTextClass:_,unmaskTextClass:S,maskTextSelector:T,unmaskTextSelector:F}=t,A=Bm(e,r,o,i),L=dI(e),y={},C=e.attributes.length;for(let I=0;I<C;I++){let x=e.attributes[I];x.name&&!Um(L,x.name,x.value)&&(y[x.name]=Fm(n,L,qr(x.name),x.value,e,c))}if(L==="link"&&s){let I=Array.from(n.styleSheets).find(W=>W.href===e.href),x=null;I&&(x=Ks(I)),x&&(y.rel=null,y.href=null,y.crossorigin=null,y._cssText=Qs(x,I.href))}if(L==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let I=Ks(e.sheet);I&&(y._cssText=Qs(I,ua(n)))}if(L==="input"||L==="textarea"||L==="select"||L==="option"){let I=e,x=Tl(I),W=Zs(I,Ju(L),x),w=I.checked;if(x!=="submit"&&x!=="button"&&W){let R=Vr(I,_,T,S,F,ca({type:x,tagName:Ju(L),maskInputOptions:a}));y.value=ei({isMasked:R,element:I,value:W,maskInputFn:u})}w&&(y.checked=w)}if(L==="option"&&(e.selected&&!a.select?y.selected=!0:delete y.selected),L==="canvas"&&f){if(e.__context==="2d")cI(e)||(y.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let I=e.toDataURL(d.type,d.quality),x=n.createElement("canvas");x.width=e.width,x.height=e.height;let W=x.toDataURL(d.type,d.quality);I!==W&&(y.rr_dataURL=I)}}if(L==="img"&&l){Br||(Br=n.createElement("canvas"),pm=Br.getContext("2d"));let I=e,x=I.currentSrc||I.getAttribute("src")||"<unknown-src>",W=I.crossOrigin,w=()=>{I.removeEventListener("load",w);try{Br.width=I.naturalWidth,Br.height=I.naturalHeight,pm.drawImage(I,0,0),y.rr_dataURL=Br.toDataURL(d.type,d.quality)}catch(R){if(I.crossOrigin!=="anonymous"){I.crossOrigin="anonymous",I.complete&&I.naturalWidth!==0?w():I.addEventListener("load",w);return}else console.warn(`Cannot inline img src=${x}! Error: ${R}`)}I.crossOrigin==="anonymous"&&(W?y.crossOrigin=W:I.removeAttribute("crossorigin"))};I.complete&&I.naturalWidth!==0?w():I.addEventListener("load",w)}if((L==="audio"||L==="video")&&(y.rr_mediaState=e.paused?"paused":"played",y.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop)),A){let{width:I,height:x}=e.getBoundingClientRect();y={class:y.class,rr_width:`${I}px`,rr_height:`${x}px`}}L==="iframe"&&!p(y.src)&&(!A&&!Pm(e)&&(y.rr_src=y.src),delete y.src);let D;try{customElements.get(L)&&(D=!0)}catch{}return{type:Ne.Element,tagName:L,attributes:y,childNodes:[],isSVG:EI(e)||void 0,needBlock:A,rootId:g,isCustom:D}}function de(e){return e==null?"":e.toLowerCase()}function CI(e,t){if(t.comment&&e.type===Ne.Comment)return!0;if(e.type===Ne.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Om(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(de(e.attributes.name).match(/^msapplication-tile(image|color)$/)||de(e.attributes.name)==="application-name"||de(e.attributes.rel)==="icon"||de(e.attributes.rel)==="apple-touch-icon"||de(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&de(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(de(e.attributes.property).match(/^(og|twitter|fb):/)||de(e.attributes.name).match(/^(og|twitter):/)||de(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(de(e.attributes.name)==="robots"||de(e.attributes.name)==="googlebot"||de(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(de(e.attributes.name)==="author"||de(e.attributes.name)==="generator"||de(e.attributes.name)==="framework"||de(e.attributes.name)==="publisher"||de(e.attributes.name)==="progid"||de(e.attributes.property).match(/^article:/)||de(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(de(e.attributes.name)==="google-site-verification"||de(e.attributes.name)==="yandex-verification"||de(e.attributes.name)==="csrf-token"||de(e.attributes.name)==="p:domain_verify"||de(e.attributes.name)==="verify-v1"||de(e.attributes.name)==="verification"||de(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function zr(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:T,dataURLOptions:F={},inlineImages:A=!1,recordCanvas:L=!1,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:D=5e3,onStylesheetLoad:I,stylesheetLoadTimeout:x=5e3,keepIframeSrcFn:W=()=>!1,newlyAddedElement:w=!1}=t,{preserveWhiteSpace:R=!0}=t,H=vI(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,dataURLOptions:F,inlineImages:A,recordCanvas:L,keepIframeSrcFn:W,newlyAddedElement:w});if(!H)return console.warn(e,"not serialized"),null;let B;r.hasNode(e)?B=r.getId(e):CI(H,T)||!R&&H.type===Ne.Text&&!H.isStyle&&!H.textContent.replace(/^\s+|\s+$/gm,"").length?B=ti:B=bl();let O=Object.assign(H,{id:B});if(r.add(e,O),B===ti)return null;y&&y(e);let ee=!f;if(O.type===Ne.Element){ee=ee&&!O.needBlock,delete O.needBlock;let U=e.shadowRoot;U&&Zo(U)&&(O.isShadowHost=!0)}if((O.type===Ne.Document||O.type===Ne.Element)&&ee){T.headWhitespace&&O.type===Ne.Element&&O.tagName==="head"&&(R=!1);let U={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:T,dataURLOptions:F,inlineImages:A,recordCanvas:L,preserveWhiteSpace:R,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:D,onStylesheetLoad:I,stylesheetLoadTimeout:x,keepIframeSrcFn:W};for(let te of Array.from(e.childNodes)){let X=zr(te,U);X&&O.childNodes.push(X)}if(eI(e)&&e.shadowRoot)for(let te of Array.from(e.shadowRoot.childNodes)){let X=zr(te,U);X&&(Zo(e.shadowRoot)&&(X.isShadow=!0),O.childNodes.push(X))}}return e.parentNode&&Xo(e.parentNode)&&Zo(e.parentNode)&&(O.isShadow=!0),O.type===Ne.Element&&O.tagName==="iframe"&&!Bm(e,o,i,s)&&bI(e,()=>{let U=Pm(e);if(U&&C){let te=zr(U,{doc:U,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:T,dataURLOptions:F,inlineImages:A,recordCanvas:L,preserveWhiteSpace:R,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:D,onStylesheetLoad:I,stylesheetLoadTimeout:x,keepIframeSrcFn:W});te&&C(e,te)}},D),O.type===Ne.Element&&O.tagName==="link"&&typeof O.attributes.rel=="string"&&(O.attributes.rel==="stylesheet"||O.attributes.rel==="preload"&&typeof O.attributes.href=="string"&&Om(O.attributes.href)==="css")&&II(e,()=>{if(I){let U=zr(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:T,dataURLOptions:F,inlineImages:A,recordCanvas:L,preserveWhiteSpace:R,onSerialize:y,onIframeLoad:C,iframeLoadTimeout:D,onStylesheetLoad:I,stylesheetLoadTimeout:x,keepIframeSrcFn:W});U&&I(e,U)}},x),O}function AI(e,t){let{mirror:n=new Xs,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOM:T=!1,dataURLOptions:F,preserveWhiteSpace:A,onSerialize:L,onIframeLoad:y,iframeLoadTimeout:C,onStylesheetLoad:D,stylesheetLoadTimeout:I,keepIframeSrcFn:x=()=>!1}=t||{};return zr(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:S,slimDOMOptions:T===!0||T==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:T==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:T===!1?{}:T,dataURLOptions:F,inlineImages:f,recordCanvas:p,preserveWhiteSpace:A,onSerialize:L,onIframeLoad:y,iframeLoadTimeout:C,onStylesheetLoad:D,stylesheetLoadTimeout:I,keepIframeSrcFn:x,newlyAddedElement:!1})}function Ke(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Hr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,hm={map:{},getId(){return console.error(Hr),-1},getNode(){return console.error(Hr),null},removeNodeFromMap(){console.error(Hr)},has(){return console.error(Hr),!1},reset(){console.error(Hr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(hm=new Proxy(hm,{get(e,t,n){return t==="map"&&console.error(Hr),Reflect.get(e,t,n)}}));function ni(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(DI(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=la(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Hm(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){la(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Hm(e,t,i||{},!0)}function Il(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var ea=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ea=()=>new Date().getTime());function $m(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Wm(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Gm(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function zm(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function mt(e,t,n,r,o){if(!e)return!1;let i=zm(e);if(!i)return!1;let s=Gr(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Qn(i,s),c=-1;return a<0?!1:(r&&(c=Qn(i,Gr(null,r))),a>-1&&c<0?!0:a<c)}function kI(e,t){return t.getId(e)!==-1}function ju(e,t){return t.getId(e)===ti}function jm(e,t){if(Xo(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?jm(e.parentNode,t):!0:!0}function Xu(e){return!!e.changedTouches}function NI(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function qm(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Vm(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Zu(e){return!!e?.shadowRoot}var Qu=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function Ym(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function MI(e){let t=e,n;for(;n=Ym(t);)t=n;return t}function OI(e){let t=e.ownerDocument;if(!t)return!1;let n=MI(e);return t.contains(n)}function Jm(e){let t=e.ownerDocument;return t?t.contains(e)||OI(e):!1}var gm={};function vl(e){let t=gm[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return gm[e]=r.bind(window)}function LI(...e){return vl("requestAnimationFrame")(...e)}function la(...e){return vl("setTimeout")(...e)}function DI(...e){return vl("clearTimeout")(...e)}var Y=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Y||{}),j=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(j||{}),Je=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Je||{}),dn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(dn||{}),$r=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))($r||{});function wl(e){try{return e.contentDocument}catch{}}function PI(e){try{return e.contentWindow}catch{}}function _m(e){return"__ln"in e}var el=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&_m(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&_m(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},Sm=(e,t)=>`${e}@${t}`,tl=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new el,o=c=>{let u=c,d=ti;for(;d===ti;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!Jm(c))return;let u=Xo(c.parentNode)?this.mirror.getId(Ym(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);let l=zr(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{qm(f,this.mirror)&&!mt(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Vm(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Zu(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{mt(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)ym(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!Em(this.droppedSet,c)&&!ym(this.removes,c,this.mirror)||Em(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),d=o(s.value);u!==-1&&d!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let d=u;if(u=u.previous,d){let l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{let p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let m=p.parentNode.host;if(this.mirror.getId(m)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!ju(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!mt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Vr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,zm(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let s=Tl(n),a=n.tagName;o=Zs(n,a,s);let c=ca({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),u=Vr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=ei({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(mt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!wl(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Um(n.tagName,r)&&(i.attributes[r]=Fm(this.doc,qr(n.tagName),qr(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let a of Array.from(n.style)){let c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==s.style.getPropertyValue(a)||u!==s.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(let a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(mt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=Xo(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);mt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ju(n,this.mirror)||!kI(n,this.mirror)||(this.addedSet.has(n)?(nl(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||jm(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Sm(r,o)]?nl(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:Xo(t.target)&&Zo(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(ju(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Sm(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);mt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Zu(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function nl(e,t){e.delete(t),t.childNodes.forEach(n=>nl(e,n))}function ym(e,t,n){return e.length===0?!1:FI(e,t,n)}function FI(e,t,n){let r=t.parentNode;for(;r;){let o=n.getId(r);if(e.some(i=>i.id===o))return!0;r=r.parentNode}return!1}function Em(e,t){return e.size===0?!1:Km(e,t)}function Km(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:Km(e,n):!1}var Qo;function UI(e){Qo=e}function BI(){Qo=void 0}var Q=e=>Qo?(...n)=>{try{return e(...n)}catch(r){if(Qo&&Qo(r)===!0)return()=>{};throw r}}:e,jr=[];function ai(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Xm(e,t){let n=new tl;jr.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);let i=new r(Q(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function HI({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=ni(Q(l=>{let f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),l),s=[],a=null}),i),u=Q(ni(Q(l=>{let f=ai(l),{clientX:p,clientY:m}=Xu(l)?l.changedTouches[0]:l;a||(a=ea()),s.push({x:p,y:m,id:r.getId(f),timeOffset:ea()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?j.Drag:l instanceof MouseEvent?j.MouseMove:j.TouchMove)}),o,{trailing:!1})),d=[Ke("mousemove",u,n),Ke("touchmove",u,n),Ke("drag",u,n)];return Q(()=>{d.forEach(l=>l())})}function $I({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,d=l=>f=>{let p=ai(f);if(mt(p,r,o,i,!0))return;let m=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":m=dn.Mouse;break;case"touch":m=dn.Touch;break;case"pen":m=dn.Pen;break}m===dn.Touch?Je[l]===Je.MouseDown?g="TouchStart":Je[l]===Je.MouseUp&&(g="TouchEnd"):dn.Pen}else Xu(f)&&(m=dn.Touch);m!==null?(u=m,(g.startsWith("Touch")&&m===dn.Touch||g.startsWith("Mouse")&&m===dn.Mouse)&&(m=null)):Je[l]===Je.Click&&(m=u,u=null);let _=Xu(f)?f.changedTouches[0]:f;if(!_)return;let S=n.getId(p),{clientX:T,clientY:F}=_;Q(e)({type:Je[g],id:S,x:T,y:F,...m!==null&&{pointerType:m}})};return Object.keys(Je).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=qr(l),p=d(l);if(window.PointerEvent)switch(Je[l]){case Je.MouseDown:case Je.MouseUp:f=f.replace("mouse","pointer");break;case Je.TouchStart:case Je.TouchEnd:return}c.push(Ke(f,p,t))}),Q(()=>{c.forEach(l=>l())})}function Zm({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=Q(ni(Q(c=>{let u=ai(c);if(!u||mt(u,r,o,i,!0))return;let d=n.getId(u);if(u===t&&t.defaultView){let l=$m(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return Ke("scroll",a,t)}function WI({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=Q(ni(Q(()=>{let i=Wm(),s=Gm();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return Ke("resize",o,t)}var GI=["INPUT","TEXTAREA","SELECT"],Tm=new WeakMap;function zI({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:g}){function _(C){let D=ai(C),I=C.isTrusted,x=D&&Ju(D.tagName);if(x==="OPTION"&&(D=D.parentElement),!D||!x||GI.indexOf(x)<0||mt(D,r,o,i,!0))return;let W=D;if(W.classList.contains(s)||a&&W.matches(a))return;let w=Tl(D),R=Zs(W,x,w),H=!1,B=ca({maskInputOptions:c,tagName:x,type:w}),O=Vr(D,f,m,p,g,B);(w==="radio"||w==="checkbox")&&(H=D.checked),R=ei({isMasked:O,element:D,value:R,maskInputFn:u}),S(D,l?{text:R,isChecked:H,userTriggered:I}:{text:R,isChecked:H});let ee=D.name;w==="radio"&&ee&&H&&t.querySelectorAll(`input[type="radio"][name="${ee}"]`).forEach(U=>{if(U!==D){let te=ei({isMasked:O,element:U,value:Zs(U,x,w),maskInputFn:u});S(U,l?{text:te,isChecked:!H,userTriggered:!1}:{text:te,isChecked:!H})}})}function S(C,D){let I=Tm.get(C);if(!I||I.text!==D.text||I.isChecked!==D.isChecked){Tm.set(C,D);let x=n.getId(C);Q(e)({...D,id:x})}}let F=(d.input==="last"?["change"]:["input","change"]).map(C=>Ke(C,Q(_),t)),A=t.defaultView;if(!A)return()=>{F.forEach(C=>C())};let L=A.Object.getOwnPropertyDescriptor(A.HTMLInputElement.prototype,"value"),y=[[A.HTMLInputElement.prototype,"value"],[A.HTMLInputElement.prototype,"checked"],[A.HTMLSelectElement.prototype,"value"],[A.HTMLTextAreaElement.prototype,"value"],[A.HTMLSelectElement.prototype,"selectedIndex"],[A.HTMLOptionElement.prototype,"selected"]];return L&&L.set&&F.push(...y.map(C=>Hm(C[0],C[1],{set(){Q(_)({target:this,isTrusted:!1})}},!1,A))),Q(()=>{F.forEach(C=>C())})}function ta(e){let t=[];function n(r,o){if(js("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||js("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||js("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||js("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function Cn(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function jI({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Q((d,l,f)=>{let[p,m]=f,{id:g,styleId:_}=Cn(l,t,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&e({id:g,styleId:_,adds:[{rule:p,index:m}]}),d.apply(l,f)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Q((d,l,f)=>{let[p]=f,{id:m,styleId:g}=Cn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:p}]}),d.apply(l,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Q((d,l,f)=>{let[p]=f,{id:m,styleId:g}=Cn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Q((d,l,f)=>{let[p]=f,{id:m,styleId:g}=Cn(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:p}),d.apply(l,f)})}));let c={};qs("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(qs("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),qs("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),qs("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:Q((f,p,m)=>{let[g,_]=m,{id:S,styleId:T}=Cn(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||T&&T!==-1)&&e({id:S,styleId:T,adds:[{rule:g,index:[...ta(p),_||0]}]}),f.apply(p,m)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:Q((f,p,m)=>{let[g]=m,{id:_,styleId:S}=Cn(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,removes:[{index:[...ta(p),g]}]}),f.apply(p,m)})})}),Q(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Qm({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,i=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return i.get?.call(this)},set(s){let a=i.set?.call(this,s);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),Q(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function qI({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Q((a,c,u)=>{let[d,l,f]=u;if(n.has(d))return i.apply(c,[d,l,f]);let{id:p,styleId:m}=Cn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:d,value:l,priority:f},index:ta(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Q((a,c,u)=>{let[d]=u;if(n.has(d))return s.apply(c,[d]);let{id:l,styleId:f}=Cn(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:ta(c.parentRule)}),a.apply(c,u)})}),Q(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function VI({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=Q(u=>ni(Q(d=>{let l=ai(d);if(!l||mt(l,t,n,r,!0))return;let{currentTime:f,volume:p,muted:m,playbackRate:g}=l;e({type:u,id:o.getId(l),currentTime:f,volume:p,muted:m,playbackRate:g})}),i.media||500)),c=[Ke("play",a($r.Play),s),Ke("pause",a($r.Pause),s),Ke("seeked",a($r.Seeked),s),Ke("volumechange",a($r.VolumeChange),s),Ke("ratechange",a($r.RateChange),s)];return Q(()=>{c.forEach(u=>u())})}function YI({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){let l=new i(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};let s=Il(t.fonts,"add",function(a){return function(c){return la(Q(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),Q(()=>{r.forEach(a=>a())})}function JI(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=Q(()=>{let u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;let d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){let p=u.getRangeAt(f),{startContainer:m,startOffset:g,endContainer:_,endOffset:S}=p;mt(m,r,o,i,!0)||mt(_,r,o,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(_),endOffset:S})}s({ranges:d})});return c(),Ke("selectionchange",c)}function KI({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:Il(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function XI(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Xm(e,e.doc));let o=HI(e),i=$I(e),s=Zm(e),a=WI(e,{win:n}),c=zI(e),u=VI(e),d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=jI(e,{win:n}),l=Qm(e,e.doc),f=qI(e,{win:n}),e.collectFonts&&(p=YI(e)));let m=JI(e),g=KI(e),_=[];for(let S of e.plugins)_.push(S.observer(S.callback,n,S.options));return Q(()=>{jr.forEach(S=>S.reset()),r?.disconnect(),o(),i(),s(),a(),c(),u(),d(),l(),f(),p(),m(),g(),_.forEach(S=>S())})}function js(e){return typeof window[e]<"u"}function qs(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var ri=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}},rl=class{constructor(){this.crossOriginIframeMirror=new ri(bl),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},ol=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ri(bl),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ri(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);let r=wl(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case Y.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:Y.IncrementalSnapshot,data:{source:j.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Y.Meta:case Y.Load:case Y.DomContentLoaded:return!1;case Y.Plugin:return n;case Y.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Y.IncrementalSnapshot:switch(n.data.source){case j.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case j.Drag:case j.TouchMove:case j.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case j.ViewportResize:return!1;case j.MediaInteraction:case j.MouseInteraction:case j.Scroll:case j.CanvasMutation:case j.Input:return this.replaceIds(n.data,t,["id"]),n;case j.StyleSheetRule:case j.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case j.Font:return n;case j.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case j.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Ne.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},il=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},sl=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Zo(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=Xm({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Zm({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),la(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Qm({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let n=wl(t),r=PI(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(Il(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&Jm(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},bm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ZI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Jo=0;Jo<bm.length;Jo++)ZI[bm.charCodeAt(Jo)]=Jo;var Jo,na=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},al=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Qu,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Mm(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},cl=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.active||(this.active=!0,LI(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}},Ee,ra;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Ft=aI();function fn(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:_,slimDOMOptions:S,maskAttributeFn:T,maskInputFn:F,maskTextFn:A,maxCanvasSize:L=null,packFn:y,sampling:C={},dataURLOptions:D={},mousemoveWait:I,recordDOM:x=!0,recordCanvas:W=!1,recordCrossOriginIframes:w=!1,recordAfter:R=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:H=!1,collectFonts:B=!1,inlineImages:O=!1,plugins:ee,keepIframeSrcFn:U=()=>!1,ignoreCSSAttributes:te=new Set([]),errorHandler:X,onMutation:Ce,getCanvasManager:pn}=e;UI(X);let it=w?window.parent===window:!0,He=!1;if(!it)try{window.parent.document&&(He=!1)}catch{He=!0}if(it&&!t)throw new Error("emit function is required");if(!it&&!He)return()=>{};I!==void 0&&C.mousemove===void 0&&(C.mousemove=I),Ft.reset();let xt=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},Xt=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};NI();let nr,rr=0,Qr=ne=>{for(let Ct of ee||[])Ct.eventProcessor&&(ne=Ct.eventProcessor(ne));return y&&!He&&(ne=y(ne)),ne};Ee=(ne,Ct)=>{let Z=ne;if(Z.timestamp=ea(),jr[0]?.isFrozen()&&Z.type!==Y.FullSnapshot&&!(Z.type===Y.IncrementalSnapshot&&Z.data.source===j.Mutation)&&jr.forEach($e=>$e.unfreeze()),it)t?.(Qr(Z),Ct);else if(He){let $e={type:"rrweb",event:Qr(Z),origin:window.location.origin,isCheckout:Ct};window.parent.postMessage($e,"*")}if(Z.type===Y.FullSnapshot)nr=Z,rr=0;else if(Z.type===Y.IncrementalSnapshot){if(Z.data.source===j.Mutation&&Z.data.isAttachIframe)return;rr++;let $e=r&&rr>=r,ie=n&&nr&&Z.timestamp-nr.timestamp>n;($e||ie)&&va(!0)}};let mn=ne=>{Ee({type:Y.IncrementalSnapshot,data:{source:j.Mutation,...ne}})},ge=ne=>Ee({type:Y.IncrementalSnapshot,data:{source:j.Scroll,...ne}}),Me=ne=>Ee({type:Y.IncrementalSnapshot,data:{source:j.CanvasMutation,...ne}}),Ut=ne=>Ee({type:Y.IncrementalSnapshot,data:{source:j.AdoptedStyleSheet,...ne}}),Te=new al({mutationCb:mn,adoptedStyleSheetCb:Ut}),we=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new rl:new ol({mirror:Ft,mutationCb:mn,stylesheetManager:Te,recordCrossOriginIframes:w,wrappedEmit:Ee});for(let ne of ee||[])ne.getMirror&&ne.getMirror({nodeMirror:Ft,crossOriginIframeMirror:we.crossOriginIframeMirror,crossOriginIframeStyleMirror:we.crossOriginIframeStyleMirror});let Bt=new cl,Nn=ev(pn,{mirror:Ft,win:window,mutationCb:ne=>Ee({type:Y.IncrementalSnapshot,data:{source:j.CanvasMutation,...ne}}),recordCanvas:W,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:L,sampling:C.canvas,dataURLOptions:D,errorHandler:X}),or=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new il:new sl({mutationCb:mn,scrollCb:ge,bypassOptions:{onMutation:Ce,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:xt,dataURLOptions:D,maskAttributeFn:T,maskTextFn:A,maskInputFn:F,recordCanvas:W,inlineImages:O,sampling:C,slimDOMOptions:Xt,iframeManager:we,stylesheetManager:Te,canvasManager:Nn,keepIframeSrcFn:U,processedNodeManager:Bt},mirror:Ft}),va=(ne=!1)=>{if(!x)return;Ee({type:Y.Meta,data:{href:window.location.href,width:Gm(),height:Wm()}},ne),Te.reset(),or.init(),jr.forEach(Z=>Z.lock());let Ct=AI(document,{mirror:Ft,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:xt,maskAttributeFn:T,maskInputFn:F,maskTextFn:A,slimDOM:Xt,dataURLOptions:D,recordCanvas:W,inlineImages:O,onSerialize:Z=>{qm(Z,Ft)&&we.addIframe(Z),Vm(Z,Ft)&&Te.trackLinkElement(Z),Zu(Z)&&or.addShadowRoot(Z.shadowRoot,document)},onIframeLoad:(Z,$e)=>{we.attachIframe(Z,$e),Z.contentWindow&&Nn.addWindow(Z.contentWindow),or.observeAttachShadow(Z)},onStylesheetLoad:(Z,$e)=>{Te.attachLinkElement(Z,$e)},keepIframeSrcFn:U});if(!Ct)return console.warn("Failed to snapshot the document");Ee({type:Y.FullSnapshot,data:{node:Ct,initialOffset:$m(window)}}),jr.forEach(Z=>Z.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Te.adoptStyleSheets(document.adoptedStyleSheets,Ft.getId(document))};ra=va;try{let ne=[],Ct=$e=>Q(XI)({onMutation:Ce,mutationCb:mn,mousemoveCb:(ie,wa)=>Ee({type:Y.IncrementalSnapshot,data:{source:wa,positions:ie}}),mouseInteractionCb:ie=>Ee({type:Y.IncrementalSnapshot,data:{source:j.MouseInteraction,...ie}}),scrollCb:ge,viewportResizeCb:ie=>Ee({type:Y.IncrementalSnapshot,data:{source:j.ViewportResize,...ie}}),inputCb:ie=>Ee({type:Y.IncrementalSnapshot,data:{source:j.Input,...ie}}),mediaInteractionCb:ie=>Ee({type:Y.IncrementalSnapshot,data:{source:j.MediaInteraction,...ie}}),styleSheetRuleCb:ie=>Ee({type:Y.IncrementalSnapshot,data:{source:j.StyleSheetRule,...ie}}),styleDeclarationCb:ie=>Ee({type:Y.IncrementalSnapshot,data:{source:j.StyleDeclaration,...ie}}),canvasMutationCb:Me,fontCb:ie=>Ee({type:Y.IncrementalSnapshot,data:{source:j.Font,...ie}}),selectionCb:ie=>{Ee({type:Y.IncrementalSnapshot,data:{source:j.Selection,...ie}})},customElementCb:ie=>{Ee({type:Y.IncrementalSnapshot,data:{source:j.CustomElement,...ie}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:xt,inlineStylesheet:m,sampling:C,recordDOM:x,recordCanvas:W,inlineImages:O,userTriggeredOnInput:H,collectFonts:B,doc:$e,maskAttributeFn:T,maskInputFn:F,maskTextFn:A,keepIframeSrcFn:U,blockSelector:i,unblockSelector:s,slimDOMOptions:Xt,dataURLOptions:D,mirror:Ft,iframeManager:we,stylesheetManager:Te,shadowDomManager:or,processedNodeManager:Bt,canvasManager:Nn,ignoreCSSAttributes:te,plugins:ee?.filter(ie=>ie.observer)?.map(ie=>({observer:ie.observer,options:ie.options,callback:wa=>Ee({type:Y.Plugin,data:{plugin:ie.name,payload:wa}})}))||[]},{});we.addLoadListener($e=>{try{ne.push(Ct($e.contentDocument))}catch(ie){console.warn(ie)}});let Z=()=>{va(),ne.push(Ct(document))};return document.readyState==="interactive"||document.readyState==="complete"?Z():(ne.push(Ke("DOMContentLoaded",()=>{Ee({type:Y.DomContentLoaded,data:{}}),R==="DOMContentLoaded"&&Z()})),ne.push(Ke("load",()=>{Ee({type:Y.Load,data:{}}),R==="load"&&Z()},window))),()=>{ne.forEach($e=>$e()),Bt.destroy(),ra=void 0,BI()}}catch(ne){console.warn(ne)}}function QI(e){if(!ra)throw new Error("please take full snapshot after start recording");ra(e)}fn.mirror=Ft;fn.takeFullSnapshot=QI;function ev(e,t){try{return e?e(t):new na}catch{return console.warn("Unable to initialize CanvasManager"),new na}}var Im;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Im||(Im={}));var tv=3,nv=5;function Rl(e){return e>9999999999?e:e*1e3}function qu(e){return e>9999999999?e/1e3:e}function ci(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Y.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:xe(t,10,1e3)}}),t.category==="console")))}var rv="button,a";function eh(e){return e.closest(rv)||e}function th(e){let t=nh(e);return!t||!(t instanceof Element)?t:eh(t)}function nh(e){return ov(e)?e.target:e}function ov(e){return typeof e=="object"&&!!e&&"target"in e}var An;function iv(e){return An||(An=[],sv()),An.push(e),()=>{let t=An?An.indexOf(e):-1;t>-1&&An.splice(t,1)}}function sv(){_e(fe,"open",function(e){return function(...t){if(An)try{An.forEach(n=>n())}catch{}return e.apply(fe,t)}})}var av=new Set([j.Mutation,j.StyleSheetRule,j.StyleDeclaration,j.AdoptedStyleSheet,j.CanvasMutation,j.Selection,j.MediaInteraction]);function cv(e,t,n){e.handleClick(t,n)}var ul=class{constructor(t,n,r=ci){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=iv(()=>{this._lastMutation=vm()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(lv(n,this._ignoreSelector)||!dv(t))return;let r={timestamp:qu(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=qu(t)}registerScroll(t=Date.now()){this._lastScroll=qu(t)}registerClick(t){let n=eh(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=vm();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:fe.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,d);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:fe.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Kn(()=>this._checkClicks(),1e3)}},uv=["A","BUTTON","INPUT"];function lv(e,t){return!!(!uv.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function dv(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function vm(){return Date.now()/1e3}function fv(e,t){try{if(!pv(t))return;let{source:n}=t.data;if(av.has(n)&&e.registerMutation(t.timestamp),n===j.Scroll&&e.registerScroll(t.timestamp),mv(t)){let{type:r,id:o}=t.data,i=fn.mirror.getNode(o);i instanceof HTMLElement&&r===Je.Click&&e.registerClick(i)}}catch{}}function pv(e){return e.type===tv}function mv(e){return e.data.source===j.MouseInteraction}function Jt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var xl=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(xl||{}),hv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function gv(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(hv.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var _v=e=>t=>{if(!e.isEnabled())return;let n=Sv(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&cv(e.clickDetector,n,th(t.event)),ci(e,n)};function rh(e,t){let n=fn.mirror.getId(e),r=n&&fn.mirror.getNode(n),o=r&&fn.mirror.getMeta(r),i=o&&Ev(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===xl.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:gv(i.attributes)}}:{}}}function Sv(e){let{target:t,message:n}=yv(e);return Jt({category:`ui.${e.name}`,...rh(t,n)})}function yv(e){let t=e.name==="click",n,r=null;try{r=t?th(e.event):nh(e.event),n=ve(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Ev(e){return e.type===xl.Element}function Tv(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=bv(t);n&&ci(e,n)}function bv(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||Iv(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=ve(s,{maxStringLength:200})||"<unknown>",d=rh(s,u);return Jt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function Iv(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var vv={resource:Av,paint:xv,navigation:Cv};function Vs(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function wv(e){return e.map(Rv).filter(Boolean)}function Rv(e){let t=vv[e.entryType];return t?t(e):null}function Yr(e){return((le()||fe.performance.timeOrigin)+e)/1e3}function xv(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=Yr(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function Cv(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:m,type:g}=e;return o===0?null:{type:`${t}.${g}`,start:Yr(p),end:Yr(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:f}}}function Av(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Yr(i),end:Yr(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function kv(e){let t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return da(e,"largest-contentful-paint",n)}function Nv(e){return e.sources!==void 0}function Mv(e){let t=[],n=[];for(let r of e.entries)if(Nv(r)){let o=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=fn.mirror.getId(i.node);s&&o.push(s)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return da(e,"cumulative-layout-shift",n,t)}function Ov(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return da(e,"first-input-delay",n)}function Lv(e){let t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return da(e,"interaction-to-next-paint",n)}function da(e,t,n,r){let o=e.value,i=e.rating,s=Yr(o);return{type:"web-vital",name:t,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(a=>fn.mirror.getId(a)):void 0,attributions:r}}}function Dv(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(pt(o,n))}),r.push(Yn(Vs(kv,e)),Vn(Vs(Mv,e)),zo(Vs(Ov,e)),jo(Vs(Lv,e))),()=>{r.forEach(o=>o())}}var G=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pv='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Fv(){let e=new Blob([Pv]);return URL.createObjectURL(e)}var wm=["info","warn","error","log"],Js="[Replay] ";function Vu(e,t="info"){qe({category:"console",data:{logger:"replay"},level:t,message:`${Js}${e}`},{level:t})}function Uv(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return G?(wm.forEach(r=>{n[r]=(...o)=>{h[r](Js,...o),t&&Vu(o.join(""),$n(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),h.error(Js,r),e?dt(r):t&&Vu(r,"error")},n.infoTick=(...r)=>{h.info(Js,...r),t&&setTimeout(()=>Vu(r[0]),0)}):wm.forEach(r=>{n[r]=()=>{}}),n}var z=Uv(),oi=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${El}.`)}},oa=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>El)throw new oi;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?Rl(t):null}},ll=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){G&&z.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){G&&z.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},dl=class{constructor(t){this._worker=new ll(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=Rl(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>El?Promise.reject(new oi):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{G&&z.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},fl=class{constructor(t){this._fallback=new oa,this._compression=new dl(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){G&&z.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,o=[];for(let i of t)o.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(i){G&&z.exception(i,"Failed to add events when switching buffers.")}}};function Bv({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=Hv(t);if(n)return n}return G&&z.info("Using simple buffer"),new oa}function Hv(e){try{let t=e||$v();if(!t)return;G&&z.info(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new fl(n)}catch(t){G&&z.exception(t,"Failed to create compression worker")}}function $v(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Fv():""}function Cl(){try{return"sessionStorage"in fe&&!!fe.sessionStorage}catch{return!1}}function Wv(e){Gv(),e.session=void 0}function Gv(){if(Cl())try{fe.sessionStorage.removeItem(Sl)}catch{}}function oh(e){return e===void 0?!1:Math.random()<e}function Al(e){if(Cl())try{fe.sessionStorage.setItem(Sl,JSON.stringify(e))}catch{}}function ih(e){let t=Date.now(),n=e.id||me(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function zv(e,t){return oh(e)?"session":t?"buffer":!1}function Rm({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=zv(e,t),i=ih({sampled:o,previousSessionId:r});return n&&Al(i),i}function jv(){if(!Cl())return null;try{let e=fe.sessionStorage.getItem(Sl);if(!e)return null;let t=JSON.parse(e);return G&&z.infoTick("Loading existing session"),ih(t)}catch{return null}}function pl(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function sh(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return pl(e.started,t,r)||pl(e.lastActivity,n,r)}function ah(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!sh(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Yu({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let o=r.stickySession&&jv();return o?ah(o,{sessionIdleExpire:e,maxReplayDuration:t})?(G&&z.infoTick("Session in sessionStorage is expired, creating new one..."),Rm(r,{previousSessionId:o.id})):o:(G&&z.infoTick("Creating new session"),Rm(r,{previousSessionId:n}))}function qv(e){return e.type===Y.Custom}function kl(e,t,n){return uh(e,t)?(ch(e,t,n),!0):!1}function Vv(e,t,n){return uh(e,t)?ch(e,t,n):Promise.resolve(null)}async function ch(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=Yv(t,i.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(i){let s=i&&i instanceof oi,a=s?"addEventSizeExceeded":"addEvent";if(s&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a});let c=E();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function uh(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=Rl(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(G&&z.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Yv(e,t){try{if(typeof t=="function"&&qv(e))return t(e)}catch(n){return G&&z.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Nl(e){return!e.type}function ml(e){return e.type==="transaction"}function Jv(e){return e.type==="replay_event"}function xm(e){return e.type==="feedback"}function Kv(e){return(t,n)=>{if(!e.isEnabled()||!Nl(t)&&!ml(t))return;let r=n?.statusCode;if(!(!r||r<200||r>=300)){if(ml(t)){Xv(e,t);return}Zv(e,t)}}}function Xv(e,t){let n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Zv(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Kn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function Qv(e){return t=>{!e.isEnabled()||!Nl(t)||e0(e,t)}}function e0(e,t){let n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=Jt({category:"replay.hydrate-error",data:{url:Ge()}});ci(e,r)}}function t0(e){let t=E();t&&t.on("beforeAddBreadcrumb",n=>n0(e,n))}function n0(e,t){if(!e.isEnabled()||!lh(t))return;let n=r0(t);n&&ci(e,n)}function r0(e){return!lh(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?o0(e):Jt(e)}function o0(e){let t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return Jt(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>zs?(n=!0,`${o.slice(0,zs)}\u2026`):o;if(typeof o=="object")try{let i=xe(o,7);return JSON.stringify(i).length>zs?(n=!0,`${JSON.stringify(i,null,2).slice(0,zs)}\u2026`):i}catch{}return o});return Jt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function lh(e){return!!e.category}function i0(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!t.originalException?.__rrweb__}function dh(){let e=k().getPropagationContext().dsc;e&&delete e.replay_id;let t=q();if(t){let n=be(t);delete n.replay_id}}function s0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function a0(e,t){return e.recordingMode!=="buffer"||t.message===yl||!t.exception||t.type?!1:oh(e.getOptions().errorSampleRate)}function c0(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:Jv(t)?(delete t.breadcrumbs,t):!Nl(t)&&!ml(t)&&!xm(t)?t:e.checkAndHandleExpiredSession()?xm(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),s0(e,t),t):i0(t,n)&&!e.getOptions()._experiments.captureExceptions?(G&&z.log("Ignoring error from rrweb internals",t),null):((a0(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(dh(),t),{id:"Replay"})}function fa(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:Y.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function u0(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function l0(e){return t=>{if(!e.isEnabled())return;let n=u0(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(fa(e,[n]),!1)))}}function d0(e,t){return G&&e.getOptions()._experiments.traceInternals?!1:Co(t,E())}function fh(e,t){e.isEnabled()&&t!==null&&(d0(e,t.name)||e.addUpdate(()=>(fa(e,[t]),!0)))}function pa(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=Ls(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function ph(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function ia(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function mh(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function ii(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function kn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=f0(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function hl(e,t){return Object.entries(e).reduce((n,[r,o])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function f0(e){if(!e||typeof e!="string")return{body:e};let t=e.length>cm,n=p0(e);if(t){let r=e.slice(0,cm);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function p0(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function sa(e,t){let n=m0(e);return Oe(n,t)}function m0(e,t=fe.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(fe.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function h0(e,t,n){try{let r=await _0(e,t,n),o=mh("resource.fetch",r);fh(n.replay,o)}catch(r){G&&z.exception(r,"Failed to capture fetch breadcrumb")}}function g0(e,t){let{input:n,response:r}=t,o=n?Pr(n):void 0,i=pa(o),s=r?ph(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}async function _0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=sa(s,n.networkDetailAllowUrls)&&!sa(s,n.networkDetailDenyUrls),f=l?S0(n,t.input,u):ii(u),p=await y0(l,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:p}}function S0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?b0(n,t):{};if(!e)return kn(o,r,void 0);let i=Pr(n),[s,a]=Zn(i,z),c=kn(o,r,s);return a?ia(c,a):c}async function y0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return ii(o);let i=r?hh(r.headers,n):{};if(!r||!t&&o!==void 0)return kn(i,o,void 0);let[s,a]=await T0(r),c=E0(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?ia(c,a):c}function E0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let i=e?.length&&n===void 0?pa(e):n;return r?t?kn(o,i,e):kn(o,i,void 0):ii(i)}catch(i){return G&&z.exception(i,"Failed to serialize response body"),kn(o,n,void 0)}}async function T0(e){let t=I0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await v0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(G&&z.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(G&&z.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function hh(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function b0(e,t){return e.length===1&&typeof e[0]!="string"?Cm(e[0],t):e.length===2?Cm(e[1],t):{}}function Cm(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?hh(n,t):Array.isArray(n)?{}:hl(n,t):{}}function I0(e){try{return e.clone()}catch(t){G&&z.exception(t,"Failed to clone response body")}}function v0(e){return new Promise((t,n)=>{let r=Kn(()=>n(new Error("Timeout while trying to read response body")),500);w0(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function w0(e){return await e.text()}async function R0(e,t,n){try{let r=C0(e,t,n),o=mh("resource.xhr",r);fh(n.replay,o)}catch(r){G&&z.exception(r,"Failed to capture xhr breadcrumb")}}function x0(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=pa(r),i=n.getResponseHeader("content-length")?ph(n.getResponseHeader("content-length")):M0(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function C0(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!sa(c,n.networkDetailAllowUrls)||sa(c,n.networkDetailDenyUrls)){let y=ii(l),C=ii(f);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:y,response:C}}let p=a[Ye],m=p?hl(p.request_headers,n.networkRequestHeaders):{},g=hl(A0(a),n.networkResponseHeaders),[_,S]=n.networkCaptureBodies?Zn(s,z):[void 0],[T,F]=n.networkCaptureBodies?k0(a):[void 0],A=kn(m,l,_),L=kn(g,f,T);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:S?ia(A,S):A,response:F?ia(L,F):L}}function A0(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function k0(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return N0(e.response,e.responseType)}catch(n){t.push(n)}return G&&z.warn("Failed to get xhr response body",...t),[void 0]}function N0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return G&&z.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return G&&z.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function M0(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return pa(n)}catch{return}}function O0(e){let t=E();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>L0(a,c,u))}catch{}}function L0(e,t,n){if(t.data)try{D0(t)&&F0(n)&&(x0(t,n),R0(t,n,e)),P0(t)&&U0(n)&&(g0(t,n),h0(t,n,e))}catch(r){G&&z.exception(r,"Error when enriching network breadcrumb")}}function D0(e){return e.category==="xhr"}function P0(e){return e.category==="fetch"}function F0(e){return e?.xhr}function U0(e){return e?.response}function B0(e,{autoFlushOnFeedback:t}){let n=E();Yo(_v(e)),ln(l0(e)),t0(e),O0(e);let r=c0(e);To(r),n&&(n.on("beforeSendEvent",Qv(e)),n.on("afterSendEvent",Kv(e)),n.on("createDsc",o=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(o.replay_id=i)}),n.on("spanStart",o=>{e.lastActiveSpan=o}),n.on("spanEnd",o=>{e.lastActiveSpan=o}),n.on("beforeSendFeedback",async(o,i)=>{let s=e.getSessionId();i?.includeReplay&&e.isEnabled()&&s&&o.contexts?.feedback&&(o.contexts.feedback.source==="api"&&t&&await e.flush(),o.contexts.feedback.replay_id=s)}),t&&n.on("openFeedbackWidget",async()=>{await e.flush()}))}async function H0(e){try{return Promise.all(fa(e,[$0(fe.performance.memory)]))}catch{return[]}}function $0(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function W0(e,t,n){return Oc(e,t,{...n,setTimeoutImpl:Kn})}var Ys=v.navigator;function G0(){return/iPhone|iPad|iPod/i.test(Ys?.userAgent??"")||/Macintosh/i.test(Ys?.userAgent??"")&&Ys?.maxTouchPoints&&Ys?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function z0(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){G&&z.warn("Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&fv(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!kl(e,n,o))return!0;if(!o)return!1;let i=e.session;if(q0(e,o),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(G&&z.info(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&Al(i))}return i?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function j0(e){let t=e.getOptions();return{type:Y.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function q0(e,t){!t||!e.session||e.session.segmentId!==0||kl(e,j0(e),!1)}function V0(e,t,n,r){return Le(mo(e,mr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Y0({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function J0({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit("preprocessEvent",r,i);let s=await _o(e.getOptions(),r,i,t,e,se());if(!s)return null;e.emit("postprocessEvent",s,i),s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:c,version:u}=a?.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},s}async function K0({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=Y0({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=E(),f=k(),p=l?.getTransport(),m=l?.getDsn();if(!l||!p||!m||!i.sampled)return je({});let g={type:Hb,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},_=await J0({scope:f,client:l,replayId:t,event:g});if(!_)return l.recordDroppedEvent("event_processor","replay"),G&&z.info("An event processor returned `null`, will not send event."),je({});delete _.sdkProcessingMetadata;let S=V0(_,s,m,l.getOptions().tunnel),T;try{T=await p.send(S)}catch(A){let L=new Error(yl);try{L.cause=A}catch{}throw L}if(typeof T.statusCode=="number"&&(T.statusCode<200||T.statusCode>=300))throw new aa(T.statusCode);let F=Ro({},T);if(wo(F,"replay"))throw new si(F);return T}var aa=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},si=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function gh(e,t={count:0,interval:qb}){let{recordingData:n,onError:r}=e;if(n.length)try{return await K0(e),!0}catch(o){if(o instanceof aa||o instanceof si)throw o;if(So("Replays",{_retryCount:t.count}),r&&r(o),t.count>=Vb){let i=new Error(`${yl} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{Kn(async()=>{try{await gh(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var _h="__THROTTLED",X0="__SKIPPED";function Z0(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let d=s;return s=!0,d?X0:_h}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var gl=class{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:$b,sessionIdleExpire:Wb},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=W0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Z0((s,a)=>Vv(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(Yb,r),timeout:r,scrollTimeout:Jb,ignoreSelector:o?o.join(","):""}:void 0;if(i&&(this.clickDetector=new ul(this,i)),G){let s=t._experiments;z.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}this._handleVisibilityChange=()=>{fe.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let s=Jt({category:"ui.blur"});this._doChangeToBackgroundTasks(s)},this._handleWindowFocus=()=>{let s=Jt({category:"ui.focus"});this._doChangeToForegroundTasks(s)},this._handleKeyboardEvent=s=>{Tv(this,s)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){G&&z.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){G&&z.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",G&&z.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){G&&z.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){G&&z.info("Buffering is in progress, call `flush()` to save the replay");return}G&&z.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=Yu({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){G&&z.info("Buffering is in progress, call `flush()` to save the replay");return}G&&z.infoTick("Starting replay in buffer mode");let t=Yu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=fn({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:jb}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:z0(this),...G0(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{G&&z.info(`Stopping Replay${n?` triggered by ${n}`:""}`),dh(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,Wv(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),G&&z.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),G&&z.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();G&&z.info("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&pl(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${fe.location.pathname}${fe.location.hash}${fe.location.search}`,n=`${fe.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===_h){let o=Jt({category:"replay.throttled"});this.addUpdate(()=>!kl(this,{type:nv,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||q(),n=t&&K(t),o=(n&&M(n).data||{})[ye];if(!(!n||!o||!["route","custom"].includes(o)))return M(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Bv({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Yu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return ah(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{fe.document.addEventListener("visibilitychange",this._handleVisibilityChange),fe.addEventListener("blur",this._handleWindowBlur),fe.addEventListener("focus",this._handleWindowFocus),fe.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(B0(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=Dv(this)}_removeListeners(){try{fe.document.removeEventListener("visibilitychange",this._handleVisibilityChange),fe.removeEventListener("blur",this._handleWindowBlur),fe.removeEventListener("focus",this._handleWindowFocus),fe.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||sh(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){G&&z.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=wv(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(fa(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){G&&z.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await H0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await gh({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=E();if(r){let o=n instanceof si?"ratelimit_backoff":"send_error";r.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){G&&z.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){G&&z.info(`Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}let a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&G&&z.info("Flushing initial segment without checkout.");let c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Al(this.session)}_onMutationHandler(t){let n=t.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>o||i){let s=Jt({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function Ko(e,t){return[...e,...t].join(",")}function Q0({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let i=["base","iframe[srcdoc]:not([src])"],s=Ko(e,[".sentry-mask","[data-sentry-mask]"]),a=Ko(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:Ko(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Ko(r,[]),ignoreSelector:Ko(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function ew({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var Am='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',tw=["content-length","content-type","accept"],km=!1,Sh=e=>new _l(e),_l=class{constructor({flushMinDelay:t=Gb,flushMaxDelay:n=zb,minReplayDuration:r=Kb,maxReplayDuration:o=um,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:S=[],networkCaptureBodies:T=!0,networkRequestHeaders:F=[],networkResponseHeaders:A=[],mask:L=[],maskAttributes:y=["title","placeholder","aria-label"],unmask:C=[],block:D=[],unblock:I=[],ignore:x=[],maskFn:W,beforeAddRecordingEvent:w,beforeErrorSampling:R,onError:H}={}){this.name="Replay";let B=Q0({mask:L,unmask:C,block:D,unblock:I,ignore:x});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:W,maskInputFn:W,maskAttributeFn:(O,ee,U)=>ew({maskAttributes:y,maskAllText:u,privacyOptions:B,key:O,value:ee,el:U}),...B,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:O=>{try{O.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Xb),maxReplayDuration:Math.min(o,um),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:_,networkDetailDenyUrls:S,networkCaptureBodies:T,networkRequestHeaders:Nm(F),networkResponseHeaders:Nm(A),beforeAddRecordingEvent:w,beforeErrorSampling:R,onError:H,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Am}`:Am),this._isInitialized&&vr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return km}set _isInitialized(t){km=t}afterAllSetup(t){!vr()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=nw(this._initialOptions,t);this._replay=new gl({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};function nw(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=ut(n.replaysSessionSampleRate),i=ut(n.replaysOnErrorSampleRate);return o==null&&i==null&&Ze(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function Nm(e){return[...tw,...e.map(t=>t.toLowerCase())]}function yh(){return E()?.getIntegrationByName("Replay")}var rw=Object.defineProperty,ow=(e,t,n)=>t in e?rw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eh=(e,t,n)=>ow(e,typeof t!="symbol"?t+"":t,n),Ol=class{constructor(){Eh(this,"idNodeMap",new Map),Eh(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function iw(){return new Ol}function sw(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Ll(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ll(e.parentNode,t,n,r+1)}function Th(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(sw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var Jr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,bh={map:{},getId(){return console.error(Jr),-1},getNode(){return console.error(Jr),null},removeNodeFromMap(){console.error(Jr)},has(){return console.error(Jr),!1},reset(){console.error(Jr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(bh=new Proxy(bh,{get(e,t,n){return t==="map"&&console.error(Jr),Reflect.get(e,t,n)}}));function Pl(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){kh(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Pl(e,t,i||{},!0)}function Fl(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function aw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function _a(e,t,n,r,o){if(!e)return!1;let i=aw(e);if(!i)return!1;let s=Th(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Ll(i,s),c=-1;return a<0?!1:(r&&(c=Ll(i,Th(null,r))),a>-1&&c<0?!0:a<c)}var Ih={};function Ah(e){let t=Ih[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return Ih[e]=r.bind(window)}function er(...e){return Ah("requestAnimationFrame")(...e)}function kh(...e){return Ah("setTimeout")(...e)}var Xr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Xr||{}),ha;function cw(e){ha=e}var Ml=e=>ha?(...n)=>{try{return e(...n)}catch(r){if(ha&&ha(r)===!0)return()=>{};throw r}}:e,Kr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(ui=0;ui<Kr.length;ui++)uw[Kr.charCodeAt(ui)]=ui;var ui,lw=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=Kr[t[n]>>2],o+=Kr[(t[n]&3)<<4|t[n+1]>>4],o+=Kr[(t[n+1]&15)<<2|t[n+2]>>6],o+=Kr[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},vh=new Map;function dw(e,t){let n=vh.get(e);return n||(n=new Map,vh.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Nh=(e,t,n)=>{if(!e||!(Oh(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=dw(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function ga(e,t,n){if(e instanceof Array)return e.map(r=>ga(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=lw(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[ga(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[ga(e.data,t,n),e.width,e.height]};if(Oh(e,t)||typeof e=="object"){let r=e.constructor.name,o=Nh(e,t,n);return{rr_type:r,index:o}}}}return e}var Mh=(e,t,n)=>e.map(r=>ga(r,t,n)),Oh=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function fw(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=Fl(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return _a(this.canvas,n,r,o,!0)||kh(()=>{let l=Mh(d,t,this);e(this.canvas,{type:Xr["2D"],property:a,args:l})},0),u.apply(this,d)}});i.push(c)}catch{let c=Pl(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Xr["2D"],property:a,args:[u],setter:!0})}});i.push(c)}return()=>{i.forEach(a=>a())}}function pw(e){return e==="experimental-webgl"?"webgl":e}function wh(e,t,n,r,o){let i=[];try{let s=Fl(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!_a(this,t,n,r,!0)){let d=pw(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){let l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Rh(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let l=Fl(e,d,function(f){return function(...p){let m=f.apply(this,p);if(Nh(m,a,this),"tagName"in this.canvas&&!_a(this.canvas,r,o,i,!0)){let g=Mh(p,a,this),_={type:t,property:d,args:g};n(this.canvas,_)}return m}});c.push(l)}catch{let l=Pl(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});c.push(l)}return c}function mw(e,t,n,r,o,i){let s=[];return s.push(...Rh(t.WebGLRenderingContext.prototype,Xr.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Rh(t.WebGL2RenderingContext.prototype,Xr.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var hw='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function gw(){let e=new Blob([hw]);return URL.createObjectURL(e)}var Dl=class{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};let{sampling:n="all",win:r,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&cw(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&Ml(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,o,i,s,a,{dataURLOptions:u})})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){let{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:i,recordCanvas:s,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}Ml(()=>{if(s&&n==="all"&&this.initCanvasMutationObserver(t,r,o,i),s&&typeof n=="number"){let c=wh(t,r,o,i,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){let t=new Worker(gw());return t.onmessage=n=>{let r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;let{base64:i,type:s,width:a,height:c}=r;this.mutationCb({id:o,type:Xr["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:s}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,o,i,s){let a=this.takeSnapshot(!1,t,n,r,o,i,s.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,o){let i=wh(t,n,r,o,!1),s=fw(this.processMutation.bind(this),t,n,r,o),a=mw(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{i(),s(),a()})}snapshot(t){let{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,o,i,s,a,c){let u=1e3/n,d,l=p=>{if(p)return[p];let m=[],g=_=>{_.querySelectorAll("canvas").forEach(S=>{_a(S,r,o,i,!0)||m.push(S)})};for(let _ of this.windows){let S=_.deref(),T;try{T=S&&S.document}catch{}T&&g(T)}for(let _ of this.shadowDoms){let S=_.deref();S&&g(S)}return m},f=p=>{if(this.windows.length){if(this.lastSnapshotTime&&p-this.lastSnapshotTime<u){d=er(f);return}this.lastSnapshotTime=p,l(c).forEach(m=>{if(!this.mirror.hasNode(m))return;let g=this.mirror.getId(m);if(!this.snapshotInProgressMap.get(g)&&!(!m.width||!m.height)){if(this.snapshotInProgressMap.set(g,!0),!t&&["webgl","webgl2"].includes(m.__context)){let _=m.getContext(m.__context);_?.getContextAttributes()?.preserveDrawingBuffer===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(m).then(_=>{this.worker?.postMessage({id:g,bitmap:_,width:m.width,height:m.height,dataURLOptions:a,maxCanvasSize:s},[_])}).catch(_=>{Ml(()=>{throw _})()})}}),t||(d=er(f))}};return d=er(f),d}startPendingCanvasMutationFlusher(){er(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,er(t)};er(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),er(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}};try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}iw();var xh;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(xh||(xh={}));var Ch={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},_w="ReplayCanvas",ma=1280,Sw=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,ma):ma,n?Math.min(n,ma):ma]},o,i=new Promise(s=>o=s);return{name:_w,getOptions(){let{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{let d=new Dl({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},...Ch[s]||Ch.medium}},async snapshot(s){(await i).snapshot(s)}}},Lh=Sw;var Dh=new WeakMap,Ul=new Map,li={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Sa(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a,onRequestSpanStart:c}={...li,...t},u=typeof i=="function"?i:f=>!0,d=f=>Tw(f,a),l={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(p=>{if(p.op==="http.client"){let m=Ul.get(p.span_id);m&&(p.timestamp=m/1e3,Ul.delete(p.span_id))}}),f)),o&&Kc(f=>{if(f.response){let p=Dh.get(f.response);p&&f.endTimestamp&&Ul.set(p,f.endTimestamp)}}),Wn(f=>{let p=jc(f,u,d,l);if(f.response&&f.fetchData.__span&&Dh.set(f.response,f.fetchData.__span),p){let m=Fh(f.fetchData.url),g=m?Lt(m).host:void 0;p.setAttributes({"http.url":m,"server.address":g}),s&&Ph(p),c?.(p,{headers:f.headers})}})),r&&Xn(f=>{let p=bw(f,u,d,l);if(p){s&&Ph(p);let m;try{m=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(p,{headers:m})}})}function yw(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Ph(e){let{url:t}=M(e).data;if(!t||typeof t!="string")return;let n=pt("resource",({entries:r})=>{r.forEach(o=>{yw(o)&&o.name.endsWith(t)&&(Ew(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function Kt(e=0){return((le()||performance.timeOrigin)+e)/1e3}function Ew(e){let{name:t,version:n}=Vo(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),le()?[...r,["http.request.redirect_start",Kt(e.redirectStart)],["http.request.fetch_start",Kt(e.fetchStart)],["http.request.domain_lookup_start",Kt(e.domainLookupStart)],["http.request.domain_lookup_end",Kt(e.domainLookupEnd)],["http.request.connect_start",Kt(e.connectStart)],["http.request.secure_connection_start",Kt(e.secureConnectionStart)],["http.request.connection_end",Kt(e.connectEnd)],["http.request.request_start",Kt(e.requestStart)],["http.request.response_start",Kt(e.responseStart)],["http.request.response_end",Kt(e.responseEnd)]]:r}function Tw(e,t){let n=Ge();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?Oe(r.toString(),t)||i&&Oe(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?Oe(e,t):r}}function bw(e,t,n,r){let o=e.xhr,i=o?.[Ye];if(!o||o.__sentry_own_request__||!i)return;let{url:s,method:a}=i,c=ze()&&t(s);if(e.endTimestamp&&c){let g=o.__sentry_xhr_span_id__;if(!g)return;let _=r[g];_&&i.status_code!==void 0&&(jt(_,i.status_code),_.end(),delete r[g]);return}let u=Fh(s),d=u?Lt(u):Lt(s),l=Oo(s),f=!!q(),p=c&&f?Tt({name:`${a} ${l}`,attributes:{url:s,type:"xhr","http.method":a,"http.url":u,"server.address":d?.host,[J]:"auto.http.browser",[he]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new Be;o.__sentry_xhr_span_id__=p.spanContext().spanId,r[o.__sentry_xhr_span_id__]=p,n(s)&&Iw(o,ze()&&f?p:void 0);let m=E();return m&&m.emit("beforeOutgoingRequestSpan",p,e),p}function Iw(e,t){let{"sentry-trace":n,baggage:r}=Bn({span:t});n&&vw(e,n,r)}function vw(e,t,n){let r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){let o=r?.baggage;(!o||!ww(o))&&e.setRequestHeader("baggage",n)}}catch{}}function ww(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Fh(e){try{return new URL(e,N.location.origin).href}catch{return}}function Uh(){N.document?N.document.addEventListener("visibilitychange",()=>{let e=q();if(!e)return;let t=K(e);if(N.document.hidden&&t){let n="cancelled",{op:r,status:o}=M(t);$&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):$&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Rw=3600,Bh="sentry_previous_trace",xw="sentry.previous_trace";function Hh(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",o=r?kw():void 0;e.on("spanStart",s=>{if(K(s)!==s)return;let a=k().getPropagationContext();o=Cw(o,s,a),r&&Aw(o)});let i=!0;n&&e.on("beforeSampling",s=>{if(!o)return;let a=k(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(Bl(o.spanContext))},sampleRand:o.sampleRand}),s.parentSampled=Bl(o.spanContext),s.parentSampleRate=o.sampleRate,s.spanAttributes={...s.spanAttributes,[io]:o.sampleRate}})}function Cw(e,t,n){let r=M(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[nn])}catch{return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=Rw&&($&&h.info(`Adding previous_trace ${s} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:s,attributes:{[Wa]:"previous_trace"}}),t.setAttribute(xw,`${s.traceId}-${s.spanId}-${Bl(s)?1:0}`)),i)}function Aw(e){try{N.sessionStorage.setItem(Bh,JSON.stringify(e))}catch(t){$&&h.warn("Could not store previous trace in sessionStorage",t)}}function kw(){try{let e=N.sessionStorage?.getItem(Bh);return JSON.parse(e)}catch{return}}function Bl(e){return e.traceFlags===1}var Nw="BrowserTracing",Mw={...gr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...li},Gh=(e={})=>{let t={name:void 0,source:void 0},n=N.document,{enableInp:r,enableElementTiming:o,enableLongTask:i,enableLongAnimationFrame:s,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:f,childSpanTimeout:p,markBackgroundSpan:m,traceFetch:g,traceXHR:_,trackFetchStreamPerformance:S,shouldCreateSpanForRequest:T,enableHTTPTimings:F,ignoreResourceSpans:A,ignorePerformanceApiSpans:L,instrumentPageLoad:y,instrumentNavigation:C,linkPreviousTrace:D,consistentTraceSampling:I,onRequestSpanStart:x}={...Mw,...e},W;function w(R,H){let B=H.op==="pageload",O=d?d(H):H,ee=O.attributes||{};H.name!==O.name&&(ee[ye]="custom",O.attributes=ee),t.name=O.name,t.source=ee[ye];let U=Bi(O,{idleTimeout:l,finalTimeout:f,childSpanTimeout:p,disableAutoFinish:B,beforeSpanEnd:X=>{W?.(),Ou(X,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:A,ignorePerformanceApiSpans:L}),Wh(R,void 0);let Ce=k(),pn=Ce.getPropagationContext();Ce.setPropagationContext({...pn,traceId:U.spanContext().traceId,sampled:yt(U),dsc:be(X)})}});Wh(R,U);function te(){n&&["interactive","complete"].includes(n.readyState)&&R.emit("idleSpanEnableAutoFinish",U)}B&&n&&(n.addEventListener("readystatechange",()=>{te()}),te())}return{name:Nw,setup(R){fo(),W=Au({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1}),r&&Uu(),o&&Lu(),s&&v.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Nu():i&&ku(),a&&Mu();function H(){let B=ya(R);B&&!M(B).timestamp&&($&&h.log(`[Tracing] Finishing current active span with op: ${M(B).op}`),B.setAttribute(Pn,"cancelled"),B.end())}R.on("startNavigationSpan",B=>{if(E()!==R)return;H(),se().setPropagationContext({traceId:Fe(),sampleRand:Math.random()});let O=k();O.setPropagationContext({traceId:Fe(),sampleRand:Math.random()}),O.setSDKProcessingMetadata({normalizedRequest:void 0}),w(R,{op:"navigation",...B})}),R.on("startPageLoadSpan",(B,O={})=>{if(E()!==R)return;H();let ee=O.sentryTrace||$h("sentry-trace"),U=O.baggage||$h("baggage"),te=so(ee,U),X=k();X.setPropagationContext(te),X.setSDKProcessingMetadata({normalizedRequest:$o()}),w(R,{op:"pageload",...B})})},afterAllSetup(R){let H=Ge();if(D!=="off"&&Hh(R,{linkPreviousTrace:D,consistentTraceSampling:I}),N.location){if(y){let B=le();Hl(R,{name:N.location.pathname,startTime:B?B/1e3:void 0,attributes:{[ye]:"url",[J]:"auto.pageload.browser"}})}C&&ln(({to:B,from:O})=>{if(O===void 0&&H?.indexOf(B)!==-1){H=void 0;return}H=void 0;let ee=Mo(B);$l(R,{name:ee?.pathname||N.location.pathname,attributes:{[ye]:"url",[J]:"auto.navigation.browser"}}),k().setSDKProcessingMetadata({normalizedRequest:{...$o(),url:B}})})}m&&Uh(),a&&Ow(R,l,f,p,t),r&&Bu(),Sa(R,{traceFetch:g,traceXHR:_,trackFetchStreamPerformance:S,tracePropagationTargets:R.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:T,enableHTTPTimings:F,onRequestSpanStart:x})}}};function Hl(e,t,n){return e.emit("startPageLoadSpan",t,n),k().setTransactionName(t.name),ya(e)}function $l(e,t){return e.emit("startNavigationSpan",t),k().setTransactionName(t.name),ya(e)}function $h(e){return N.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function Ow(e,t,n,r,o){let i=N.document,s,a=()=>{let c="ui.action.click",u=ya(e);if(u){let d=M(u).op;if(["navigation","pageload"].includes(d)){$&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Pn,"interactionInterrupted"),s.end(),s=void 0),!o.name){$&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}s=Bi({name:o.name,op:c,attributes:{[ye]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{once:!1,capture:!0})}var zh="_sentry_idleSpan";function ya(e){return e[zh]}function Wh(e,t){pe(e,zh,t)}function Zr(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Lw(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=Zr(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Wl(e){return Zr(e.getAllKeys())}function Dw(e,t,n){return e(r=>Wl(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),Zr(r.transaction)}))}function Pw(e,t,n){return e(r=>Wl(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),Zr(r.transaction)}))}function Fw(e){return e(t=>Wl(t).then(n=>{let r=n[0];if(r!=null)return Zr(t.get(r)).then(o=>(t.delete(r),Zr(t.transaction).then(()=>o)))}))}function Uw(e){let t;function n(){return t==null&&(t=Lw(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{let o=await Sn(r);await Dw(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{let o=await Sn(r);await Pw(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{let r=await Fw(n());if(r)return Za(r)}catch{}}}}function Bw(e){return t=>{let n=e({...t,createStore:Uw});return N.addEventListener("online",async r=>{await n.flush()}),n}}function jh(e=Fr){return Bw(xc(e))}var qh=1e6,Ea=String(0),Hw="main",Ta=N.navigator,Yh="",Jh="",Kh="",Gl=Ta?.userAgent||"",Xh="",$w=Ta?.language||Ta?.languages?.[0]||"";function Ww(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var Vh=Ta?.userAgentData;Ww(Vh)&&Vh.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Yh=e.platform||"",Kh=e.architecture||"",Xh=e.model||"",Jh=e.platformVersion||"",e.fullVersionList?.length){let t=e.fullVersionList[e.fullVersionList.length-1];Gl=`${t.brand} ${t.version}`}}).catch(e=>{});function Gw(e){return!("thread_metadata"in e)}function zw(e){return Gw(e)?Vw(e):e}function jw(e){let t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&$&&h.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function qw(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=jw(r),i=zw(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:re()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:re()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||on,runtime:{name:"javascript",version:N.navigator.userAgent},os:{name:Yh,version:Jh,build_number:Gl},device:{locale:$w,model:Xh,manufacturer:Gl,architecture:Kh,is_emulator:!1},debug_meta:{images:Yw(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||me(),trace_id:o,active_thread_id:Ea,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function ba(e){return M(e).op==="pageload"}function Vw(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[Ea]:{name:Hw}}},o=e.samples[0];if(!o)return r;let i=o.timestamp,s=le(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,c=a-(s||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-i)*qh).toFixed(0),stack_id:t,thread_id:Ea};return}let l=e.stacks[u.stackId],f=[];for(;l;){f.push(l.frameId);let m=e.frames[l.frameId];m&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}let p={elapsed_since_start_ns:((u.timestamp+c-i)*qh).toFixed(0),stack_id:n,thread_id:Ea};r.stacks[n]=f,r.samples[d]=p,n++}),r}function Zh(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function Qh(e){let t=[];return lt(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++){let i=n[o];i?.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[o])}}),t}function Yw(e){let r=E()?.getOptions()?.stackParser;return r?cc(r,e):[]}function Jw(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?($&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?($&&h.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Kw(e){return e.samples.length<2?($&&h.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:($&&h.log("[Profiling] Discarding profile because it contains no frames"),!1)}var eg=!1,zl=3e4;function Xw(e){return typeof e=="function"}function tg(){let e=N.Profiler;if(!Xw(e)){$&&h.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(zl/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{$&&(h.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),h.log("[Profiling] Disabling profiling for current user session.")),eg=!0}}function jl(e){if(eg)return $&&h.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return $&&h.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let n=E()?.getOptions();if(!n)return $&&h.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return Jw(r)?r?(r===!0?!0:Math.random()<r)?!0:($&&h.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):($&&h.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):($&&h.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function ng(e,t,n,r){return Kw(n)?qw(e,t,n,r):null}var tr=new Map;function rg(){return tr.size}function og(e){let t=tr.get(e);return t&&tr.delete(e),t}function ig(e,t){if(tr.set(e,t),tr.size>30){let n=tr.keys().next().value;tr.delete(n)}}function ql(e){let t;ba(e)&&(t=re()*1e3);let n=tg();if(!n)return;$&&h.log(`[Profiling] started profiling span: ${M(e).description}`);let r=me();k().setContext("profile",{profile_id:r,start_timestamp:t});async function o(){if(e&&n)return n.stop().then(c=>{if(i&&(N.clearTimeout(i),i=void 0),$&&h.log(`[Profiling] stopped profiling of span: ${M(e).description}`),!c){$&&h.log(`[Profiling] profiler returned null profile for: ${M(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}ig(r,c)}).catch(c=>{$&&h.log("[Profiling] error while stopping profiler:",c)})}let i=N.setTimeout(()=>{$&&h.log("[Profiling] max profile duration elapsed, stopping profiling for:",M(e).description),o()},zl),s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var Zw="BrowserProfiling",Qw=()=>({name:Zw,setup(e){let t=q(),n=t&&K(t);n&&ba(n)&&jl(n)&&ql(n),e.on("spanStart",r=>{r===K(r)&&jl(r)&&ql(r)}),e.on("beforeEnvelope",r=>{if(!rg())return;let o=Qh(r);if(!o.length)return;let i=[];for(let s of o){let a=s?.contexts,c=a?.profile?.profile_id,u=a?.profile?.start_timestamp;if(typeof c!="string"){$&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){$&&h.log("[Profiling] cannot find profile for a span without a profile context");continue}a?.profile&&delete a.profile;let d=og(c);if(!d){$&&h.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let l=ng(c,u,d,s);l&&i.push(l)}Zh(r,i)})}}),sg=Qw;var eR="SpotlightBrowser",tR=(e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:eR,setup:()=>{$&&h.log("Using Sidecar URL",t)},processEvent:n=>rR(n)?null:n,afterAllSetup:n=>{nR(n,t)}}};function nR(e,t){let n=Dr("fetch"),r=0;e.on("beforeEnvelope",o=>{if(r>3){h.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:Sn(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,h.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var ag=tR;function rR(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}var cg=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Ot(e)}});function ug(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{bt(e,t.value),It(e,t.value)}}}var lg=()=>({name:"OpenFeature",processEvent(e,t,n){return Ot(e)}}),Ia=class{after(t,n){bt(n.flagKey,n.value),It(n.flagKey,n.value)}error(t,n,r){bt(t.flagKey,t.defaultValue),It(t.flagKey,t.defaultValue)}};var dg=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){let t=e.prototype;_e(t,"isEnabled",oR)},processEvent(t,n,r){return Ot(t)}});function oR(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(bt(n,r),It(n,r)):$&&h.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var fg=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{bt(n.gate.name,n.gate.value),It(n.gate.name,n.gate.value)})},processEvent(t,n,r){return Ot(t)}});async function pg(){let e=E();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await fetch("https://o447951.ingest.sentry.io/api/1337/envelope/?sentry_version=7&sentry_key=1337&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"})}catch{return"sentry-unreachable"}}export{mg as Sentry};
